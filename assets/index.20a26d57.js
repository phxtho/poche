var ee=Object.defineProperty,te=Object.defineProperties;var ne=Object.getOwnPropertyDescriptors;var T=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,se=Object.prototype.propertyIsEnumerable;var D=(e,t,a)=>t in e?ee(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,b=(e,t)=>{for(var a in t||(t={}))ae.call(t,a)&&D(e,a,t[a]);if(T)for(var a of T(t))se.call(t,a)&&D(e,a,t[a]);return e},w=(e,t)=>te(e,ne(t));import{L as re,m as oe,I as le,n as ie,F as ce,N as de,E as ue,a as he,R as me,b as fe,c as ge,i as xe,d as L,e as pe,j as ve,s as ye,f as be,g as we,h as Ce,k as Ne,l as ke,o as Ee,p as Re,q as Oe,r as Se,t as Ie,u as Le,v as Fe,w as Me,x as _e,y as Be,z as Ae,A as Te,B as De,D as Pe,W as je,C as i,G as $e,M as qe,H as He,J as Ve,K as We,O as Ue,P as ze,Q as Ke,T as Xe,S as Ye,U as Je,V as Ge,X as Qe,Y as Ze,Z as n,_ as et,$ as tt,a0 as W,a1 as nt,a2 as M,a3 as at,a4 as P,a5 as c,a6 as st,a7 as j,a8 as rt,a9 as ot,aa as O,ab as lt,ac as it,ad as $,ae as _,af as U,ag as ct,ah as dt,ai as ut,aj as ht,ak as mt,al as ft,am as gt,an as xt,ao as pt,ap as vt,aq as yt,ar as bt,as as I,at as wt,au as Ct,av as Nt,aw as kt,ax as Et,ay as Rt,az as Ot,aA as St,aB as It,aC as Lt,aD as Ft,aE as Mt,aF as _t,aG as Bt,aH as At,aI as Tt,aJ as Dt,aK as Pt,aL as S,aM as jt}from"./vendor.9afcb656.js";const $t=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}};$t();class qt extends re{constructor(t){super(t);this.addHandler("onClick",(a,r)=>(window.open(r.href),!0))}createInputRules(){return[oe({regexp:(()=>{try{return new RegExp("?<!!)[(.*?)]((.*?))")}catch{return/[^!]\[(.+?)\]\((.+?)\)/}})(),type:this.type,getAttributes:t=>{const[a,r,s]=t;return{text:r,href:s}}})]}createPasteRules(){return[]}}class Ht extends le{createInputRules(){return[ie({regexp:/!\[(.+?)\]\((.+?)\)/,type:this.type,getAttributes:t=>{const[a,r,s]=t;return{src:s,alt:r}}})]}}function Vt(e,t){for(let a of t){let r=a(e);if(r!==!1)return r}return!1}function Wt(e,t){return ce.from(t.text(e))}function Ut(e){var a;let t=e.querySelector("img.mwe-math-fallback-image-inline[alt]");return(a=t==null?void 0:t.getAttribute("alt"))!=null?a:!1}function zt(e){var a;let t=e.querySelector("math[alttext]");return(a=t==null?void 0:t.getAttribute("alttext"))!=null?a:!1}function Kt(e){var a;let t=e.querySelector("math annotation[encoding='application/x-tex'");return(a=t==null?void 0:t.textContent)!=null?a:!1}function Xt(e){return Vt(e,[Ut,zt,Kt])}const Yt={tag:"span",getAttrs(e){return e.classList.contains("mwe-math-element")?null:!1},getContent(e,t){let r=Xt(e)||"\\text{\\color{red}(paste error)}";return Wt(r,t)}},Jt=[Yt];var Gt=Object.defineProperty,Qt=Object.getOwnPropertyDescriptor,z=(e,t,a,r)=>{for(var s=r>1?void 0:r?Qt(t,a):t,o=e.length-1,l;o>=0;o--)(l=e[o])&&(s=(r?l(t,a,s):l(s))||s);return r&&s&&Gt(t,a,s),s};let F=class extends de{get name(){return"math_inline"}createTags(){return[ue.InlineNode]}createNodeSpec(e,t){return w(b({group:"inline math",content:"text*",inline:!0,atom:!0},t),{attrs:b({},e.defaults()),parseDOM:[{tag:"math-inline"},...Jt],toDOM:()=>["math-inline",{class:"math-node"},0]})}createInputRules(){return[he(me,this.type)]}createExternalPlugins(){return[fe]}createKeymap(e){return{Backspace:ge(L(Ce),L(pe),L(ve),L(ye))}}insertMathInline(){return e=>(xe(this.type),null)}};z([be()],F.prototype,"insertMathInline",1);F=z([we({defaultOptions:{}})],F);const Zt=[Ne,ke,Ee,Re,Oe,Se,Ie,Le,Fe,Me,_e,Be,Ae,Te,De];function en(){const e=Math.floor(Math.random()*16777215).toString(16);return"#"+e}function tn(e,t){var s;const a=new Pe,r=new je("poche-room",a);return r.awareness.setLocalStateField("user",{color:(s=t.color)!=null?s:en(),name:t.name}),r}const nn=i.exports.forwardRef((e,t)=>{var u;const a=i.exports.useCallback(({json:h,invalidContent:f,transformers:m})=>m.remove(h,f),[]),{manager:r,state:s,setState:o,getContext:l}=$e({extensions:()=>[new qe({}),new He({}),new Ve,new We,new qt({defaultTarget:"_blank",autoLink:!0}),new Ue({}),new ze({}),new Ke,new Xe,new Ht({enableResizing:!0}),new Ye,new Je,new F,new Ge({supportedLanguages:Zt,defaultLanguage:"typescript"}),new Qe,new Ze({getProvider:()=>tn(e.id,{name:"Username"})})],onError:a,content:(u=e.state)==null?void 0:u.doc,core:{excludeExtensions:["history"]}});return i.exports.useImperativeHandle(t,()=>l(),[l]),n("div",{id:e.id,className:"remirror-theme",children:n(et,{manager:r,initialContent:s,onChange:h=>{var f;o(h.state),(f=e.onChange)==null||f.call(e,h)},onFocus:(h,f)=>{var m;(m=e.onFocus)==null||m.call(e,h,f)},onBlur:(h,f)=>{var m;(m=e.onBlur)==null||m.call(e,h,f)},children:n(tt,{})})})});W.plugin(nt);let k=new W("notes");const an={type:"doc",content:[{type:"paragraph"}]};async function q(e){try{const t=e.id||e._id;return await k.upsert(t,r=>e)}catch(t){console.log(`ERROR: couldn't update 
${t}`)}}async function K(e,t,a,r,s,o){try{let l={_id:e||M(),id:null,title:t||null,meta:a||{},state:r||an,createdTime:s||Date.now(),lastEditedTime:o||Date.now()};return l.id=l._id,await k.putIfNotExists(l)}catch(l){console.log(`ERROR: couldn't create doc ${l}`)}}async function sn(e){try{const t=await k.get(e).then(r=>r._rev);return await k.remove(e,t)}catch(t){console.log(`ERROR: couldn't delete 
${t}`)}}async function B(){var e;try{let t=await k.allDocs({include_docs:!0});return(e=t==null?void 0:t.rows)==null?void 0:e.map(a=>a.doc)}catch(t){console.log(`ERROR fetching all notes 
${t}`)}}async function X(e){try{return await k.get(e)}catch(t){console.log(`ERROR fetching  ${e} 
${t}`)}}function Y(e){k.changes({since:"now",live:!0}).on("change",()=>e())}async function rn(e){return new at(await B(),{keys:["title","text"],includeMatches:!0,minMatchCharLength:2,includeScore:!0,threshold:.5,ignoreLocation:!0}).search(e)}let J={items:[],addItem:()=>{},removeItem:()=>{},navOpen:!1,toggleNav:()=>{}};const on=(e,t)=>e.filter(a=>a!==t),ln=(e,t)=>e.find(a=>a===t)?e:[...e,t],y=i.exports.createContext(J);y.displayName="NotesContext";const cn=e=>{const[t,a]=i.exports.useState(J),r=i.exports.useCallback(l=>{const{items:u}=t;u.find(h=>h===l)||a(w(b({},t),{items:ln(u,l)}))},[t]),s=i.exports.useCallback(l=>{const{items:u}=t;a(w(b({},t),{items:on(u,l)}))},[t]),o=i.exports.useCallback(()=>{a(w(b({},t),{navOpen:!t.navOpen}))},[t]);return n("div",{className:"App",children:n(y.Provider,{value:w(b({},t),{addItem:r,removeItem:s,toggleNav:o}),children:e.children})})},N=({children:e,className:t,onClick:a})=>n("button",{className:`h-12 w-full px-4 py-3 bg-gray-200 opacity-80 rounded-xl flex justify-between items-center hover:bg-gray-800 hover:text-white ${t}`,onClick:a,children:e}),G=e=>{var s,o,l;P.setAppElement("#root");const{items:t,removeItem:a}=i.exports.useContext(y),r=(s=e.note)==null?void 0:s.id;return n(P,{isOpen:(o=e.isOpen)!=null?o:!1,onAfterClose:e.onAfterOpen,onRequestClose:e.onRequestClose,overlayClassName:"fixed inset-0 bg-[rgba(30,30,30,.5)]",className:"z-20 bg-gray-100 backdrop-blur-lg rounded-t-xl absolute w-full bottom-0 left-0 right-0 p-4 mx-auto max-w-2xl ",children:c("div",{children:[c("div",{className:"flex justify-between mb-6",children:[c("div",{className:"flex items-center space-x-1 text-xl",children:[n(st,{}),n("h2",{children:(l=e.note)==null?void 0:l.title})]}),n("button",{className:"rounded-full h-8 w-8 bg-gray-200 opacity-80 hover:bg-gray-800 hover:text-white  flex justify-center items-center",onClick:e.onRequestClose,children:n(j,{})})]}),c("div",{className:"flex flex-col space-y-4 items-center",children:[e.children,t.find(u=>u===r)&&c(N,{onClick:()=>{a(r),e.onRequestClose()},children:[n("span",{children:"Close"})," ",n(j,{})]}),c(N,{onClick:()=>{a(r),sn(r!=null?r:""),e.onRequestClose()},children:[n("span",{children:"Delete"})," ",n(rt,{})]})]})]})})},dn=e=>{const{getHTML:t,getMarkdown:a}=ot();return c(O,{children:[c(N,{onClick:()=>{var h;const o=`<!DOCTYPE html>
    <html>
    <head>
      <link href="https://cdn.jsdelivr.net/npm/base-css-theme@1.1.3/base.css" rel="stylesheet">
    </head>
    <body style="padding: 16px;">${t()}</body>
    </html>`;let l=`${e.note.title}.html`,u=new Blob([o],{type:"text/plain;charset=utf-8"});$.saveAs(u,l),(h=e.onRequestClose)==null||h.call(e)},children:[n("span",{children:"Export HTML"})," ",n(lt,{})]}),c(N,{onClick:()=>{var u;let o=`${e.note.title}.md`,l=new Blob([a()],{type:"text/plain;charset=utf-8"});$.saveAs(l,o),(u=e.onRequestClose)==null||u.call(e)},children:[n("span",{children:"Export Markdown"})," ",n(it,{})]})]})};const Q=e=>{const[t,a]=i.exports.useState(),[r,s]=i.exports.useState(!1),[o,l]=i.exports.useState(!1),u=i.exports.useRef(),h=i.exports.useRef(),f=_(),m=i.exports.useCallback(async()=>{if(e.id){let g=await X(e.id);g&&a(g)}},[e.id]);i.exports.useEffect(()=>{m()},[m]),i.exports.useEffect(()=>{if(f.hash){const g=f.hash.substring(1);e.id===g&&h.current&&h.current.scrollIntoView({behavior:"smooth"})}},[f.hash,e.id]);const d=i.exports.useCallback(g=>{const p=w(b({},t),{state:g.state.toJSON(),lastEditedTime:Date.now()});a(p)},[t]),x=i.exports.useCallback((g,p)=>{t.text=g.helpers.getText(),q(t),s(!1)},[t]),v=i.exports.useCallback((g,p)=>{var A;s(!0),(A=e.handleFocus)==null||A.call(e,u.current)},[e]);return t?c(O,{children:[c("div",{id:e.id,ref:h,className:"w-full md:w-3/4 lg:w-1/2 xl:w-1/3 hover:shadow-lg rounded-lg p-5 lg:mr-4 mb-4 editor-container",children:[c("div",{className:"flex justify-between",children:[n("textarea",{placeholder:"Title",defaultValue:t==null?void 0:t.title,className:"font-semibold text-4xl w-11/12",onChange:g=>{let p=g.target.value;p.replace(/\n/,""),t.title=p,q(t)},wrap:"soft"}),n("div",{className:"flex space-x-2",children:n("button",{className:`h-4 w-4 rounded-full opacity-80 border hover:bg-gray-800 hover:border-gray-800 ${r?"border-gray-200 bg-gray-200":"border-gray-200"}`,onClick:()=>l(!0)})})]}),n(nn,{id:t.id,state:t.state,onChange:d,onBlur:x,onFocus:v,ref:u})]}),u.current&&n(U.Provider,{value:u.current,children:n(G,{isOpen:o,note:t,onRequestClose:()=>{l(!1)},children:n(dn,{note:t,onRequestClose:()=>{l(!1)}})})})]}):null};function Z(e){const{addItem:t}=i.exports.useContext(y),a=async()=>{let r=await K();return t(r.id),r.id};return n("button",{onClick:async()=>{var s;const r=await a();(s=e==null?void 0:e.handleClick)==null||s.call(e,r)},className:"bg-gray-200  text-black backdrop-blur-xl rounded-full h-16 w-16 fixed right-1 bottom-12 md:right-8 md:bottom-8 flex justify-center items-center shadow-md hover:pointer hover:opacity-100 hover:bg-green-500 hover:text-white",children:n(ct,{})})}const C=e=>e?"active":"",un=()=>{const e=dt(),t=ut();return c("div",{className:"toolbar space-x-2",children:[n("button",{onClick:()=>{e.undo(),e.focus()},children:n(ht,{})}),n("button",{onClick:()=>{e.redo(),e.focus()},children:n(mt,{})}),n("button",{className:C(t.bold()),onClick:()=>{e.toggleBold(),e.focus()},children:n(ft,{})}),n("button",{className:C(t.italic()),onClick:()=>{e.toggleItalic(),e.focus()},children:n(gt,{})}),n("button",{className:C(t.underline()),onClick:()=>{e.toggleUnderline(),e.focus()},children:n(xt,{})}),n("button",{className:C(t.code()),onClick:()=>{e.toggleCode(),e.focus()},children:n(pt,{})}),n("button",{className:C(t.blockquote()),onClick:()=>{e.toggleBlockquote(),e.focus()},children:n(vt,{})}),n("button",{className:C(t.bulletList()),onClick:()=>{e.toggleBulletList(),e.focus()},children:n(yt,{})}),n("button",{className:C(t.taskList()),onClick:()=>{e.toggleTaskList(),e.focus()},children:n(bt,{})})]})};function hn(){const{items:e,addItem:t}=i.exports.useContext(y),[a,r]=i.exports.useState();I();const s=_();return i.exports.useEffect(()=>{if(s.hash){const o=s.hash.substring(1);o&&!e.includes(o)&&X(o).then(l=>{l&&t(o)})}},[s.hash]),c(O,{children:[e.length>0&&n("div",{className:"editor-list",children:e.map(o=>n(Q,{id:o,handleFocus:l=>r(l)},o))}),e.length===0&&c("div",{className:"absolute mx-auto top-1/2 w-full text-center text-gray-300",children:[n(wt,{className:"h-10 w-10 mx-auto"}),n("h1",{children:"Workspace Empty"})]}),a&&n(U.Provider,{value:a,children:n(un,{})}),n(Z,{})]})}function mn(){const[e,t]=i.exports.useState([]),[a,r]=i.exports.useState(!1),[s,o]=i.exports.useState(),l=I(),{items:u,addItem:h}=i.exports.useContext(y),f=i.exports.useCallback(async()=>{const d=await B();t(d)},[t]),m=d=>{o(d),r(!0)};return i.exports.useEffect(()=>(f(),Y(f),()=>{t([])}),[f]),c(O,{children:[c("div",{className:"p-5 md:px-14 lg:px-36",children:[c("table",{className:"rounded-lg divide-y divide-gray-200 note-list shadow-md",children:[n("thead",{children:c("tr",{children:[n("th",{className:"w-11/12 lg:w-9/12",children:"Note"}),n("th",{className:"hidden lg:block w-2/12",children:"Edited"}),n("th",{className:"w-1/12"})]})}),n("tbody",{children:e.sort((d,x)=>d.lastEditedTime<x.lastEditedTime?1:-1).map((d,x)=>c("tr",{id:`row-${d.id}`,children:[n("td",{children:n("button",{className:"truncate w-full transition duration-250 ease-in-out bg-gradient-to-r hover:from-gray-100 hover:to-gray-200",onClick:()=>{h(d.id),l(`${R.panelWorkspace}#${d.id}`)},children:c("div",{className:"flex flex-col text-left",children:[c("div",{className:"font-medium flex space-x-1",children:[n("span",{children:d.title||"No Title"}),n("span",{className:`rounded-full h-2 w-2 bg-green-500 ${u.find(v=>v==d.id)?"inline":"hidden"} `})]}),n("span",{className:"text-sm text-gray-500 font-light",children:d.text||"empty"})]})})}),n("td",{className:"hidden lg:block",children:new Date(d.lastEditedTime).toLocaleString(navigator.language,{year:"numeric",month:"long",day:"numeric"})}),n("td",{children:n("button",{onClick:()=>m(d),children:n(Ct,{})})})]},x))})]}),n(Z,{handleClick:d=>l(`${R.panelWorkspace}#${d}`)})]}),n(G,{isOpen:a,note:s,onRequestClose:()=>{o(null),r(!1)}})]})}const fn=()=>{const e=I();return c("div",{className:"flex space-x-4",children:[n("button",{className:"rounded-full h-8 w-8 bg-gray-200 hover:opacity-80 hover:bg-gray-800 hover:text-white  flex justify-center items-center",onClick:()=>e(-1),children:n(Nt,{})}),n("button",{className:"rounded-full h-8 w-8 bg-gray-200 hover:opacity-80 hover:bg-gray-800 hover:text-white  flex justify-center items-center",onClick:()=>e(1),children:n(kt,{})})]})},gn=()=>{const{toggleNav:e}=i.exports.useContext(y);return n("button",{className:"rounded-full h-8 w-8 bg-white opacity-80 hover:bg-gray-800 hover:text-white  flex justify-center items-center",onClick:e,children:n(Et,{})})},xn=()=>{const e=I(),{navOpen:t}=i.exports.useContext(y);return c("div",{className:`h-fit bg-gray-200 backdrop-blur-lg rounded-r-xl shadow-lg flex flex-col space-y-2 items-center py-5 px-1  shrink-0 fixed bottom-0 top-0 left-0 my-auto 
      lg:w-32
      ${t?"block":"hidden"}`,children:[c(N,{onClick:()=>e(R.home),children:[n(Rt,{})," ",n("span",{className:"hidden lg:block",children:"Home"})]}),c(N,{children:[n(Ot,{})," ",n("span",{className:"hidden lg:block",children:"Search"})]}),c(N,{onClick:()=>e(R.settings),children:[n(St,{})," ",n("span",{className:"hidden lg:block",children:"Settings"})]})]})},pn=e=>c("div",{className:"min-h-screen max-w-full h-full",children:[c("div",{className:"w-full flex justify-between items-center mb-2 py-2 px-3",children:[n(gn,{}),n("div",{children:n(fn,{})})]}),c("div",{className:"flex flex-row-reverse",children:[n("div",{className:"w-full overflow-scroll",children:n(It,{})}),n(xn,{})]})]}),vn=5e5,yn=({onUpload:e,maxFileSize:t=vn,multiple:a=!1,accept:r="*"})=>{const s=i.exports.useRef(null);return c("section",{children:[c("button",{type:"button",className:"flex space-x-2 items-center bg-black text-white px-5 py-2 rounded-3xl",onClick:o=>s.current.click(),children:[n(Lt,{}),c("span",{children:[" Upload ",a?"files":"a file"]})]}),n("input",{type:"file",ref:s,title:"",value:"",accept:r,className:"hidden",onChange:o=>{const{files:l}=o.target;l.length&&(e==null||e(l))}})]})};function bn(e){const t=new FileReader;for(let a=0;a<e.length;a++){const r=e[a];t.onload=s=>{const o=s.target.result,u=new Ft.Renderer().render(o),h=r.name.replace(".html","");K(null,h,null,{doc:u,selection:null})},r.type==="text/html"&&t.readAsText(r)}}const wn=()=>n(O,{children:c("div",{className:"p-5",children:[n("h1",{children:"Import HTML"}),n(yn,{accept:".html",onUpload:e=>bn(e)})]})});const H=e=>{const[{isDragging:t},a,r]=Mt({item:e.item,collect:s=>({isDragging:!!s.isDragging()})});return c("div",{id:e.item.id,ref:r,className:"card",style:{display:t&&e.hideSourceOnDrag?"none":"flex",opacity:t?.5:1,top:e.item.y,left:e.item.x},children:[n("div",{className:"flex justify-end p-3",children:n("div",{ref:a,id:`${e.item.id}-drag-handle`,className:"card-drag-handle"})}),e.children]})},E={CARD:"card",COLLECTION:"collection"};const Cn=e=>{const[t,a]=i.exports.useState([]),r=i.exports.useCallback(async()=>{const s=await B();a(s)},[a]);return i.exports.useEffect(()=>{r(),Y(r)},[r]),n("div",{className:"flex w-64 flex-col rounded items-center divide-y divide-gray-200 divide-opacity-50",children:t.map((s,o)=>{var u;const l=(u=s==null?void 0:s.state)!=null&&u.doc?s.text:"";return n("button",{className:"truncate w-full transition duration-250 ease-in-out bg-gradient-to-r hover:from-gray-100 hover:to-gray-200",onClick:()=>{e.handleNoteButtonClick(s)},children:s.title||l},o)})})};function Nn(){return n(_t,{backend:Bt,children:n(kn,{})})}const kn=e=>{const[a,r]=i.exports.useState({x:0,y:0}),[s,o]=i.exports.useState({x:0,y:0}),l=[],[,u]=At({accept:[E.CARD,E.COLLECTION],drop:(d,x)=>{const v=x.getDifferenceFromInitialOffset(),g=Math.round(d.x+v.x),p=Math.round(d.y+v.y);return d.type===E.CARD?f(d.id,g,p):o({x:g,y:p}),{x:g,y:p}}}),h=i.exports.useCallback((d,x)=>{E.CARD,M()},[]),f=i.exports.useCallback((d,x,v)=>{},[]),m=d=>{d==null||d.id,E.CARD};return c("div",{className:"canvas",ref:u,onMouseMove:d=>{r({x:d.nativeEvent.offsetX,y:d.nativeEvent.offsetY})},onDoubleClick:d=>{h(d.nativeEvent.offsetX,d.nativeEvent.offsetY)},children:[!1,n(H,{item:{type:E.COLLECTION,id:M(),x:s.x,y:s.y},children:n(Cn,{handleNoteButtonClick:m})}),Object.entries(l).map(([d,x],v)=>n(H,{item:x,hideSourceOnDrag:!0,children:n(Q,{id:x.id})},v))]})};function En(){const[e,t]=i.exports.useState(!1),[a,r]=i.exports.useState(""),[s,o]=i.exports.useState([]),{addItem:l}=i.exports.useContext(y),u=I(),h=_(),f=m=>{rn(m).then(d=>o(d))};return c("div",{className:"relative shadow-sm",children:[c("div",{className:"h-10 w-72  rounded-full flex justify-between pl-6 items-center relative",children:[n("input",{placeholder:"Search",className:"w-3/4 h-full bg-transparent overflow-ellipsis",type:"text",value:a,onChange:m=>{const{value:d}=m.target;r(d),f(d)},onFocus:m=>t(!0),onBlur:m=>t(!1)}),n("button",{className:"h-10 w-10 rounded-full bg-black text-white flex justify-center items-center",children:n(Tt,{})})]}),a!==""&&s.length>0&&n("div",{className:"search-results rounded-b-lg overflow-hidden",children:s.map(m=>n(Rn,{onResultClick:()=>{r(""),l(m.item.id),h.pathname!==R.panelWorkspace&&u(R.panelWorkspace)},result:m},m.item.id))})]})}const Rn=({result:e,onResultClick:t})=>{const a=e.matches.some(s=>s.key==="title"),r=e.matches.some(s=>s.key==="text");return c("button",{className:"result bg-white text-left p-2",onClick:s=>{t==null||t()},children:[c("div",{className:"text-sm",children:[a&&e.matches.map((s,o)=>s.key==="title"?n(V,{match:s},o):null),!a&&e.item.title]}),c("div",{className:"text-xs font-extralight",children:[r&&e.matches.map((s,o)=>s.key==="text"?n(V,{match:s},o):null),!r&&e.item.text]})]})},V=({match:e})=>{var r,s,o,l;const[[t,a]]=e.indices;return c(O,{children:[(r=e.value)==null?void 0:r.substring(0,t),n("span",{className:"bg-yellow-300",children:(s=e.value)==null?void 0:s.substring(t,a)}),(l=e.value)==null?void 0:l.substring(a,(o=e.value)==null?void 0:o.length)]})};function On(){return c("div",{className:"min-h-screen",children:[n("div",{id:"top-bar",className:"flex flex-row-reverse p-8",children:n(En,{})}),n(Nn,{})]})}function Sn(e){return n(Dt,{basename:"/poche",children:n(i.exports.Suspense,{fallback:n("div",{children:"Loading..."}),children:n(Pt,{children:c(S,{path:"/",element:n(pn,{}),children:[n(S,{index:!0,element:n(mn,{})}),n(S,{path:"canvas",element:n(On,{})}),n(S,{path:"panel",element:n(hn,{})}),n(S,{path:"settings",element:n(wn,{})})]})})})})}const R={home:"/",settings:"/settings",panelWorkspace:"/panel"};function In(){return n(cn,{children:n(Sn,{})})}jt.render(n(i.exports.StrictMode,{children:n(In,{})}),document.getElementById("root"));
