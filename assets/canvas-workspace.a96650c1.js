import{C as g,a2 as _,W as y,$ as be,ap as _t,ab as Pt,aR as Nt,a7 as xt}from"./vendor.b5c55a72.js";import{g as B}from"./global.93d648bd.js";import{g as Rt,o as At,E as Mt,N as $t,p as De,s as jt}from"./index.8a483e56.js";var C;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(C||(C={}));function w(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var Oe=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),te=function(){return Math.random().toString(36).substring(7).split("").join(".")},Se={INIT:"@@redux/INIT"+te(),REPLACE:"@@redux/REPLACE"+te(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+te()}};function Lt(e){if(typeof e!="object"||e===null)return!1;for(var t=e;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function ft(e,t,r){var n;if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(w(0));if(typeof t=="function"&&typeof r=="undefined"&&(r=t,t=void 0),typeof r!="undefined"){if(typeof r!="function")throw new Error(w(1));return r(ft)(e,t)}if(typeof e!="function")throw new Error(w(2));var a=e,i=t,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function f(){if(s)throw new Error(w(3));return i}function l(h){if(typeof h!="function")throw new Error(w(4));if(s)throw new Error(w(5));var D=!0;return c(),u.push(h),function(){if(!!D){if(s)throw new Error(w(6));D=!1,c();var b=u.indexOf(h);u.splice(b,1),o=null}}}function v(h){if(!Lt(h))throw new Error(w(7));if(typeof h.type=="undefined")throw new Error(w(8));if(s)throw new Error(w(9));try{s=!0,i=a(i,h)}finally{s=!1}for(var D=o=u,S=0;S<D.length;S++){var b=D[S];b()}return h}function p(h){if(typeof h!="function")throw new Error(w(10));a=h,v({type:Se.REPLACE})}function m(){var h,D=l;return h={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(w(11));function O(){b.next&&b.next(f())}O();var T=D(O);return{unsubscribe:T}}},h[Oe]=function(){return this},h}return v({type:Se.INIT}),n={dispatch:v,subscribe:l,getState:f,replaceReducer:p},n[Oe]=m,n}function d(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];if(!e){var i;if(t===void 0)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;i=new Error(t.replace(/%s/g,function(){return n[o++]})),i.name="Invariant Violation"}throw i.framesToPop=1,i}}var ge="dnd-core/INIT_COORDS",V="dnd-core/BEGIN_DRAG",ve="dnd-core/PUBLISH_DRAG_SOURCE",K="dnd-core/HOVER",z="dnd-core/DROP",Q="dnd-core/END_DRAG";function Te(e,t){return{type:ge,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function L(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?L=function(r){return typeof r}:L=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},L(e)}function Ht(e,t,r){return t.split(".").reduce(function(n,a){return n&&n[a]?n[a]:r||null},e)}function Ut(e,t){return e.filter(function(r){return r!==t})}function dt(e){return L(e)==="object"}function Ft(e,t){var r=new Map,n=function(o){r.set(o,r.has(o)?r.get(o)+1:1)};e.forEach(n),t.forEach(n);var a=[];return r.forEach(function(i,o){i===1&&a.push(o)}),a}function Wt(e,t){return e.filter(function(r){return t.indexOf(r)>-1})}var Bt={type:ge,payload:{clientOffset:null,sourceClientOffset:null}};function Gt(e){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{publishSource:!0},a=n.publishSource,i=a===void 0?!0:a,o=n.clientOffset,u=n.getSourceClientOffset,s=e.getMonitor(),c=e.getRegistry();e.dispatch(Te(o)),Xt(r,s,c);var f=Vt(r,s);if(f===null){e.dispatch(Bt);return}var l=null;if(o){if(!u)throw new Error("getSourceClientOffset must be defined");qt(u),l=u(f)}e.dispatch(Te(o,l));var v=c.getSource(f),p=v.beginDrag(s,f);Yt(p),c.pinSource(f);var m=c.getSourceType(f);return{type:V,payload:{itemType:m,item:p,sourceId:f,clientOffset:o||null,sourceClientOffset:l||null,isSourcePublic:!!i}}}}function Xt(e,t,r){d(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(n){d(r.getSource(n),"Expected sourceIds to be registered.")})}function qt(e){d(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Yt(e){d(dt(e),"Item must be an object.")}function Vt(e,t){for(var r=null,n=e.length-1;n>=0;n--)if(t.canDragSource(e[n])){r=e[n];break}return r}function Kt(e){return function(){var r=e.getMonitor();if(r.isDragging())return{type:ve}}}function ue(e,t){return t===null?e===null:Array.isArray(e)?e.some(function(r){return r===t}):e===t}function zt(e){return function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.clientOffset;Qt(r);var i=r.slice(0),o=e.getMonitor(),u=e.getRegistry();Jt(i,o,u);var s=o.getItemType();return Zt(i,u,s),er(i,o,u),{type:K,payload:{targetIds:i,clientOffset:a||null}}}}function Qt(e){d(Array.isArray(e),"Expected targetIds to be an array.")}function Jt(e,t,r){d(t.isDragging(),"Cannot call hover while not dragging."),d(!t.didDrop(),"Cannot call hover after drop.");for(var n=0;n<e.length;n++){var a=e[n];d(e.lastIndexOf(a)===n,"Expected targetIds to be unique in the passed array.");var i=r.getTarget(a);d(i,"Expected targetIds to be registered.")}}function Zt(e,t,r){for(var n=e.length-1;n>=0;n--){var a=e[n],i=t.getTargetType(a);ue(i,r)||e.splice(n,1)}}function er(e,t,r){e.forEach(function(n){var a=r.getTarget(n);a.hover(t,n)})}function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ie(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?we(Object(r),!0).forEach(function(n){tr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rr(e){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.getMonitor(),a=e.getRegistry();nr(n);var i=or(n);i.forEach(function(o,u){var s=ar(o,u,a,n),c={type:z,payload:{dropResult:Ie(Ie({},r),s)}};e.dispatch(c)})}}function nr(e){d(e.isDragging(),"Cannot call drop while not dragging."),d(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function ar(e,t,r,n){var a=r.getTarget(e),i=a?a.drop(n,e):void 0;return ir(i),typeof i=="undefined"&&(i=t===0?{}:n.getDropResult()),i}function ir(e){d(typeof e=="undefined"||dt(e),"Drop result must either be an object or undefined.")}function or(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function ur(e){return function(){var r=e.getMonitor(),n=e.getRegistry();sr(r);var a=r.getSourceId();if(a!=null){var i=n.getSource(a,!0);i.endDrag(r,a),n.unpinSource()}return{type:Q}}}function sr(e){d(e.isDragging(),"Cannot call endDrag while not dragging.")}function cr(e){return{beginDrag:Gt(e),publishDragSource:Kt(e),hover:zt(e),drop:rr(e),endDrag:ur(e)}}var lr=function(t,r){return t===r};function fr(e,t){return!e&&!t?!0:!e||!t?!1:e.x===t.x&&e.y===t.y}function dr(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:lr;if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!r(e[n],t[n]))return!1;return!0}function Ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Ce(Object(r),!0).forEach(function(n){gr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ce(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var ke={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function vr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case ge:case V:return{initialSourceClientOffset:r.sourceClientOffset,initialClientOffset:r.clientOffset,clientOffset:r.clientOffset};case K:return fr(e.clientOffset,r.clientOffset)?e:Ee(Ee({},e),{},{clientOffset:r.clientOffset});case Q:case z:return ke;default:return e}}var he="dnd-core/ADD_SOURCE",pe="dnd-core/ADD_TARGET",ye="dnd-core/REMOVE_SOURCE",J="dnd-core/REMOVE_TARGET";function hr(e){return{type:he,payload:{sourceId:e}}}function pr(e){return{type:pe,payload:{targetId:e}}}function yr(e){return{type:ye,payload:{sourceId:e}}}function mr(e){return{type:J,payload:{targetId:e}}}function _e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_e(Object(r),!0).forEach(function(n){br(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_e(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function br(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Dr={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Or(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Dr,t=arguments.length>1?arguments[1]:void 0,r=t.payload;switch(t.type){case V:return I(I({},e),{},{itemType:r.itemType,item:r.item,sourceId:r.sourceId,isSourcePublic:r.isSourcePublic,dropResult:null,didDrop:!1});case ve:return I(I({},e),{},{isSourcePublic:!0});case K:return I(I({},e),{},{targetIds:r.targetIds});case J:return e.targetIds.indexOf(r.targetId)===-1?e:I(I({},e),{},{targetIds:Ut(e.targetIds,r.targetId)});case z:return I(I({},e),{},{dropResult:r.dropResult,didDrop:!0,targetIds:[]});case Q:return I(I({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function Sr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case he:case pe:return e+1;case ye:case J:return e-1;default:return e}}var G=[],me=[];G.__IS_NONE__=!0;me.__IS_ALL__=!0;function Tr(e,t){if(e===G)return!1;if(e===me||typeof t=="undefined")return!0;var r=Wt(t,e);return r.length>0}function wr(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case K:break;case he:case pe:case J:case ye:return G;case V:case ve:case Q:case z:default:return me}var t=e.payload,r=t.targetIds,n=r===void 0?[]:r,a=t.prevTargetIds,i=a===void 0?[]:a,o=Ft(n,i),u=o.length>0||!dr(n,i);if(!u)return G;var s=i[i.length-1],c=n[n.length-1];return s!==c&&(s&&o.push(s),c&&o.push(c)),o}function Ir(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e+1}function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function Ne(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Pe(Object(r),!0).forEach(function(n){Cr(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Cr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Er(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:wr(e.dirtyHandlerIds,{type:t.type,payload:Ne(Ne({},t.payload),{},{prevTargetIds:Ht(e,"dragOperation.targetIds",[])})}),dragOffset:vr(e.dragOffset,t),refCount:Sr(e.refCount,t),dragOperation:Or(e.dragOperation,t),stateId:Ir(e.stateId)}}function kr(e,t){return{x:e.x+t.x,y:e.y+t.y}}function gt(e,t){return{x:e.x-t.x,y:e.y-t.y}}function _r(e){var t=e.clientOffset,r=e.initialClientOffset,n=e.initialSourceClientOffset;return!t||!r||!n?null:gt(kr(t,n),r)}function Pr(e){var t=e.clientOffset,r=e.initialClientOffset;return!t||!r?null:gt(t,r)}function Nr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function xr(e,t,r){return t&&xe(e.prototype,t),r&&xe(e,r),e}var Rr=function(){function e(t,r){Nr(this,e),this.store=t,this.registry=r}return xr(e,[{key:"subscribeToStateChange",value:function(r){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{handlerIds:void 0},i=a.handlerIds;d(typeof r=="function","listener must be a function."),d(typeof i=="undefined"||Array.isArray(i),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId,u=function(){var c=n.store.getState(),f=c.stateId;try{var l=f===o||f===o+1&&!Tr(c.dirtyHandlerIds,i);l||r()}finally{o=f}};return this.store.subscribe(u)}},{key:"subscribeToOffsetChange",value:function(r){var n=this;d(typeof r=="function","listener must be a function.");var a=this.store.getState().dragOffset,i=function(){var u=n.store.getState().dragOffset;u!==a&&(a=u,r())};return this.store.subscribe(i)}},{key:"canDragSource",value:function(r){if(!r)return!1;var n=this.registry.getSource(r);return d(n,"Expected to find a valid source."),this.isDragging()?!1:n.canDrag(this,r)}},{key:"canDropOnTarget",value:function(r){if(!r)return!1;var n=this.registry.getTarget(r);if(d(n,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var a=this.registry.getTargetType(r),i=this.getItemType();return ue(a,i)&&n.canDrop(this,r)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(r){if(!r)return!1;var n=this.registry.getSource(r,!0);if(d(n,"Expected to find a valid source."),!this.isDragging()||!this.isSourcePublic())return!1;var a=this.registry.getSourceType(r),i=this.getItemType();return a!==i?!1:n.isDragging(this,r)}},{key:"isOverTarget",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shallow:!1};if(!r)return!1;var a=n.shallow;if(!this.isDragging())return!1;var i=this.registry.getTargetType(r),o=this.getItemType();if(o&&!ue(i,o))return!1;var u=this.getTargetIds();if(!u.length)return!1;var s=u.indexOf(r);return a?s===u.length-1:s>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return _r(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return Pr(this.store.getState().dragOffset)}}]),e}(),Ar=0;function Mr(){return Ar++}function H(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?H=function(r){return typeof r}:H=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},H(e)}function $r(e){d(typeof e.canDrag=="function","Expected canDrag to be a function."),d(typeof e.beginDrag=="function","Expected beginDrag to be a function."),d(typeof e.endDrag=="function","Expected endDrag to be a function.")}function jr(e){d(typeof e.canDrop=="function","Expected canDrop to be a function."),d(typeof e.hover=="function","Expected hover to be a function."),d(typeof e.drop=="function","Expected beginDrag to be a function.")}function se(e,t){if(t&&Array.isArray(e)){e.forEach(function(r){return se(r,!1)});return}d(typeof e=="string"||H(e)==="symbol",t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function Z(e){k.length||X(),k[k.length]=e}var k=[],X,E=0,Lr=1024;function Re(){for(;E<k.length;){var e=E;if(E=E+1,k[e].call(),E>Lr){for(var t=0,r=k.length-E;t<r;t++)k[t]=k[t+E];k.length-=E,E=0}}k.length=0,E=0}var Ae=typeof B!="undefined"?B:self,vt=Ae.MutationObserver||Ae.WebKitMutationObserver;typeof vt=="function"?X=Hr(Re):X=ht(Re);Z.requestFlush=X;function Hr(e){var t=1,r=new vt(e),n=document.createTextNode("");return r.observe(n,{characterData:!0}),function(){t=-t,n.data=t}}function ht(e){return function(){var r=setTimeout(a,0),n=setInterval(a,50);function a(){clearTimeout(r),clearInterval(n),e()}}}Z.makeRequestCallFromTimer=ht;var q=[],ce=[],Ur=Z.makeRequestCallFromTimer(Fr);function Fr(){if(ce.length)throw ce.shift()}function le(e){var t;q.length?t=q.pop():t=new Wr,t.task=e,Z(t)}var Wr=function(){function e(){}return e.prototype.call=function(){try{this.task.call()}catch(t){le.onerror?le.onerror(t):(ce.push(t),Ur())}finally{this.task=null,q[q.length]=this}},e}();function Br(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Me(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Gr(e,t,r){return t&&Me(e.prototype,t),r&&Me(e,r),e}function Xr(e,t){return Kr(e)||Vr(e,t)||Yr(e,t)||qr()}function qr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yr(e,t){if(!!e){if(typeof e=="string")return $e(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $e(e,t)}}function $e(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Vr(e,t){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Kr(e){if(Array.isArray(e))return e}function zr(e){var t=Mr().toString();switch(e){case C.SOURCE:return"S".concat(t);case C.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function je(e){switch(e[0]){case"S":return C.SOURCE;case"T":return C.TARGET;default:d(!1,"Cannot parse handler ID: ".concat(e))}}function Le(e,t){var r=e.entries(),n=!1;do{var a=r.next(),i=a.done,o=Xr(a.value,2),u=o[1];if(u===t)return!0;n=!!i}while(!n);return!1}var Qr=function(){function e(t){Br(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}return Gr(e,[{key:"addSource",value:function(r,n){se(r),$r(n);var a=this.addHandler(C.SOURCE,r,n);return this.store.dispatch(hr(a)),a}},{key:"addTarget",value:function(r,n){se(r,!0),jr(n);var a=this.addHandler(C.TARGET,r,n);return this.store.dispatch(pr(a)),a}},{key:"containsHandler",value:function(r){return Le(this.dragSources,r)||Le(this.dropTargets,r)}},{key:"getSource",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;d(this.isSourceId(r),"Expected a valid source ID.");var a=n&&r===this.pinnedSourceId,i=a?this.pinnedSource:this.dragSources.get(r);return i}},{key:"getTarget",value:function(r){return d(this.isTargetId(r),"Expected a valid target ID."),this.dropTargets.get(r)}},{key:"getSourceType",value:function(r){return d(this.isSourceId(r),"Expected a valid source ID."),this.types.get(r)}},{key:"getTargetType",value:function(r){return d(this.isTargetId(r),"Expected a valid target ID."),this.types.get(r)}},{key:"isSourceId",value:function(r){var n=je(r);return n===C.SOURCE}},{key:"isTargetId",value:function(r){var n=je(r);return n===C.TARGET}},{key:"removeSource",value:function(r){var n=this;d(this.getSource(r),"Expected an existing source."),this.store.dispatch(yr(r)),le(function(){n.dragSources.delete(r),n.types.delete(r)})}},{key:"removeTarget",value:function(r){d(this.getTarget(r),"Expected an existing target."),this.store.dispatch(mr(r)),this.dropTargets.delete(r),this.types.delete(r)}},{key:"pinSource",value:function(r){var n=this.getSource(r);d(n,"Expected an existing source."),this.pinnedSourceId=r,this.pinnedSource=n}},{key:"unpinSource",value:function(){d(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(r,n,a){var i=zr(r);return this.types.set(i,n),r===C.SOURCE?this.dragSources.set(i,a):r===C.TARGET&&this.dropTargets.set(i,a),i}}]),e}();function Jr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function He(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zr(e,t,r){return t&&He(e.prototype,t),r&&He(e,r),e}function en(e){var t=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__;return ft(Er,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var tn=function(){function e(){var t=this,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Jr(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var a=t.store.getState().refCount>0;t.backend&&(a&&!t.isSetUp?(t.backend.setup(),t.isSetUp=!0):!a&&t.isSetUp&&(t.backend.teardown(),t.isSetUp=!1))};var n=en(r);this.store=n,this.monitor=new Rr(n,new Qr(n)),n.subscribe(this.handleRefCountChange)}return Zr(e,[{key:"receiveBackend",value:function(r){this.backend=r}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var r=this,n=this.store.dispatch;function a(o){return function(){for(var u=arguments.length,s=new Array(u),c=0;c<u;c++)s[c]=arguments[c];var f=o.apply(r,s);typeof f!="undefined"&&n(f)}}var i=cr(this);return Object.keys(i).reduce(function(o,u){var s=i[u];return o[u]=a(s),o},{})}},{key:"dispatch",value:function(r){this.store.dispatch(r)}}]),e}();function rn(e,t,r,n){var a=new tn(n),i=e(a,t,r);return a.receiveBackend(i),a}var pt=g.exports.createContext({dragDropManager:void 0});function nn(e,t,r,n){return{dragDropManager:rn(e,t,r,n)}}function an(e,t){return cn(e)||sn(e,t)||un(e,t)||on()}function on(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function un(e,t){if(!!e){if(typeof e=="string")return Ue(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ue(e,t)}}function Ue(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function sn(e,t){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function cn(e){if(Array.isArray(e))return e}function ln(e,t){if(e==null)return{};var r=fn(e,t),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(r[n]=e[n]))}return r}function fn(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}var re=0,yt=g.exports.memo(function(e){var t=e.children,r=ln(e,["children"]),n=dn(r),a=an(n,2),i=a[0],o=a[1];return g.exports.useEffect(function(){return o&&re++,function(){if(o&&(re--,re===0)){var u=mt();u[U]=null}}},[]),g.exports.createElement(pt.Provider,{value:i},t)});yt.displayName="DndProvider";function dn(e){if("manager"in e){var t={dragDropManager:e.manager};return[t,!1]}var r=gn(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[r,n]}var U=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");function gn(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:mt(),r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,a=t;return a[U]||(a[U]=nn(e,t,r,n)),a[U]}function mt(){return typeof B!="undefined"?B:window}var P=typeof window!="undefined"?g.exports.useLayoutEffect:g.exports.useEffect;function Y(e,t,r,n){var a=r?r.call(n,e,t):void 0;if(a!==void 0)return!!a;if(e===t)return!0;if(typeof e!="object"||!e||typeof t!="object"||!t)return!1;var i=Object.keys(e),o=Object.keys(t);if(i.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<i.length;s++){var c=i[s];if(!u(c))return!1;var f=e[c],l=t[c];if(a=r?r.call(n,f,l,c):void 0,a===!1||a===void 0&&f!==l)return!1}return!0}function vn(e,t){return mn(e)||yn(e,t)||pn(e,t)||hn()}function hn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pn(e,t){if(!!e){if(typeof e=="string")return Fe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fe(e,t)}}function Fe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function yn(e,t){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function mn(e){if(Array.isArray(e))return e}function bn(e,t,r){var n=g.exports.useState(function(){return t(e)}),a=vn(n,2),i=a[0],o=a[1],u=g.exports.useCallback(function(){var s=t(e);Y(i,s)||(o(s),r&&r())},[i,e,r]);return P(u,[]),[i,u]}function Dn(e,t){return wn(e)||Tn(e,t)||Sn(e,t)||On()}function On(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sn(e,t){if(!!e){if(typeof e=="string")return We(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return We(e,t)}}function We(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Tn(e,t){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function wn(e){if(Array.isArray(e))return e}function bt(e,t,r){var n=bn(e,t,r),a=Dn(n,2),i=a[0],o=a[1];return P(function(){var s=e.getHandlerId();if(s!=null)return e.subscribeToStateChange(o,{handlerIds:[s]})},[e,o]),i}function In(e,t,r){var n=r.getRegistry(),a=n.addTarget(e,t);return[a,function(){return n.removeTarget(a)}]}function Cn(e,t,r){var n=r.getRegistry(),a=n.addSource(e,t);return[a,function(){return n.removeSource(a)}]}function ee(){var e=g.exports.useContext(pt),t=e.dragDropManager;return d(t!=null,"Expected drag drop context"),t}function En(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Be(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function kn(e,t,r){return t&&Be(e.prototype,t),r&&Be(e,r),e}var ne=!1,ae=!1,_n=function(){function e(t){En(this,e),this.sourceId=null,this.internalMonitor=t.getMonitor()}return kn(e,[{key:"receiveHandlerId",value:function(r){this.sourceId=r}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){d(!ne,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ne=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{ne=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;d(!ae,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return ae=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{ae=!1}}},{key:"subscribeToStateChange",value:function(r,n){return this.internalMonitor.subscribeToStateChange(r,n)}},{key:"isDraggingSource",value:function(r){return this.internalMonitor.isDraggingSource(r)}},{key:"isOverTarget",value:function(r,n){return this.internalMonitor.isOverTarget(r,n)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(r){return this.internalMonitor.subscribeToOffsetChange(r)}},{key:"canDragSource",value:function(r){return this.internalMonitor.canDragSource(r)}},{key:"canDropOnTarget",value:function(r){return this.internalMonitor.canDropOnTarget(r)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();function Ge(e,t){typeof e=="function"?e(t):e.current=t}function Pn(e,t){var r=e.ref;return d(typeof r!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),r?g.exports.cloneElement(e,{ref:function(a){Ge(r,a),Ge(t,a)}}):g.exports.cloneElement(e,{ref:t})}function Nn(e){if(typeof e.type!="string"){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function xn(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!g.exports.isValidElement(t)){var n=t;return e(n,r),n}var a=t;Nn(a);var i=r?function(o){return e(o,r)}:e;return Pn(a,i)}}function Dt(e){var t={};return Object.keys(e).forEach(function(r){var n=e[r];if(r.endsWith("Ref"))t[r]=e[r];else{var a=xn(n);t[r]=function(){return a}}}),t}function F(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?F=function(r){return typeof r}:F=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},F(e)}function fe(e){return e!==null&&F(e)==="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Rn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function An(e,t,r){return t&&Xe(e.prototype,t),r&&Xe(e,r),e}var Mn=function(){function e(t){var r=this;Rn(this,e),this.hooks=Dt({dragSource:function(a,i){r.clearDragSource(),r.dragSourceOptions=i||null,fe(a)?r.dragSourceRef=a:r.dragSourceNode=a,r.reconnectDragSource()},dragPreview:function(a,i){r.clearDragPreview(),r.dragPreviewOptions=i||null,fe(a)?r.dragPreviewRef=a:r.dragPreviewNode=a,r.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}return An(e,[{key:"receiveHandlerId",value:function(r){this.handlerId!==r&&(this.handlerId=r,this.reconnect())}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var r=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();if(n&&this.disconnectDragSource(),!!this.handlerId){if(!r){this.lastConnectedDragSource=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=r,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,r,this.dragSourceOptions))}}},{key:"reconnectDragPreview",value:function(){var r=this.dragPreview,n=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!r){this.lastConnectedDragPreview=r;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=r,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,r,this.dragPreviewOptions))}}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!Y(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!Y(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(r){this.dragSourceOptionsInternal=r}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(r){this.dragPreviewOptionsInternal=r}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}}]),e}();function $n(e,t){return Un(e)||Hn(e,t)||Ln(e,t)||jn()}function jn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ln(e,t){if(!!e){if(typeof e=="string")return qe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qe(e,t)}}function qe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Hn(e,t){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Un(e){if(Array.isArray(e))return e}function W(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?W=function(r){return typeof r}:W=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},W(e)}function Fn(){var e=ee(),t=g.exports.useMemo(function(){return new _n(e)},[e]),r=g.exports.useMemo(function(){return new Mn(e.getBackend())},[e]);return[t,r]}function Wn(e,t,r){var n=ee(),a=g.exports.useMemo(function(){return{beginDrag:function(){var o=e.current,u=o.begin,s=o.item;if(u){var c=u(t);return d(c==null||W(c)==="object","dragSpec.begin() must either return an object, undefined, or null"),c||s||{}}return s||{}},canDrag:function(){return typeof e.current.canDrag=="boolean"?e.current.canDrag:typeof e.current.canDrag=="function"?e.current.canDrag(t):!0},isDragging:function(o,u){var s=e.current.isDragging;return s?s(t):u===o.getSourceId()},endDrag:function(){var o=e.current.end;o&&o(t.getItem(),t),r.reconnect()}}},[]);P(function(){var o=Cn(e.current.item.type,a,n),u=$n(o,2),s=u[0],c=u[1];return t.receiveHandlerId(s),r.receiveHandlerId(s),c},[])}function Bn(e,t){return Yn(e)||qn(e,t)||Xn(e,t)||Gn()}function Gn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xn(e,t){if(!!e){if(typeof e=="string")return Ye(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ye(e,t)}}function Ye(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function qn(e,t){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function Yn(e){if(Array.isArray(e))return e}function Vn(e){var t=g.exports.useRef(e);t.current=e,d(e.item!=null,"item must be defined"),d(e.item.type!=null,"item type must be defined");var r=Fn(),n=Bn(r,2),a=n[0],i=n[1];Wn(t,a,i);var o=bt(a,t.current.collect||function(){return{}},function(){return i.reconnect()}),u=g.exports.useMemo(function(){return i.hooks.dragSource()},[i]),s=g.exports.useMemo(function(){return i.hooks.dragPreview()},[i]);return P(function(){i.dragSourceOptions=t.current.options||null,i.reconnect()},[i]),P(function(){i.dragPreviewOptions=t.current.previewOptions||null,i.reconnect()},[i]),[o,u,s]}function Kn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ve(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function zn(e,t,r){return t&&Ve(e.prototype,t),r&&Ve(e,r),e}var Qn=function(){function e(t){var r=this;Kn(this,e),this.hooks=Dt({dropTarget:function(a,i){r.clearDropTarget(),r.dropTargetOptions=i,fe(a)?r.dropTargetRef=a:r.dropTargetNode=a,r.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}return zn(e,[{key:"reconnect",value:function(){var r=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();r&&this.disconnectDropTarget();var n=this.dropTarget;if(!!this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}},{key:"receiveHandlerId",value:function(r){r!==this.handlerId&&(this.handlerId=r,this.reconnect())}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!Y(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}},{key:"connectTarget",get:function(){return this.dropTarget}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(r){this.dropTargetOptionsInternal=r}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}}]),e}();function Jn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ke(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Zn(e,t,r){return t&&Ke(e.prototype,t),r&&Ke(e,r),e}var ie=!1,ea=function(){function e(t){Jn(this,e),this.targetId=null,this.internalMonitor=t.getMonitor()}return Zn(e,[{key:"receiveHandlerId",value:function(r){this.targetId=r}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(r,n){return this.internalMonitor.subscribeToStateChange(r,n)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;d(!ie,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return ie=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{ie=!1}}},{key:"isOver",value:function(r){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,r):!1}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();function ta(e,t){return ia(e)||aa(e,t)||na(e,t)||ra()}function ra(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function na(e,t){if(!!e){if(typeof e=="string")return ze(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ze(e,t)}}function ze(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function aa(e,t){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function ia(e){if(Array.isArray(e))return e}function oa(){var e=ee(),t=g.exports.useMemo(function(){return new ea(e)},[e]),r=g.exports.useMemo(function(){return new Qn(e.getBackend())},[e]);return[t,r]}function ua(e,t,r){var n=ee(),a=g.exports.useMemo(function(){return{canDrop:function(){var o=e.current.canDrop;return o?o(t.getItem(),t):!0},hover:function(){var o=e.current.hover;o&&o(t.getItem(),t)},drop:function(){var o=e.current.drop;if(o)return o(t.getItem(),t)}}},[t]);P(function(){var o=In(e.current.accept,a,n),u=ta(o,2),s=u[0],c=u[1];return t.receiveHandlerId(s),r.receiveHandlerId(s),c},[t,r])}function sa(e,t){return da(e)||fa(e,t)||la(e,t)||ca()}function ca(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function la(e,t){if(!!e){if(typeof e=="string")return Qe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qe(e,t)}}function Qe(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function fa(e,t){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var r=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(r.push(u.value),!(t&&r.length===t));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return r}}function da(e){if(Array.isArray(e))return e}function ga(e){var t=g.exports.useRef(e);t.current=e,d(e.accept!=null,"accept must be defined");var r=oa(),n=sa(r,2),a=n[0],i=n[1];ua(t,a,i);var o=bt(a,t.current.collect||function(){return{}},function(){return i.reconnect()}),u=g.exports.useMemo(function(){return i.hooks.dropTarget()},[i]);return P(function(){i.dropTargetOptions=e.options||null,i.reconnect()},[e.options]),[o,u]}function Ot(e){var t=null,r=function(){return t==null&&(t=e()),t};return r}function va(e,t){return e.filter(function(r){return r!==t})}function ha(e,t){var r=new Set,n=function(o){return r.add(o)};e.forEach(n),t.forEach(n);var a=[];return r.forEach(function(i){return a.push(i)}),a}function pa(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Je(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ya(e,t,r){return t&&Je(e.prototype,t),r&&Je(e,r),e}var ma=function(){function e(t){pa(this,e),this.entered=[],this.isNodeInDocument=t}return ya(e,[{key:"enter",value:function(r){var n=this,a=this.entered.length,i=function(u){return n.isNodeInDocument(u)&&(!u.contains||u.contains(r))};return this.entered=ha(this.entered.filter(i),[r]),a===0&&this.entered.length>0}},{key:"leave",value:function(r){var n=this.entered.length;return this.entered=va(this.entered.filter(this.isNodeInDocument),r),n>0&&this.entered.length===0}},{key:"reset",value:function(){this.entered=[]}}]),e}(),St=Ot(function(){return/firefox/i.test(navigator.userAgent)}),Tt=Ot(function(){return Boolean(window.safari)});function ba(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ze(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Da(e,t,r){return t&&Ze(e.prototype,t),r&&Ze(e,r),e}var et=function(){function e(t,r){ba(this,e);for(var n=t.length,a=[],i=0;i<n;i++)a.push(i);a.sort(function($,kt){return t[$]<t[kt]?-1:1});for(var o=[],u=[],s,c,f=0;f<n-1;f++)s=t[f+1]-t[f],c=r[f+1]-r[f],o.push(s),u.push(c/s);for(var l=[u[0]],v=0;v<o.length-1;v++){var p=u[v],m=u[v+1];if(p*m<=0)l.push(0);else{s=o[v];var h=o[v+1],D=s+h;l.push(3*D/((D+h)/p+(D+s)/m))}}l.push(u[u.length-1]);for(var S=[],b=[],O,T=0;T<l.length-1;T++){O=u[T];var N=l[T],x=1/o[T],R=N+l[T+1]-O-O;S.push((O-N-R)*x),b.push(R*x*x)}this.xs=t,this.ys=r,this.c1s=l,this.c2s=S,this.c3s=b}return Da(e,[{key:"interpolate",value:function(r){var n=this.xs,a=this.ys,i=this.c1s,o=this.c2s,u=this.c3s,s=n.length-1;if(r===n[s])return a[s];for(var c=0,f=u.length-1,l;c<=f;){l=Math.floor(.5*(c+f));var v=n[l];if(v<r)c=l+1;else if(v>r)f=l-1;else return a[l]}s=Math.max(0,f);var p=r-n[s],m=p*p;return a[s]+i[s]*p+o[s]*m+u[s]*p*m}}]),e}(),Oa=1;function wt(e){var t=e.nodeType===Oa?e:e.parentElement;if(!t)return null;var r=t.getBoundingClientRect(),n=r.top,a=r.left;return{x:a,y:n}}function j(e){return{x:e.clientX,y:e.clientY}}function Sa(e){var t;return e.nodeName==="IMG"&&(St()||!(!((t=document.documentElement)===null||t===void 0)&&t.contains(e)))}function Ta(e,t,r,n){var a=e?t.width:r,i=e?t.height:n;return Tt()&&e&&(i/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:i}}function wa(e,t,r,n,a){var i=Sa(t),o=i?e:t,u=wt(o),s={x:r.x-u.x,y:r.y-u.y},c=e.offsetWidth,f=e.offsetHeight,l=n.anchorX,v=n.anchorY,p=Ta(i,t,c,f),m=p.dragPreviewWidth,h=p.dragPreviewHeight,D=function(){var R=new et([0,.5,1],[s.y,s.y/f*h,s.y+h-f]),$=R.interpolate(v);return Tt()&&i&&($+=(window.devicePixelRatio-1)*h),$},S=function(){var R=new et([0,.5,1],[s.x,s.x/c*m,s.x+m-c]);return R.interpolate(l)},b=a.offsetX,O=a.offsetY,T=b===0||b,N=O===0||O;return{x:T?b:S(),y:N?O:D()}}var It="__NATIVE_FILE__",Ct="__NATIVE_URL__",Et="__NATIVE_TEXT__",tt=Object.freeze(Object.defineProperty({__proto__:null,FILE:It,URL:Ct,TEXT:Et},Symbol.toStringTag,{value:"Module"}));function rt(e,t,r){var n=t.reduce(function(a,i){return a||e.getData(i)},"");return n!=null?n:r}var M;function oe(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var de=(M={},oe(M,It,{exposeProperties:{files:function(t){return Array.prototype.slice.call(t.files)},items:function(t){return t.items}},matchesTypes:["Files"]}),oe(M,Ct,{exposeProperties:{urls:function(t,r){return rt(t,r,"").split(`
`)}},matchesTypes:["Url","text/uri-list"]}),oe(M,Et,{exposeProperties:{text:function(t,r){return rt(t,r,"")}},matchesTypes:["Text","text/plain"]}),M);function Ia(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ca(e,t,r){return t&&nt(e.prototype,t),r&&nt(e,r),e}var Ea=function(){function e(t){Ia(this,e),this.config=t,this.item={},this.initializeExposedProperties()}return Ca(e,[{key:"initializeExposedProperties",value:function(){var r=this;Object.keys(this.config.exposeProperties).forEach(function(n){Object.defineProperty(r.item,n,{configurable:!0,enumerable:!0,get:function(){return console.warn(`Browser doesn't allow reading "`.concat(n,'" until the drop event.')),null}})})}},{key:"loadDataTransfer",value:function(r){var n=this;if(r){var a={};Object.keys(this.config.exposeProperties).forEach(function(i){a[i]={value:n.config.exposeProperties[i](r,n.config.matchesTypes),configurable:!0,enumerable:!0}}),Object.defineProperties(this.item,a)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(r,n){return n===r.getSourceId()}},{key:"endDrag",value:function(){}}]),e}();function ka(e,t){var r=new Ea(de[e]);return r.loadDataTransfer(t),r}function at(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(de).filter(function(r){var n=de[r].matchesTypes;return n.some(function(a){return t.indexOf(a)>-1})})[0]||null}function _a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function it(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Pa(e,t,r){return t&&it(e.prototype,t),r&&it(e,r),e}var Na=function(){function e(t){_a(this,e),this.globalContext=t}return Pa(e,[{key:"window",get:function(){if(this.globalContext)return this.globalContext;if(typeof window!="undefined")return window}},{key:"document",get:function(){if(this.window)return this.window.document}}]),e}();function ot(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function ut(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ot(Object(r),!0).forEach(function(n){xa(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xa(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ra(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function st(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Aa(e,t,r){return t&&st(e.prototype,t),r&&st(e,r),e}var Ma=function(){function e(t,r){var n=this;Ra(this,e),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(a){var i=n.sourceNodes.get(a);return i&&wt(i)||null},this.endDragNativeItem=function(){!n.isDraggingNativeItem()||(n.actions.endDrag(),n.currentNativeHandle&&n.registry.removeSource(n.currentNativeHandle),n.currentNativeHandle=null,n.currentNativeSource=null)},this.isNodeInDocument=function(a){return Boolean(a&&n.document&&n.document.body&&document.body.contains(a))},this.endDragIfSourceWasRemovedFromDOM=function(){var a=n.currentDragSourceNode;n.isNodeInDocument(a)||n.clearCurrentDragSourceNode()&&n.actions.endDrag()},this.handleTopDragStartCapture=function(){n.clearCurrentDragSourceNode(),n.dragStartSourceIds=[]},this.handleTopDragStart=function(a){if(!a.defaultPrevented){var i=n.dragStartSourceIds;n.dragStartSourceIds=null;var o=j(a);n.monitor.isDragging()&&n.actions.endDrag(),n.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:n.getSourceClientOffset,clientOffset:o});var u=a.dataTransfer,s=at(u);if(n.monitor.isDragging()){if(u&&typeof u.setDragImage=="function"){var c=n.monitor.getSourceId(),f=n.sourceNodes.get(c),l=n.sourcePreviewNodes.get(c)||f;if(l){var v=n.getCurrentSourcePreviewNodeOptions(),p=v.anchorX,m=v.anchorY,h=v.offsetX,D=v.offsetY,S={anchorX:p,anchorY:m},b={offsetX:h,offsetY:D},O=wa(f,l,o,S,b);u.setDragImage(l,O.x,O.y)}}try{u==null||u.setData("application/json",{})}catch{}n.setCurrentDragSourceNode(a.target);var T=n.getCurrentSourcePreviewNodeOptions(),N=T.captureDraggingState;N?n.actions.publishDragSource():setTimeout(function(){return n.actions.publishDragSource()},0)}else if(s)n.beginDragNativeItem(s);else{if(u&&!u.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}}},this.handleTopDragEndCapture=function(){n.clearCurrentDragSourceNode()&&n.actions.endDrag()},this.handleTopDragEnterCapture=function(a){n.dragEnterTargetIds=[];var i=n.enterLeaveCounter.enter(a.target);if(!(!i||n.monitor.isDragging())){var o=a.dataTransfer,u=at(o);u&&n.beginDragNativeItem(u,o)}},this.handleTopDragEnter=function(a){var i=n.dragEnterTargetIds;if(n.dragEnterTargetIds=[],!!n.monitor.isDragging()){n.altKeyPressed=a.altKey,St()||n.actions.hover(i,{clientOffset:j(a)});var o=i.some(function(u){return n.monitor.canDropOnTarget(u)});o&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=n.getCurrentDropEffect()))}},this.handleTopDragOverCapture=function(){n.dragOverTargetIds=[]},this.handleTopDragOver=function(a){var i=n.dragOverTargetIds;if(n.dragOverTargetIds=[],!n.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}n.altKeyPressed=a.altKey,n.actions.hover(i||[],{clientOffset:j(a)});var o=(i||[]).some(function(u){return n.monitor.canDropOnTarget(u)});o?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=n.getCurrentDropEffect())):n.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(a){n.isDraggingNativeItem()&&a.preventDefault();var i=n.enterLeaveCounter.leave(a.target);!i||n.isDraggingNativeItem()&&n.endDragNativeItem()},this.handleTopDropCapture=function(a){if(n.dropTargetIds=[],a.preventDefault(),n.isDraggingNativeItem()){var i;(i=n.currentNativeSource)===null||i===void 0||i.loadDataTransfer(a.dataTransfer)}n.enterLeaveCounter.reset()},this.handleTopDrop=function(a){var i=n.dropTargetIds;n.dropTargetIds=[],n.actions.hover(i,{clientOffset:j(a)}),n.actions.drop({dropEffect:n.getCurrentDropEffect()}),n.isDraggingNativeItem()?n.endDragNativeItem():n.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(a){var i=a.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(a.preventDefault(),i.dragDrop()))},this.options=new Na(r),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new ma(this.isNodeInDocument)}return Aa(e,[{key:"profile",value:function(){var r,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((r=this.dragStartSourceIds)===null||r===void 0?void 0:r.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}},{key:"setup",value:function(){if(this.window!==void 0){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){this.window!==void 0&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"connectDragPreview",value:function(r,n,a){var i=this;return this.sourcePreviewNodeOptions.set(r,a),this.sourcePreviewNodes.set(r,n),function(){i.sourcePreviewNodes.delete(r),i.sourcePreviewNodeOptions.delete(r)}}},{key:"connectDragSource",value:function(r,n,a){var i=this;this.sourceNodes.set(r,n),this.sourceNodeOptions.set(r,a);var o=function(c){return i.handleDragStart(c,r)},u=function(c){return i.handleSelectStart(c)};return n.setAttribute("draggable","true"),n.addEventListener("dragstart",o),n.addEventListener("selectstart",u),function(){i.sourceNodes.delete(r),i.sourceNodeOptions.delete(r),n.removeEventListener("dragstart",o),n.removeEventListener("selectstart",u),n.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(r,n){var a=this,i=function(c){return a.handleDragEnter(c,r)},o=function(c){return a.handleDragOver(c,r)},u=function(c){return a.handleDrop(c,r)};return n.addEventListener("dragenter",i),n.addEventListener("dragover",o),n.addEventListener("drop",u),function(){n.removeEventListener("dragenter",i),n.removeEventListener("dragover",o),n.removeEventListener("drop",u)}}},{key:"addEventListeners",value:function(r){!r.addEventListener||(r.addEventListener("dragstart",this.handleTopDragStart),r.addEventListener("dragstart",this.handleTopDragStartCapture,!0),r.addEventListener("dragend",this.handleTopDragEndCapture,!0),r.addEventListener("dragenter",this.handleTopDragEnter),r.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.addEventListener("dragover",this.handleTopDragOver),r.addEventListener("dragover",this.handleTopDragOverCapture,!0),r.addEventListener("drop",this.handleTopDrop),r.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(r){!r.removeEventListener||(r.removeEventListener("dragstart",this.handleTopDragStart),r.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),r.removeEventListener("dragend",this.handleTopDragEndCapture,!0),r.removeEventListener("dragenter",this.handleTopDragEnter),r.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),r.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),r.removeEventListener("dragover",this.handleTopDragOver),r.removeEventListener("dragover",this.handleTopDragOverCapture,!0),r.removeEventListener("drop",this.handleTopDrop),r.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var r=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(r);return ut({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var r=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(r);return ut({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}},{key:"isDraggingNativeItem",value:function(){var r=this.monitor.getItemType();return Object.keys(tt).some(function(n){return tt[n]===r})}},{key:"beginDragNativeItem",value:function(r,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=ka(r,n),this.currentNativeHandle=this.registry.addSource(r,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(r){var n=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=r;var a=1e3;this.mouseMoveTimeoutTimer=setTimeout(function(){return n.window&&n.window.addEventListener("mousemove",n.endDragIfSourceWasRemovedFromDOM,!0)},a)}},{key:"clearCurrentDragSourceNode",value:function(){return this.currentDragSourceNode?(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0):!1}},{key:"handleDragStart",value:function(r,n){r.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}},{key:"handleDragEnter",value:function(r,n){this.dragEnterTargetIds.unshift(n)}},{key:"handleDragOver",value:function(r,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}},{key:"handleDrop",value:function(r,n){this.dropTargetIds.unshift(n)}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}}]),e}(),$a=function(t,r){return new Ma(t,r)};const ct=e=>{const[{isDragging:t},r,n]=Vn({item:e.item,collect:a=>({isDragging:!!a.isDragging()})});return _("div",{id:e.item.id,ref:n,className:"card",style:{display:t&&e.hideSourceOnDrag?"none":"flex",opacity:t?.5:1,top:e.item.y,left:e.item.x},children:[y("div",{className:"flex justify-end p-3",children:y("div",{ref:r,id:`${e.item.id}-drag-handle`,className:"card-drag-handle"})}),e.children]})},A={CARD:"card",COLLECTION:"collection"};const ja=e=>{const[t,r]=g.exports.useState([]),n=g.exports.useCallback(async()=>{const a=await Rt();r(a)},[r]);return g.exports.useEffect(()=>{n(),At(n)},[n]),y("div",{className:"flex w-64 flex-col rounded items-center divide-y divide-gray-200 divide-opacity-50",children:t.map((a,i)=>{var u;const o=(u=a==null?void 0:a.state)!=null&&u.doc?a.text:"";return y("button",{className:"truncate w-full transition duration-250 ease-in-out bg-gradient-to-r hover:from-gray-100 hover:to-gray-200",onClick:()=>{e.handleNoteButtonClick(a)},children:a.title||o},i)})})};function La(){return y(yt,{backend:$a,children:y(Ha,{})})}const Ha=e=>{const[r,n]=g.exports.useState({x:0,y:0}),[a,i]=g.exports.useState({x:0,y:0}),o=[],[,u]=ga({accept:[A.CARD,A.COLLECTION],drop:(l,v)=>{const p=v.getDifferenceFromInitialOffset(),m=Math.round(l.x+p.x),h=Math.round(l.y+p.y);return l.type===A.CARD?c(l.id,m,h):i({x:m,y:h}),{x:m,y:h}}}),s=g.exports.useCallback((l,v)=>{A.CARD,be()},[]),c=g.exports.useCallback((l,v,p)=>{},[]),f=l=>{l==null||l.id,A.CARD};return _("div",{className:"canvas",ref:u,onMouseMove:l=>{n({x:l.nativeEvent.offsetX,y:l.nativeEvent.offsetY})},onDoubleClick:l=>{s(l.nativeEvent.offsetX,l.nativeEvent.offsetY)},children:[!1,y(ct,{item:{type:A.COLLECTION,id:be(),x:a.x,y:a.y},children:y(ja,{handleNoteButtonClick:f})}),Object.entries(o).map(([l,v],p)=>y(ct,{item:v,hideSourceOnDrag:!0,children:y(Mt,{id:v.id})},p))]})};function Ua(){const[e,t]=g.exports.useState(!1),[r,n]=g.exports.useState(""),[a,i]=g.exports.useState([]),{addItem:o}=g.exports.useContext($t),u=_t(),s=Pt(),c=f=>{jt(f).then(l=>i(l))};return _("div",{className:"relative shadow-sm",children:[_("div",{className:"h-10 w-72  rounded-full flex justify-between pl-6 items-center relative",children:[y("input",{placeholder:"Search",className:"w-3/4 h-full bg-transparent overflow-ellipsis",type:"text",value:r,onChange:f=>{const{value:l}=f.target;n(l),c(l)},onFocus:f=>t(!0),onBlur:f=>t(!1)}),y("button",{className:"h-10 w-10 rounded-full bg-black text-white flex justify-center items-center",children:y(Nt,{})})]}),r!==""&&a.length>0&&y("div",{className:"search-results rounded-b-lg overflow-hidden",children:a.map(f=>y(Fa,{onResultClick:()=>{n(""),o(f.item.id),s.pathname!==De.panelWorkspace&&u(De.panelWorkspace)},result:f},f.item.id))})]})}const Fa=({result:e,onResultClick:t})=>{const r=e.matches.some(a=>a.key==="title"),n=e.matches.some(a=>a.key==="text");return _("button",{className:"result bg-white text-left p-2",onClick:a=>{t==null||t()},children:[_("div",{className:"text-sm",children:[r&&e.matches.map((a,i)=>a.key==="title"?y(lt,{match:a},i):null),!r&&e.item.title]}),_("div",{className:"text-xs font-extralight",children:[n&&e.matches.map((a,i)=>a.key==="text"?y(lt,{match:a},i):null),!n&&e.item.text]})]})},lt=({match:e})=>{var n,a,i,o;const[[t,r]]=e.indices;return _(xt,{children:[(n=e.value)==null?void 0:n.substring(0,t),y("span",{className:"bg-yellow-300",children:(a=e.value)==null?void 0:a.substring(t,r)}),(o=e.value)==null?void 0:o.substring(r,(i=e.value)==null?void 0:i.length)]})};function Xa(){return _("div",{className:"min-h-screen",children:[y("div",{id:"top-bar",className:"flex flex-row-reverse p-8",children:y(Ua,{})}),y(La,{})]})}export{Xa as default};
