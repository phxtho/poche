var ae=Object.defineProperty,se=Object.defineProperties;var re=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,le=Object.prototype.propertyIsEnumerable;var P=(e,t,a)=>t in e?ae(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,b=(e,t)=>{for(var a in t||(t={}))oe.call(t,a)&&P(e,a,t[a]);if(D)for(var a of D(t))le.call(t,a)&&P(e,a,t[a]);return e},N=(e,t)=>se(e,re(t));import{L as ie,m as ce,I as de,n as ue,F as he,N as me,E as fe,a as ge,R as xe,b as pe,c as ve,i as we,d as F,e as be,j as ye,s as Ne,f as Ce,g as ke,h as Ee,k as Re,l as Se,o as Oe,p as Ie,q as Le,r as Fe,t as Te,u as Me,v as _e,w as Ae,x as Be,y as De,z as Pe,A as je,B as $e,C as i,D as He,M as We,G as qe,H as Ve,J as Ue,K as ze,O as Ke,P as Xe,T as Ye,Q as Je,U as Ge,S as Qe,V as Ze,W as n,X as et,Y as tt,Z as U,_ as nt,$ as M,a0 as at,a1 as y,a2 as j,a3 as c,a4 as st,a5 as $,a6 as rt,a7 as ot,a8 as O,a9 as lt,aa as it,ab as H,ac as _,ad as z,ae as K,af as ct,ag as dt,ah as ut,ai as ht,aj as mt,ak as ft,al as gt,am as xt,an as pt,ao as vt,ap as wt,aq as bt,ar as L,as as yt,at as Nt,au as Ct,av as kt,aw as Et,ax as Rt,ay as St,az as Ot,aA as It,aB as Lt,aC as Ft,aD as Tt,aE as Mt,aF as _t,aG as At,aH as Bt,aI as Dt,aJ as Pt,aK as I,aL as jt}from"./vendor.3d3dbd52.js";const $t=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}};$t();class Ht extends ie{constructor(t){super(t);this.addHandler("onClick",(a,r)=>(window.open(r.href),!0))}createInputRules(){return[ce({regexp:(()=>{try{return new RegExp("?<!!)[(.*?)]((.*?))")}catch{return/[^!]\[(.+?)\]\((.+?)\)/}})(),type:this.type,getAttributes:t=>{const[a,r,s]=t;return{text:r,href:s}}})]}createPasteRules(){return[]}}class Wt extends de{createInputRules(){return[ue({regexp:/!\[(.+?)\]\((.+?)\)/,type:this.type,getAttributes:t=>{const[a,r,s]=t;return{src:s,alt:r}}})]}}function qt(e,t){for(let a of t){let r=a(e);if(r!==!1)return r}return!1}function Vt(e,t){return he.from(t.text(e))}function Ut(e){var a;let t=e.querySelector("img.mwe-math-fallback-image-inline[alt]");return(a=t==null?void 0:t.getAttribute("alt"))!=null?a:!1}function zt(e){var a;let t=e.querySelector("math[alttext]");return(a=t==null?void 0:t.getAttribute("alttext"))!=null?a:!1}function Kt(e){var a;let t=e.querySelector("math annotation[encoding='application/x-tex'");return(a=t==null?void 0:t.textContent)!=null?a:!1}function Xt(e){return qt(e,[Ut,zt,Kt])}const Yt={tag:"span",getAttrs(e){return e.classList.contains("mwe-math-element")?null:!1},getContent(e,t){let r=Xt(e)||"\\text{\\color{red}(paste error)}";return Vt(r,t)}},Jt=[Yt];var Gt=Object.defineProperty,Qt=Object.getOwnPropertyDescriptor,X=(e,t,a,r)=>{for(var s=r>1?void 0:r?Qt(t,a):t,o=e.length-1,l;o>=0;o--)(l=e[o])&&(s=(r?l(t,a,s):l(s))||s);return r&&s&&Gt(t,a,s),s};let T=class extends me{get name(){return"math_inline"}createTags(){return[fe.InlineNode]}createNodeSpec(e,t){return N(b({group:"inline math",content:"text*",inline:!0,atom:!0},t),{attrs:b({},e.defaults()),parseDOM:[{tag:"math-inline"},...Jt],toDOM:()=>["math-inline",{class:"math-node"},0]})}createInputRules(){return[ge(xe,this.type)]}createExternalPlugins(){return[pe]}createKeymap(e){return{Backspace:ve(F(Ee),F(be),F(ye),F(Ne))}}insertMathInline(){return e=>(we(this.type),null)}};X([Ce()],T.prototype,"insertMathInline",1);T=X([ke({defaultOptions:{}})],T);const Zt=[Re,Se,Oe,Ie,Le,Fe,Te,Me,_e,Ae,Be,De,Pe,je,$e],en=i.exports.forwardRef((e,t)=>{var u;const a=i.exports.useCallback(({json:h,invalidContent:f,transformers:m})=>m.remove(h,f),[]),{manager:r,state:s,setState:o,getContext:l}=He({extensions:()=>[new We({}),new qe({}),new Ve,new Ue,new Ht({defaultTarget:"_blank",autoLink:!0}),new ze({}),new Ke({}),new Xe,new Ye,new Wt({enableResizing:!0}),new Je,new Ge,new T,new Qe({supportedLanguages:Zt,defaultLanguage:"typescript"}),new Ze],onError:a,content:(u=e.state)==null?void 0:u.doc});return i.exports.useImperativeHandle(t,()=>l(),[l]),n("div",{id:e.id,className:"remirror-theme",children:n(et,{manager:r,initialContent:s,onChange:h=>{var f;o(h.state),(f=e.onChange)==null||f.call(e,h)},onFocus:(h,f)=>{var m;(m=e.onFocus)==null||m.call(e,h,f)},onBlur:(h,f)=>{var m;(m=e.onBlur)==null||m.call(e,h,f)},children:n(tt,{})})})});U.plugin(nt);let E=new U("notes");const tn={type:"doc",content:[{type:"paragraph"}]};async function W(e){try{const t=e.id||e._id;return await E.upsert(t,r=>e)}catch(t){console.log(`ERROR: couldn't update 
${t}`)}}async function Y(e,t,a,r,s,o){try{let l={_id:e||M(),id:null,title:t||null,meta:a||{},state:r||tn,createdTime:s||Date.now(),lastEditedTime:o||Date.now()};return l.id=l._id,await E.putIfNotExists(l)}catch(l){console.log(`ERROR: couldn't create doc ${l}`)}}async function nn(e){try{const t=await E.get(e).then(r=>r._rev);return await E.remove(e,t)}catch(t){console.log(`ERROR: couldn't delete 
${t}`)}}async function A(){var e;try{let t=await E.allDocs({include_docs:!0});return(e=t==null?void 0:t.rows)==null?void 0:e.map(a=>a.doc)}catch(t){console.log(`ERROR fetching all notes 
${t}`)}}async function J(e){try{return await E.get(e)}catch(t){console.log(`ERROR fetching  ${e} 
${t}`)}}function G(e){E.changes({since:"now",live:!0}).on("change",()=>e())}async function an(e){return new at(await A(),{keys:["title","text"],includeMatches:!0,minMatchCharLength:2,includeScore:!0,threshold:.5,ignoreLocation:!0}).search(e)}let Q={items:[],addItem:()=>{},removeItem:()=>{},navOpen:!1,toggleNav:()=>{}};const sn=(e,t)=>e.filter(a=>a!==t),rn=(e,t)=>e.find(a=>a===t)?e:[...e,t],w=i.exports.createContext(Q);w.displayName="NotesContext";const on=e=>{const[t,a]=i.exports.useState(Q),r=i.exports.useCallback(l=>{const{items:u}=t;u.find(h=>h===l)||a(N(b({},t),{items:rn(u,l)}))},[t]),s=i.exports.useCallback(l=>{const{items:u}=t;a(N(b({},t),{items:sn(u,l)}))},[t]),o=i.exports.useCallback(()=>{a(N(b({},t),{navOpen:!t.navOpen}))},[t]);return n("div",{className:"App",children:n(w.Provider,{value:N(b({},t),{addItem:r,removeItem:s,toggleNav:o}),children:e.children})})},k=({children:e,className:t,onClick:a})=>n(y.button,{whileTap:{scale:.9},className:`h-12 w-full px-4 py-3 bg-gray-200 opacity-80 rounded-xl flex justify-between items-center hover:bg-gray-800 hover:text-white ${t}`,onClick:a,children:e});const Z=e=>{var s,o,l;j.setAppElement("#root");const{items:t,removeItem:a}=i.exports.useContext(w),r=(s=e.note)==null?void 0:s.id;return n(j,{isOpen:(o=e.isOpen)!=null?o:!1,onAfterClose:e.onAfterOpen,onRequestClose:e.onRequestClose,overlayClassName:"fixed inset-0 bg-[rgba(30,30,30,.5)]",className:"z-20 bg-gray-100 backdrop-blur-lg rounded-t-xl absolute w-full bottom-0 left-0 right-0 p-4 mx-auto max-w-2xl ",children:c("div",{children:[c("div",{className:"flex justify-between mb-6",children:[c("div",{className:"flex items-center space-x-1 text-xl",children:[n(st,{}),n("h2",{children:(l=e.note)==null?void 0:l.title})]}),n("button",{className:"rounded-full h-8 w-8 bg-gray-200 opacity-80 hover:bg-gray-800 hover:text-white  flex justify-center items-center",onClick:e.onRequestClose,children:n($,{})})]}),c("div",{className:"flex flex-col space-y-4 items-center",children:[e.children,t.find(u=>u===r)&&c(k,{onClick:()=>{a(r),e.onRequestClose()},children:[n("span",{children:"Close"})," ",n($,{})]}),c(k,{onClick:()=>{a(r),nn(r!=null?r:""),e.onRequestClose()},children:[n("span",{children:"Delete"})," ",n(rt,{})]})]})]})})},ln=e=>{const{getHTML:t,getMarkdown:a}=ot();return c(O,{children:[c(k,{onClick:()=>{var h;const o=`<!DOCTYPE html>
    <html>
    <head>
      <link href="https://cdn.jsdelivr.net/npm/base-css-theme@1.1.3/base.css" rel="stylesheet">
    </head>
    <body style="padding: 16px;">${t()}</body>
    </html>`;let l=`${e.note.title}.html`,u=new Blob([o],{type:"text/plain;charset=utf-8"});H.saveAs(u,l),(h=e.onRequestClose)==null||h.call(e)},children:[n("span",{children:"Export HTML"})," ",n(lt,{})]}),c(k,{onClick:()=>{var u;let o=`${e.note.title}.md`,l=new Blob([a()],{type:"text/plain;charset=utf-8"});H.saveAs(l,o),(u=e.onRequestClose)==null||u.call(e)},children:[n("span",{children:"Export Markdown"})," ",n(it,{})]})]})};const ee=e=>{const[t,a]=i.exports.useState(),[r,s]=i.exports.useState(!1),[o,l]=i.exports.useState(!1),u=i.exports.useRef(),h=i.exports.useRef(),f=_(),m=i.exports.useCallback(async()=>{if(e.id){let g=await J(e.id);g&&a(g)}},[e.id]);i.exports.useEffect(()=>{m()},[m]),i.exports.useEffect(()=>{if(f.hash){const g=f.hash.substring(1);e.id===g&&h.current&&h.current.scrollIntoView({behavior:"smooth"})}},[f.hash,e.id]);const d=i.exports.useCallback(g=>{const p=N(b({},t),{state:g.state.toJSON(),lastEditedTime:Date.now()});a(p)},[t]),x=i.exports.useCallback((g,p)=>{t.text=g.helpers.getText(),W(t),s(!1)},[t]),v=i.exports.useCallback((g,p)=>{var B;s(!0),(B=e.handleFocus)==null||B.call(e,u.current)},[e]);return t?c(O,{children:[n(z,{children:c(y.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},id:e.id,ref:h,className:"w-full md:w-3/4 lg:w-1/2 xl:w-1/3 hover:shadow-lg rounded-lg p-5 lg:mr-4 mb-4 editor-container",children:[c("div",{className:"flex justify-between",children:[n("textarea",{placeholder:"Title",defaultValue:t==null?void 0:t.title,className:"font-semibold text-4xl w-11/12",onChange:g=>{let p=g.target.value;p.replace(/\n/,""),t.title=p,W(t)},wrap:"soft"}),n("div",{className:"flex space-x-2",children:n(y.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:`h-4 w-4 rounded-full opacity-80 border hover:bg-gray-800 hover:border-gray-800 ${r?"border-gray-200 bg-gray-200":"border-gray-200"}`,onClick:()=>l(!0)})})]}),n(en,{id:t.id,state:t.state,onChange:d,onBlur:x,onFocus:v,ref:u})]})}),u.current&&n(K.Provider,{value:u.current,children:n(Z,{isOpen:o,note:t,onRequestClose:()=>{l(!1)},children:n(ln,{note:t,onRequestClose:()=>{l(!1)}})})})]}):null};function te(e){const{addItem:t}=i.exports.useContext(w),a=async()=>{let r=await Y();return t(r.id),r.id};return n(y.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:async()=>{var s;const r=await a();(s=e==null?void 0:e.handleClick)==null||s.call(e,r)},className:"bg-gray-200  text-black backdrop-blur-xl rounded-full h-16 w-16 fixed right-1 bottom-12 md:right-8 md:bottom-8 flex justify-center items-center shadow-md hover:pointer hover:opacity-100 hover:bg-green-500 hover:text-white",children:n(ct,{})})}const C=e=>e?"active":"",cn=()=>{const e=dt(),t=ut();return c("div",{className:"toolbar space-x-2",children:[n("button",{onClick:()=>{e.undo(),e.focus()},children:n(ht,{})}),n("button",{onClick:()=>{e.redo(),e.focus()},children:n(mt,{})}),n("button",{className:C(t.bold()),onClick:()=>{e.toggleBold(),e.focus()},children:n(ft,{})}),n("button",{className:C(t.italic()),onClick:()=>{e.toggleItalic(),e.focus()},children:n(gt,{})}),n("button",{className:C(t.underline()),onClick:()=>{e.toggleUnderline(),e.focus()},children:n(xt,{})}),n("button",{className:C(t.code()),onClick:()=>{e.toggleCode(),e.focus()},children:n(pt,{})}),n("button",{className:C(t.blockquote()),onClick:()=>{e.toggleBlockquote(),e.focus()},children:n(vt,{})}),n("button",{className:C(t.bulletList()),onClick:()=>{e.toggleBulletList(),e.focus()},children:n(wt,{})}),n("button",{className:C(t.taskList()),onClick:()=>{e.toggleTaskList(),e.focus()},children:n(bt,{})})]})};function dn(){const{items:e,addItem:t}=i.exports.useContext(w),[a,r]=i.exports.useState();L();const s=_();return i.exports.useEffect(()=>{if(s.hash){const o=s.hash.substring(1);o&&!e.includes(o)&&J(o).then(l=>{l&&t(o)})}},[s.hash]),c(O,{children:[e.length>0&&n("div",{className:"editor-list",children:e.map(o=>n(ee,{id:o,handleFocus:l=>r(l)},o))}),e.length===0&&c("div",{className:"absolute mx-auto top-1/2 w-full text-center text-gray-300",children:[n(yt,{className:"h-10 w-10 mx-auto"}),n("h1",{children:"Workspace Empty"})]}),a&&n(K.Provider,{value:a,children:n(cn,{})}),n(te,{})]})}function un(){const[e,t]=i.exports.useState([]),[a,r]=i.exports.useState(!1),[s,o]=i.exports.useState(),l=L(),{items:u,addItem:h}=i.exports.useContext(w),f=i.exports.useCallback(async()=>{const d=await A();t(d)},[t]),m=d=>{o(d),r(!0)};return i.exports.useEffect(()=>(f(),G(f),()=>{t([])}),[f]),c(O,{children:[c("div",{className:"p-5 md:px-14 lg:px-36",children:[c("table",{className:"rounded-lg divide-y divide-gray-200 note-list shadow-md",children:[n("thead",{children:c("tr",{children:[n("th",{className:"w-11/12 lg:w-9/12",children:"Note"}),n("th",{className:"hidden lg:block w-2/12",children:"Edited"}),n("th",{className:"w-1/12"})]})}),n("tbody",{children:e.sort((d,x)=>d.lastEditedTime<x.lastEditedTime?1:-1).map((d,x)=>c("tr",{id:`row-${d.id}`,children:[n("td",{children:n("button",{className:"truncate w-full transition duration-250 ease-in-out bg-gradient-to-r hover:from-gray-100 hover:to-gray-200",onClick:()=>{h(d.id),l(`${S.panelWorkspace}#${d.id}`)},children:c("div",{className:"flex flex-col text-left",children:[c("div",{className:"font-medium flex space-x-1",children:[n("span",{children:d.title||"No Title"}),n("span",{className:`rounded-full h-2 w-2 bg-green-500 ${u.find(v=>v==d.id)?"inline":"hidden"} `})]}),n("span",{className:"text-sm text-gray-500 font-light",children:d.text||"empty"})]})})}),n("td",{className:"hidden lg:block",children:new Date(d.lastEditedTime).toLocaleString(navigator.language,{year:"numeric",month:"long",day:"numeric"})}),n("td",{children:n("button",{onClick:()=>m(d),children:n(Nt,{})})})]},x))})]}),n(te,{handleClick:d=>l(`${S.panelWorkspace}#${d}`)})]}),n(Z,{isOpen:a,note:s,onRequestClose:()=>{o(null),r(!1)}})]})}const hn=()=>{const e=L();return c("div",{className:"flex space-x-4",children:[n(y.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"rounded-full h-8 w-8 bg-gray-200 hover:opacity-80 hover:bg-gray-800 hover:text-white  flex justify-center items-center",onClick:()=>e(-1),children:n(Ct,{})}),n(y.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"rounded-full h-8 w-8 bg-gray-200 hover:opacity-80 hover:bg-gray-800 hover:text-white  flex justify-center items-center",onClick:()=>e(1),children:n(kt,{})})]})},mn=()=>{const{toggleNav:e}=i.exports.useContext(w);return n(y.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"rounded-full h-8 w-8 bg-white opacity-80 hover:bg-gray-800 hover:text-white  flex justify-center items-center",onClick:e,children:n(Et,{})})},fn=()=>{const e=L(),{navOpen:t}=i.exports.useContext(w);return n(z,{children:t&&c(y.div,{initial:{scale:0,left:-50},animate:{scale:1,left:0},exit:{scale:0,left:-50},className:`h-fit bg-gray-200 backdrop-blur-lg rounded-r-xl shadow-lg flex flex-col space-y-2 items-center py-5 px-1  shrink-0 fixed bottom-0 top-0 left-0 my-auto 
      lg:w-32`,children:[c(k,{onClick:()=>e(S.home),children:[n(Rt,{})," ",n("span",{className:"hidden lg:block",children:"Home"})]}),c(k,{children:[n(St,{})," ",n("span",{className:"hidden lg:block",children:"Search"})]}),c(k,{onClick:()=>e(S.settings),children:[n(Ot,{})," ",n("span",{className:"hidden lg:block",children:"Settings"})]})]})})},gn=e=>c("div",{className:"min-h-screen max-w-full h-full",children:[c("div",{className:"w-full flex justify-between items-center mb-2 py-2 px-3",children:[n(mn,{}),n("div",{children:n(hn,{})})]}),c("div",{className:"flex flex-row-reverse",children:[n("div",{className:"w-full overflow-scroll",children:n(It,{})}),n(fn,{})]})]}),xn=5e5,pn=({onUpload:e,maxFileSize:t=xn,multiple:a=!1,accept:r="*"})=>{const s=i.exports.useRef(null);return c("section",{children:[c("button",{type:"button",className:"flex space-x-2 items-center bg-black text-white px-5 py-2 rounded-3xl",onClick:o=>s.current.click(),children:[n(Lt,{}),c("span",{children:[" Upload ",a?"files":"a file"]})]}),n("input",{type:"file",ref:s,title:"",value:"",accept:r,className:"hidden",onChange:o=>{const{files:l}=o.target;l.length&&(e==null||e(l))}})]})};function vn(e){const t=new FileReader;for(let a=0;a<e.length;a++){const r=e[a];t.onload=s=>{const o=s.target.result,u=new Ft.Renderer().render(o),h=r.name.replace(".html","");Y(null,h,null,{doc:u,selection:null})},r.type==="text/html"&&t.readAsText(r)}}const wn=()=>n(O,{children:c("div",{className:"p-5",children:[n("h1",{children:"Import HTML"}),n(pn,{accept:".html",onUpload:e=>vn(e)})]})});const q=e=>{const[{isDragging:t},a,r]=Tt({item:e.item,collect:s=>({isDragging:!!s.isDragging()})});return c("div",{id:e.item.id,ref:r,className:"card",style:{display:t&&e.hideSourceOnDrag?"none":"flex",opacity:t?.5:1,top:e.item.y,left:e.item.x},children:[n("div",{className:"flex justify-end p-3",children:n("div",{ref:a,id:`${e.item.id}-drag-handle`,className:"card-drag-handle"})}),e.children]})},R={CARD:"card",COLLECTION:"collection"};const bn=e=>{const[t,a]=i.exports.useState([]),r=i.exports.useCallback(async()=>{const s=await A();a(s)},[a]);return i.exports.useEffect(()=>{r(),G(r)},[r]),n("div",{className:"flex w-64 flex-col rounded items-center divide-y divide-gray-200 divide-opacity-50",children:t.map((s,o)=>{var u;const l=(u=s==null?void 0:s.state)!=null&&u.doc?s.text:"";return n("button",{className:"truncate w-full transition duration-250 ease-in-out bg-gradient-to-r hover:from-gray-100 hover:to-gray-200",onClick:()=>{e.handleNoteButtonClick(s)},children:s.title||l},o)})})};function yn(){return n(Mt,{backend:_t,children:n(Nn,{})})}const Nn=e=>{const[a,r]=i.exports.useState({x:0,y:0}),[s,o]=i.exports.useState({x:0,y:0}),l=[],[,u]=At({accept:[R.CARD,R.COLLECTION],drop:(d,x)=>{const v=x.getDifferenceFromInitialOffset(),g=Math.round(d.x+v.x),p=Math.round(d.y+v.y);return d.type===R.CARD?f(d.id,g,p):o({x:g,y:p}),{x:g,y:p}}}),h=i.exports.useCallback((d,x)=>{R.CARD,M()},[]),f=i.exports.useCallback((d,x,v)=>{},[]),m=d=>{d==null||d.id,R.CARD};return c("div",{className:"canvas",ref:u,onMouseMove:d=>{r({x:d.nativeEvent.offsetX,y:d.nativeEvent.offsetY})},onDoubleClick:d=>{h(d.nativeEvent.offsetX,d.nativeEvent.offsetY)},children:[!1,n(q,{item:{type:R.COLLECTION,id:M(),x:s.x,y:s.y},children:n(bn,{handleNoteButtonClick:m})}),Object.entries(l).map(([d,x],v)=>n(q,{item:x,hideSourceOnDrag:!0,children:n(ee,{id:x.id})},v))]})};function Cn(){const[e,t]=i.exports.useState(!1),[a,r]=i.exports.useState(""),[s,o]=i.exports.useState([]),{addItem:l}=i.exports.useContext(w),u=L(),h=_(),f=m=>{an(m).then(d=>o(d))};return c("div",{className:"relative shadow-sm",children:[c("div",{className:"h-10 w-72  rounded-full flex justify-between pl-6 items-center relative",children:[n("input",{placeholder:"Search",className:"w-3/4 h-full bg-transparent overflow-ellipsis",type:"text",value:a,onChange:m=>{const{value:d}=m.target;r(d),f(d)},onFocus:m=>t(!0),onBlur:m=>t(!1)}),n("button",{className:"h-10 w-10 rounded-full bg-black text-white flex justify-center items-center",children:n(Bt,{})})]}),a!==""&&s.length>0&&n("div",{className:"search-results rounded-b-lg overflow-hidden",children:s.map(m=>n(kn,{onResultClick:()=>{r(""),l(m.item.id),h.pathname!==S.panelWorkspace&&u(S.panelWorkspace)},result:m},m.item.id))})]})}const kn=({result:e,onResultClick:t})=>{const a=e.matches.some(s=>s.key==="title"),r=e.matches.some(s=>s.key==="text");return c("button",{className:"result bg-white text-left p-2",onClick:s=>{t==null||t()},children:[c("div",{className:"text-sm",children:[a&&e.matches.map((s,o)=>s.key==="title"?n(V,{match:s},o):null),!a&&e.item.title]}),c("div",{className:"text-xs font-extralight",children:[r&&e.matches.map((s,o)=>s.key==="text"?n(V,{match:s},o):null),!r&&e.item.text]})]})},V=({match:e})=>{var r,s,o,l;const[[t,a]]=e.indices;return c(O,{children:[(r=e.value)==null?void 0:r.substring(0,t),n("span",{className:"bg-yellow-300",children:(s=e.value)==null?void 0:s.substring(t,a)}),(l=e.value)==null?void 0:l.substring(a,(o=e.value)==null?void 0:o.length)]})};function En(){return c("div",{className:"min-h-screen",children:[n("div",{id:"top-bar",className:"flex flex-row-reverse p-8",children:n(Cn,{})}),n(yn,{})]})}function Rn(e){return n(Dt,{basename:"/poche",children:n(i.exports.Suspense,{fallback:n("div",{children:"Loading..."}),children:n(Pt,{children:c(I,{path:"/",element:n(gn,{}),children:[n(I,{index:!0,element:n(un,{})}),n(I,{path:"canvas",element:n(En,{})}),n(I,{path:"panel",element:n(dn,{})}),n(I,{path:"settings",element:n(wn,{})})]})})})})}const S={home:"/",settings:"/settings",panelWorkspace:"/panel"};function Sn(){return n(on,{children:n(Rn,{})})}const On=Boolean(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function In(e){if("serviceWorker"in navigator){if(new URL("/poche/",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const a="/poche//service-worker.js";On?(Ln(a,e),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):ne(a,e)})}}function ne(e,t){navigator.serviceWorker.register(e).then(a=>{a.onupdatefound=()=>{const r=a.installing;r!=null&&(r.onstatechange=()=>{r.state==="installed"&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),t&&t.onUpdate&&t.onUpdate(a)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(a)))})}}).catch(a=>{console.error("Error during service worker registration:",a)})}function Ln(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then(a=>{const r=a.headers.get("content-type");a.status===404||r!=null&&r.indexOf("javascript")===-1?navigator.serviceWorker.ready.then(s=>{s.unregister().then(()=>{window.location.reload()})}):ne(e,t)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}jt.render(n(i.exports.StrictMode,{children:n(Sn,{})}),document.getElementById("root"));In();
