var D=Object.defineProperty,O=Object.defineProperties;var x=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var f=Object.prototype.hasOwnProperty,k=Object.prototype.propertyIsEnumerable;var m=(t,e,r)=>e in t?D(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,c=(t,e)=>{for(var r in e||(e={}))f.call(e,r)&&m(t,r,e[r]);if(N)for(var r of N(e))k.call(e,r)&&m(t,r,e[r]);return t},h=(t,e)=>O(t,x(e));import{r as p,j as u,a as l,F as v,i as y,b}from"./index.ec0d35df.js";const _=5e5,C=({onUpload:t,maxFileSize:e=_,multiple:r=!1,accept:n="*"})=>{const d=p.exports.useRef(null);return u("section",{children:[u("button",{type:"button",className:"flex space-x-2 items-center bg-black text-white px-5 py-2 rounded-3xl",onClick:o=>d.current.click(),children:[l(v,{}),u("span",{children:[" Upload ",r?"files":"a file"]})]}),l("input",{type:"file",ref:d,title:"",value:"",accept:n,className:"hidden",onChange:o=>{const{files:s}=o.target;s.length&&(t==null||t(s))}})]})};class I{constructor(e){this.wrapper=null,this.type="node",this.DOMNode=e}matching(){return!1}data(){return{}}}var a=I;const T=a;class $ extends T{matching(){return this.DOMNode.nodeName==="UL"}data(){return{type:"bulletList"}}}var B=$;const L=a;class R extends L{matching(){return this.DOMNode.nodeName==="CODE"&&this.DOMNode.parentNode.nodeName==="PRE"}getLanguage(){const e=this.DOMNode.getAttribute("class");return e&&e.replace(/^language-/,"")}data(){const e=this.getLanguage();return e?{type:"codeBlock",attrs:{language:e}}:{type:"codeBlock"}}}var S=R;const E=a;class A extends E{matching(){return this.DOMNode.nodeName==="PRE"}data(){return null}}var w=A;const H=a;class F extends H{matching(){return this.DOMNode.nodeName==="BR"}data(){return{type:"hardBreak"}}}var P=F;const U=a;class K extends U{getLevel(){const e=this.DOMNode.nodeName.match(/^H([1-6])/);return e?e[1]:null}matching(){return Boolean(this.getLevel())}data(){return{type:"heading",attrs:{level:this.getLevel()}}}}var W=K;const j=a;class q extends j{matching(){return this.DOMNode.nodeName==="IMG"}data(){return{type:"image",attrs:{src:this.DOMNode.getAttribute("src"),class:this.DOMNode.getAttribute("class")||void 0,alt:this.DOMNode.getAttribute("alt")||void 0,title:this.DOMNode.getAttribute("title")||void 0,urlsrc:this.DOMNode.getAttribute("src")}}}}var z=q;const G=a;class V extends G{constructor(...e){super(...e),this.wrapper={type:"paragraph"}}matching(){return this.DOMNode.nodeName==="LI"}data(){return this.DOMNode.childNodes.length===1&&this.DOMNode.childNodes[0].nodeName==="P"&&(this.wrapper=null),{type:"listItem"}}}var Y=V;const J=a;class Q extends J{matching(){return this.DOMNode.nodeName==="OL"}data(){return{type:"orderedList",attrs:{order:1}}}}var X=Q;const Z=a;class ee extends Z{matching(){return this.DOMNode.nodeName==="P"}data(){return{type:"paragraph"}}}var te=ee;const re=a;class ae extends re{matching(){return this.DOMNode.nodeName==="#text"}data(){const e=this.DOMNode.nodeValue.replace(/^[\n]+/g,"");return e?{type:"text",text:e}:null}}var ne=ae;const se=a;class de extends se{matching(){return this.DOMNode.nodeName==="SPAN"}data(){return null}}var oe=de;const ie=a;class ce extends ie{matching(){return["DIV","ARTICLE","MAIN","SECTION","FOOTER","ADDRESS","FIGURE","FIGCAPTION","CITE"].includes(this.DOMNode.nodeName)}data(){return null}}var le=ce;const he=a;class ue extends he{matching(){return this.DOMNode.nodeName==="BLOCKQUOTE"}data(){return{type:"blockquote"}}}var Ne=ue;const me=a;class pe extends me{matching(){return this.DOMNode.nodeName==="HR"}data(){return{type:"horizontalRule"}}}var ge=pe;const Me=a;class De extends Me{matching(){return this.DOMNode.nodeName==="TBODY"}data(){return{type:"table"}}}var Oe=De;const xe=a;class fe extends xe{matching(){return this.DOMNode.nodeName==="TD"}data(){let e={};const r=this.DOMNode.getAttribute("colspan");r&&(e.colspan=parseInt(r));const n=this.DOMNode.getAttribute("rowspan");return n&&(e.rowspan=parseInt(n)),{type:"tableCell",attrs:c({},e)}}}var ke=fe;const ve=a;class ye extends ve{matching(){return this.DOMNode.nodeName==="TH"}data(){return{type:"tableHeader"}}}var be=ye;const _e=a;class Ce extends _e{matching(){return this.DOMNode.nodeName==="TR"}data(){return{type:"tableRow"}}}var Ie=Ce;const Te=a;class $e extends Te{matching(){return this.DOMNode.nodeName==="TABLE"}data(){return null}}var Be=$e;const Le=a;class Re extends Le{matching(){return this.DOMNode.nodeName==="KI"}data(){return{type:"math_inline",content:[{type:"text",text:this.DOMNode.getAttribute("src")}]}}}var Se=Re;class Ee{constructor(e){this.type="mark",this.DOMNode=e}matching(){return!1}data(){return{}}}var i=Ee;const Ae=i;class we extends Ae{matching(){return this.DOMNode.nodeName==="STRONG"||this.DOMNode.nodeName==="B"}data(){return{type:"bold"}}}var He=we;const Fe=i;class Pe extends Fe{matching(){return this.DOMNode.parentNode.nodeName==="PRE"?!1:this.DOMNode.nodeName==="CODE"}data(){return{type:"code"}}}var Ue=Pe;const Ke=i;class We extends Ke{matching(){return this.DOMNode.nodeName==="EM"||this.DOMNode.nodeName==="I"}data(){return{type:"italic"}}}var je=We;const qe=i;class ze extends qe{matching(){return this.DOMNode.nodeName==="A"}data(){return{type:"link",attrs:{href:this.DOMNode.getAttribute("href")}}}}var Ge=ze;const Ve=i;class Ye extends Ve{matching(){return this.DOMNode.nodeName==="STRIKE"||this.DOMNode.nodeName==="S"||this.DOMNode.nodeName==="DEL"}data(){return{type:"strike"}}}var Je=Ye;const Qe=i;class Xe extends Qe{matching(){return this.DOMNode.nodeName==="SUB"}data(){return{type:"subscript"}}}var Ze=Xe;const et=i;class tt extends et{matching(){return this.DOMNode.nodeName==="SUP"}data(){return{type:"superscript"}}}var rt=tt;const at=i;class nt extends at{matching(){return this.DOMNode.nodeName==="U"}data(){return{type:"underline"}}}var st=nt;class dt{constructor(){this.document=void 0,this.storedMarks=[],this.nodes=[B,S,w,P,W,z,Y,X,te,ne,oe,le,Ne,ge,Oe,ke,be,Ie,Be,Se],this.marks=[He,Ue,je,Ge,Je,Ze,rt,st]}setDocument(e){this.document=new DOMParser().parseFromString(e,"text/html")}getDocumentBody(){return this.document.querySelector("body")}render(e){this.setDocument(e);const r=this.renderChildren(this.getDocumentBody());return{type:"doc",content:r}}renderChildren(e){let r=[];return e.childNodes.forEach(n=>{const d=this.getMatchingNode(n);if(d){let s=d.data();if(!s){n.hasChildNodes()&&r.push(...this.renderChildren(n));return}n.hasChildNodes()&&(s=h(c({},s),{content:this.renderChildren(n)})),this.storedMarks.length&&(s=h(c({},s),{attrs:this.storedMarks}),this.storedMarks=[]),d.wrapper&&(s.content=[h(c({},d.wrapper),{content:s.content||[]})]),r.push(s)}let o=this.getMatchingMark(n);o&&(this.storedMarks.push(o.data()),n.hasChildNodes()&&r.push(...this.renderChildren(n)))}),r}getMatchingNode(e){return this.getMatchingClass(e,this.nodes)}getMatchingMark(e){return this.getMatchingClass(e,this.marks)}getMatchingClass(e,r){for(let n in r){const d=r[n],o=new d(e);if(o.matching())return o}return!1}addNode(e){this.nodes.push(e)}addNodes(e){for(const r in e)this.addNode(e[r])}addMark(e){this.marks.push(e)}addMarks(e){for(const r in e)this.addMark(e[r])}}var ot=dt,it={Renderer:ot,Node:a,Mark:i};function ct(t){const e=new FileReader;for(let r=0;r<t.length;r++){const n=t[r];e.onload=d=>{const o=d.target.result,g=new it.Renderer().render(o),M=n.name.replace(".html","");y(null,M,null,{doc:g,selection:null})},n.type==="text/html"&&e.readAsText(n)}}const ut=()=>(p.exports.useState(!1),l(b,{children:u("div",{className:"p-5",children:[l("h1",{children:"Import HTML"}),l(C,{accept:".html",onUpload:t=>ct(t)})]})}));export{ut as default};
