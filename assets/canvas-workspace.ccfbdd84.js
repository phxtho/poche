import{r as g,j as E,a as y,g as St,o as Tt,v as fe,E as wt,N as It,u as Ct,c as Et,V as kt,p as de,s as _t,b as Pt}from"./index.ec0d35df.js";var C;(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(C||(C={}));function w(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ge=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),K=function(){return Math.random().toString(36).substring(7).split("").join(".")},he={INIT:"@@redux/INIT"+K(),REPLACE:"@@redux/REPLACE"+K(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+K()}};function xt(e){if(typeof e!="object"||e===null)return!1;for(var r=e;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}function nt(e,r,t){var n;if(typeof r=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(w(0));if(typeof r=="function"&&typeof t=="undefined"&&(t=r,r=void 0),typeof t!="undefined"){if(typeof t!="function")throw new Error(w(1));return t(nt)(e,r)}if(typeof e!="function")throw new Error(w(2));var a=e,i=r,o=[],u=o,s=!1;function c(){u===o&&(u=o.slice())}function f(){if(s)throw new Error(w(3));return i}function l(v){if(typeof v!="function")throw new Error(w(4));if(s)throw new Error(w(5));var D=!0;return c(),u.push(v),function(){if(!!D){if(s)throw new Error(w(6));D=!1,c();var b=u.indexOf(v);u.splice(b,1),o=null}}}function h(v){if(!xt(v))throw new Error(w(7));if(typeof v.type=="undefined")throw new Error(w(8));if(s)throw new Error(w(9));try{s=!0,i=a(i,v)}finally{s=!1}for(var D=o=u,S=0;S<D.length;S++){var b=D[S];b()}return v}function p(v){if(typeof v!="function")throw new Error(w(10));a=v,h({type:he.REPLACE})}function m(){var v,D=l;return v={subscribe:function(b){if(typeof b!="object"||b===null)throw new Error(w(11));function O(){b.next&&b.next(f())}O();var T=D(O);return{unsubscribe:T}}},v[ge]=function(){return this},v}return h({type:he.INIT}),n={dispatch:h,subscribe:l,getState:f,replaceReducer:p},n[ge]=m,n}function d(e,r){for(var t=arguments.length,n=new Array(t>2?t-2:0),a=2;a<t;a++)n[a-2]=arguments[a];if(!e){var i;if(r===void 0)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;i=new Error(r.replace(/%s/g,function(){return n[o++]})),i.name="Invariant Violation"}throw i.framesToPop=1,i}}var ie="dnd-core/INIT_COORDS",q="dnd-core/BEGIN_DRAG",oe="dnd-core/PUBLISH_DRAG_SOURCE",B="dnd-core/HOVER",G="dnd-core/DROP",X="dnd-core/END_DRAG";function ve(e,r){return{type:ie,payload:{sourceClientOffset:r||null,clientOffset:e||null}}}function $(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$=function(t){return typeof t}:$=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$(e)}function Nt(e,r,t){return r.split(".").reduce(function(n,a){return n&&n[a]?n[a]:t||null},e)}function Rt(e,r){return e.filter(function(t){return t!==r})}function at(e){return $(e)==="object"}function At(e,r){var t=new Map,n=function(o){t.set(o,t.has(o)?t.get(o)+1:1)};e.forEach(n),r.forEach(n);var a=[];return t.forEach(function(i,o){i===1&&a.push(o)}),a}function Mt(e,r){return e.filter(function(t){return r.indexOf(t)>-1})}var $t={type:ie,payload:{clientOffset:null,sourceClientOffset:null}};function jt(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{publishSource:!0},a=n.publishSource,i=a===void 0?!0:a,o=n.clientOffset,u=n.getSourceClientOffset,s=e.getMonitor(),c=e.getRegistry();e.dispatch(ve(o)),Lt(t,s,c);var f=Ft(t,s);if(f===null){e.dispatch($t);return}var l=null;if(o){if(!u)throw new Error("getSourceClientOffset must be defined");Ht(u),l=u(f)}e.dispatch(ve(o,l));var h=c.getSource(f),p=h.beginDrag(s,f);Ut(p),c.pinSource(f);var m=c.getSourceType(f);return{type:q,payload:{itemType:m,item:p,sourceId:f,clientOffset:o||null,sourceClientOffset:l||null,isSourcePublic:!!i}}}}function Lt(e,r,t){d(!r.isDragging(),"Cannot call beginDrag while dragging."),e.forEach(function(n){d(t.getSource(n),"Expected sourceIds to be registered.")})}function Ht(e){d(typeof e=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function Ut(e){d(at(e),"Item must be an object.")}function Ft(e,r){for(var t=null,n=e.length-1;n>=0;n--)if(r.canDragSource(e[n])){t=e[n];break}return t}function Wt(e){return function(){var t=e.getMonitor();if(t.isDragging())return{type:oe}}}function te(e,r){return r===null?e===null:Array.isArray(e)?e.some(function(t){return t===r}):e===r}function qt(e){return function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.clientOffset;Bt(t);var i=t.slice(0),o=e.getMonitor(),u=e.getRegistry();Gt(i,o,u);var s=o.getItemType();return Xt(i,u,s),Vt(i,o,u),{type:B,payload:{targetIds:i,clientOffset:a||null}}}}function Bt(e){d(Array.isArray(e),"Expected targetIds to be an array.")}function Gt(e,r,t){d(r.isDragging(),"Cannot call hover while not dragging."),d(!r.didDrop(),"Cannot call hover after drop.");for(var n=0;n<e.length;n++){var a=e[n];d(e.lastIndexOf(a)===n,"Expected targetIds to be unique in the passed array.");var i=t.getTarget(a);d(i,"Expected targetIds to be registered.")}}function Xt(e,r,t){for(var n=e.length-1;n>=0;n--){var a=e[n],i=r.getTargetType(a);te(i,t)||e.splice(n,1)}}function Vt(e,r,t){e.forEach(function(n){var a=t.getTarget(n);a.hover(r,n)})}function pe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function ye(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?pe(Object(t),!0).forEach(function(n){Yt(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):pe(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Yt(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Kt(e){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.getMonitor(),a=e.getRegistry();zt(n);var i=Zt(n);i.forEach(function(o,u){var s=Qt(o,u,a,n),c={type:G,payload:{dropResult:ye(ye({},t),s)}};e.dispatch(c)})}}function zt(e){d(e.isDragging(),"Cannot call drop while not dragging."),d(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function Qt(e,r,t,n){var a=t.getTarget(e),i=a?a.drop(n,e):void 0;return Jt(i),typeof i=="undefined"&&(i=r===0?{}:n.getDropResult()),i}function Jt(e){d(typeof e=="undefined"||at(e),"Drop result must either be an object or undefined.")}function Zt(e){var r=e.getTargetIds().filter(e.canDropOnTarget,e);return r.reverse(),r}function er(e){return function(){var t=e.getMonitor(),n=e.getRegistry();tr(t);var a=t.getSourceId();if(a!=null){var i=n.getSource(a,!0);i.endDrag(t,a),n.unpinSource()}return{type:X}}}function tr(e){d(e.isDragging(),"Cannot call endDrag while not dragging.")}function rr(e){return{beginDrag:jt(e),publishDragSource:Wt(e),hover:qt(e),drop:Kt(e),endDrag:er(e)}}var nr=function(r,t){return r===t};function ar(e,r){return!e&&!r?!0:!e||!r?!1:e.x===r.x&&e.y===r.y}function ir(e,r){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:nr;if(e.length!==r.length)return!1;for(var n=0;n<e.length;++n)if(!t(e[n],r[n]))return!1;return!0}function me(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function be(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?me(Object(t),!0).forEach(function(n){or(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):me(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function or(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var De={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function ur(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:De,r=arguments.length>1?arguments[1]:void 0,t=r.payload;switch(r.type){case ie:case q:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case B:return ar(e.clientOffset,t.clientOffset)?e:be(be({},e),{},{clientOffset:t.clientOffset});case X:case G:return De;default:return e}}var ue="dnd-core/ADD_SOURCE",se="dnd-core/ADD_TARGET",ce="dnd-core/REMOVE_SOURCE",V="dnd-core/REMOVE_TARGET";function sr(e){return{type:ue,payload:{sourceId:e}}}function cr(e){return{type:se,payload:{targetId:e}}}function lr(e){return{type:ce,payload:{sourceId:e}}}function fr(e){return{type:V,payload:{targetId:e}}}function Oe(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function I(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Oe(Object(t),!0).forEach(function(n){dr(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Oe(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function dr(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var gr={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function hr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:gr,r=arguments.length>1?arguments[1]:void 0,t=r.payload;switch(r.type){case q:return I(I({},e),{},{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case oe:return I(I({},e),{},{isSourcePublic:!0});case B:return I(I({},e),{},{targetIds:t.targetIds});case V:return e.targetIds.indexOf(t.targetId)===-1?e:I(I({},e),{},{targetIds:Rt(e.targetIds,t.targetId)});case G:return I(I({},e),{},{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case X:return I(I({},e),{},{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function vr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,r=arguments.length>1?arguments[1]:void 0;switch(r.type){case ue:case se:return e+1;case ce:case V:return e-1;default:return e}}var F=[],le=[];F.__IS_NONE__=!0;le.__IS_ALL__=!0;function pr(e,r){if(e===F)return!1;if(e===le||typeof r=="undefined")return!0;var t=Mt(r,e);return t.length>0}function yr(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case B:break;case ue:case se:case V:case ce:return F;case q:case oe:case X:case G:default:return le}var r=e.payload,t=r.targetIds,n=t===void 0?[]:t,a=r.prevTargetIds,i=a===void 0?[]:a,o=At(n,i),u=o.length>0||!ir(n,i);if(!u)return F;var s=i[i.length-1],c=n[n.length-1];return s!==c&&(s&&o.push(s),c&&o.push(c)),o}function mr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return e+1}function Se(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Te(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Se(Object(t),!0).forEach(function(n){br(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Se(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function br(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function Dr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:yr(e.dirtyHandlerIds,{type:r.type,payload:Te(Te({},r.payload),{},{prevTargetIds:Nt(e,"dragOperation.targetIds",[])})}),dragOffset:ur(e.dragOffset,r),refCount:vr(e.refCount,r),dragOperation:hr(e.dragOperation,r),stateId:mr(e.stateId)}}function Or(e,r){return{x:e.x+r.x,y:e.y+r.y}}function it(e,r){return{x:e.x-r.x,y:e.y-r.y}}function Sr(e){var r=e.clientOffset,t=e.initialClientOffset,n=e.initialSourceClientOffset;return!r||!t||!n?null:it(Or(r,n),t)}function Tr(e){var r=e.clientOffset,t=e.initialClientOffset;return!r||!t?null:it(r,t)}function wr(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function we(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ir(e,r,t){return r&&we(e.prototype,r),t&&we(e,t),e}var Cr=function(){function e(r,t){wr(this,e),this.store=r,this.registry=t}return Ir(e,[{key:"subscribeToStateChange",value:function(t){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{handlerIds:void 0},i=a.handlerIds;d(typeof t=="function","listener must be a function."),d(typeof i=="undefined"||Array.isArray(i),"handlerIds, when specified, must be an array of strings.");var o=this.store.getState().stateId,u=function(){var c=n.store.getState(),f=c.stateId;try{var l=f===o||f===o+1&&!pr(c.dirtyHandlerIds,i);l||t()}finally{o=f}};return this.store.subscribe(u)}},{key:"subscribeToOffsetChange",value:function(t){var n=this;d(typeof t=="function","listener must be a function.");var a=this.store.getState().dragOffset,i=function(){var u=n.store.getState().dragOffset;u!==a&&(a=u,t())};return this.store.subscribe(i)}},{key:"canDragSource",value:function(t){if(!t)return!1;var n=this.registry.getSource(t);return d(n,"Expected to find a valid source."),this.isDragging()?!1:n.canDrag(this,t)}},{key:"canDropOnTarget",value:function(t){if(!t)return!1;var n=this.registry.getTarget(t);if(d(n,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var a=this.registry.getTargetType(t),i=this.getItemType();return te(a,i)&&n.canDrop(this,t)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(t){if(!t)return!1;var n=this.registry.getSource(t,!0);if(d(n,"Expected to find a valid source."),!this.isDragging()||!this.isSourcePublic())return!1;var a=this.registry.getSourceType(t),i=this.getItemType();return a!==i?!1:n.isDragging(this,t)}},{key:"isOverTarget",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{shallow:!1};if(!t)return!1;var a=n.shallow;if(!this.isDragging())return!1;var i=this.registry.getTargetType(t),o=this.getItemType();if(o&&!te(i,o))return!1;var u=this.getTargetIds();if(!u.length)return!1;var s=u.indexOf(t);return a?s===u.length-1:s>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return Boolean(this.store.getState().dragOperation.isSourcePublic)}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return Sr(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return Tr(this.store.getState().dragOffset)}}]),e}(),Er=0;function kr(){return Er++}function j(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?j=function(t){return typeof t}:j=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},j(e)}function _r(e){d(typeof e.canDrag=="function","Expected canDrag to be a function."),d(typeof e.beginDrag=="function","Expected beginDrag to be a function."),d(typeof e.endDrag=="function","Expected endDrag to be a function.")}function Pr(e){d(typeof e.canDrop=="function","Expected canDrop to be a function."),d(typeof e.hover=="function","Expected hover to be a function."),d(typeof e.drop=="function","Expected beginDrag to be a function.")}function re(e,r){if(r&&Array.isArray(e)){e.forEach(function(t){return re(t,!1)});return}d(typeof e=="string"||j(e)==="symbol",r?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}const Ie=typeof global!="undefined"?global:self,ot=Ie.MutationObserver||Ie.WebKitMutationObserver;function ut(e){return function(){const t=setTimeout(a,0),n=setInterval(a,50);function a(){clearTimeout(t),clearInterval(n),e()}}}function xr(e){let r=1;const t=new ot(e),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){r=-r,n.data=r}}const Nr=typeof ot=="function"?xr:ut;class Rr{enqueueTask(r){const{queue:t,requestFlush:n}=this;t.length||(n(),this.flushing=!0),t[t.length]=r}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:r}=this;for(;this.index<r.length;){const t=this.index;if(this.index++,r[t].call(),this.index>this.capacity){for(let n=0,a=r.length-this.index;n<a;n++)r[n]=r[n+this.index];r.length-=this.index,this.index=0}}r.length=0,this.index=0,this.flushing=!1},this.registerPendingError=r=>{this.pendingErrors.push(r),this.requestErrorThrow()},this.requestFlush=Nr(this.flush),this.requestErrorThrow=ut(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class Ar{call(){try{this.task&&this.task()}catch(r){this.onError(r)}finally{this.task=null,this.release(this)}}constructor(r,t){this.onError=r,this.release=t,this.task=null}}class Mr{create(r){const t=this.freeTasks,n=t.length?t.pop():new Ar(this.onError,a=>t[t.length]=a);return n.task=r,n}constructor(r){this.onError=r,this.freeTasks=[]}}const st=new Rr,$r=new Mr(st.registerPendingError);function jr(e){st.enqueueTask($r.create(e))}function Lr(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ce(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Hr(e,r,t){return r&&Ce(e.prototype,r),t&&Ce(e,t),e}function Ur(e,r){return Br(e)||qr(e,r)||Wr(e,r)||Fr()}function Fr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wr(e,r){if(!!e){if(typeof e=="string")return Ee(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ee(e,r)}}function Ee(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function qr(e,r){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var t=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(t.push(u.value),!(r&&t.length===r));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return t}}function Br(e){if(Array.isArray(e))return e}function Gr(e){var r=kr().toString();switch(e){case C.SOURCE:return"S".concat(r);case C.TARGET:return"T".concat(r);default:throw new Error("Unknown Handler Role: ".concat(e))}}function ke(e){switch(e[0]){case"S":return C.SOURCE;case"T":return C.TARGET;default:d(!1,"Cannot parse handler ID: ".concat(e))}}function _e(e,r){var t=e.entries(),n=!1;do{var a=t.next(),i=a.done,o=Ur(a.value,2),u=o[1];if(u===r)return!0;n=!!i}while(!n);return!1}var Xr=function(){function e(r){Lr(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=r}return Hr(e,[{key:"addSource",value:function(t,n){re(t),_r(n);var a=this.addHandler(C.SOURCE,t,n);return this.store.dispatch(sr(a)),a}},{key:"addTarget",value:function(t,n){re(t,!0),Pr(n);var a=this.addHandler(C.TARGET,t,n);return this.store.dispatch(cr(a)),a}},{key:"containsHandler",value:function(t){return _e(this.dragSources,t)||_e(this.dropTargets,t)}},{key:"getSource",value:function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;d(this.isSourceId(t),"Expected a valid source ID.");var a=n&&t===this.pinnedSourceId,i=a?this.pinnedSource:this.dragSources.get(t);return i}},{key:"getTarget",value:function(t){return d(this.isTargetId(t),"Expected a valid target ID."),this.dropTargets.get(t)}},{key:"getSourceType",value:function(t){return d(this.isSourceId(t),"Expected a valid source ID."),this.types.get(t)}},{key:"getTargetType",value:function(t){return d(this.isTargetId(t),"Expected a valid target ID."),this.types.get(t)}},{key:"isSourceId",value:function(t){var n=ke(t);return n===C.SOURCE}},{key:"isTargetId",value:function(t){var n=ke(t);return n===C.TARGET}},{key:"removeSource",value:function(t){var n=this;d(this.getSource(t),"Expected an existing source."),this.store.dispatch(lr(t)),jr(function(){n.dragSources.delete(t),n.types.delete(t)})}},{key:"removeTarget",value:function(t){d(this.getTarget(t),"Expected an existing target."),this.store.dispatch(fr(t)),this.dropTargets.delete(t),this.types.delete(t)}},{key:"pinSource",value:function(t){var n=this.getSource(t);d(n,"Expected an existing source."),this.pinnedSourceId=t,this.pinnedSource=n}},{key:"unpinSource",value:function(){d(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(t,n,a){var i=Gr(t);return this.types.set(i,n),t===C.SOURCE?this.dragSources.set(i,a):t===C.TARGET&&this.dropTargets.set(i,a),i}}]),e}();function Vr(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Pe(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yr(e,r,t){return r&&Pe(e.prototype,r),t&&Pe(e,t),e}function Kr(e){var r=typeof window!="undefined"&&window.__REDUX_DEVTOOLS_EXTENSION__;return nt(Dr,e&&r&&r({name:"dnd-core",instanceId:"dnd-core"}))}var zr=function(){function e(){var r=this,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Vr(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var a=r.store.getState().refCount>0;r.backend&&(a&&!r.isSetUp?(r.backend.setup(),r.isSetUp=!0):!a&&r.isSetUp&&(r.backend.teardown(),r.isSetUp=!1))};var n=Kr(t);this.store=n,this.monitor=new Cr(n,new Xr(n)),n.subscribe(this.handleRefCountChange)}return Yr(e,[{key:"receiveBackend",value:function(t){this.backend=t}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var t=this,n=this.store.dispatch;function a(o){return function(){for(var u=arguments.length,s=new Array(u),c=0;c<u;c++)s[c]=arguments[c];var f=o.apply(t,s);typeof f!="undefined"&&n(f)}}var i=rr(this);return Object.keys(i).reduce(function(o,u){var s=i[u];return o[u]=a(s),o},{})}},{key:"dispatch",value:function(t){this.store.dispatch(t)}}]),e}();function Qr(e,r,t,n){var a=new zr(n),i=e(a,r,t);return a.receiveBackend(i),a}var ct=g.exports.createContext({dragDropManager:void 0});function Jr(e,r,t,n){return{dragDropManager:Qr(e,r,t,n)}}var xe=typeof global!="undefined"?global:typeof self!="undefined"?self:typeof window!="undefined"?window:{};function Zr(e,r){return nn(e)||rn(e,r)||tn(e,r)||en()}function en(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tn(e,r){if(!!e){if(typeof e=="string")return Ne(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ne(e,r)}}function Ne(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function rn(e,r){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var t=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(t.push(u.value),!(r&&t.length===r));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return t}}function nn(e){if(Array.isArray(e))return e}function an(e,r){if(e==null)return{};var t=on(e,r),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)n=i[a],!(r.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(t[n]=e[n]))}return t}function on(e,r){if(e==null)return{};var t={},n=Object.keys(e),a,i;for(i=0;i<n.length;i++)a=n[i],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}var z=0,lt=g.exports.memo(function(e){var r=e.children,t=an(e,["children"]),n=un(t),a=Zr(n,2),i=a[0],o=a[1];return g.exports.useEffect(function(){return o&&z++,function(){if(o&&(z--,z===0)){var u=ft();u[L]=null}}},[]),g.exports.createElement(ct.Provider,{value:i},r)});lt.displayName="DndProvider";function un(e){if("manager"in e){var r={dragDropManager:e.manager};return[r,!1]}var t=sn(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}var L=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");function sn(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ft(),t=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,a=r;return a[L]||(a[L]=Jr(e,r,t,n)),a[L]}function ft(){return typeof xe!="undefined"?xe:window}var k=typeof window!="undefined"?g.exports.useLayoutEffect:g.exports.useEffect;function W(e,r,t,n){var a=t?t.call(n,e,r):void 0;if(a!==void 0)return!!a;if(e===r)return!0;if(typeof e!="object"||!e||typeof r!="object"||!r)return!1;var i=Object.keys(e),o=Object.keys(r);if(i.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(r),s=0;s<i.length;s++){var c=i[s];if(!u(c))return!1;var f=e[c],l=r[c];if(a=t?t.call(n,f,l,c):void 0,a===!1||a===void 0&&f!==l)return!1}return!0}function cn(e,r){return gn(e)||dn(e,r)||fn(e,r)||ln()}function ln(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fn(e,r){if(!!e){if(typeof e=="string")return Re(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Re(e,r)}}function Re(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function dn(e,r){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var t=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(t.push(u.value),!(r&&t.length===r));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return t}}function gn(e){if(Array.isArray(e))return e}function hn(e,r,t){var n=g.exports.useState(function(){return r(e)}),a=cn(n,2),i=a[0],o=a[1],u=g.exports.useCallback(function(){var s=r(e);W(i,s)||(o(s),t&&t())},[i,e,t]);return k(u,[]),[i,u]}function vn(e,r){return bn(e)||mn(e,r)||yn(e,r)||pn()}function pn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yn(e,r){if(!!e){if(typeof e=="string")return Ae(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ae(e,r)}}function Ae(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function mn(e,r){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var t=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(t.push(u.value),!(r&&t.length===r));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return t}}function bn(e){if(Array.isArray(e))return e}function dt(e,r,t){var n=hn(e,r,t),a=vn(n,2),i=a[0],o=a[1];return k(function(){var s=e.getHandlerId();if(s!=null)return e.subscribeToStateChange(o,{handlerIds:[s]})},[e,o]),i}function Dn(e,r,t){var n=t.getRegistry(),a=n.addTarget(e,r);return[a,function(){return n.removeTarget(a)}]}function On(e,r,t){var n=t.getRegistry(),a=n.addSource(e,r);return[a,function(){return n.removeSource(a)}]}function Y(){var e=g.exports.useContext(ct),r=e.dragDropManager;return d(r!=null,"Expected drag drop context"),r}function Sn(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Me(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Tn(e,r,t){return r&&Me(e.prototype,r),t&&Me(e,t),e}var Q=!1,J=!1,wn=function(){function e(r){Sn(this,e),this.sourceId=null,this.internalMonitor=r.getMonitor()}return Tn(e,[{key:"receiveHandlerId",value:function(t){this.sourceId=t}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){d(!Q,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Q=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Q=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;d(!J,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return J=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{J=!1}}},{key:"subscribeToStateChange",value:function(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}},{key:"isDraggingSource",value:function(t){return this.internalMonitor.isDraggingSource(t)}},{key:"isOverTarget",value:function(t,n){return this.internalMonitor.isOverTarget(t,n)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(t){return this.internalMonitor.subscribeToOffsetChange(t)}},{key:"canDragSource",value:function(t){return this.internalMonitor.canDragSource(t)}},{key:"canDropOnTarget",value:function(t){return this.internalMonitor.canDropOnTarget(t)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();function $e(e,r){typeof e=="function"?e(r):e.current=r}function In(e,r){var t=e.ref;return d(typeof t!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),t?g.exports.cloneElement(e,{ref:function(a){$e(t,a),$e(r,a)}}):g.exports.cloneElement(e,{ref:r})}function Cn(e){if(typeof e.type!="string"){var r=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(r," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function En(e){return function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!g.exports.isValidElement(r)){var n=r;return e(n,t),n}var a=r;Cn(a);var i=t?function(o){return e(o,t)}:e;return In(a,i)}}function gt(e){var r={};return Object.keys(e).forEach(function(t){var n=e[t];if(t.endsWith("Ref"))r[t]=e[t];else{var a=En(n);r[t]=function(){return a}}}),r}function H(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?H=function(t){return typeof t}:H=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H(e)}function ne(e){return e!==null&&H(e)==="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function kn(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function je(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _n(e,r,t){return r&&je(e.prototype,r),t&&je(e,t),e}var Pn=function(){function e(r){var t=this;kn(this,e),this.hooks=gt({dragSource:function(a,i){t.clearDragSource(),t.dragSourceOptions=i||null,ne(a)?t.dragSourceRef=a:t.dragSourceNode=a,t.reconnectDragSource()},dragPreview:function(a,i){t.clearDragPreview(),t.dragPreviewOptions=i||null,ne(a)?t.dragPreviewRef=a:t.dragPreviewNode=a,t.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=r}return _n(e,[{key:"receiveHandlerId",value:function(t){this.handlerId!==t&&(this.handlerId=t,this.reconnect())}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var t=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();if(n&&this.disconnectDragSource(),!!this.handlerId){if(!t){this.lastConnectedDragSource=t;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=t,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,t,this.dragSourceOptions))}}},{key:"reconnectDragPreview",value:function(){var t=this.dragPreview,n=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(n&&this.disconnectDragPreview(),!!this.handlerId){if(!t){this.lastConnectedDragPreview=t;return}n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=t,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,t,this.dragPreviewOptions))}}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!W(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!W(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(t){this.dragSourceOptionsInternal=t}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(t){this.dragPreviewOptionsInternal=t}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}}]),e}();function xn(e,r){return Mn(e)||An(e,r)||Rn(e,r)||Nn()}function Nn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rn(e,r){if(!!e){if(typeof e=="string")return Le(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Le(e,r)}}function Le(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function An(e,r){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var t=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(t.push(u.value),!(r&&t.length===r));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return t}}function Mn(e){if(Array.isArray(e))return e}function U(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?U=function(t){return typeof t}:U=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U(e)}function $n(){var e=Y(),r=g.exports.useMemo(function(){return new wn(e)},[e]),t=g.exports.useMemo(function(){return new Pn(e.getBackend())},[e]);return[r,t]}function jn(e,r,t){var n=Y(),a=g.exports.useMemo(function(){return{beginDrag:function(){var o=e.current,u=o.begin,s=o.item;if(u){var c=u(r);return d(c==null||U(c)==="object","dragSpec.begin() must either return an object, undefined, or null"),c||s||{}}return s||{}},canDrag:function(){return typeof e.current.canDrag=="boolean"?e.current.canDrag:typeof e.current.canDrag=="function"?e.current.canDrag(r):!0},isDragging:function(o,u){var s=e.current.isDragging;return s?s(r):u===o.getSourceId()},endDrag:function(){var o=e.current.end;o&&o(r.getItem(),r),t.reconnect()}}},[]);k(function(){var o=On(e.current.item.type,a,n),u=xn(o,2),s=u[0],c=u[1];return r.receiveHandlerId(s),t.receiveHandlerId(s),c},[])}function Ln(e,r){return Wn(e)||Fn(e,r)||Un(e,r)||Hn()}function Hn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Un(e,r){if(!!e){if(typeof e=="string")return He(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return He(e,r)}}function He(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Fn(e,r){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var t=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(t.push(u.value),!(r&&t.length===r));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return t}}function Wn(e){if(Array.isArray(e))return e}function qn(e){var r=g.exports.useRef(e);r.current=e,d(e.item!=null,"item must be defined"),d(e.item.type!=null,"item type must be defined");var t=$n(),n=Ln(t,2),a=n[0],i=n[1];jn(r,a,i);var o=dt(a,r.current.collect||function(){return{}},function(){return i.reconnect()}),u=g.exports.useMemo(function(){return i.hooks.dragSource()},[i]),s=g.exports.useMemo(function(){return i.hooks.dragPreview()},[i]);return k(function(){i.dragSourceOptions=r.current.options||null,i.reconnect()},[i]),k(function(){i.dragPreviewOptions=r.current.previewOptions||null,i.reconnect()},[i]),[o,u,s]}function Bn(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ue(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Gn(e,r,t){return r&&Ue(e.prototype,r),t&&Ue(e,t),e}var Xn=function(){function e(r){var t=this;Bn(this,e),this.hooks=gt({dropTarget:function(a,i){t.clearDropTarget(),t.dropTargetOptions=i,ne(a)?t.dropTargetRef=a:t.dropTargetNode=a,t.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=r}return Gn(e,[{key:"reconnect",value:function(){var t=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();t&&this.disconnectDropTarget();var n=this.dropTarget;if(!!this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}},{key:"receiveHandlerId",value:function(t){t!==this.handlerId&&(this.handlerId=t,this.reconnect())}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!W(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}},{key:"connectTarget",get:function(){return this.dropTarget}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(t){this.dropTargetOptionsInternal=t}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}}]),e}();function Vn(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Fe(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yn(e,r,t){return r&&Fe(e.prototype,r),t&&Fe(e,t),e}var Z=!1,Kn=function(){function e(r){Vn(this,e),this.targetId=null,this.internalMonitor=r.getMonitor()}return Yn(e,[{key:"receiveHandlerId",value:function(t){this.targetId=t}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(t,n){return this.internalMonitor.subscribeToStateChange(t,n)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;d(!Z,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Z=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Z=!1}}},{key:"isOver",value:function(t){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,t):!1}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}();function zn(e,r){return ea(e)||Zn(e,r)||Jn(e,r)||Qn()}function Qn(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jn(e,r){if(!!e){if(typeof e=="string")return We(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return We(e,r)}}function We(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function Zn(e,r){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var t=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(t.push(u.value),!(r&&t.length===r));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return t}}function ea(e){if(Array.isArray(e))return e}function ta(){var e=Y(),r=g.exports.useMemo(function(){return new Kn(e)},[e]),t=g.exports.useMemo(function(){return new Xn(e.getBackend())},[e]);return[r,t]}function ra(e,r,t){var n=Y(),a=g.exports.useMemo(function(){return{canDrop:function(){var o=e.current.canDrop;return o?o(r.getItem(),r):!0},hover:function(){var o=e.current.hover;o&&o(r.getItem(),r)},drop:function(){var o=e.current.drop;if(o)return o(r.getItem(),r)}}},[r]);k(function(){var o=Dn(e.current.accept,a,n),u=zn(o,2),s=u[0],c=u[1];return r.receiveHandlerId(s),t.receiveHandlerId(s),c},[r,t])}function na(e,r){return ua(e)||oa(e,r)||ia(e,r)||aa()}function aa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ia(e,r){if(!!e){if(typeof e=="string")return qe(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return qe(e,r)}}function qe(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,n=new Array(r);t<r;t++)n[t]=e[t];return n}function oa(e,r){if(!(typeof Symbol=="undefined"||!(Symbol.iterator in Object(e)))){var t=[],n=!0,a=!1,i=void 0;try{for(var o=e[Symbol.iterator](),u;!(n=(u=o.next()).done)&&(t.push(u.value),!(r&&t.length===r));n=!0);}catch(s){a=!0,i=s}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw i}}return t}}function ua(e){if(Array.isArray(e))return e}function sa(e){var r=g.exports.useRef(e);r.current=e,d(e.accept!=null,"accept must be defined");var t=ta(),n=na(t,2),a=n[0],i=n[1];ra(r,a,i);var o=dt(a,r.current.collect||function(){return{}},function(){return i.reconnect()}),u=g.exports.useMemo(function(){return i.hooks.dropTarget()},[i]);return k(function(){i.dropTargetOptions=e.options||null,i.reconnect()},[e.options]),[o,u]}function ht(e){var r=null,t=function(){return r==null&&(r=e()),r};return t}function ca(e,r){return e.filter(function(t){return t!==r})}function la(e,r){var t=new Set,n=function(o){return t.add(o)};e.forEach(n),r.forEach(n);var a=[];return t.forEach(function(i){return a.push(i)}),a}function fa(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Be(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function da(e,r,t){return r&&Be(e.prototype,r),t&&Be(e,t),e}var ga=function(){function e(r){fa(this,e),this.entered=[],this.isNodeInDocument=r}return da(e,[{key:"enter",value:function(t){var n=this,a=this.entered.length,i=function(u){return n.isNodeInDocument(u)&&(!u.contains||u.contains(t))};return this.entered=la(this.entered.filter(i),[t]),a===0&&this.entered.length>0}},{key:"leave",value:function(t){var n=this.entered.length;return this.entered=ca(this.entered.filter(this.isNodeInDocument),t),n>0&&this.entered.length===0}},{key:"reset",value:function(){this.entered=[]}}]),e}(),vt=ht(function(){return/firefox/i.test(navigator.userAgent)}),pt=ht(function(){return Boolean(window.safari)});function ha(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ge(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function va(e,r,t){return r&&Ge(e.prototype,r),t&&Ge(e,t),e}var Xe=function(){function e(r,t){ha(this,e);for(var n=r.length,a=[],i=0;i<n;i++)a.push(i);a.sort(function(A,Ot){return r[A]<r[Ot]?-1:1});for(var o=[],u=[],s,c,f=0;f<n-1;f++)s=r[f+1]-r[f],c=t[f+1]-t[f],o.push(s),u.push(c/s);for(var l=[u[0]],h=0;h<o.length-1;h++){var p=u[h],m=u[h+1];if(p*m<=0)l.push(0);else{s=o[h];var v=o[h+1],D=s+v;l.push(3*D/((D+v)/p+(D+s)/m))}}l.push(u[u.length-1]);for(var S=[],b=[],O,T=0;T<l.length-1;T++){O=u[T];var _=l[T],P=1/o[T],x=_+l[T+1]-O-O;S.push((O-_-x)*P),b.push(x*P*P)}this.xs=r,this.ys=t,this.c1s=l,this.c2s=S,this.c3s=b}return va(e,[{key:"interpolate",value:function(t){var n=this.xs,a=this.ys,i=this.c1s,o=this.c2s,u=this.c3s,s=n.length-1;if(t===n[s])return a[s];for(var c=0,f=u.length-1,l;c<=f;){l=Math.floor(.5*(c+f));var h=n[l];if(h<t)c=l+1;else if(h>t)f=l-1;else return a[l]}s=Math.max(0,f);var p=t-n[s],m=p*p;return a[s]+i[s]*p+o[s]*m+u[s]*p*m}}]),e}(),pa=1;function yt(e){var r=e.nodeType===pa?e:e.parentElement;if(!r)return null;var t=r.getBoundingClientRect(),n=t.top,a=t.left;return{x:a,y:n}}function M(e){return{x:e.clientX,y:e.clientY}}function ya(e){var r;return e.nodeName==="IMG"&&(vt()||!(!((r=document.documentElement)===null||r===void 0)&&r.contains(e)))}function ma(e,r,t,n){var a=e?r.width:t,i=e?r.height:n;return pt()&&e&&(i/=window.devicePixelRatio,a/=window.devicePixelRatio),{dragPreviewWidth:a,dragPreviewHeight:i}}function ba(e,r,t,n,a){var i=ya(r),o=i?e:r,u=yt(o),s={x:t.x-u.x,y:t.y-u.y},c=e.offsetWidth,f=e.offsetHeight,l=n.anchorX,h=n.anchorY,p=ma(i,r,c,f),m=p.dragPreviewWidth,v=p.dragPreviewHeight,D=function(){var x=new Xe([0,.5,1],[s.y,s.y/f*v,s.y+v-f]),A=x.interpolate(h);return pt()&&i&&(A+=(window.devicePixelRatio-1)*v),A},S=function(){var x=new Xe([0,.5,1],[s.x,s.x/c*m,s.x+m-c]);return x.interpolate(l)},b=a.offsetX,O=a.offsetY,T=b===0||b,_=O===0||O;return{x:T?b:S(),y:_?O:D()}}var mt="__NATIVE_FILE__",bt="__NATIVE_URL__",Dt="__NATIVE_TEXT__",Ve=Object.freeze(Object.defineProperty({__proto__:null,FILE:mt,URL:bt,TEXT:Dt},Symbol.toStringTag,{value:"Module"}));function Ye(e,r,t){var n=r.reduce(function(a,i){return a||e.getData(i)},"");return n!=null?n:t}var R;function ee(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}var ae=(R={},ee(R,mt,{exposeProperties:{files:function(r){return Array.prototype.slice.call(r.files)},items:function(r){return r.items}},matchesTypes:["Files"]}),ee(R,bt,{exposeProperties:{urls:function(r,t){return Ye(r,t,"").split(`
`)}},matchesTypes:["Url","text/uri-list"]}),ee(R,Dt,{exposeProperties:{text:function(r,t){return Ye(r,t,"")}},matchesTypes:["Text","text/plain"]}),R);function Da(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Ke(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Oa(e,r,t){return r&&Ke(e.prototype,r),t&&Ke(e,t),e}var Sa=function(){function e(r){Da(this,e),this.config=r,this.item={},this.initializeExposedProperties()}return Oa(e,[{key:"initializeExposedProperties",value:function(){var t=this;Object.keys(this.config.exposeProperties).forEach(function(n){Object.defineProperty(t.item,n,{configurable:!0,enumerable:!0,get:function(){return console.warn(`Browser doesn't allow reading "`.concat(n,'" until the drop event.')),null}})})}},{key:"loadDataTransfer",value:function(t){var n=this;if(t){var a={};Object.keys(this.config.exposeProperties).forEach(function(i){a[i]={value:n.config.exposeProperties[i](t,n.config.matchesTypes),configurable:!0,enumerable:!0}}),Object.defineProperties(this.item,a)}}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(t,n){return n===t.getSourceId()}},{key:"endDrag",value:function(){}}]),e}();function Ta(e,r){var t=new Sa(ae[e]);return t.loadDataTransfer(r),t}function ze(e){if(!e)return null;var r=Array.prototype.slice.call(e.types||[]);return Object.keys(ae).filter(function(t){var n=ae[t].matchesTypes;return n.some(function(a){return r.indexOf(a)>-1})})[0]||null}function wa(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function Qe(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ia(e,r,t){return r&&Qe(e.prototype,r),t&&Qe(e,t),e}var Ca=function(){function e(r){wa(this,e),this.globalContext=r}return Ia(e,[{key:"window",get:function(){if(this.globalContext)return this.globalContext;if(typeof window!="undefined")return window}},{key:"document",get:function(){if(this.window)return this.window.document}}]),e}();function Je(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,n)}return t}function Ze(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Je(Object(t),!0).forEach(function(n){Ea(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Je(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function Ea(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function ka(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function et(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _a(e,r,t){return r&&et(e.prototype,r),t&&et(e,t),e}var Pa=function(){function e(r,t){var n=this;ka(this,e),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(a){var i=n.sourceNodes.get(a);return i&&yt(i)||null},this.endDragNativeItem=function(){!n.isDraggingNativeItem()||(n.actions.endDrag(),n.currentNativeHandle&&n.registry.removeSource(n.currentNativeHandle),n.currentNativeHandle=null,n.currentNativeSource=null)},this.isNodeInDocument=function(a){return Boolean(a&&n.document&&n.document.body&&document.body.contains(a))},this.endDragIfSourceWasRemovedFromDOM=function(){var a=n.currentDragSourceNode;n.isNodeInDocument(a)||n.clearCurrentDragSourceNode()&&n.actions.endDrag()},this.handleTopDragStartCapture=function(){n.clearCurrentDragSourceNode(),n.dragStartSourceIds=[]},this.handleTopDragStart=function(a){if(!a.defaultPrevented){var i=n.dragStartSourceIds;n.dragStartSourceIds=null;var o=M(a);n.monitor.isDragging()&&n.actions.endDrag(),n.actions.beginDrag(i||[],{publishSource:!1,getSourceClientOffset:n.getSourceClientOffset,clientOffset:o});var u=a.dataTransfer,s=ze(u);if(n.monitor.isDragging()){if(u&&typeof u.setDragImage=="function"){var c=n.monitor.getSourceId(),f=n.sourceNodes.get(c),l=n.sourcePreviewNodes.get(c)||f;if(l){var h=n.getCurrentSourcePreviewNodeOptions(),p=h.anchorX,m=h.anchorY,v=h.offsetX,D=h.offsetY,S={anchorX:p,anchorY:m},b={offsetX:v,offsetY:D},O=ba(f,l,o,S,b);u.setDragImage(l,O.x,O.y)}}try{u==null||u.setData("application/json",{})}catch{}n.setCurrentDragSourceNode(a.target);var T=n.getCurrentSourcePreviewNodeOptions(),_=T.captureDraggingState;_?n.actions.publishDragSource():setTimeout(function(){return n.actions.publishDragSource()},0)}else if(s)n.beginDragNativeItem(s);else{if(u&&!u.types&&(a.target&&!a.target.hasAttribute||!a.target.hasAttribute("draggable")))return;a.preventDefault()}}},this.handleTopDragEndCapture=function(){n.clearCurrentDragSourceNode()&&n.actions.endDrag()},this.handleTopDragEnterCapture=function(a){n.dragEnterTargetIds=[];var i=n.enterLeaveCounter.enter(a.target);if(!(!i||n.monitor.isDragging())){var o=a.dataTransfer,u=ze(o);u&&n.beginDragNativeItem(u,o)}},this.handleTopDragEnter=function(a){var i=n.dragEnterTargetIds;if(n.dragEnterTargetIds=[],!!n.monitor.isDragging()){n.altKeyPressed=a.altKey,vt()||n.actions.hover(i,{clientOffset:M(a)});var o=i.some(function(u){return n.monitor.canDropOnTarget(u)});o&&(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=n.getCurrentDropEffect()))}},this.handleTopDragOverCapture=function(){n.dragOverTargetIds=[]},this.handleTopDragOver=function(a){var i=n.dragOverTargetIds;if(n.dragOverTargetIds=[],!n.monitor.isDragging()){a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none");return}n.altKeyPressed=a.altKey,n.actions.hover(i||[],{clientOffset:M(a)});var o=(i||[]).some(function(u){return n.monitor.canDropOnTarget(u)});o?(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect=n.getCurrentDropEffect())):n.isDraggingNativeItem()?a.preventDefault():(a.preventDefault(),a.dataTransfer&&(a.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(a){n.isDraggingNativeItem()&&a.preventDefault();var i=n.enterLeaveCounter.leave(a.target);!i||n.isDraggingNativeItem()&&n.endDragNativeItem()},this.handleTopDropCapture=function(a){if(n.dropTargetIds=[],a.preventDefault(),n.isDraggingNativeItem()){var i;(i=n.currentNativeSource)===null||i===void 0||i.loadDataTransfer(a.dataTransfer)}n.enterLeaveCounter.reset()},this.handleTopDrop=function(a){var i=n.dropTargetIds;n.dropTargetIds=[],n.actions.hover(i,{clientOffset:M(a)}),n.actions.drop({dropEffect:n.getCurrentDropEffect()}),n.isDraggingNativeItem()?n.endDragNativeItem():n.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(a){var i=a.target;typeof i.dragDrop=="function"&&(i.tagName==="INPUT"||i.tagName==="SELECT"||i.tagName==="TEXTAREA"||i.isContentEditable||(a.preventDefault(),i.dragDrop()))},this.options=new Ca(t),this.actions=r.getActions(),this.monitor=r.getMonitor(),this.registry=r.getRegistry(),this.enterLeaveCounter=new ga(this.isNodeInDocument)}return _a(e,[{key:"profile",value:function(){var t,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((t=this.dragStartSourceIds)===null||t===void 0?void 0:t.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}},{key:"setup",value:function(){if(this.window!==void 0){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){this.window!==void 0&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"connectDragPreview",value:function(t,n,a){var i=this;return this.sourcePreviewNodeOptions.set(t,a),this.sourcePreviewNodes.set(t,n),function(){i.sourcePreviewNodes.delete(t),i.sourcePreviewNodeOptions.delete(t)}}},{key:"connectDragSource",value:function(t,n,a){var i=this;this.sourceNodes.set(t,n),this.sourceNodeOptions.set(t,a);var o=function(c){return i.handleDragStart(c,t)},u=function(c){return i.handleSelectStart(c)};return n.setAttribute("draggable","true"),n.addEventListener("dragstart",o),n.addEventListener("selectstart",u),function(){i.sourceNodes.delete(t),i.sourceNodeOptions.delete(t),n.removeEventListener("dragstart",o),n.removeEventListener("selectstart",u),n.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(t,n){var a=this,i=function(c){return a.handleDragEnter(c,t)},o=function(c){return a.handleDragOver(c,t)},u=function(c){return a.handleDrop(c,t)};return n.addEventListener("dragenter",i),n.addEventListener("dragover",o),n.addEventListener("drop",u),function(){n.removeEventListener("dragenter",i),n.removeEventListener("dragover",o),n.removeEventListener("drop",u)}}},{key:"addEventListeners",value:function(t){!t.addEventListener||(t.addEventListener("dragstart",this.handleTopDragStart),t.addEventListener("dragstart",this.handleTopDragStartCapture,!0),t.addEventListener("dragend",this.handleTopDragEndCapture,!0),t.addEventListener("dragenter",this.handleTopDragEnter),t.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.addEventListener("dragover",this.handleTopDragOver),t.addEventListener("dragover",this.handleTopDragOverCapture,!0),t.addEventListener("drop",this.handleTopDrop),t.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(t){!t.removeEventListener||(t.removeEventListener("dragstart",this.handleTopDragStart),t.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),t.removeEventListener("dragend",this.handleTopDragEndCapture,!0),t.removeEventListener("dragenter",this.handleTopDragEnter),t.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),t.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),t.removeEventListener("dragover",this.handleTopDragOver),t.removeEventListener("dragover",this.handleTopDragOverCapture,!0),t.removeEventListener("drop",this.handleTopDrop),t.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var t=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(t);return Ze({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var t=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(t);return Ze({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}},{key:"isDraggingNativeItem",value:function(){var t=this.monitor.getItemType();return Object.keys(Ve).some(function(n){return Ve[n]===t})}},{key:"beginDragNativeItem",value:function(t,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=Ta(t,n),this.currentNativeHandle=this.registry.addSource(t,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(t){var n=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=t;var a=1e3;this.mouseMoveTimeoutTimer=setTimeout(function(){return n.window&&n.window.addEventListener("mousemove",n.endDragIfSourceWasRemovedFromDOM,!0)},a)}},{key:"clearCurrentDragSourceNode",value:function(){return this.currentDragSourceNode?(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0):!1}},{key:"handleDragStart",value:function(t,n){t.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}},{key:"handleDragEnter",value:function(t,n){this.dragEnterTargetIds.unshift(n)}},{key:"handleDragOver",value:function(t,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}},{key:"handleDrop",value:function(t,n){this.dropTargetIds.unshift(n)}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}}]),e}(),xa=function(r,t){return new Pa(r,t)};const tt=e=>{const[{isDragging:r},t,n]=qn({item:e.item,collect:a=>({isDragging:!!a.isDragging()})});return E("div",{id:e.item.id,ref:n,className:"card",style:{display:r&&e.hideSourceOnDrag?"none":"flex",opacity:r?.5:1,top:e.item.y,left:e.item.x},children:[y("div",{className:"flex justify-end p-3",children:y("div",{ref:t,id:`${e.item.id}-drag-handle`,className:"card-drag-handle"})}),e.children]})},N={CARD:"card",COLLECTION:"collection"};const Na=e=>{const[r,t]=g.exports.useState([]),n=g.exports.useCallback(async()=>{const a=await St();t(a)},[t]);return g.exports.useEffect(()=>{n(),Tt(n)},[n]),y("div",{className:"flex w-64 flex-col rounded items-center divide-y divide-gray-200 divide-opacity-50",children:r.map((a,i)=>{var u;const o=(u=a==null?void 0:a.state)!=null&&u.doc?a.text:"";return y("button",{className:"truncate w-full transition duration-250 ease-in-out bg-gradient-to-r hover:from-gray-100 hover:to-gray-200",onClick:()=>{e.handleNoteButtonClick(a)},children:a.title||o},i)})})};function Ra(){return y(lt,{backend:xa,children:y(Aa,{})})}const Aa=e=>{const[t,n]=g.exports.useState({x:0,y:0}),[a,i]=g.exports.useState({x:0,y:0}),o=[],[,u]=sa({accept:[N.CARD,N.COLLECTION],drop:(l,h)=>{const p=h.getDifferenceFromInitialOffset(),m=Math.round(l.x+p.x),v=Math.round(l.y+p.y);return l.type===N.CARD?c(l.id,m,v):i({x:m,y:v}),{x:m,y:v}}}),s=g.exports.useCallback((l,h)=>{N.CARD,fe()},[]),c=g.exports.useCallback((l,h,p)=>{},[]),f=l=>{l==null||l.id,N.CARD};return E("div",{className:"canvas",ref:u,onMouseMove:l=>{n({x:l.nativeEvent.offsetX,y:l.nativeEvent.offsetY})},onDoubleClick:l=>{s(l.nativeEvent.offsetX,l.nativeEvent.offsetY)},children:[!1,y(tt,{item:{type:N.COLLECTION,id:fe(),x:a.x,y:a.y},children:y(Na,{handleNoteButtonClick:f})}),Object.entries(o).map(([l,h],p)=>y(tt,{item:h,hideSourceOnDrag:!0,children:y(wt,{id:h.id})},p))]})};function Ma(){const[e,r]=g.exports.useState(!1),[t,n]=g.exports.useState(""),[a,i]=g.exports.useState([]),{addItem:o}=g.exports.useContext(It),u=Ct(),s=Et(),c=f=>{_t(f).then(l=>i(l))};return E("div",{className:"relative shadow-sm",children:[E("div",{className:"h-10 w-72  rounded-full flex justify-between pl-6 items-center relative",children:[y("input",{placeholder:"Search",className:"w-3/4 h-full bg-transparent overflow-ellipsis",type:"text",value:t,onChange:f=>{const{value:l}=f.target;n(l),c(l)},onFocus:f=>r(!0),onBlur:f=>r(!1)}),y("button",{className:"h-10 w-10 rounded-full bg-black text-white flex justify-center items-center",children:y(kt,{})})]}),t!==""&&a.length>0&&y("div",{className:"search-results rounded-b-lg overflow-hidden",children:a.map(f=>y($a,{onResultClick:()=>{n(""),o(f.item.id),s.pathname!==de.panelWorkspace&&u(de.panelWorkspace)},result:f},f.item.id))})]})}const $a=({result:e,onResultClick:r})=>{const t=e.matches.some(a=>a.key==="title"),n=e.matches.some(a=>a.key==="text");return E("button",{className:"result bg-white text-left p-2",onClick:a=>{r==null||r()},children:[E("div",{className:"text-sm",children:[t&&e.matches.map((a,i)=>a.key==="title"?y(rt,{match:a},i):null),!t&&e.item.title]}),E("div",{className:"text-xs font-extralight",children:[n&&e.matches.map((a,i)=>a.key==="text"?y(rt,{match:a},i):null),!n&&e.item.text]})]})},rt=({match:e})=>{var n,a,i,o;const[[r,t]]=e.indices;return E(Pt,{children:[(n=e.value)==null?void 0:n.substring(0,r),y("span",{className:"bg-yellow-300",children:(a=e.value)==null?void 0:a.substring(r,t)}),(o=e.value)==null?void 0:o.substring(t,(i=e.value)==null?void 0:i.length)]})};function La(){return E("div",{className:"min-h-screen",children:[y("div",{id:"top-bar",className:"flex flex-row-reverse p-8",children:y(Ma,{})}),y(Ra,{})]})}export{La as default};
