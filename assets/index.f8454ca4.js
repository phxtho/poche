function tD(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var tt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function q2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function W2(t){var e=t.default;if(typeof e=="function"){var n=function(){return e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var z={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a0=Symbol.for("react.element"),nD=Symbol.for("react.portal"),rD=Symbol.for("react.fragment"),iD=Symbol.for("react.strict_mode"),oD=Symbol.for("react.profiler"),sD=Symbol.for("react.provider"),aD=Symbol.for("react.context"),lD=Symbol.for("react.forward_ref"),uD=Symbol.for("react.suspense"),cD=Symbol.for("react.memo"),fD=Symbol.for("react.lazy"),Dx=Symbol.iterator;function dD(t){return t===null||typeof t!="object"?null:(t=Dx&&t[Dx]||t["@@iterator"],typeof t=="function"?t:null)}var r9={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},i9=Object.assign,o9={};function yc(t,e,n){this.props=t,this.context=e,this.refs=o9,this.updater=n||r9}yc.prototype.isReactComponent={};yc.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yc.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function s9(){}s9.prototype=yc.prototype;function K2(t,e,n){this.props=t,this.context=e,this.refs=o9,this.updater=n||r9}var G2=K2.prototype=new s9;G2.constructor=K2;i9(G2,yc.prototype);G2.isPureReactComponent=!0;var Ix=Array.isArray,a9=Object.prototype.hasOwnProperty,Y2={current:null},l9={key:!0,ref:!0,__self:!0,__source:!0};function u9(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)a9.call(e,r)&&!l9.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:a0,type:t,key:o,ref:s,props:i,_owner:Y2.current}}function hD(t,e){return{$$typeof:a0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function X2(t){return typeof t=="object"&&t!==null&&t.$$typeof===a0}function pD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Px=/\/+/g;function hg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pD(""+t.key):e.toString(36)}function $h(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case a0:case nD:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+hg(s,0):r,Ix(i)?(n="",t!=null&&(n=t.replace(Px,"$&/")+"/"),$h(i,e,n,"",function(u){return u})):i!=null&&(X2(i)&&(i=hD(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Px,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Ix(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+hg(o,a);s+=$h(o,e,n,l,i)}else if(l=dD(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+hg(o,a++),s+=$h(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function j0(t,e,n){if(t==null)return t;var r=[],i=0;return $h(t,r,"","",function(o){return e.call(n,o,i++)}),r}function mD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gn={current:null},Fh={transition:null},gD={ReactCurrentDispatcher:Gn,ReactCurrentBatchConfig:Fh,ReactCurrentOwner:Y2};Ye.Children={map:j0,forEach:function(t,e,n){j0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return j0(t,function(){e++}),e},toArray:function(t){return j0(t,function(e){return e})||[]},only:function(t){if(!X2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ye.Component=yc;Ye.Fragment=rD;Ye.Profiler=oD;Ye.PureComponent=K2;Ye.StrictMode=iD;Ye.Suspense=uD;Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gD;Ye.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=i9({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Y2.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)a9.call(e,l)&&!l9.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:a0,type:t.type,key:i,ref:o,props:r,_owner:s}};Ye.createContext=function(t){return t={$$typeof:aD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:sD,_context:t},t.Consumer=t};Ye.createElement=u9;Ye.createFactory=function(t){var e=u9.bind(null,t);return e.type=t,e};Ye.createRef=function(){return{current:null}};Ye.forwardRef=function(t){return{$$typeof:lD,render:t}};Ye.isValidElement=X2;Ye.lazy=function(t){return{$$typeof:fD,_payload:{_status:-1,_result:t},_init:mD}};Ye.memo=function(t,e){return{$$typeof:cD,type:t,compare:e===void 0?null:e}};Ye.startTransition=function(t){var e=Fh.transition;Fh.transition={};try{t()}finally{Fh.transition=e}};Ye.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Ye.useCallback=function(t,e){return Gn.current.useCallback(t,e)};Ye.useContext=function(t){return Gn.current.useContext(t)};Ye.useDebugValue=function(){};Ye.useDeferredValue=function(t){return Gn.current.useDeferredValue(t)};Ye.useEffect=function(t,e){return Gn.current.useEffect(t,e)};Ye.useId=function(){return Gn.current.useId()};Ye.useImperativeHandle=function(t,e,n){return Gn.current.useImperativeHandle(t,e,n)};Ye.useInsertionEffect=function(t,e){return Gn.current.useInsertionEffect(t,e)};Ye.useLayoutEffect=function(t,e){return Gn.current.useLayoutEffect(t,e)};Ye.useMemo=function(t,e){return Gn.current.useMemo(t,e)};Ye.useReducer=function(t,e,n){return Gn.current.useReducer(t,e,n)};Ye.useRef=function(t){return Gn.current.useRef(t)};Ye.useState=function(t){return Gn.current.useState(t)};Ye.useSyncExternalStore=function(t,e,n){return Gn.current.useSyncExternalStore(t,e,n)};Ye.useTransition=function(){return Gn.current.useTransition()};Ye.version="18.2.0";(function(t){t.exports=Ye})(z);const Zs=q2(z.exports),sy=tD({__proto__:null,default:Zs},[z.exports]);var Jm={exports:{}},Nr={},c9={exports:{}},f9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(O,L){var P=O.length;O.push(L);e:for(;0<P;){var R=P-1>>>1,F=O[R];if(0<i(F,L))O[R]=L,O[P]=F,P=R;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var L=O[0],P=O.pop();if(P!==L){O[0]=P;e:for(var R=0,F=O.length,V=F>>>1;R<V;){var G=2*(R+1)-1,Q=O[G],se=G+1,ue=O[se];if(0>i(Q,P))se<F&&0>i(ue,Q)?(O[R]=ue,O[se]=P,R=se):(O[R]=Q,O[G]=P,R=G);else if(se<F&&0>i(ue,P))O[R]=ue,O[se]=P,R=se;else break e}}return L}function i(O,L){var P=O.sortIndex-L.sortIndex;return P!==0?P:O.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,d=3,h=!1,g=!1,y=!1,S=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(O){for(var L=n(u);L!==null;){if(L.callback===null)r(u);else if(L.startTime<=O)r(u),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(u)}}function x(O){if(y=!1,p(O),!g)if(n(l)!==null)g=!0,q(b);else{var L=n(u);L!==null&&A(x,L.startTime-O)}}function b(O,L){g=!1,y&&(y=!1,v(M),M=-1),h=!0;var P=d;try{for(p(L),f=n(l);f!==null&&(!(f.expirationTime>L)||O&&!W());){var R=f.callback;if(typeof R=="function"){f.callback=null,d=f.priorityLevel;var F=R(f.expirationTime<=L);L=t.unstable_now(),typeof F=="function"?f.callback=F:f===n(l)&&r(l),p(L)}else r(l);f=n(l)}if(f!==null)var V=!0;else{var G=n(u);G!==null&&A(x,G.startTime-L),V=!1}return V}finally{f=null,d=P,h=!1}}var _=!1,T=null,M=-1,N=5,$=-1;function W(){return!(t.unstable_now()-$<N)}function X(){if(T!==null){var O=t.unstable_now();$=O;var L=!0;try{L=T(!0,O)}finally{L?oe():(_=!1,T=null)}}else _=!1}var oe;if(typeof m=="function")oe=function(){m(X)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,K=H.port2;H.port1.onmessage=X,oe=function(){K.postMessage(null)}}else oe=function(){S(X,0)};function q(O){T=O,_||(_=!0,oe())}function A(O,L){M=S(function(){O(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){g||h||(g=!0,q(b))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(O){switch(d){case 1:case 2:case 3:var L=3;break;default:L=d}var P=d;d=L;try{return O()}finally{d=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,L){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var P=d;d=O;try{return L()}finally{d=P}},t.unstable_scheduleCallback=function(O,L,P){var R=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?R+P:R):P=R,O){case 1:var F=-1;break;case 2:F=250;break;case 5:F=1073741823;break;case 4:F=1e4;break;default:F=5e3}return F=P+F,O={id:c++,callback:L,priorityLevel:O,startTime:P,expirationTime:F,sortIndex:-1},P>R?(O.sortIndex=P,e(u,O),n(l)===null&&O===n(u)&&(y?(v(M),M=-1):y=!0,A(x,P-R))):(O.sortIndex=F,e(l,O),g||h||(g=!0,q(b))),O},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(O){var L=d;return function(){var P=d;d=L;try{return O.apply(this,arguments)}finally{d=P}}}})(f9);(function(t){t.exports=f9})(c9);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d9=z.exports,Ar=c9.exports;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var h9=new Set,ad={};function Rl(t,e){ju(t,e),ju(t+"Capture",e)}function ju(t,e){for(ad[t]=e,t=0;t<e.length;t++)h9.add(e[t])}var Vo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ay=Object.prototype.hasOwnProperty,vD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Lx={},zx={};function yD(t){return ay.call(zx,t)?!0:ay.call(Lx,t)?!1:vD.test(t)?zx[t]=!0:(Lx[t]=!0,!1)}function xD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function wD(t,e,n,r){if(e===null||typeof e>"u"||xD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yn(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Cn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Cn[t]=new Yn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Cn[e]=new Yn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Cn[t]=new Yn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Cn[t]=new Yn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Cn[t]=new Yn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Cn[t]=new Yn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Cn[t]=new Yn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Cn[t]=new Yn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Cn[t]=new Yn(t,5,!1,t.toLowerCase(),null,!1,!1)});var J2=/[\-:]([a-z])/g;function Q2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(J2,Q2);Cn[e]=new Yn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(J2,Q2);Cn[e]=new Yn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(J2,Q2);Cn[e]=new Yn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Cn[t]=new Yn(t,1,!1,t.toLowerCase(),null,!1,!1)});Cn.xlinkHref=new Yn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Cn[t]=new Yn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Z2(t,e,n,r){var i=Cn.hasOwnProperty(e)?Cn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(wD(e,n,i,r)&&(n=null),r||i===null?yD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Zo=d9.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q0=Symbol.for("react.element"),lu=Symbol.for("react.portal"),uu=Symbol.for("react.fragment"),e3=Symbol.for("react.strict_mode"),ly=Symbol.for("react.profiler"),p9=Symbol.for("react.provider"),m9=Symbol.for("react.context"),t3=Symbol.for("react.forward_ref"),uy=Symbol.for("react.suspense"),cy=Symbol.for("react.suspense_list"),n3=Symbol.for("react.memo"),xs=Symbol.for("react.lazy"),g9=Symbol.for("react.offscreen"),Bx=Symbol.iterator;function Bc(t){return t===null||typeof t!="object"?null:(t=Bx&&t[Bx]||t["@@iterator"],typeof t=="function"?t:null)}var Dt=Object.assign,pg;function Qc(t){if(pg===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);pg=e&&e[1]||""}return`
`+pg+t}var mg=!1;function gg(t,e){if(!t||mg)return"";mg=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{mg=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Qc(t):""}function bD(t){switch(t.tag){case 5:return Qc(t.type);case 16:return Qc("Lazy");case 13:return Qc("Suspense");case 19:return Qc("SuspenseList");case 0:case 2:case 15:return t=gg(t.type,!1),t;case 11:return t=gg(t.type.render,!1),t;case 1:return t=gg(t.type,!0),t;default:return""}}function fy(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case uu:return"Fragment";case lu:return"Portal";case ly:return"Profiler";case e3:return"StrictMode";case uy:return"Suspense";case cy:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case m9:return(t.displayName||"Context")+".Consumer";case p9:return(t._context.displayName||"Context")+".Provider";case t3:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case n3:return e=t.displayName||null,e!==null?e:fy(t.type)||"Memo";case xs:e=t._payload,t=t._init;try{return fy(t(e))}catch{}}return null}function SD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return fy(e);case 8:return e===e3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ea(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function v9(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kD(t){var e=v9(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function W0(t){t._valueTracker||(t._valueTracker=kD(t))}function y9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=v9(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function wp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function dy(t,e){var n=e.checked;return Dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:t._wrapperState.initialChecked})}function $x(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ea(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function x9(t,e){e=e.checked,e!=null&&Z2(t,"checked",e,!1)}function hy(t,e){x9(t,e);var n=ea(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?py(t,e.type,n):e.hasOwnProperty("defaultValue")&&py(t,e.type,ea(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Fx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function py(t,e,n){(e!=="number"||wp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Zc=Array.isArray;function Eu(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ea(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function my(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return Dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Vx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(te(92));if(Zc(n)){if(1<n.length)throw Error(te(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ea(n)}}function w9(t,e){var n=ea(e.value),r=ea(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Ux(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function b9(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gy(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?b9(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var K0,S9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(K0=K0||document.createElement("div"),K0.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=K0.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ld(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Lf={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_D=["Webkit","ms","Moz","O"];Object.keys(Lf).forEach(function(t){_D.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lf[e]=Lf[t]})});function k9(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Lf.hasOwnProperty(t)&&Lf[t]?(""+e).trim():e+"px"}function _9(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=k9(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var ED=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vy(t,e){if(e){if(ED[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function yy(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xy=null;function r3(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var wy=null,Cu=null,Tu=null;function Hx(t){if(t=c0(t)){if(typeof wy!="function")throw Error(te(280));var e=t.stateNode;e&&(e=n1(e),wy(t.stateNode,t.type,e))}}function E9(t){Cu?Tu?Tu.push(t):Tu=[t]:Cu=t}function C9(){if(Cu){var t=Cu,e=Tu;if(Tu=Cu=null,Hx(t),e)for(t=0;t<e.length;t++)Hx(e[t])}}function T9(t,e){return t(e)}function A9(){}var vg=!1;function O9(t,e,n){if(vg)return t(e,n);vg=!0;try{return T9(t,e,n)}finally{vg=!1,(Cu!==null||Tu!==null)&&(A9(),C9())}}function ud(t,e){var n=t.stateNode;if(n===null)return null;var r=n1(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(te(231,e,typeof n));return n}var by=!1;if(Vo)try{var $c={};Object.defineProperty($c,"passive",{get:function(){by=!0}}),window.addEventListener("test",$c,$c),window.removeEventListener("test",$c,$c)}catch{by=!1}function CD(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var zf=!1,bp=null,Sp=!1,Sy=null,TD={onError:function(t){zf=!0,bp=t}};function AD(t,e,n,r,i,o,s,a,l){zf=!1,bp=null,CD.apply(TD,arguments)}function OD(t,e,n,r,i,o,s,a,l){if(AD.apply(this,arguments),zf){if(zf){var u=bp;zf=!1,bp=null}else throw Error(te(198));Sp||(Sp=!0,Sy=u)}}function Dl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,(e.flags&4098)!==0&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function M9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function jx(t){if(Dl(t)!==t)throw Error(te(188))}function MD(t){var e=t.alternate;if(!e){if(e=Dl(t),e===null)throw Error(te(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return jx(i),t;if(o===r)return jx(i),e;o=o.sibling}throw Error(te(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(te(189))}}if(n.alternate!==r)throw Error(te(190))}if(n.tag!==3)throw Error(te(188));return n.stateNode.current===n?t:e}function N9(t){return t=MD(t),t!==null?R9(t):null}function R9(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=R9(t);if(e!==null)return e;t=t.sibling}return null}var D9=Ar.unstable_scheduleCallback,qx=Ar.unstable_cancelCallback,ND=Ar.unstable_shouldYield,RD=Ar.unstable_requestPaint,Bt=Ar.unstable_now,DD=Ar.unstable_getCurrentPriorityLevel,i3=Ar.unstable_ImmediatePriority,I9=Ar.unstable_UserBlockingPriority,kp=Ar.unstable_NormalPriority,ID=Ar.unstable_LowPriority,P9=Ar.unstable_IdlePriority,Qm=null,to=null;function PD(t){if(to&&typeof to.onCommitFiberRoot=="function")try{to.onCommitFiberRoot(Qm,t,void 0,(t.current.flags&128)===128)}catch{}}var wi=Math.clz32?Math.clz32:BD,LD=Math.log,zD=Math.LN2;function BD(t){return t>>>=0,t===0?32:31-(LD(t)/zD|0)|0}var G0=64,Y0=4194304;function ef(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function _p(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=ef(a):(o&=s,o!==0&&(r=ef(o)))}else s=n&~i,s!==0?r=ef(s):o!==0&&(r=ef(o));if(r===0)return 0;if(e!==0&&e!==r&&(e&i)===0&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if((r&4)!==0&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-wi(e),i=1<<n,r|=t[n],e&=~i;return r}function $D(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-wi(o),a=1<<s,l=i[s];l===-1?((a&n)===0||(a&r)!==0)&&(i[s]=$D(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function ky(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function L9(){var t=G0;return G0<<=1,(G0&4194240)===0&&(G0=64),t}function yg(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function l0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-wi(e),t[e]=n}function VD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-wi(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function o3(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-wi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var st=0;function z9(t){return t&=-t,1<t?4<t?(t&268435455)!==0?16:536870912:4:1}var B9,s3,$9,F9,V9,_y=!1,X0=[],Fs=null,Vs=null,Us=null,cd=new Map,fd=new Map,ks=[],UD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Wx(t,e){switch(t){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":Us=null;break;case"pointerover":case"pointerout":cd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":fd.delete(e.pointerId)}}function Fc(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=c0(e),e!==null&&s3(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function HD(t,e,n,r,i){switch(e){case"focusin":return Fs=Fc(Fs,t,e,n,r,i),!0;case"dragenter":return Vs=Fc(Vs,t,e,n,r,i),!0;case"mouseover":return Us=Fc(Us,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return cd.set(o,Fc(cd.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,fd.set(o,Fc(fd.get(o)||null,t,e,n,r,i)),!0}return!1}function U9(t){var e=Ka(t.target);if(e!==null){var n=Dl(e);if(n!==null){if(e=n.tag,e===13){if(e=M9(n),e!==null){t.blockedOn=e,V9(t.priority,function(){$9(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ey(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);xy=r,n.target.dispatchEvent(r),xy=null}else return e=c0(n),e!==null&&s3(e),t.blockedOn=n,!1;e.shift()}return!0}function Kx(t,e,n){Vh(t)&&n.delete(e)}function jD(){_y=!1,Fs!==null&&Vh(Fs)&&(Fs=null),Vs!==null&&Vh(Vs)&&(Vs=null),Us!==null&&Vh(Us)&&(Us=null),cd.forEach(Kx),fd.forEach(Kx)}function Vc(t,e){t.blockedOn===e&&(t.blockedOn=null,_y||(_y=!0,Ar.unstable_scheduleCallback(Ar.unstable_NormalPriority,jD)))}function dd(t){function e(i){return Vc(i,t)}if(0<X0.length){Vc(X0[0],t);for(var n=1;n<X0.length;n++){var r=X0[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Fs!==null&&Vc(Fs,t),Vs!==null&&Vc(Vs,t),Us!==null&&Vc(Us,t),cd.forEach(e),fd.forEach(e),n=0;n<ks.length;n++)r=ks[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ks.length&&(n=ks[0],n.blockedOn===null);)U9(n),n.blockedOn===null&&ks.shift()}var Au=Zo.ReactCurrentBatchConfig,Ep=!0;function qD(t,e,n,r){var i=st,o=Au.transition;Au.transition=null;try{st=1,a3(t,e,n,r)}finally{st=i,Au.transition=o}}function WD(t,e,n,r){var i=st,o=Au.transition;Au.transition=null;try{st=4,a3(t,e,n,r)}finally{st=i,Au.transition=o}}function a3(t,e,n,r){if(Ep){var i=Ey(t,e,n,r);if(i===null)Ag(t,e,r,Cp,n),Wx(t,r);else if(HD(i,t,e,n,r))r.stopPropagation();else if(Wx(t,r),e&4&&-1<UD.indexOf(t)){for(;i!==null;){var o=c0(i);if(o!==null&&B9(o),o=Ey(t,e,n,r),o===null&&Ag(t,e,r,Cp,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else Ag(t,e,r,null,n)}}var Cp=null;function Ey(t,e,n,r){if(Cp=null,t=r3(r),t=Ka(t),t!==null)if(e=Dl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=M9(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Cp=t,null}function H9(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(DD()){case i3:return 1;case I9:return 4;case kp:case ID:return 16;case P9:return 536870912;default:return 16}default:return 16}}var Cs=null,l3=null,Uh=null;function j9(){if(Uh)return Uh;var t,e=l3,n=e.length,r,i="value"in Cs?Cs.value:Cs.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Uh=i.slice(t,1<r?1-r:void 0)}function Hh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function J0(){return!0}function Gx(){return!1}function Rr(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?J0:Gx,this.isPropagationStopped=Gx,this}return Dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=J0)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=J0)},persist:function(){},isPersistent:J0}),e}var xc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},u3=Rr(xc),u0=Dt({},xc,{view:0,detail:0}),KD=Rr(u0),xg,wg,Uc,Zm=Dt({},u0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:c3,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Uc&&(Uc&&t.type==="mousemove"?(xg=t.screenX-Uc.screenX,wg=t.screenY-Uc.screenY):wg=xg=0,Uc=t),xg)},movementY:function(t){return"movementY"in t?t.movementY:wg}}),Yx=Rr(Zm),GD=Dt({},Zm,{dataTransfer:0}),YD=Rr(GD),XD=Dt({},u0,{relatedTarget:0}),bg=Rr(XD),JD=Dt({},xc,{animationName:0,elapsedTime:0,pseudoElement:0}),QD=Rr(JD),ZD=Dt({},xc,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),eI=Rr(ZD),tI=Dt({},xc,{data:0}),Xx=Rr(tI),nI={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rI={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},iI={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oI(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=iI[t])?!!e[t]:!1}function c3(){return oI}var sI=Dt({},u0,{key:function(t){if(t.key){var e=nI[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rI[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:c3,charCode:function(t){return t.type==="keypress"?Hh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aI=Rr(sI),lI=Dt({},Zm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Jx=Rr(lI),uI=Dt({},u0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:c3}),cI=Rr(uI),fI=Dt({},xc,{propertyName:0,elapsedTime:0,pseudoElement:0}),dI=Rr(fI),hI=Dt({},Zm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pI=Rr(hI),mI=[9,13,27,32],f3=Vo&&"CompositionEvent"in window,Bf=null;Vo&&"documentMode"in document&&(Bf=document.documentMode);var gI=Vo&&"TextEvent"in window&&!Bf,q9=Vo&&(!f3||Bf&&8<Bf&&11>=Bf),Qx=String.fromCharCode(32),Zx=!1;function W9(t,e){switch(t){case"keyup":return mI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function K9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var cu=!1;function vI(t,e){switch(t){case"compositionend":return K9(e);case"keypress":return e.which!==32?null:(Zx=!0,Qx);case"textInput":return t=e.data,t===Qx&&Zx?null:t;default:return null}}function yI(t,e){if(cu)return t==="compositionend"||!f3&&W9(t,e)?(t=j9(),Uh=l3=Cs=null,cu=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return q9&&e.locale!=="ko"?null:e.data;default:return null}}var xI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ew(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xI[t.type]:e==="textarea"}function G9(t,e,n,r){E9(r),e=Tp(e,"onChange"),0<e.length&&(n=new u3("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $f=null,hd=null;function wI(t){o_(t,0)}function e1(t){var e=hu(t);if(y9(e))return t}function bI(t,e){if(t==="change")return e}var Y9=!1;if(Vo){var Sg;if(Vo){var kg="oninput"in document;if(!kg){var tw=document.createElement("div");tw.setAttribute("oninput","return;"),kg=typeof tw.oninput=="function"}Sg=kg}else Sg=!1;Y9=Sg&&(!document.documentMode||9<document.documentMode)}function nw(){$f&&($f.detachEvent("onpropertychange",X9),hd=$f=null)}function X9(t){if(t.propertyName==="value"&&e1(hd)){var e=[];G9(e,hd,t,r3(t)),O9(wI,e)}}function SI(t,e,n){t==="focusin"?(nw(),$f=e,hd=n,$f.attachEvent("onpropertychange",X9)):t==="focusout"&&nw()}function kI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return e1(hd)}function _I(t,e){if(t==="click")return e1(e)}function EI(t,e){if(t==="input"||t==="change")return e1(e)}function CI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ai=typeof Object.is=="function"?Object.is:CI;function pd(t,e){if(Ai(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ay.call(e,i)||!Ai(t[i],e[i]))return!1}return!0}function rw(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iw(t,e){var n=rw(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=rw(n)}}function J9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?J9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Q9(){for(var t=window,e=wp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=wp(t.document)}return e}function d3(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function TI(t){var e=Q9(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&J9(n.ownerDocument.documentElement,n)){if(r!==null&&d3(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=iw(n,o);var s=iw(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var AI=Vo&&"documentMode"in document&&11>=document.documentMode,fu=null,Cy=null,Ff=null,Ty=!1;function ow(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ty||fu==null||fu!==wp(r)||(r=fu,"selectionStart"in r&&d3(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ff&&pd(Ff,r)||(Ff=r,r=Tp(Cy,"onSelect"),0<r.length&&(e=new u3("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=fu)))}function Q0(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var du={animationend:Q0("Animation","AnimationEnd"),animationiteration:Q0("Animation","AnimationIteration"),animationstart:Q0("Animation","AnimationStart"),transitionend:Q0("Transition","TransitionEnd")},_g={},Z9={};Vo&&(Z9=document.createElement("div").style,"AnimationEvent"in window||(delete du.animationend.animation,delete du.animationiteration.animation,delete du.animationstart.animation),"TransitionEvent"in window||delete du.transitionend.transition);function t1(t){if(_g[t])return _g[t];if(!du[t])return t;var e=du[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Z9)return _g[t]=e[n];return t}var e_=t1("animationend"),t_=t1("animationiteration"),n_=t1("animationstart"),r_=t1("transitionend"),i_=new Map,sw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pa(t,e){i_.set(t,e),Rl(e,[t])}for(var Eg=0;Eg<sw.length;Eg++){var Cg=sw[Eg],OI=Cg.toLowerCase(),MI=Cg[0].toUpperCase()+Cg.slice(1);pa(OI,"on"+MI)}pa(e_,"onAnimationEnd");pa(t_,"onAnimationIteration");pa(n_,"onAnimationStart");pa("dblclick","onDoubleClick");pa("focusin","onFocus");pa("focusout","onBlur");pa(r_,"onTransitionEnd");ju("onMouseEnter",["mouseout","mouseover"]);ju("onMouseLeave",["mouseout","mouseover"]);ju("onPointerEnter",["pointerout","pointerover"]);ju("onPointerLeave",["pointerout","pointerover"]);Rl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rl("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NI=new Set("cancel close invalid load scroll toggle".split(" ").concat(tf));function aw(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,OD(r,e,void 0,t),t.currentTarget=null}function o_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;aw(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;aw(i,a,u),o=l}}}if(Sp)throw t=Sy,Sp=!1,Sy=null,t}function xt(t,e){var n=e[Ry];n===void 0&&(n=e[Ry]=new Set);var r=t+"__bubble";n.has(r)||(s_(e,t,2,!1),n.add(r))}function Tg(t,e,n){var r=0;e&&(r|=4),s_(n,t,r,e)}var Z0="_reactListening"+Math.random().toString(36).slice(2);function md(t){if(!t[Z0]){t[Z0]=!0,h9.forEach(function(n){n!=="selectionchange"&&(NI.has(n)||Tg(n,!1,t),Tg(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Z0]||(e[Z0]=!0,Tg("selectionchange",!1,e))}}function s_(t,e,n,r){switch(H9(e)){case 1:var i=qD;break;case 4:i=WD;break;default:i=a3}n=i.bind(null,e,n,t),i=void 0,!by||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ag(t,e,n,r,i){var o=r;if((e&1)===0&&(e&2)===0&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Ka(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}O9(function(){var u=o,c=r3(n),f=[];e:{var d=i_.get(t);if(d!==void 0){var h=u3,g=t;switch(t){case"keypress":if(Hh(n)===0)break e;case"keydown":case"keyup":h=aI;break;case"focusin":g="focus",h=bg;break;case"focusout":g="blur",h=bg;break;case"beforeblur":case"afterblur":h=bg;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Yx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=YD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=cI;break;case e_:case t_:case n_:h=QD;break;case r_:h=dI;break;case"scroll":h=KD;break;case"wheel":h=pI;break;case"copy":case"cut":case"paste":h=eI;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Jx}var y=(e&4)!==0,S=!y&&t==="scroll",v=y?d!==null?d+"Capture":null:d;y=[];for(var m=u,p;m!==null;){p=m;var x=p.stateNode;if(p.tag===5&&x!==null&&(p=x,v!==null&&(x=ud(m,v),x!=null&&y.push(gd(m,x,p)))),S)break;m=m.return}0<y.length&&(d=new h(d,g,null,n,c),f.push({event:d,listeners:y}))}}if((e&7)===0){e:{if(d=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",d&&n!==xy&&(g=n.relatedTarget||n.fromElement)&&(Ka(g)||g[Uo]))break e;if((h||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,h?(g=n.relatedTarget||n.toElement,h=u,g=g?Ka(g):null,g!==null&&(S=Dl(g),g!==S||g.tag!==5&&g.tag!==6)&&(g=null)):(h=null,g=u),h!==g)){if(y=Yx,x="onMouseLeave",v="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=Jx,x="onPointerLeave",v="onPointerEnter",m="pointer"),S=h==null?d:hu(h),p=g==null?d:hu(g),d=new y(x,m+"leave",h,n,c),d.target=S,d.relatedTarget=p,x=null,Ka(c)===u&&(y=new y(v,m+"enter",g,n,c),y.target=p,y.relatedTarget=S,x=y),S=x,h&&g)t:{for(y=h,v=g,m=0,p=y;p;p=Hl(p))m++;for(p=0,x=v;x;x=Hl(x))p++;for(;0<m-p;)y=Hl(y),m--;for(;0<p-m;)v=Hl(v),p--;for(;m--;){if(y===v||v!==null&&y===v.alternate)break t;y=Hl(y),v=Hl(v)}y=null}else y=null;h!==null&&lw(f,d,h,y,!1),g!==null&&S!==null&&lw(f,S,g,y,!0)}}e:{if(d=u?hu(u):window,h=d.nodeName&&d.nodeName.toLowerCase(),h==="select"||h==="input"&&d.type==="file")var b=bI;else if(ew(d))if(Y9)b=EI;else{b=kI;var _=SI}else(h=d.nodeName)&&h.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(b=_I);if(b&&(b=b(t,u))){G9(f,b,n,c);break e}_&&_(t,d,u),t==="focusout"&&(_=d._wrapperState)&&_.controlled&&d.type==="number"&&py(d,"number",d.value)}switch(_=u?hu(u):window,t){case"focusin":(ew(_)||_.contentEditable==="true")&&(fu=_,Cy=u,Ff=null);break;case"focusout":Ff=Cy=fu=null;break;case"mousedown":Ty=!0;break;case"contextmenu":case"mouseup":case"dragend":Ty=!1,ow(f,n,c);break;case"selectionchange":if(AI)break;case"keydown":case"keyup":ow(f,n,c)}var T;if(f3)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else cu?W9(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(q9&&n.locale!=="ko"&&(cu||M!=="onCompositionStart"?M==="onCompositionEnd"&&cu&&(T=j9()):(Cs=c,l3="value"in Cs?Cs.value:Cs.textContent,cu=!0)),_=Tp(u,M),0<_.length&&(M=new Xx(M,t,null,n,c),f.push({event:M,listeners:_}),T?M.data=T:(T=K9(n),T!==null&&(M.data=T)))),(T=gI?vI(t,n):yI(t,n))&&(u=Tp(u,"onBeforeInput"),0<u.length&&(c=new Xx("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=T))}o_(f,e)})}function gd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Tp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=ud(t,n),o!=null&&r.unshift(gd(t,o,i)),o=ud(t,e),o!=null&&r.push(gd(t,o,i))),t=t.return}return r}function Hl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lw(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=ud(n,o),l!=null&&s.unshift(gd(n,l,a))):i||(l=ud(n,o),l!=null&&s.push(gd(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var RI=/\r\n?/g,DI=/\u0000|\uFFFD/g;function uw(t){return(typeof t=="string"?t:""+t).replace(RI,`
`).replace(DI,"")}function eh(t,e,n){if(e=uw(e),uw(t)!==e&&n)throw Error(te(425))}function Ap(){}var Ay=null,Oy=null;function My(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ny=typeof setTimeout=="function"?setTimeout:void 0,II=typeof clearTimeout=="function"?clearTimeout:void 0,cw=typeof Promise=="function"?Promise:void 0,PI=typeof queueMicrotask=="function"?queueMicrotask:typeof cw<"u"?function(t){return cw.resolve(null).then(t).catch(LI)}:Ny;function LI(t){setTimeout(function(){throw t})}function Og(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),dd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);dd(e)}function Hs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var wc=Math.random().toString(36).slice(2),Gi="__reactFiber$"+wc,vd="__reactProps$"+wc,Uo="__reactContainer$"+wc,Ry="__reactEvents$"+wc,zI="__reactListeners$"+wc,BI="__reactHandles$"+wc;function Ka(t){var e=t[Gi];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Uo]||n[Gi]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=fw(t);t!==null;){if(n=t[Gi])return n;t=fw(t)}return e}t=n,n=t.parentNode}return null}function c0(t){return t=t[Gi]||t[Uo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function hu(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function n1(t){return t[vd]||null}var Dy=[],pu=-1;function ma(t){return{current:t}}function wt(t){0>pu||(t.current=Dy[pu],Dy[pu]=null,pu--)}function pt(t,e){pu++,Dy[pu]=t.current,t.current=e}var ta={},Pn=ma(ta),ur=ma(!1),cl=ta;function qu(t,e){var n=t.type.contextTypes;if(!n)return ta;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function cr(t){return t=t.childContextTypes,t!=null}function Op(){wt(ur),wt(Pn)}function dw(t,e,n){if(Pn.current!==ta)throw Error(te(168));pt(Pn,e),pt(ur,n)}function a_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(te(108,SD(t)||"Unknown",i));return Dt({},n,r)}function Mp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ta,cl=Pn.current,pt(Pn,t),pt(ur,ur.current),!0}function hw(t,e,n){var r=t.stateNode;if(!r)throw Error(te(169));n?(t=a_(t,e,cl),r.__reactInternalMemoizedMergedChildContext=t,wt(ur),wt(Pn),pt(Pn,t)):wt(ur),pt(ur,n)}var To=null,r1=!1,Mg=!1;function l_(t){To===null?To=[t]:To.push(t)}function $I(t){r1=!0,l_(t)}function ga(){if(!Mg&&To!==null){Mg=!0;var t=0,e=st;try{var n=To;for(st=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}To=null,r1=!1}catch(i){throw To!==null&&(To=To.slice(t+1)),D9(i3,ga),i}finally{st=e,Mg=!1}}return null}var mu=[],gu=0,Np=null,Rp=0,zr=[],Br=0,fl=null,Mo=1,No="";function Na(t,e){mu[gu++]=Rp,mu[gu++]=Np,Np=t,Rp=e}function u_(t,e,n){zr[Br++]=Mo,zr[Br++]=No,zr[Br++]=fl,fl=t;var r=Mo;t=No;var i=32-wi(r)-1;r&=~(1<<i),n+=1;var o=32-wi(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Mo=1<<32-wi(e)+i|n<<i|r,No=o+t}else Mo=1<<o|n<<i|r,No=t}function h3(t){t.return!==null&&(Na(t,1),u_(t,1,0))}function p3(t){for(;t===Np;)Np=mu[--gu],mu[gu]=null,Rp=mu[--gu],mu[gu]=null;for(;t===fl;)fl=zr[--Br],zr[Br]=null,No=zr[--Br],zr[Br]=null,Mo=zr[--Br],zr[Br]=null}var Tr=null,Cr=null,St=!1,pi=null;function c_(t,e){var n=Vr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function pw(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tr=t,Cr=Hs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tr=t,Cr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fl!==null?{id:Mo,overflow:No}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tr=t,Cr=null,!0):!1;default:return!1}}function Iy(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Py(t){if(St){var e=Cr;if(e){var n=e;if(!pw(t,e)){if(Iy(t))throw Error(te(418));e=Hs(n.nextSibling);var r=Tr;e&&pw(t,e)?c_(r,n):(t.flags=t.flags&-4097|2,St=!1,Tr=t)}}else{if(Iy(t))throw Error(te(418));t.flags=t.flags&-4097|2,St=!1,Tr=t}}}function mw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tr=t}function th(t){if(t!==Tr)return!1;if(!St)return mw(t),St=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!My(t.type,t.memoizedProps)),e&&(e=Cr)){if(Iy(t))throw f_(),Error(te(418));for(;e;)c_(t,e),e=Hs(e.nextSibling)}if(mw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Cr=Hs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Cr=null}}else Cr=Tr?Hs(t.stateNode.nextSibling):null;return!0}function f_(){for(var t=Cr;t;)t=Hs(t.nextSibling)}function Wu(){Cr=Tr=null,St=!1}function m3(t){pi===null?pi=[t]:pi.push(t)}var FI=Zo.ReactCurrentBatchConfig;function li(t,e){if(t&&t.defaultProps){e=Dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Dp=ma(null),Ip=null,vu=null,g3=null;function v3(){g3=vu=Ip=null}function y3(t){var e=Dp.current;wt(Dp),t._currentValue=e}function Ly(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Ou(t,e){Ip=t,g3=vu=null,t=t.dependencies,t!==null&&t.firstContext!==null&&((t.lanes&e)!==0&&(or=!0),t.firstContext=null)}function Wr(t){var e=t._currentValue;if(g3!==t)if(t={context:t,memoizedValue:e,next:null},vu===null){if(Ip===null)throw Error(te(308));vu=t,Ip.dependencies={lanes:0,firstContext:t}}else vu=vu.next=t;return e}var Ga=null;function x3(t){Ga===null?Ga=[t]:Ga.push(t)}function d_(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,x3(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ho(t,r)}function Ho(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ws=!1;function w3(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function h_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function zo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function js(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,(Qe&2)!==0){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ho(t,n)}return i=r.interleaved,i===null?(e.next=e,x3(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ho(t,n)}function jh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,o3(t,n)}}function gw(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Pp(t,e,n,r){var i=t.updateQueue;ws=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var d=a.lane,h=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,y=a;switch(d=e,h=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(h,f,d);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,d=typeof g=="function"?g.call(h,f,d):g,d==null)break e;f=Dt({},f,d);break e;case 2:ws=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=h,l=f):c=c.next=h,s|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);hl|=s,t.lanes=s,t.memoizedState=f}}function vw(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(te(191,i));i.call(r)}}}var p_=new d9.Component().refs;function zy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var i1={isMounted:function(t){return(t=t._reactInternals)?Dl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Hn(),i=Ws(t),o=zo(r,i);o.payload=e,n!=null&&(o.callback=n),e=js(t,o,i),e!==null&&(bi(e,t,i,r),jh(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Hn(),i=Ws(t),o=zo(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=js(t,o,i),e!==null&&(bi(e,t,i,r),jh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Hn(),r=Ws(t),i=zo(n,r);i.tag=2,e!=null&&(i.callback=e),e=js(t,i,r),e!==null&&(bi(e,t,r,n),jh(e,t,r))}};function yw(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!pd(n,r)||!pd(i,o):!0}function m_(t,e,n){var r=!1,i=ta,o=e.contextType;return typeof o=="object"&&o!==null?o=Wr(o):(i=cr(e)?cl:Pn.current,r=e.contextTypes,o=(r=r!=null)?qu(t,i):ta),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=i1,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function xw(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&i1.enqueueReplaceState(e,e.state,null)}function By(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=p_,w3(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Wr(o):(o=cr(e)?cl:Pn.current,i.context=qu(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(zy(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&i1.enqueueReplaceState(i,i.state,null),Pp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(te(309));var r=n.stateNode}if(!r)throw Error(te(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;a===p_&&(a=i.refs={}),s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(te(284));if(!n._owner)throw Error(te(290,t))}return t}function nh(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function ww(t){var e=t._init;return e(t._payload)}function g_(t){function e(v,m){if(t){var p=v.deletions;p===null?(v.deletions=[m],v.flags|=16):p.push(m)}}function n(v,m){if(!t)return null;for(;m!==null;)e(v,m),m=m.sibling;return null}function r(v,m){for(v=new Map;m!==null;)m.key!==null?v.set(m.key,m):v.set(m.index,m),m=m.sibling;return v}function i(v,m){return v=Ks(v,m),v.index=0,v.sibling=null,v}function o(v,m,p){return v.index=p,t?(p=v.alternate,p!==null?(p=p.index,p<m?(v.flags|=2,m):p):(v.flags|=2,m)):(v.flags|=1048576,m)}function s(v){return t&&v.alternate===null&&(v.flags|=2),v}function a(v,m,p,x){return m===null||m.tag!==6?(m=zg(p,v.mode,x),m.return=v,m):(m=i(m,p),m.return=v,m)}function l(v,m,p,x){var b=p.type;return b===uu?c(v,m,p.props.children,x,p.key):m!==null&&(m.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===xs&&ww(b)===m.type)?(x=i(m,p.props),x.ref=Hc(v,m,p),x.return=v,x):(x=Xh(p.type,p.key,p.props,null,v.mode,x),x.ref=Hc(v,m,p),x.return=v,x)}function u(v,m,p,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=Bg(p,v.mode,x),m.return=v,m):(m=i(m,p.children||[]),m.return=v,m)}function c(v,m,p,x,b){return m===null||m.tag!==7?(m=rl(p,v.mode,x,b),m.return=v,m):(m=i(m,p),m.return=v,m)}function f(v,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=zg(""+m,v.mode,p),m.return=v,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case q0:return p=Xh(m.type,m.key,m.props,null,v.mode,p),p.ref=Hc(v,null,m),p.return=v,p;case lu:return m=Bg(m,v.mode,p),m.return=v,m;case xs:var x=m._init;return f(v,x(m._payload),p)}if(Zc(m)||Bc(m))return m=rl(m,v.mode,p,null),m.return=v,m;nh(v,m)}return null}function d(v,m,p,x){var b=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return b!==null?null:a(v,m,""+p,x);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case q0:return p.key===b?l(v,m,p,x):null;case lu:return p.key===b?u(v,m,p,x):null;case xs:return b=p._init,d(v,m,b(p._payload),x)}if(Zc(p)||Bc(p))return b!==null?null:c(v,m,p,x,null);nh(v,p)}return null}function h(v,m,p,x,b){if(typeof x=="string"&&x!==""||typeof x=="number")return v=v.get(p)||null,a(m,v,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case q0:return v=v.get(x.key===null?p:x.key)||null,l(m,v,x,b);case lu:return v=v.get(x.key===null?p:x.key)||null,u(m,v,x,b);case xs:var _=x._init;return h(v,m,p,_(x._payload),b)}if(Zc(x)||Bc(x))return v=v.get(p)||null,c(m,v,x,b,null);nh(m,x)}return null}function g(v,m,p,x){for(var b=null,_=null,T=m,M=m=0,N=null;T!==null&&M<p.length;M++){T.index>M?(N=T,T=null):N=T.sibling;var $=d(v,T,p[M],x);if($===null){T===null&&(T=N);break}t&&T&&$.alternate===null&&e(v,T),m=o($,m,M),_===null?b=$:_.sibling=$,_=$,T=N}if(M===p.length)return n(v,T),St&&Na(v,M),b;if(T===null){for(;M<p.length;M++)T=f(v,p[M],x),T!==null&&(m=o(T,m,M),_===null?b=T:_.sibling=T,_=T);return St&&Na(v,M),b}for(T=r(v,T);M<p.length;M++)N=h(T,v,M,p[M],x),N!==null&&(t&&N.alternate!==null&&T.delete(N.key===null?M:N.key),m=o(N,m,M),_===null?b=N:_.sibling=N,_=N);return t&&T.forEach(function(W){return e(v,W)}),St&&Na(v,M),b}function y(v,m,p,x){var b=Bc(p);if(typeof b!="function")throw Error(te(150));if(p=b.call(p),p==null)throw Error(te(151));for(var _=b=null,T=m,M=m=0,N=null,$=p.next();T!==null&&!$.done;M++,$=p.next()){T.index>M?(N=T,T=null):N=T.sibling;var W=d(v,T,$.value,x);if(W===null){T===null&&(T=N);break}t&&T&&W.alternate===null&&e(v,T),m=o(W,m,M),_===null?b=W:_.sibling=W,_=W,T=N}if($.done)return n(v,T),St&&Na(v,M),b;if(T===null){for(;!$.done;M++,$=p.next())$=f(v,$.value,x),$!==null&&(m=o($,m,M),_===null?b=$:_.sibling=$,_=$);return St&&Na(v,M),b}for(T=r(v,T);!$.done;M++,$=p.next())$=h(T,v,M,$.value,x),$!==null&&(t&&$.alternate!==null&&T.delete($.key===null?M:$.key),m=o($,m,M),_===null?b=$:_.sibling=$,_=$);return t&&T.forEach(function(X){return e(v,X)}),St&&Na(v,M),b}function S(v,m,p,x){if(typeof p=="object"&&p!==null&&p.type===uu&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case q0:e:{for(var b=p.key,_=m;_!==null;){if(_.key===b){if(b=p.type,b===uu){if(_.tag===7){n(v,_.sibling),m=i(_,p.props.children),m.return=v,v=m;break e}}else if(_.elementType===b||typeof b=="object"&&b!==null&&b.$$typeof===xs&&ww(b)===_.type){n(v,_.sibling),m=i(_,p.props),m.ref=Hc(v,_,p),m.return=v,v=m;break e}n(v,_);break}else e(v,_);_=_.sibling}p.type===uu?(m=rl(p.props.children,v.mode,x,p.key),m.return=v,v=m):(x=Xh(p.type,p.key,p.props,null,v.mode,x),x.ref=Hc(v,m,p),x.return=v,v=x)}return s(v);case lu:e:{for(_=p.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){n(v,m.sibling),m=i(m,p.children||[]),m.return=v,v=m;break e}else{n(v,m);break}else e(v,m);m=m.sibling}m=Bg(p,v.mode,x),m.return=v,v=m}return s(v);case xs:return _=p._init,S(v,m,_(p._payload),x)}if(Zc(p))return g(v,m,p,x);if(Bc(p))return y(v,m,p,x);nh(v,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(n(v,m.sibling),m=i(m,p),m.return=v,v=m):(n(v,m),m=zg(p,v.mode,x),m.return=v,v=m),s(v)):n(v,m)}return S}var Ku=g_(!0),v_=g_(!1),f0={},no=ma(f0),yd=ma(f0),xd=ma(f0);function Ya(t){if(t===f0)throw Error(te(174));return t}function b3(t,e){switch(pt(xd,e),pt(yd,t),pt(no,f0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:gy(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=gy(e,t)}wt(no),pt(no,e)}function Gu(){wt(no),wt(yd),wt(xd)}function y_(t){Ya(xd.current);var e=Ya(no.current),n=gy(e,t.type);e!==n&&(pt(yd,t),pt(no,n))}function S3(t){yd.current===t&&(wt(no),wt(yd))}var Ot=ma(0);function Lp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if((e.flags&128)!==0)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Ng=[];function k3(){for(var t=0;t<Ng.length;t++)Ng[t]._workInProgressVersionPrimary=null;Ng.length=0}var qh=Zo.ReactCurrentDispatcher,Rg=Zo.ReactCurrentBatchConfig,dl=0,Rt=null,tn=null,fn=null,zp=!1,Vf=!1,wd=0,VI=0;function An(){throw Error(te(321))}function _3(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ai(t[n],e[n]))return!1;return!0}function E3(t,e,n,r,i,o){if(dl=o,Rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qh.current=t===null||t.memoizedState===null?qI:WI,t=n(r,i),Vf){o=0;do{if(Vf=!1,wd=0,25<=o)throw Error(te(301));o+=1,fn=tn=null,e.updateQueue=null,qh.current=KI,t=n(r,i)}while(Vf)}if(qh.current=Bp,e=tn!==null&&tn.next!==null,dl=0,fn=tn=Rt=null,zp=!1,e)throw Error(te(300));return t}function C3(){var t=wd!==0;return wd=0,t}function Ui(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fn===null?Rt.memoizedState=fn=t:fn=fn.next=t,fn}function Kr(){if(tn===null){var t=Rt.alternate;t=t!==null?t.memoizedState:null}else t=tn.next;var e=fn===null?Rt.memoizedState:fn.next;if(e!==null)fn=e,tn=t;else{if(t===null)throw Error(te(310));tn=t,t={memoizedState:tn.memoizedState,baseState:tn.baseState,baseQueue:tn.baseQueue,queue:tn.queue,next:null},fn===null?Rt.memoizedState=fn=t:fn=fn.next=t}return fn}function bd(t,e){return typeof e=="function"?e(t):e}function Dg(t){var e=Kr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=tn,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((dl&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Rt.lanes|=c,hl|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,Ai(r,e.memoizedState)||(or=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Rt.lanes|=o,hl|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ig(t){var e=Kr(),n=e.queue;if(n===null)throw Error(te(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);Ai(o,e.memoizedState)||(or=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function x_(){}function w_(t,e){var n=Rt,r=Kr(),i=e(),o=!Ai(r.memoizedState,i);if(o&&(r.memoizedState=i,or=!0),r=r.queue,T3(k_.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||fn!==null&&fn.memoizedState.tag&1){if(n.flags|=2048,Sd(9,S_.bind(null,n,r,i,e),void 0,null),dn===null)throw Error(te(349));(dl&30)!==0||b_(n,e,i)}return i}function b_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function S_(t,e,n,r){e.value=n,e.getSnapshot=r,__(e)&&E_(t)}function k_(t,e,n){return n(function(){__(e)&&E_(t)})}function __(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ai(t,n)}catch{return!0}}function E_(t){var e=Ho(t,1);e!==null&&bi(e,t,1,-1)}function bw(t){var e=Ui();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bd,lastRenderedState:t},e.queue=t,t=t.dispatch=jI.bind(null,Rt,t),[e.memoizedState,t]}function Sd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Rt.updateQueue,e===null?(e={lastEffect:null,stores:null},Rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function C_(){return Kr().memoizedState}function Wh(t,e,n,r){var i=Ui();Rt.flags|=t,i.memoizedState=Sd(1|e,n,void 0,r===void 0?null:r)}function o1(t,e,n,r){var i=Kr();r=r===void 0?null:r;var o=void 0;if(tn!==null){var s=tn.memoizedState;if(o=s.destroy,r!==null&&_3(r,s.deps)){i.memoizedState=Sd(e,n,o,r);return}}Rt.flags|=t,i.memoizedState=Sd(1|e,n,o,r)}function Sw(t,e){return Wh(8390656,8,t,e)}function T3(t,e){return o1(2048,8,t,e)}function T_(t,e){return o1(4,2,t,e)}function A_(t,e){return o1(4,4,t,e)}function O_(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function M_(t,e,n){return n=n!=null?n.concat([t]):null,o1(4,4,O_.bind(null,e,t),n)}function A3(){}function N_(t,e){var n=Kr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_3(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function R_(t,e){var n=Kr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_3(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function D_(t,e,n){return(dl&21)===0?(t.baseState&&(t.baseState=!1,or=!0),t.memoizedState=n):(Ai(n,e)||(n=L9(),Rt.lanes|=n,hl|=n,t.baseState=!0),e)}function UI(t,e){var n=st;st=n!==0&&4>n?n:4,t(!0);var r=Rg.transition;Rg.transition={};try{t(!1),e()}finally{st=n,Rg.transition=r}}function I_(){return Kr().memoizedState}function HI(t,e,n){var r=Ws(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},P_(t))L_(e,n);else if(n=d_(t,e,n,r),n!==null){var i=Hn();bi(n,t,r,i),z_(n,e,r)}}function jI(t,e,n){var r=Ws(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(P_(t))L_(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,Ai(a,s)){var l=e.interleaved;l===null?(i.next=i,x3(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=d_(t,e,i,r),n!==null&&(i=Hn(),bi(n,t,r,i),z_(n,e,r))}}function P_(t){var e=t.alternate;return t===Rt||e!==null&&e===Rt}function L_(t,e){Vf=zp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function z_(t,e,n){if((n&4194240)!==0){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,o3(t,n)}}var Bp={readContext:Wr,useCallback:An,useContext:An,useEffect:An,useImperativeHandle:An,useInsertionEffect:An,useLayoutEffect:An,useMemo:An,useReducer:An,useRef:An,useState:An,useDebugValue:An,useDeferredValue:An,useTransition:An,useMutableSource:An,useSyncExternalStore:An,useId:An,unstable_isNewReconciler:!1},qI={readContext:Wr,useCallback:function(t,e){return Ui().memoizedState=[t,e===void 0?null:e],t},useContext:Wr,useEffect:Sw,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wh(4194308,4,O_.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wh(4,2,t,e)},useMemo:function(t,e){var n=Ui();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ui();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=HI.bind(null,Rt,t),[r.memoizedState,t]},useRef:function(t){var e=Ui();return t={current:t},e.memoizedState=t},useState:bw,useDebugValue:A3,useDeferredValue:function(t){return Ui().memoizedState=t},useTransition:function(){var t=bw(!1),e=t[0];return t=UI.bind(null,t[1]),Ui().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Rt,i=Ui();if(St){if(n===void 0)throw Error(te(407));n=n()}else{if(n=e(),dn===null)throw Error(te(349));(dl&30)!==0||b_(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,Sw(k_.bind(null,r,o,t),[t]),r.flags|=2048,Sd(9,S_.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Ui(),e=dn.identifierPrefix;if(St){var n=No,r=Mo;n=(r&~(1<<32-wi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=wd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=VI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},WI={readContext:Wr,useCallback:N_,useContext:Wr,useEffect:T3,useImperativeHandle:M_,useInsertionEffect:T_,useLayoutEffect:A_,useMemo:R_,useReducer:Dg,useRef:C_,useState:function(){return Dg(bd)},useDebugValue:A3,useDeferredValue:function(t){var e=Kr();return D_(e,tn.memoizedState,t)},useTransition:function(){var t=Dg(bd)[0],e=Kr().memoizedState;return[t,e]},useMutableSource:x_,useSyncExternalStore:w_,useId:I_,unstable_isNewReconciler:!1},KI={readContext:Wr,useCallback:N_,useContext:Wr,useEffect:T3,useImperativeHandle:M_,useInsertionEffect:T_,useLayoutEffect:A_,useMemo:R_,useReducer:Ig,useRef:C_,useState:function(){return Ig(bd)},useDebugValue:A3,useDeferredValue:function(t){var e=Kr();return tn===null?e.memoizedState=t:D_(e,tn.memoizedState,t)},useTransition:function(){var t=Ig(bd)[0],e=Kr().memoizedState;return[t,e]},useMutableSource:x_,useSyncExternalStore:w_,useId:I_,unstable_isNewReconciler:!1};function Yu(t,e){try{var n="",r=e;do n+=bD(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function Pg(t,e,n){return{value:t,source:null,stack:n!=null?n:null,digest:e!=null?e:null}}function $y(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var GI=typeof WeakMap=="function"?WeakMap:Map;function B_(t,e,n){n=zo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Fp||(Fp=!0,Yy=r),$y(t,e)},n}function $_(t,e,n){n=zo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){$y(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){$y(t,e),typeof r!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function kw(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new GI;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=lP.bind(null,t,e,n),e.then(t,t))}function _w(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Ew(t,e,n,r,i){return(t.mode&1)===0?(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=zo(-1,1),e.tag=2,js(n,e,1))),n.lanes|=1),t):(t.flags|=65536,t.lanes=i,t)}var YI=Zo.ReactCurrentOwner,or=!1;function Fn(t,e,n,r){e.child=t===null?v_(e,null,n,r):Ku(e,t.child,n,r)}function Cw(t,e,n,r,i){n=n.render;var o=e.ref;return Ou(e,i),r=E3(t,e,n,r,o,i),n=C3(),t!==null&&!or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,jo(t,e,i)):(St&&n&&h3(e),e.flags|=1,Fn(t,e,r,i),e.child)}function Tw(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!L3(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,F_(t,e,o,r,i)):(t=Xh(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,(t.lanes&i)===0){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:pd,n(s,r)&&t.ref===e.ref)return jo(t,e,i)}return e.flags|=1,t=Ks(o,r),t.ref=e.ref,t.return=e,e.child=t}function F_(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(pd(o,r)&&t.ref===e.ref)if(or=!1,e.pendingProps=r=o,(t.lanes&i)!==0)(t.flags&131072)!==0&&(or=!0);else return e.lanes=t.lanes,jo(t,e,i)}return Fy(t,e,n,r,i)}function V_(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if((e.mode&1)===0)e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(xu,wr),wr|=n;else{if((n&1073741824)===0)return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pt(xu,wr),wr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,pt(xu,wr),wr|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,pt(xu,wr),wr|=r;return Fn(t,e,i,n),e.child}function U_(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Fy(t,e,n,r,i){var o=cr(n)?cl:Pn.current;return o=qu(e,o),Ou(e,i),n=E3(t,e,n,r,o,i),r=C3(),t!==null&&!or?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,jo(t,e,i)):(St&&r&&h3(e),e.flags|=1,Fn(t,e,n,i),e.child)}function Aw(t,e,n,r,i){if(cr(n)){var o=!0;Mp(e)}else o=!1;if(Ou(e,i),e.stateNode===null)Kh(t,e),m_(e,n,r),By(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Wr(u):(u=cr(n)?cl:Pn.current,u=qu(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&xw(e,s,r,u),ws=!1;var d=e.memoizedState;s.state=d,Pp(e,r,s,i),l=e.memoizedState,a!==r||d!==l||ur.current||ws?(typeof c=="function"&&(zy(e,n,c,r),l=e.memoizedState),(a=ws||yw(e,n,a,r,d,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,h_(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:li(e.type,a),s.props=u,f=e.pendingProps,d=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wr(l):(l=cr(n)?cl:Pn.current,l=qu(e,l));var h=n.getDerivedStateFromProps;(c=typeof h=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||d!==l)&&xw(e,s,r,l),ws=!1,d=e.memoizedState,s.state=d,Pp(e,r,s,i);var g=e.memoizedState;a!==f||d!==g||ur.current||ws?(typeof h=="function"&&(zy(e,n,h,r),g=e.memoizedState),(u=ws||yw(e,n,u,r,d,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return Vy(t,e,n,r,o,i)}function Vy(t,e,n,r,i,o){U_(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&hw(e,n,!1),jo(t,e,o);r=e.stateNode,YI.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Ku(e,t.child,null,o),e.child=Ku(e,null,a,o)):Fn(t,e,a,o),e.memoizedState=r.state,i&&hw(e,n,!0),e.child}function H_(t){var e=t.stateNode;e.pendingContext?dw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&dw(t,e.context,!1),b3(t,e.containerInfo)}function Ow(t,e,n,r,i){return Wu(),m3(i),e.flags|=256,Fn(t,e,n,r),e.child}var Uy={dehydrated:null,treeContext:null,retryLane:0};function Hy(t){return{baseLanes:t,cachePool:null,transitions:null}}function j_(t,e,n){var r=e.pendingProps,i=Ot.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pt(Ot,i&1),t===null)return Py(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?((e.mode&1)===0?e.lanes=1:t.data==="$!"?e.lanes=8:e.lanes=1073741824,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},(r&1)===0&&o!==null?(o.childLanes=0,o.pendingProps=s):o=l1(s,r,0,null),t=rl(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=Hy(n),e.memoizedState=Uy,t):O3(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return XI(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return(s&1)===0&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ks(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Ks(a,o):(o=rl(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?Hy(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=Uy,r}return o=t.child,t=o.sibling,r=Ks(o,{mode:"visible",children:r.children}),(e.mode&1)===0&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function O3(t,e){return e=l1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function rh(t,e,n,r){return r!==null&&m3(r),Ku(e,t.child,null,n),t=O3(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function XI(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=Pg(Error(te(422))),rh(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=l1({mode:"visible",children:r.children},i,0,null),o=rl(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,(e.mode&1)!==0&&Ku(e,t.child,null,s),e.child.memoizedState=Hy(s),e.memoizedState=Uy,o);if((e.mode&1)===0)return rh(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(te(419)),r=Pg(o,r,void 0),rh(t,e,s,r)}if(a=(s&t.childLanes)!==0,or||a){if(r=dn,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=(i&(r.suspendedLanes|s))!==0?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ho(t,i),bi(r,t,i,-1))}return P3(),r=Pg(Error(te(421))),rh(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=uP.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Cr=Hs(i.nextSibling),Tr=e,St=!0,pi=null,t!==null&&(zr[Br++]=Mo,zr[Br++]=No,zr[Br++]=fl,Mo=t.id,No=t.overflow,fl=e),e=O3(e,r.children),e.flags|=4096,e)}function Mw(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Ly(t.return,e,n)}function Lg(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function q_(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Fn(t,e,r.children,n),r=Ot.current,(r&2)!==0)r=r&1|2,e.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Mw(t,n,e);else if(t.tag===19)Mw(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(pt(Ot,r),(e.mode&1)===0)e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Lp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Lg(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Lp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Lg(e,!0,n,null,o);break;case"together":Lg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kh(t,e){(e.mode&1)===0&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function jo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),hl|=e.lanes,(n&e.childLanes)===0)return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,n=Ks(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ks(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function JI(t,e,n){switch(e.tag){case 3:H_(e),Wu();break;case 5:y_(e);break;case 1:cr(e.type)&&Mp(e);break;case 4:b3(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;pt(Dp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(pt(Ot,Ot.current&1),e.flags|=128,null):(n&e.child.childLanes)!==0?j_(t,e,n):(pt(Ot,Ot.current&1),t=jo(t,e,n),t!==null?t.sibling:null);pt(Ot,Ot.current&1);break;case 19:if(r=(n&e.childLanes)!==0,(t.flags&128)!==0){if(r)return q_(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pt(Ot,Ot.current),r)break;return null;case 22:case 23:return e.lanes=0,V_(t,e,n)}return jo(t,e,n)}var W_,jy,K_,G_;W_=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jy=function(){};K_=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ya(no.current);var o=null;switch(n){case"input":i=dy(t,i),r=dy(t,r),o=[];break;case"select":i=Dt({},i,{value:void 0}),r=Dt({},r,{value:void 0}),o=[];break;case"textarea":i=my(t,i),r=my(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ap)}vy(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ad.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ad.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&xt("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};G_=function(t,e,n,r){n!==r&&(e.flags|=4)};function jc(t,e){if(!St)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function On(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function QI(t,e,n){var r=e.pendingProps;switch(p3(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return On(e),null;case 1:return cr(e.type)&&Op(),On(e),null;case 3:return r=e.stateNode,Gu(),wt(ur),wt(Pn),k3(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(th(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&(e.flags&256)===0||(e.flags|=1024,pi!==null&&(Qy(pi),pi=null))),jy(t,e),On(e),null;case 5:S3(e);var i=Ya(xd.current);if(n=e.type,t!==null&&e.stateNode!=null)K_(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(te(166));return On(e),null}if(t=Ya(no.current),th(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Gi]=e,r[vd]=o,t=(e.mode&1)!==0,n){case"dialog":xt("cancel",r),xt("close",r);break;case"iframe":case"object":case"embed":xt("load",r);break;case"video":case"audio":for(i=0;i<tf.length;i++)xt(tf[i],r);break;case"source":xt("error",r);break;case"img":case"image":case"link":xt("error",r),xt("load",r);break;case"details":xt("toggle",r);break;case"input":$x(r,o),xt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},xt("invalid",r);break;case"textarea":Vx(r,o),xt("invalid",r)}vy(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&eh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&eh(r.textContent,a,t),i=["children",""+a]):ad.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&xt("scroll",r)}switch(n){case"input":W0(r),Fx(r,o,!0);break;case"textarea":W0(r),Ux(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Ap)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=b9(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Gi]=e,t[vd]=r,W_(t,e,!1,!1),e.stateNode=t;e:{switch(s=yy(n,r),n){case"dialog":xt("cancel",t),xt("close",t),i=r;break;case"iframe":case"object":case"embed":xt("load",t),i=r;break;case"video":case"audio":for(i=0;i<tf.length;i++)xt(tf[i],t);i=r;break;case"source":xt("error",t),i=r;break;case"img":case"image":case"link":xt("error",t),xt("load",t),i=r;break;case"details":xt("toggle",t),i=r;break;case"input":$x(t,r),i=dy(t,r),xt("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Dt({},r,{value:void 0}),xt("invalid",t);break;case"textarea":Vx(t,r),i=my(t,r),xt("invalid",t);break;default:i=r}vy(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?_9(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&S9(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ld(t,l):typeof l=="number"&&ld(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(ad.hasOwnProperty(o)?l!=null&&o==="onScroll"&&xt("scroll",t):l!=null&&Z2(t,o,l,s))}switch(n){case"input":W0(t),Fx(t,r,!1);break;case"textarea":W0(t),Ux(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ea(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?Eu(t,!!r.multiple,o,!1):r.defaultValue!=null&&Eu(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ap)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return On(e),null;case 6:if(t&&e.stateNode!=null)G_(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(te(166));if(n=Ya(xd.current),Ya(no.current),th(e)){if(r=e.stateNode,n=e.memoizedProps,r[Gi]=e,(o=r.nodeValue!==n)&&(t=Tr,t!==null))switch(t.tag){case 3:eh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&eh(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gi]=e,e.stateNode=r}return On(e),null;case 13:if(wt(Ot),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(St&&Cr!==null&&(e.mode&1)!==0&&(e.flags&128)===0)f_(),Wu(),e.flags|=98560,o=!1;else if(o=th(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(te(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(te(317));o[Gi]=e}else Wu(),(e.flags&128)===0&&(e.memoizedState=null),e.flags|=4;On(e),o=!1}else pi!==null&&(Qy(pi),pi=null),o=!0;if(!o)return e.flags&65536?e:null}return(e.flags&128)!==0?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,(e.mode&1)!==0&&(t===null||(Ot.current&1)!==0?rn===0&&(rn=3):P3())),e.updateQueue!==null&&(e.flags|=4),On(e),null);case 4:return Gu(),jy(t,e),t===null&&md(e.stateNode.containerInfo),On(e),null;case 10:return y3(e.type._context),On(e),null;case 17:return cr(e.type)&&Op(),On(e),null;case 19:if(wt(Ot),o=e.memoizedState,o===null)return On(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)jc(o,!1);else{if(rn!==0||t!==null&&(t.flags&128)!==0)for(t=e.child;t!==null;){if(s=Lp(t),s!==null){for(e.flags|=128,jc(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return pt(Ot,Ot.current&1|2),e.child}t=t.sibling}o.tail!==null&&Bt()>Xu&&(e.flags|=128,r=!0,jc(o,!1),e.lanes=4194304)}else{if(!r)if(t=Lp(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),jc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!St)return On(e),null}else 2*Bt()-o.renderingStartTime>Xu&&n!==1073741824&&(e.flags|=128,r=!0,jc(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Bt(),e.sibling=null,n=Ot.current,pt(Ot,r?n&1|2:n&1),e):(On(e),null);case 22:case 23:return I3(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&(e.mode&1)!==0?(wr&1073741824)!==0&&(On(e),e.subtreeFlags&6&&(e.flags|=8192)):On(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function ZI(t,e){switch(p3(e),e.tag){case 1:return cr(e.type)&&Op(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gu(),wt(ur),wt(Pn),k3(),t=e.flags,(t&65536)!==0&&(t&128)===0?(e.flags=t&-65537|128,e):null;case 5:return S3(e),null;case 13:if(wt(Ot),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));Wu()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return wt(Ot),null;case 4:return Gu(),null;case 10:return y3(e.type._context),null;case 22:case 23:return I3(),null;case 24:return null;default:return null}}var ih=!1,Dn=!1,eP=typeof WeakSet=="function"?WeakSet:Set,me=null;function yu(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){It(t,e,r)}else n.current=null}function qy(t,e,n){try{n()}catch(r){It(t,e,r)}}var Nw=!1;function tP(t,e){if(Ay=Ep,t=Q9(),d3(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,d=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(h=f.firstChild)!==null;)d=f,f=h;for(;;){if(f===t)break t;if(d===n&&++u===i&&(a=s),d===o&&++c===r&&(l=s),(h=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=h}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Oy={focusedElem:t,selectionRange:n},Ep=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var g=e.alternate;if((e.flags&1024)!==0)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,S=g.memoizedState,v=e.stateNode,m=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:li(e.type,y),S);v.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(x){It(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return g=Nw,Nw=!1,g}function Uf(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&qy(e,n,o)}i=i.next}while(i!==r)}}function s1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Wy(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Y_(t){var e=t.alternate;e!==null&&(t.alternate=null,Y_(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Gi],delete e[vd],delete e[Ry],delete e[zI],delete e[BI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function X_(t){return t.tag===5||t.tag===3||t.tag===4}function Rw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||X_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ky(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ap));else if(r!==4&&(t=t.child,t!==null))for(Ky(t,e,n),t=t.sibling;t!==null;)Ky(t,e,n),t=t.sibling}function Gy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Gy(t,e,n),t=t.sibling;t!==null;)Gy(t,e,n),t=t.sibling}var yn=null,di=!1;function is(t,e,n){for(n=n.child;n!==null;)J_(t,e,n),n=n.sibling}function J_(t,e,n){if(to&&typeof to.onCommitFiberUnmount=="function")try{to.onCommitFiberUnmount(Qm,n)}catch{}switch(n.tag){case 5:Dn||yu(n,e);case 6:var r=yn,i=di;yn=null,is(t,e,n),yn=r,di=i,yn!==null&&(di?(t=yn,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yn.removeChild(n.stateNode));break;case 18:yn!==null&&(di?(t=yn,n=n.stateNode,t.nodeType===8?Og(t.parentNode,n):t.nodeType===1&&Og(t,n),dd(t)):Og(yn,n.stateNode));break;case 4:r=yn,i=di,yn=n.stateNode.containerInfo,di=!0,is(t,e,n),yn=r,di=i;break;case 0:case 11:case 14:case 15:if(!Dn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&((o&2)!==0||(o&4)!==0)&&qy(n,e,s),i=i.next}while(i!==r)}is(t,e,n);break;case 1:if(!Dn&&(yu(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){It(n,e,a)}is(t,e,n);break;case 21:is(t,e,n);break;case 22:n.mode&1?(Dn=(r=Dn)||n.memoizedState!==null,is(t,e,n),Dn=r):is(t,e,n);break;default:is(t,e,n)}}function Dw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new eP),e.forEach(function(r){var i=cP.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ri(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:yn=a.stateNode,di=!1;break e;case 3:yn=a.stateNode.containerInfo,di=!0;break e;case 4:yn=a.stateNode.containerInfo,di=!0;break e}a=a.return}if(yn===null)throw Error(te(160));J_(o,s,i),yn=null,di=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){It(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Q_(e,t),e=e.sibling}function Q_(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ri(e,t),zi(t),r&4){try{Uf(3,t,t.return),s1(3,t)}catch(y){It(t,t.return,y)}try{Uf(5,t,t.return)}catch(y){It(t,t.return,y)}}break;case 1:ri(e,t),zi(t),r&512&&n!==null&&yu(n,n.return);break;case 5:if(ri(e,t),zi(t),r&512&&n!==null&&yu(n,n.return),t.flags&32){var i=t.stateNode;try{ld(i,"")}catch(y){It(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&x9(i,o),yy(a,s);var u=yy(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?_9(i,f):c==="dangerouslySetInnerHTML"?S9(i,f):c==="children"?ld(i,f):Z2(i,c,f,u)}switch(a){case"input":hy(i,o);break;case"textarea":w9(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var h=o.value;h!=null?Eu(i,!!o.multiple,h,!1):d!==!!o.multiple&&(o.defaultValue!=null?Eu(i,!!o.multiple,o.defaultValue,!0):Eu(i,!!o.multiple,o.multiple?[]:"",!1))}i[vd]=o}catch(y){It(t,t.return,y)}}break;case 6:if(ri(e,t),zi(t),r&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(y){It(t,t.return,y)}}break;case 3:if(ri(e,t),zi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{dd(e.containerInfo)}catch(y){It(t,t.return,y)}break;case 4:ri(e,t),zi(t);break;case 13:ri(e,t),zi(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(R3=Bt())),r&4&&Dw(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Dn=(u=Dn)||c,ri(e,t),Dn=u):ri(e,t),zi(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&(t.mode&1)!==0)for(me=t,c=t.child;c!==null;){for(f=me=c;me!==null;){switch(d=me,h=d.child,d.tag){case 0:case 11:case 14:case 15:Uf(4,d,d.return);break;case 1:yu(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){It(r,n,y)}}break;case 5:yu(d,d.return);break;case 22:if(d.memoizedState!==null){Pw(f);continue}}h!==null?(h.return=d,me=h):Pw(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=k9("display",s))}catch(y){It(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){It(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ri(e,t),zi(t),r&4&&Dw(t);break;case 21:break;default:ri(e,t),zi(t)}}function zi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(X_(n)){var r=n;break e}n=n.return}throw Error(te(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ld(i,""),r.flags&=-33);var o=Rw(t);Gy(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Rw(t);Ky(t,a,s);break;default:throw Error(te(161))}}catch(l){It(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function nP(t,e,n){me=t,Z_(t)}function Z_(t,e,n){for(var r=(t.mode&1)!==0;me!==null;){var i=me,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||ih;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Dn;a=ih;var u=Dn;if(ih=s,(Dn=l)&&!u)for(me=i;me!==null;)s=me,l=s.child,s.tag===22&&s.memoizedState!==null?Lw(i):l!==null?(l.return=s,me=l):Lw(i);for(;o!==null;)me=o,Z_(o),o=o.sibling;me=i,ih=a,Dn=u}Iw(t)}else(i.subtreeFlags&8772)!==0&&o!==null?(o.return=i,me=o):Iw(t)}}function Iw(t){for(;me!==null;){var e=me;if((e.flags&8772)!==0){var n=e.alternate;try{if((e.flags&8772)!==0)switch(e.tag){case 0:case 11:case 15:Dn||s1(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Dn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:li(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&vw(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}vw(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&dd(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}Dn||e.flags&512&&Wy(e)}catch(d){It(e,e.return,d)}}if(e===t){me=null;break}if(n=e.sibling,n!==null){n.return=e.return,me=n;break}me=e.return}}function Pw(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var n=e.sibling;if(n!==null){n.return=e.return,me=n;break}me=e.return}}function Lw(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{s1(4,e)}catch(l){It(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){It(e,i,l)}}var o=e.return;try{Wy(e)}catch(l){It(e,o,l)}break;case 5:var s=e.return;try{Wy(e)}catch(l){It(e,s,l)}}}catch(l){It(e,e.return,l)}if(e===t){me=null;break}var a=e.sibling;if(a!==null){a.return=e.return,me=a;break}me=e.return}}var rP=Math.ceil,$p=Zo.ReactCurrentDispatcher,M3=Zo.ReactCurrentOwner,qr=Zo.ReactCurrentBatchConfig,Qe=0,dn=null,Wt=null,kn=0,wr=0,xu=ma(0),rn=0,kd=null,hl=0,a1=0,N3=0,Hf=null,ir=null,R3=0,Xu=1/0,Eo=null,Fp=!1,Yy=null,qs=null,oh=!1,Ts=null,Vp=0,jf=0,Xy=null,Gh=-1,Yh=0;function Hn(){return(Qe&6)!==0?Bt():Gh!==-1?Gh:Gh=Bt()}function Ws(t){return(t.mode&1)===0?1:(Qe&2)!==0&&kn!==0?kn&-kn:FI.transition!==null?(Yh===0&&(Yh=L9()),Yh):(t=st,t!==0||(t=window.event,t=t===void 0?16:H9(t.type)),t)}function bi(t,e,n,r){if(50<jf)throw jf=0,Xy=null,Error(te(185));l0(t,n,r),((Qe&2)===0||t!==dn)&&(t===dn&&((Qe&2)===0&&(a1|=n),rn===4&&_s(t,kn)),fr(t,r),n===1&&Qe===0&&(e.mode&1)===0&&(Xu=Bt()+500,r1&&ga()))}function fr(t,e){var n=t.callbackNode;FD(t,e);var r=_p(t,t===dn?kn:0);if(r===0)n!==null&&qx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&qx(n),e===1)t.tag===0?$I(zw.bind(null,t)):l_(zw.bind(null,t)),PI(function(){(Qe&6)===0&&ga()}),n=null;else{switch(z9(r)){case 1:n=i3;break;case 4:n=I9;break;case 16:n=kp;break;case 536870912:n=P9;break;default:n=kp}n=aE(n,eE.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function eE(t,e){if(Gh=-1,Yh=0,(Qe&6)!==0)throw Error(te(327));var n=t.callbackNode;if(Mu()&&t.callbackNode!==n)return null;var r=_p(t,t===dn?kn:0);if(r===0)return null;if((r&30)!==0||(r&t.expiredLanes)!==0||e)e=Up(t,r);else{e=r;var i=Qe;Qe|=2;var o=nE();(dn!==t||kn!==e)&&(Eo=null,Xu=Bt()+500,nl(t,e));do try{sP();break}catch(a){tE(t,a)}while(1);v3(),$p.current=o,Qe=i,Wt!==null?e=0:(dn=null,kn=0,e=rn)}if(e!==0){if(e===2&&(i=ky(t),i!==0&&(r=i,e=Jy(t,i))),e===1)throw n=kd,nl(t,0),_s(t,r),fr(t,Bt()),n;if(e===6)_s(t,r);else{if(i=t.current.alternate,(r&30)===0&&!iP(i)&&(e=Up(t,r),e===2&&(o=ky(t),o!==0&&(r=o,e=Jy(t,o))),e===1))throw n=kd,nl(t,0),_s(t,r),fr(t,Bt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(te(345));case 2:Ra(t,ir,Eo);break;case 3:if(_s(t,r),(r&130023424)===r&&(e=R3+500-Bt(),10<e)){if(_p(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Hn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ny(Ra.bind(null,t,ir,Eo),e);break}Ra(t,ir,Eo);break;case 4:if(_s(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-wi(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Bt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*rP(r/1960))-r,10<r){t.timeoutHandle=Ny(Ra.bind(null,t,ir,Eo),r);break}Ra(t,ir,Eo);break;case 5:Ra(t,ir,Eo);break;default:throw Error(te(329))}}}return fr(t,Bt()),t.callbackNode===n?eE.bind(null,t):null}function Jy(t,e){var n=Hf;return t.current.memoizedState.isDehydrated&&(nl(t,e).flags|=256),t=Up(t,e),t!==2&&(e=ir,ir=n,e!==null&&Qy(e)),t}function Qy(t){ir===null?ir=t:ir.push.apply(ir,t)}function iP(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Ai(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _s(t,e){for(e&=~N3,e&=~a1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-wi(e),r=1<<n;t[n]=-1,e&=~r}}function zw(t){if((Qe&6)!==0)throw Error(te(327));Mu();var e=_p(t,0);if((e&1)===0)return fr(t,Bt()),null;var n=Up(t,e);if(t.tag!==0&&n===2){var r=ky(t);r!==0&&(e=r,n=Jy(t,r))}if(n===1)throw n=kd,nl(t,0),_s(t,e),fr(t,Bt()),n;if(n===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ra(t,ir,Eo),fr(t,Bt()),null}function D3(t,e){var n=Qe;Qe|=1;try{return t(e)}finally{Qe=n,Qe===0&&(Xu=Bt()+500,r1&&ga())}}function pl(t){Ts!==null&&Ts.tag===0&&(Qe&6)===0&&Mu();var e=Qe;Qe|=1;var n=qr.transition,r=st;try{if(qr.transition=null,st=1,t)return t()}finally{st=r,qr.transition=n,Qe=e,(Qe&6)===0&&ga()}}function I3(){wr=xu.current,wt(xu)}function nl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,II(n)),Wt!==null)for(n=Wt.return;n!==null;){var r=n;switch(p3(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Op();break;case 3:Gu(),wt(ur),wt(Pn),k3();break;case 5:S3(r);break;case 4:Gu();break;case 13:wt(Ot);break;case 19:wt(Ot);break;case 10:y3(r.type._context);break;case 22:case 23:I3()}n=n.return}if(dn=t,Wt=t=Ks(t.current,null),kn=wr=e,rn=0,kd=null,N3=a1=hl=0,ir=Hf=null,Ga!==null){for(e=0;e<Ga.length;e++)if(n=Ga[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Ga=null}return t}function tE(t,e){do{var n=Wt;try{if(v3(),qh.current=Bp,zp){for(var r=Rt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}zp=!1}if(dl=0,fn=tn=Rt=null,Vf=!1,wd=0,M3.current=null,n===null||n.return===null){rn=1,kd=e,Wt=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=kn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if((c.mode&1)===0&&(f===0||f===11||f===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var h=_w(s);if(h!==null){h.flags&=-257,Ew(h,s,a,o,e),h.mode&1&&kw(o,u,e),e=h,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if((e&1)===0){kw(o,u,e),P3();break e}l=Error(te(426))}}else if(St&&a.mode&1){var S=_w(s);if(S!==null){(S.flags&65536)===0&&(S.flags|=256),Ew(S,s,a,o,e),m3(Yu(l,a));break e}}o=l=Yu(l,a),rn!==4&&(rn=2),Hf===null?Hf=[o]:Hf.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var v=B_(o,l,e);gw(o,v);break e;case 1:a=l;var m=o.type,p=o.stateNode;if((o.flags&128)===0&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(qs===null||!qs.has(p)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=$_(o,a,e);gw(o,x);break e}}o=o.return}while(o!==null)}iE(n)}catch(b){e=b,Wt===n&&n!==null&&(Wt=n=n.return);continue}break}while(1)}function nE(){var t=$p.current;return $p.current=Bp,t===null?Bp:t}function P3(){(rn===0||rn===3||rn===2)&&(rn=4),dn===null||(hl&268435455)===0&&(a1&268435455)===0||_s(dn,kn)}function Up(t,e){var n=Qe;Qe|=2;var r=nE();(dn!==t||kn!==e)&&(Eo=null,nl(t,e));do try{oP();break}catch(i){tE(t,i)}while(1);if(v3(),Qe=n,$p.current=r,Wt!==null)throw Error(te(261));return dn=null,kn=0,rn}function oP(){for(;Wt!==null;)rE(Wt)}function sP(){for(;Wt!==null&&!ND();)rE(Wt)}function rE(t){var e=sE(t.alternate,t,wr);t.memoizedProps=t.pendingProps,e===null?iE(t):Wt=e,M3.current=null}function iE(t){var e=t;do{var n=e.alternate;if(t=e.return,(e.flags&32768)===0){if(n=QI(n,e,wr),n!==null){Wt=n;return}}else{if(n=ZI(n,e),n!==null){n.flags&=32767,Wt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{rn=6,Wt=null;return}}if(e=e.sibling,e!==null){Wt=e;return}Wt=e=t}while(e!==null);rn===0&&(rn=5)}function Ra(t,e,n){var r=st,i=qr.transition;try{qr.transition=null,st=1,aP(t,e,n,r)}finally{qr.transition=i,st=r}return null}function aP(t,e,n,r){do Mu();while(Ts!==null);if((Qe&6)!==0)throw Error(te(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(VD(t,o),t===dn&&(Wt=dn=null,kn=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||oh||(oh=!0,aE(kp,function(){return Mu(),null})),o=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||o){o=qr.transition,qr.transition=null;var s=st;st=1;var a=Qe;Qe|=4,M3.current=null,tP(t,n),Q_(n,t),TI(Oy),Ep=!!Ay,Oy=Ay=null,t.current=n,nP(n),RD(),Qe=a,st=s,qr.transition=o}else t.current=n;if(oh&&(oh=!1,Ts=t,Vp=i),o=t.pendingLanes,o===0&&(qs=null),PD(n.stateNode),fr(t,Bt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Fp)throw Fp=!1,t=Yy,Yy=null,t;return(Vp&1)!==0&&t.tag!==0&&Mu(),o=t.pendingLanes,(o&1)!==0?t===Xy?jf++:(jf=0,Xy=t):jf=0,ga(),null}function Mu(){if(Ts!==null){var t=z9(Vp),e=qr.transition,n=st;try{if(qr.transition=null,st=16>t?16:t,Ts===null)var r=!1;else{if(t=Ts,Ts=null,Vp=0,(Qe&6)!==0)throw Error(te(331));var i=Qe;for(Qe|=4,me=t.current;me!==null;){var o=me,s=o.child;if((me.flags&16)!==0){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(me=u;me!==null;){var c=me;switch(c.tag){case 0:case 11:case 15:Uf(8,c,o)}var f=c.child;if(f!==null)f.return=c,me=f;else for(;me!==null;){c=me;var d=c.sibling,h=c.return;if(Y_(c),c===u){me=null;break}if(d!==null){d.return=h,me=d;break}me=h}}}var g=o.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var S=y.sibling;y.sibling=null,y=S}while(y!==null)}}me=o}}if((o.subtreeFlags&2064)!==0&&s!==null)s.return=o,me=s;else e:for(;me!==null;){if(o=me,(o.flags&2048)!==0)switch(o.tag){case 0:case 11:case 15:Uf(9,o,o.return)}var v=o.sibling;if(v!==null){v.return=o.return,me=v;break e}me=o.return}}var m=t.current;for(me=m;me!==null;){s=me;var p=s.child;if((s.subtreeFlags&2064)!==0&&p!==null)p.return=s,me=p;else e:for(s=m;me!==null;){if(a=me,(a.flags&2048)!==0)try{switch(a.tag){case 0:case 11:case 15:s1(9,a)}}catch(b){It(a,a.return,b)}if(a===s){me=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,me=x;break e}me=a.return}}if(Qe=i,ga(),to&&typeof to.onPostCommitFiberRoot=="function")try{to.onPostCommitFiberRoot(Qm,t)}catch{}r=!0}return r}finally{st=n,qr.transition=e}}return!1}function Bw(t,e,n){e=Yu(n,e),e=B_(t,e,1),t=js(t,e,1),e=Hn(),t!==null&&(l0(t,1,e),fr(t,e))}function It(t,e,n){if(t.tag===3)Bw(t,t,n);else for(;e!==null;){if(e.tag===3){Bw(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(qs===null||!qs.has(r))){t=Yu(n,t),t=$_(e,t,1),e=js(e,t,1),t=Hn(),e!==null&&(l0(e,1,t),fr(e,t));break}}e=e.return}}function lP(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Hn(),t.pingedLanes|=t.suspendedLanes&n,dn===t&&(kn&n)===n&&(rn===4||rn===3&&(kn&130023424)===kn&&500>Bt()-R3?nl(t,0):N3|=n),fr(t,e)}function oE(t,e){e===0&&((t.mode&1)===0?e=1:(e=Y0,Y0<<=1,(Y0&130023424)===0&&(Y0=4194304)));var n=Hn();t=Ho(t,e),t!==null&&(l0(t,e,n),fr(t,n))}function uP(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),oE(t,n)}function cP(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(te(314))}r!==null&&r.delete(e),oE(t,n)}var sE;sE=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ur.current)or=!0;else{if((t.lanes&n)===0&&(e.flags&128)===0)return or=!1,JI(t,e,n);or=(t.flags&131072)!==0}else or=!1,St&&(e.flags&1048576)!==0&&u_(e,Rp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Kh(t,e),t=e.pendingProps;var i=qu(e,Pn.current);Ou(e,n),i=E3(null,e,r,t,i,n);var o=C3();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,cr(r)?(o=!0,Mp(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,w3(e),i.updater=i1,e.stateNode=i,i._reactInternals=e,By(e,r,t,n),e=Vy(null,e,r,!0,o,n)):(e.tag=0,St&&o&&h3(e),Fn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Kh(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=dP(r),t=li(r,t),i){case 0:e=Fy(null,e,r,t,n);break e;case 1:e=Aw(null,e,r,t,n);break e;case 11:e=Cw(null,e,r,t,n);break e;case 14:e=Tw(null,e,r,li(r.type,t),n);break e}throw Error(te(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:li(r,i),Fy(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:li(r,i),Aw(t,e,r,i,n);case 3:e:{if(H_(e),t===null)throw Error(te(387));r=e.pendingProps,o=e.memoizedState,i=o.element,h_(t,e),Pp(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Yu(Error(te(423)),e),e=Ow(t,e,r,n,i);break e}else if(r!==i){i=Yu(Error(te(424)),e),e=Ow(t,e,r,n,i);break e}else for(Cr=Hs(e.stateNode.containerInfo.firstChild),Tr=e,St=!0,pi=null,n=v_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Wu(),r===i){e=jo(t,e,n);break e}Fn(t,e,r,n)}e=e.child}return e;case 5:return y_(e),t===null&&Py(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,My(r,i)?s=null:o!==null&&My(r,o)&&(e.flags|=32),U_(t,e),Fn(t,e,s,n),e.child;case 6:return t===null&&Py(e),null;case 13:return j_(t,e,n);case 4:return b3(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Ku(e,null,r,n):Fn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:li(r,i),Cw(t,e,r,i,n);case 7:return Fn(t,e,e.pendingProps,n),e.child;case 8:return Fn(t,e,e.pendingProps.children,n),e.child;case 12:return Fn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,pt(Dp,r._currentValue),r._currentValue=s,o!==null)if(Ai(o.value,s)){if(o.children===i.children&&!ur.current){e=jo(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=zo(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Ly(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(te(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Ly(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Fn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Ou(e,n),i=Wr(i),r=r(i),e.flags|=1,Fn(t,e,r,n),e.child;case 14:return r=e.type,i=li(r,e.pendingProps),i=li(r.type,i),Tw(t,e,r,i,n);case 15:return F_(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:li(r,i),Kh(t,e),e.tag=1,cr(r)?(t=!0,Mp(e)):t=!1,Ou(e,n),m_(e,r,i),By(e,r,i,n),Vy(null,e,r,!0,t,n);case 19:return q_(t,e,n);case 22:return V_(t,e,n)}throw Error(te(156,e.tag))};function aE(t,e){return D9(t,e)}function fP(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vr(t,e,n,r){return new fP(t,e,n,r)}function L3(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dP(t){if(typeof t=="function")return L3(t)?1:0;if(t!=null){if(t=t.$$typeof,t===t3)return 11;if(t===n3)return 14}return 2}function Ks(t,e){var n=t.alternate;return n===null?(n=Vr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Xh(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")L3(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case uu:return rl(n.children,i,o,e);case e3:s=8,i|=8;break;case ly:return t=Vr(12,n,e,i|2),t.elementType=ly,t.lanes=o,t;case uy:return t=Vr(13,n,e,i),t.elementType=uy,t.lanes=o,t;case cy:return t=Vr(19,n,e,i),t.elementType=cy,t.lanes=o,t;case g9:return l1(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case p9:s=10;break e;case m9:s=9;break e;case t3:s=11;break e;case n3:s=14;break e;case xs:s=16,r=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=Vr(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function rl(t,e,n,r){return t=Vr(7,t,r,e),t.lanes=n,t}function l1(t,e,n,r){return t=Vr(22,t,r,e),t.elementType=g9,t.lanes=n,t.stateNode={isHidden:!1},t}function zg(t,e,n){return t=Vr(6,t,null,e),t.lanes=n,t}function Bg(t,e,n){return e=Vr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hP(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yg(0),this.expirationTimes=yg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yg(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function z3(t,e,n,r,i,o,s,a,l){return t=new hP(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Vr(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},w3(o),t}function pP(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:lu,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function lE(t){if(!t)return ta;t=t._reactInternals;e:{if(Dl(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(cr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var n=t.type;if(cr(n))return a_(t,n,e)}return e}function uE(t,e,n,r,i,o,s,a,l){return t=z3(n,r,!0,t,i,o,s,a,l),t.context=lE(null),n=t.current,r=Hn(),i=Ws(n),o=zo(r,i),o.callback=e!=null?e:null,js(n,o,i),t.current.lanes=i,l0(t,i,r),fr(t,r),t}function u1(t,e,n,r){var i=e.current,o=Hn(),s=Ws(i);return n=lE(n),e.context===null?e.context=n:e.pendingContext=n,e=zo(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=js(i,e,s),t!==null&&(bi(t,i,s,o),jh(t,i,s)),s}function Hp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function $w(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function B3(t,e){$w(t,e),(t=t.alternate)&&$w(t,e)}function mP(){return null}var cE=typeof reportError=="function"?reportError:function(t){console.error(t)};function $3(t){this._internalRoot=t}c1.prototype.render=$3.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));u1(t,e,null,null)};c1.prototype.unmount=$3.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;pl(function(){u1(null,t,null,null)}),e[Uo]=null}};function c1(t){this._internalRoot=t}c1.prototype.unstable_scheduleHydration=function(t){if(t){var e=F9();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ks.length&&e!==0&&e<ks[n].priority;n++);ks.splice(n,0,t),n===0&&U9(t)}};function F3(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function f1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Fw(){}function gP(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=Hp(s);o.call(u)}}var s=uE(e,r,t,0,null,!1,!1,"",Fw);return t._reactRootContainer=s,t[Uo]=s.current,md(t.nodeType===8?t.parentNode:t),pl(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=Hp(l);a.call(u)}}var l=z3(t,0,!1,null,null,!1,!1,"",Fw);return t._reactRootContainer=l,t[Uo]=l.current,md(t.nodeType===8?t.parentNode:t),pl(function(){u1(e,l,n,r)}),l}function d1(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Hp(s);a.call(l)}}u1(e,s,t,i)}else s=gP(n,e,t,i,r);return Hp(s)}B9=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ef(e.pendingLanes);n!==0&&(o3(e,n|1),fr(e,Bt()),(Qe&6)===0&&(Xu=Bt()+500,ga()))}break;case 13:pl(function(){var r=Ho(t,1);if(r!==null){var i=Hn();bi(r,t,1,i)}}),B3(t,1)}};s3=function(t){if(t.tag===13){var e=Ho(t,134217728);if(e!==null){var n=Hn();bi(e,t,134217728,n)}B3(t,134217728)}};$9=function(t){if(t.tag===13){var e=Ws(t),n=Ho(t,e);if(n!==null){var r=Hn();bi(n,t,e,r)}B3(t,e)}};F9=function(){return st};V9=function(t,e){var n=st;try{return st=t,e()}finally{st=n}};wy=function(t,e,n){switch(e){case"input":if(hy(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=n1(r);if(!i)throw Error(te(90));y9(r),hy(r,i)}}}break;case"textarea":w9(t,n);break;case"select":e=n.value,e!=null&&Eu(t,!!n.multiple,e,!1)}};T9=D3;A9=pl;var vP={usingClientEntryPoint:!1,Events:[c0,hu,n1,E9,C9,D3]},qc={findFiberByHostInstance:Ka,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},yP={bundleType:qc.bundleType,version:qc.version,rendererPackageName:qc.rendererPackageName,rendererConfig:qc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zo.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=N9(t),t===null?null:t.stateNode},findFiberByHostInstance:qc.findFiberByHostInstance||mP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sh.isDisabled&&sh.supportsFiber)try{Qm=sh.inject(yP),to=sh}catch{}}Nr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vP;Nr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!F3(e))throw Error(te(200));return pP(t,e,null,n)};Nr.createRoot=function(t,e){if(!F3(t))throw Error(te(299));var n=!1,r="",i=cE;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=z3(t,1,!1,null,null,n,!1,r,i),t[Uo]=e.current,md(t.nodeType===8?t.parentNode:t),new $3(e)};Nr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=N9(e),t=t===null?null:t.stateNode,t};Nr.flushSync=function(t){return pl(t)};Nr.hydrate=function(t,e,n){if(!f1(e))throw Error(te(200));return d1(null,t,e,!0,n)};Nr.hydrateRoot=function(t,e,n){if(!F3(t))throw Error(te(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=cE;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=uE(e,null,t,1,n!=null?n:null,i,!1,o,s),t[Uo]=e.current,md(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new c1(e)};Nr.render=function(t,e,n){if(!f1(e))throw Error(te(200));return d1(null,t,e,!1,n)};Nr.unmountComponentAtNode=function(t){if(!f1(t))throw Error(te(40));return t._reactRootContainer?(pl(function(){d1(null,null,t,!1,function(){t._reactRootContainer=null,t[Uo]=null})}),!0):!1};Nr.unstable_batchedUpdates=D3;Nr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!f1(n))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return d1(t,e,n,!1,r)};Nr.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Nr})(Jm);var fE,Vw=Jm.exports;fE=Vw.createRoot,Vw.hydrateRoot;/**
 * @remix-run/router v1.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jp(){return jp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jp.apply(this,arguments)}var As;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(As||(As={}));const Uw="popstate";function xP(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return Zy("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:bP(i)}return SP(e,n,null,t)}function wP(){return Math.random().toString(36).substr(2,8)}function Hw(t){return{usr:t.state,key:t.key}}function Zy(t,e,n,r){return n===void 0&&(n=null),jp({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?bc(e):e,{state:n,key:e&&e.key||r||wP()})}function bP(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function bc(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function SP(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=As.Pop,l=null;function u(){a=As.Pop,l&&l({action:a,location:d.location})}function c(h,g){a=As.Push;let y=Zy(d.location,h,g);n&&n(y,h);let S=Hw(y),v=d.createHref(y);try{s.pushState(S,"",v)}catch{i.location.assign(v)}o&&l&&l({action:a,location:y})}function f(h,g){a=As.Replace;let y=Zy(d.location,h,g);n&&n(y,h);let S=Hw(y),v=d.createHref(y);s.replaceState(S,"",v),o&&l&&l({action:a,location:y})}let d={get action(){return a},get location(){return t(i,s)},listen(h){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Uw,u),l=h,()=>{i.removeEventListener(Uw,u),l=null}},createHref(h){return e(i,h)},push:c,replace:f,go(h){return s.go(h)}};return d}var jw;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(jw||(jw={}));function kP(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?bc(e):e,i=hE(r.pathname||"/",n);if(i==null)return null;let o=dE(t);_P(o);let s=null;for(let a=0;s==null&&a<o.length;++a)s=DP(o[a],i);return s}function dE(t,e,n,r){return e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r=""),t.forEach((i,o)=>{let s={relativePath:i.path||"",caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};s.relativePath.startsWith("/")&&(_n(s.relativePath.startsWith(r),'Absolute route path "'+s.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),s.relativePath=s.relativePath.slice(r.length));let a=il([r,s.relativePath]),l=n.concat(s);i.children&&i.children.length>0&&(_n(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+a+'".')),dE(i.children,e,l,a)),!(i.path==null&&!i.index)&&e.push({path:a,score:NP(a,i.index),routesMeta:l})}),e}function _P(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:RP(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const EP=/^:\w+$/,CP=3,TP=2,AP=1,OP=10,MP=-2,qw=t=>t==="*";function NP(t,e){let n=t.split("/"),r=n.length;return n.some(qw)&&(r+=MP),e&&(r+=TP),n.filter(i=>!qw(i)).reduce((i,o)=>i+(EP.test(o)?CP:o===""?AP:OP),r)}function RP(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function DP(t,e){let{routesMeta:n}=t,r={},i="/",o=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=IP({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let f=a.route;o.push({params:r,pathname:il([i,c.pathname]),pathnameBase:FP(il([i,c.pathnameBase])),route:f}),c.pathnameBase!=="/"&&(i=il([i,c.pathnameBase]))}return o}function IP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=PP(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{if(c==="*"){let d=a[f]||"";s=o.slice(0,o.length-d.length).replace(/(.)\/+$/,"$1")}return u[c]=LP(a[f]||"",c),u},{}),pathname:o,pathnameBase:s,pattern:t}}function PP(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),pE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(s,a)=>(r.push(a),"([^\\/]+)"));return t.endsWith("*")?(r.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function LP(t,e){try{return decodeURIComponent(t)}catch(n){return pE(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function hE(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function _n(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function pE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function zP(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?bc(t):t;return{pathname:n?n.startsWith("/")?n:BP(n,e):e,search:VP(r),hash:UP(i)}}function BP(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $g(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function $P(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=bc(t):(i=jp({},t),_n(!i.pathname||!i.pathname.includes("?"),$g("?","pathname","search",i)),_n(!i.pathname||!i.pathname.includes("#"),$g("#","pathname","hash",i)),_n(!i.search||!i.search.includes("#"),$g("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(r||s==null)a=n;else{let f=e.length-1;if(s.startsWith("..")){let d=s.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}a=f>=0?e[f]:"/"}let l=zP(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const il=t=>t.join("/").replace(/\/\/+/g,"/"),FP=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),VP=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UP=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class HP{constructor(e,n,r){this.status=e,this.statusText=n||"",this.data=r}}function jP(t){return t instanceof HP}var h1={exports:{}},p1={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qP=z.exports,WP=Symbol.for("react.element"),KP=Symbol.for("react.fragment"),GP=Object.prototype.hasOwnProperty,YP=qP.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XP={key:!0,ref:!0,__self:!0,__source:!0};function mE(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)GP.call(e,r)&&!XP.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:WP,type:t,key:o,ref:s,props:i,_owner:YP.current}}p1.Fragment=KP;p1.jsx=mE;p1.jsxs=mE;(function(t){t.exports=p1})(h1);const qo=h1.exports.Fragment,j=h1.exports.jsx,He=h1.exports.jsxs;/**
 * React Router v6.4.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function e4(){return e4=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},e4.apply(this,arguments)}function JP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}const QP=typeof Object.is=="function"?Object.is:JP,{useState:ZP,useEffect:eL,useLayoutEffect:tL,useDebugValue:nL}=sy;function rL(t,e,n){const r=e(),[{inst:i},o]=ZP({inst:{value:r,getSnapshot:e}});return tL(()=>{i.value=r,i.getSnapshot=e,Fg(i)&&o({inst:i})},[t,r,e]),eL(()=>(Fg(i)&&o({inst:i}),t(()=>{Fg(i)&&o({inst:i})})),[t]),nL(r),r}function Fg(t){const e=t.getSnapshot,n=t.value;try{const r=e();return!QP(n,r)}catch{return!0}}function iL(t,e,n){return e()}const oL=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",sL=!oL,aL=sL?iL:rL;"useSyncExternalStore"in sy&&(t=>t.useSyncExternalStore)(sy);const lL=z.exports.createContext(null),uL=z.exports.createContext(null),gE=z.exports.createContext(null),vE=z.exports.createContext(null),m1=z.exports.createContext(null),d0=z.exports.createContext({outlet:null,matches:[]}),yE=z.exports.createContext(null);function g1(){return z.exports.useContext(m1)!=null}function v1(){return g1()||_n(!1),z.exports.useContext(m1).location}function cL(t){return t.filter((e,n)=>n===0||!e.route.index&&e.pathnameBase!==t[n-1].pathnameBase)}function h0(){g1()||_n(!1);let{basename:t,navigator:e}=z.exports.useContext(vE),{matches:n}=z.exports.useContext(d0),{pathname:r}=v1(),i=JSON.stringify(cL(n).map(a=>a.pathnameBase)),o=z.exports.useRef(!1);return z.exports.useEffect(()=>{o.current=!0}),z.exports.useCallback(function(a,l){if(l===void 0&&(l={}),!o.current)return;if(typeof a=="number"){e.go(a);return}let u=$P(a,JSON.parse(i),r,l.relative==="path");t!=="/"&&(u.pathname=u.pathname==="/"?t:il([t,u.pathname])),(l.replace?e.replace:e.push)(u,l.state,l)},[t,e,i,r])}const fL=z.exports.createContext(null);function dL(t){let e=z.exports.useContext(d0).outlet;return e&&j(fL.Provider,{value:t,children:e})}function hL(t,e){g1()||_n(!1);let n=z.exports.useContext(gE),{matches:r}=z.exports.useContext(d0),i=r[r.length-1],o=i?i.params:{};i&&i.pathname;let s=i?i.pathnameBase:"/";i&&i.route;let a=v1(),l;if(e){var u;let g=typeof e=="string"?bc(e):e;s==="/"||((u=g.pathname)==null?void 0:u.startsWith(s))||_n(!1),l=g}else l=a;let c=l.pathname||"/",f=s==="/"?c:c.slice(s.length)||"/",d=kP(t,{pathname:f}),h=vL(d&&d.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:il([s,g.pathname]),pathnameBase:g.pathnameBase==="/"?s:il([s,g.pathnameBase])})),r,n||void 0);return e?j(m1.Provider,{value:{location:e4({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:As.Pop},children:h}):h}function pL(){let t=xL(),e=jP(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r};return He(qo,{children:[j("h2",{children:"Unhandled Thrown Error!"}),j("h3",{style:{fontStyle:"italic"},children:e}),n?j("pre",{style:i,children:n}):null,j("p",{children:"\u{1F4BF} Hey developer \u{1F44B}"}),He("p",{children:["You can provide a way better UX than this when your app throws errors by providing your own\xA0",j("code",{style:o,children:"errorElement"})," props on\xA0",j("code",{style:o,children:"<Route>"})]})]})}class mL extends z.exports.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location?{error:e.error,location:e.location}:{error:e.error||n.error,location:n.location}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?j(yE.Provider,{value:this.state.error,children:this.props.component}):this.props.children}}function gL(t){let{routeContext:e,match:n,children:r}=t,i=z.exports.useContext(lL);return i&&n.route.errorElement&&(i._deepestRenderedBoundaryId=n.route.id),j(d0.Provider,{value:e,children:r})}function vL(t,e,n){if(e===void 0&&(e=[]),t==null)if(n!=null&&n.errors)t=n.matches;else return null;let r=t,i=n==null?void 0:n.errors;if(i!=null){let o=r.findIndex(s=>s.route.id&&(i==null?void 0:i[s.route.id]));o>=0||_n(!1),r=r.slice(0,Math.min(r.length,o+1))}return r.reduceRight((o,s,a)=>{let l=s.route.id?i==null?void 0:i[s.route.id]:null,u=n?s.route.errorElement||j(pL,{}):null,c=()=>j(gL,{match:s,routeContext:{outlet:o,matches:e.concat(r.slice(0,a+1))},children:l?u:s.route.element!==void 0?s.route.element:o});return n&&(s.route.errorElement||a===0)?j(mL,{location:n.location,component:u,error:l,children:c()}):c()},null)}var Ww;(function(t){t.UseRevalidator="useRevalidator"})(Ww||(Ww={}));var t4;(function(t){t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator"})(t4||(t4={}));function yL(t){let e=z.exports.useContext(gE);return e||_n(!1),e}function xL(){var t;let e=z.exports.useContext(yE),n=yL(t4.UseRouteError),r=z.exports.useContext(d0),i=r.matches[r.matches.length-1];return e||(r||_n(!1),i.route.id||_n(!1),(t=n.errors)==null?void 0:t[i.route.id])}function wL(t){return dL(t.context)}function Jh(t){_n(!1)}function bL(t){let{basename:e="/",children:n=null,location:r,navigationType:i=As.Pop,navigator:o,static:s=!1}=t;g1()&&_n(!1);let a=e.replace(/^\/*/,"/"),l=z.exports.useMemo(()=>({basename:a,navigator:o,static:s}),[a,o,s]);typeof r=="string"&&(r=bc(r));let{pathname:u="/",search:c="",hash:f="",state:d=null,key:h="default"}=r,g=z.exports.useMemo(()=>{let y=hE(u,a);return y==null?null:{pathname:y,search:c,hash:f,state:d,key:h}},[a,u,c,f,d,h]);return g==null?null:j(vE.Provider,{value:l,children:j(m1.Provider,{children:n,value:{location:g,navigationType:i}})})}function SL(t){let{children:e,location:n}=t,r=z.exports.useContext(uL),i=r&&!e?r.router.routes:n4(e);return hL(i,n)}var Kw;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(Kw||(Kw={}));new Promise(()=>{});function n4(t,e){e===void 0&&(e=[]);let n=[];return z.exports.Children.forEach(t,(r,i)=>{if(!z.exports.isValidElement(r))return;if(r.type===z.exports.Fragment){n.push.apply(n,n4(r.props.children,e));return}r.type!==Jh&&_n(!1),!r.props.index||!r.props.children||_n(!1);let o=[...e,i],s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,hasErrorBoundary:r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle};r.props.children&&(s.children=n4(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.4.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kL(t){let{basename:e,children:n,window:r}=t,i=z.exports.useRef();i.current==null&&(i.current=xP({window:r,v5Compat:!0}));let o=i.current,[s,a]=z.exports.useState({action:o.action,location:o.location});return z.exports.useLayoutEffect(()=>o.listen(a),[o]),j(bL,{basename:e,children:n,location:s.location,navigationType:s.action,navigator:o})}var Gw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmitImpl="useSubmitImpl",t.UseFetcher="useFetcher"})(Gw||(Gw={}));var Yw;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Yw||(Yw={}));var qp={exports:{}};(function(t,e){var n=typeof Reflect<"u"?Reflect.construct:void 0,r=Object.defineProperty,i=Error.captureStackTrace;i===void 0&&(i=function(u){var c=new Error;r(u,"stack",{configurable:!0,get:function(){var d=c.stack;return r(this,"stack",{configurable:!0,value:d,writable:!0}),d},set:function(d){r(u,"stack",{configurable:!0,value:d,writable:!0})}})});function o(l){l!==void 0&&r(this,"message",{configurable:!0,value:l,writable:!0});var u=this.constructor.name;u!==void 0&&u!==this.name&&r(this,"name",{configurable:!0,value:u,writable:!0}),i(this,this.constructor)}o.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:o,writable:!0}});var s=function(){function l(c,f){return r(c,"name",{configurable:!0,value:f})}try{var u=function(){};if(l(u,"foo"),u.name==="foo")return l}catch{}}();function a(l,u){if(u==null||u===Error)u=o;else if(typeof u!="function")throw new TypeError("super_ should be a function");var c;if(typeof l=="string")c=l,l=n!==void 0?function(){return n(u,arguments,this.constructor)}:function(){u.apply(this,arguments)},s!==void 0&&(s(l,c),c=void 0);else if(typeof l!="function")throw new TypeError("constructor should be either a string or a function");l.super_=l.super=u;var f={constructor:{configurable:!0,value:l,writable:!0}};return c!==void 0&&(f.name={configurable:!0,value:c,writable:!0}),l.prototype=Object.create(u.prototype,f),l}e=t.exports=a,e.BaseError=o})(qp,qp.exports);var Xw="ProseMirror-selectednode",V3="\uFFFC",Os="\0",Jw="__state_override__",_L={LastNodeCompatible:"lastNodeCompatible",FormattingMark:"formattingMark",FormattingNode:"formattingNode",NodeCursor:"nodeCursor",FontStyle:"fontStyle",Link:"link",Color:"color",Alignment:"alignment",Indentation:"indentation",Behavior:"behavior",Code:"code",InlineNode:"inline",ListContainerNode:"listContainer",ListItemNode:"listItemNode",Block:"block",BlockNode:"block",TextBlock:"textBlock",ExcludeInputRules:"excludeFromInputRules",PreventExits:"preventsExits",Media:"media"},De=_L,Wo=Symbol.for("__remirror__"),hn=(t=>(t.PlainExtension="RemirrorPlainExtension",t.NodeExtension="RemirrorNodeExtension",t.MarkExtension="RemirrorMarkExtension",t.PlainExtensionConstructor="RemirrorPlainExtensionConstructor",t.NodeExtensionConstructor="RemirrorNodeExtensionConstructor",t.MarkExtensionConstructor="RemirrorMarkExtensionConstructor",t.Manager="RemirrorManager",t.Preset="RemirrorPreset",t.PresetConstructor="RemirrorPresetConstructor",t))(hn||{}),lt=(t=>(t[t.Critical=1e6]="Critical",t[t.Highest=1e5]="Highest",t[t.High=1e4]="High",t[t.Medium=1e3]="Medium",t[t.Default=100]="Default",t[t.Low=10]="Low",t[t.Lowest=0]="Lowest",t))(lt||{}),nr=(t=>(t[t.None=0]="None",t[t.Create=1]="Create",t[t.EditorView=2]="EditorView",t[t.Runtime=3]="Runtime",t[t.Destroy=4]="Destroy",t))(nr||{}),ie=(t=>(t.Undo="_|undo|_",t.Redo="_|redo|_",t.Bold="_|bold|_",t.Italic="_|italic|_",t.Underline="_|underline|_",t.Strike="_|strike|_",t.Code="_|code|_",t.Paragraph="_|paragraph|_",t.H1="_|h1|_",t.H2="_|h2|_",t.H3="_|h3|_",t.H4="_|h4|_",t.H5="_|h5|_",t.H6="_|h6|_",t.TaskList="_|task|_",t.BulletList="_|bullet|_",t.OrderedList="_|number|_",t.Quote="_|quote|_",t.Divider="_|divider|_",t.Codeblock="_|codeblock|_",t.ClearFormatting="_|clear|_",t.Superscript="_|sup|_",t.Subscript="_|sub|_",t.LeftAlignment="_|left-align|_",t.CenterAlignment="_|center-align|_",t.RightAlignment="_|right-align|_",t.JustifyAlignment="_|justify-align|_",t.InsertLink="_|link|_",t.Find="_|find|_",t.FindBackwards="_|find-backwards|_",t.FindReplace="_|find-replace|_",t.AddFootnote="_|footnote|_",t.AddComment="_|comment|_",t.ContextMenu="_|context-menu|_",t.IncreaseFontSize="_|inc-font-size|_",t.DecreaseFontSize="_|dec-font-size|_",t.IncreaseIndent="_|indent|_",t.DecreaseIndent="_|dedent|_",t.Shortcuts="_|shortcuts|_",t.Copy="_|copy|_",t.Cut="_|cut|_",t.Paste="_|paste|_",t.PastePlain="_|paste-plain|_",t.SelectAll="_|select-all|_",t.Format="_|format|_",t))(ie||{}),re=(t=>(t.PROD="RMR0000",t.UNKNOWN="RMR0001",t.INVALID_COMMAND_ARGUMENTS="RMR0002",t.CUSTOM="RMR0003",t.CORE_HELPERS="RMR0004",t.MUTATION="RMR0005",t.INTERNAL="RMR0006",t.MISSING_REQUIRED_EXTENSION="RMR0007",t.MANAGER_PHASE_ERROR="RMR0008",t.INVALID_GET_EXTENSION="RMR0010",t.INVALID_MANAGER_ARGUMENTS="RMR0011",t.SCHEMA="RMR0012",t.HELPERS_CALLED_IN_OUTER_SCOPE="RMR0013",t.INVALID_MANAGER_EXTENSION="RMR0014",t.DUPLICATE_COMMAND_NAMES="RMR0016",t.DUPLICATE_HELPER_NAMES="RMR0017",t.NON_CHAINABLE_COMMAND="RMR0018",t.INVALID_EXTENSION="RMR0019",t.INVALID_CONTENT="RMR0021",t.INVALID_NAME="RMR0050",t.EXTENSION="RMR0100",t.EXTENSION_SPEC="RMR0101",t.EXTENSION_EXTRA_ATTRIBUTES="RMR0102",t.INVALID_SET_EXTENSION_OPTIONS="RMR0103",t.REACT_PROVIDER_CONTEXT="RMR0200",t.REACT_GET_ROOT_PROPS="RMR0201",t.REACT_EDITOR_VIEW="RMR0202",t.REACT_CONTROLLED="RMR0203",t.REACT_NODE_VIEW="RMR0204",t.REACT_GET_CONTEXT="RMR0205",t.REACT_COMPONENTS="RMR0206",t.REACT_HOOKS="RMR0207",t.I18N_CONTEXT="RMR0300",t))(re||{});const EL=function(){return Array.prototype.slice.call(arguments).filter(Boolean).join(" ")},CL=EL;var TL=function(e){return AL(e)&&!OL(e)};function AL(t){return!!t&&typeof t=="object"}function OL(t){var e=Object.prototype.toString.call(t);return e==="[object RegExp]"||e==="[object Date]"||RL(t)}var ML=typeof Symbol=="function"&&Symbol.for,NL=ML?Symbol.for("react.element"):60103;function RL(t){return t.$$typeof===NL}function DL(t){return Array.isArray(t)?[]:{}}function _d(t,e){return e.clone!==!1&&e.isMergeableObject(t)?Ju(DL(t),t,e):t}function IL(t,e,n){return t.concat(e).map(function(r){return _d(r,n)})}function PL(t,e){if(!e.customMerge)return Ju;var n=e.customMerge(t);return typeof n=="function"?n:Ju}function LL(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter(function(e){return t.propertyIsEnumerable(e)}):[]}function Qw(t){return Object.keys(t).concat(LL(t))}function xE(t,e){try{return e in t}catch{return!1}}function zL(t,e){return xE(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))}function BL(t,e,n){var r={};return n.isMergeableObject(t)&&Qw(t).forEach(function(i){r[i]=_d(t[i],n)}),Qw(e).forEach(function(i){zL(t,i)||(xE(t,i)&&n.isMergeableObject(e[i])?r[i]=PL(i,n)(t[i],e[i],n):r[i]=_d(e[i],n))}),r}function Ju(t,e,n){n=n||{},n.arrayMerge=n.arrayMerge||IL,n.isMergeableObject=n.isMergeableObject||TL,n.cloneUnlessOtherwiseSpecified=_d;var r=Array.isArray(e),i=Array.isArray(t),o=r===i;return o?r?n.arrayMerge(t,e,n):BL(t,e,n):_d(e,n)}Ju.all=function(e,n){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce(function(r,i){return Ju(r,i,n)},{})};var $L=Ju,FL=$L,VL=function t(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(i=r;i--!==0;)if(!t(e[i],n[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(o=Object.keys(e),r=o.length,r!==Object.keys(n).length)return!1;for(i=r;i--!==0;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;i--!==0;){var s=o[i];if(!t(e[s],n[s]))return!1}return!0}return e!==e&&n!==n};/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var wE=function(e){return e!=null&&typeof e=="object"&&Array.isArray(e)===!1};/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var UL=wE;function Zw(t){return UL(t)===!0&&Object.prototype.toString.call(t)==="[object Object]"}var HL=function(e){var n,r;return!(Zw(e)===!1||(n=e.constructor,typeof n!="function")||(r=n.prototype,Zw(r)===!1)||r.hasOwnProperty("isPrototypeOf")===!1)};/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var jL=HL,qL=function(e){return jL(e)||typeof e=="function"||Array.isArray(e)};/*!
 * object.omit <https://github.com/jonschlinkert/object.omit>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var WL=qL,KL=function(e,n,r){if(!WL(e))return{};typeof n=="function"&&(r=n,n=[]),typeof n=="string"&&(n=[n]);for(var i=typeof r=="function",o=Object.keys(e),s={},a=0;a<o.length;a++){var l=o[a],u=e[l];(!n||n.indexOf(l)===-1&&(!i||r(u,l,e)))&&(s[l]=u)}return s};const U3=KL;/*!
 * object.pick <https://github.com/jonschlinkert/object.pick>
 *
 * Copyright (c) 2014-2015 Jon Schlinkert, contributors.
 * Licensed under the MIT License
 */var GL=wE,r4=function(e,n){if(!GL(e)&&typeof e!="function")return{};var r={};if(typeof n=="string")return n in e&&(r[n]=e[n]),r;for(var i=n.length,o=-1;++o<i;){var s=n[o];s in e&&(r[s]=e[s])}return r};const bE=/^[a-zà-öø-ÿ]+|[A-ZÀ-ÖØ-ß][a-zà-öø-ÿ]+|[a-zà-öø-ÿ]+|[0-9]+|[A-ZÀ-ÖØ-ß]+(?![a-zà-öø-ÿ])/g,YL=/\S+/g;function XL(t,e){const n={parts:[],prefixes:[]},r=t.matchAll(e);let i=0;for(const s of r){if(typeof s.index!="number")continue;const a=s[0];n.parts.push(a);const l=t.slice(i,s.index).trim();n.prefixes.push(l),i=s.index+a.length}const o=t.slice(i).trim();return o&&(n.parts.push(""),n.prefixes.push(o)),n}function SE(t,e){const{keepSpecialCharacters:n=!1,keep:r,prefix:i=""}=e||{},o=t.trim().normalize("NFC"),s=o.includes(" "),l=XL(o,s?YL:bE);return l.parts.map((u,c)=>{let f=l.prefixes[c]||"",d=u;return n===!1&&(r&&(d=d.normalize("NFD").replace(new RegExp(`[^a-zA-Z\xD8\xDF\xF80-9${r.join("")}]`,"g"),"")),r||(d=d.normalize("NFD").replace(/[^a-zA-ZØßø0-9]/g,""),f="")),r&&(f=f.replace(new RegExp(`[^${r.join("")}]`,"g"),"")),c===0?f+d:!f&&!d?"":s&&!f&&i.match(/\s/)?" "+d:(f||i)+d}).filter(Boolean)}function JL(t){var e;const n=((e=t.matchAll(bE).next().value)===null||e===void 0?void 0:e.index)||0;return t.slice(0,n+1).toUpperCase()+t.slice(n+1).toLowerCase()}function kE(t,e){return SE(t,e).reduce((n,r)=>n+JL(r),"")}function eb(t,e){return SE(t,{...e,prefix:"-"}).join("").toLowerCase()}function i4(t,e,n,r){var i,o=!1,s=0;function a(){i&&clearTimeout(i)}function l(){a(),o=!0}typeof e!="boolean"&&(r=n,n=e,e=void 0);function u(){for(var c=arguments.length,f=new Array(c),d=0;d<c;d++)f[d]=arguments[d];var h=this,g=Date.now()-s;if(o)return;function y(){s=Date.now(),n.apply(h,f)}function S(){i=void 0}r&&!i&&y(),a(),r===void 0&&g>t?y():e!==!0&&(i=setTimeout(r?S:y,r===void 0?t-g:t))}return u.cancel=l,u}function _E(t,e,n){return n===void 0?i4(t,e,!1):i4(t,n,e!==!1)}var QL=Object.defineProperty,ZL=(t,e,n)=>e in t?QL(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,o4=(t,e,n)=>(ZL(t,typeof e!="symbol"?e+"":e,n),n);function kt(t,e,n){const r=t[e];return EE(!x1(r),n),r}function EE(t,e){if(!t)throw new ez(e)}var ez=class extends qp.exports.BaseError{constructor(){super(...arguments),o4(this,"name","AssertionError")}};function on(t){return Object.entries(t)}function Ed(t){return Object.keys(t)}function y1(t){return Object.values(t)}function Oi(t,e,n){return t.includes(e,n)}function we(t){return Object.assign(Object.create(null),t)}function CE(t){return Object.prototype.toString.call(t)}function TE(t){return CE(t).slice(8,-1)}function p0(t,e){return n=>typeof n!==t?!1:e?e(n):!0}function H3(t){return e=>TE(e)===t}var x1=p0("undefined"),Ne=p0("string"),Gr=p0("number",t=>!Number.isNaN(t)),at=p0("function");function tz(t){return t===null}function nz(t){return t===!0||t===!1}function Il(t){if(TE(t)!=="Object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.getPrototypeOf({})}function rz(t){return t==null||/^[bns]/.test(typeof t)}function na(t){return tz(t)||x1(t)}function pn(t){return!na(t)&&(at(t)||p0("object")(t))}function iz(t){return e=>pn(e)&&e instanceof t}var oz=H3("RegExp");function sz(t){return H3("Map")(t)}function az(t){return H3("Set")(t)}function Wp(t){return pn(t)&&!sz(t)&&!az(t)&&Object.keys(t).length===0}var Yt=Array.isArray;function ra(t){return Yt(t)&&t.length===0}function tb(t){return Yt(t)&&t.length>0}function w1(t,e,n=r=>!!r){e.lastIndex=0;const r=[],i=e.flags;let o;i.includes("g")||(e=new RegExp(e.source,`g${i}`));do o=e.exec(t),o&&r.push(o);while(n(o));return e.lastIndex=0,r}function Kp(){const t=Date.now(),e=Kp.last||t;return Kp.last=t>e?t:e+1}Kp.last=0;function Gp(t=""){return`${t}${Kp().toString(36)}`}function lz(t){return U3(t,e=>!x1(e))}function uz(t){if(!Il(t))throw new Error("An invalid value was passed into this clone utility. Expected a plain object");return{...t}}var cz=VL;function Cd(t,e=!1){const n=e?[...t].reverse():t,r=new Set(n);return e?[...r].reverse():[...r]}function AE(t){const e=[];for(const n of t){const r=Yt(n)?AE(n):[n];e.push(...r)}return e}function OE(){}function fz(...t){return FL.all(t,{isMergeableObject:Il})}function dz({min:t,max:e,value:n}){return n<t?t:n>e?e:n}function hz(t){return t[t.length-1]}function ml(t,e){return[...t].map((n,r)=>({value:n,index:r})).sort((n,r)=>e(n.value,r.value)||n.index-r.index).map(({value:n})=>n)}function pz(t,e,n){try{if(Ne(e)&&e in t)return t[e];Yt(e)&&(e=`['${e.join("']['")}']`);let r=t;return e.replace(/\[\s*(["'])(.*?)\1\s*]|^\s*(\w+)\s*(?=\.|\[|$)|\.\s*(\w*)\s*(?=\.|\[|$)|\[\s*(-?\d+)\s*]/g,(i,o,s,a,l,u)=>(r=r[s||a||l||u],"")),r===void 0?n:r}catch{return n}}function mz(t,e){const n=uz(e);let r=n;for(const[i,o]of t.entries()){const s=i>=t.length-1;let a=r[o];if(s){if(Yt(r)){const l=Number.parseInt(o.toString(),10);Gr(l)&&r.splice(l,1)}else Reflect.deleteProperty(r,o);return n}if(rz(a))return n;a=Yt(a)?[...a]:{...a},r[o]=a,r=a}return n}function gz(t){return e=>pz(e,t)}function ME(t,e,n=!1){const r=[],i=new Set,o=at(e)?e:gz(e),s=n?[...t].reverse():t;for(const a of s){const l=o(a);i.has(l)||(i.add(l),r.push(a))}return n?r.reverse():r}function j3(t,e){const n=Yt(t)?t[0]:t;return Gr(e)?n<=e?Array.from({length:e+1-n},(r,i)=>i+n):Array.from({length:n+1-e},(r,i)=>-1*i+n):Array.from({length:Math.abs(n)},(r,i)=>(n<0?-1:1)*i)}function nb(t,...e){const n=e.filter(Gr);return t>=Math.min(...n)&&t<=Math.max(...n)}function NE(t){return at(t)?t():t}function Yp(...t){return Cd(CL(...t).split(" ")).join(" ")}var RE="https://remirror.io/docs/errors",vz={[re.UNKNOWN]:"An error occurred but we're not quite sure why. \u{1F9D0}",[re.INVALID_COMMAND_ARGUMENTS]:"The arguments passed to the command method were invalid.",[re.CUSTOM]:"This is a custom error, possibly thrown by an external library.",[re.CORE_HELPERS]:"An error occurred in a function called from the `@remirror/core-helpers` library.",[re.MUTATION]:"Mutation of immutable value detected.",[re.INTERNAL]:"This is an error which should not occur and is internal to the remirror codebase.",[re.MISSING_REQUIRED_EXTENSION]:"Your editor is missing a required extension.",[re.MANAGER_PHASE_ERROR]:"This occurs when accessing a method or property before it is available.",[re.INVALID_GET_EXTENSION]:"The user requested an invalid extension from the getExtensions method. Please check the `createExtensions` return method is returning an extension with the defined constructor.",[re.INVALID_MANAGER_ARGUMENTS]:"Invalid value(s) passed into `Manager` constructor. Only `Presets` and `Extensions` are supported.",[re.SCHEMA]:"There is a problem with the schema or you are trying to access a node / mark that doesn't exists.",[re.HELPERS_CALLED_IN_OUTER_SCOPE]:"The `helpers` method which is passed into the ``create*` method should only be called within returned method since it relies on an active view (not present in the outer scope).",[re.INVALID_MANAGER_EXTENSION]:"You requested an invalid extension from the manager.",[re.DUPLICATE_COMMAND_NAMES]:"Command method names must be unique within the editor.",[re.DUPLICATE_HELPER_NAMES]:"Helper method names must be unique within the editor.",[re.NON_CHAINABLE_COMMAND]:"Attempted to chain a non chainable command.",[re.INVALID_EXTENSION]:"The provided extension is invalid.",[re.INVALID_CONTENT]:"The content provided to the editor is not supported.",[re.INVALID_NAME]:"An invalid name was used for the extension.",[re.EXTENSION]:"An error occurred within an extension. More details should be made available.",[re.EXTENSION_SPEC]:"The spec was defined without calling the `defaults`, `parse` or `dom` methods.",[re.EXTENSION_EXTRA_ATTRIBUTES]:"Extra attributes must either be a string or an object.",[re.INVALID_SET_EXTENSION_OPTIONS]:"A call to `extension.setOptions` was made with invalid keys.",[re.REACT_PROVIDER_CONTEXT]:"`useRemirrorContext` was called outside of the `remirror` context. It can only be used within an active remirror context created by the `<Remirror />`.",[re.REACT_GET_ROOT_PROPS]:"`getRootProps` has been attached to the DOM more than once. It should only be attached to the dom once per editor.",[re.REACT_EDITOR_VIEW]:"A problem occurred adding the editor view to the dom.",[re.REACT_CONTROLLED]:"There is a problem with your controlled editor setup.",[re.REACT_NODE_VIEW]:"Something went wrong with your custom ReactNodeView Component.",[re.REACT_GET_CONTEXT]:"You attempted to call `getContext` provided by the `useRemirror` prop during the first render of the editor. This is not possible and should only be after the editor first mounts.",[re.REACT_COMPONENTS]:"An error occurred within a remirror component.",[re.REACT_HOOKS]:"An error occurred within a remirror hook.",[re.I18N_CONTEXT]:"You called `useI18n()` outside of an `I18nProvider` context."};function yz(t){return Ne(t)&&Oi(y1(re),t)}function rb(t,e){const n=vz[t],r=n?`${n}

`:"",i=e?`${e}

`:"";return`${r}${i}For more information visit ${RE}#${t.toLowerCase()}`}var DE=class extends qp.exports.BaseError{constructor({code:t,message:e,disableLogging:n=!1}={}){var r=(...o)=>{super(...o),o4(this,"errorCode"),o4(this,"url")};let i;yz(t)?(i=t,r(rb(i,e))):(i=re.CUSTOM,r(rb(i,e))),this.errorCode=i,this.url=`${RE}#${i.toLowerCase()}`,n||console.error(this.message)}static create(t={}){return new DE(t)}};function be(t,e){if(!t)throw DE.create(e)}function xz(t){var e;if(typeof t!="object"||t===null)return t;const n=Symbol.toStringTag in t&&t[Symbol.toStringTag]==="Module"&&(e=t.default)!=null?e:t;return"__esModule"in n&&n.__esModule&&n.default!==void 0?n.default:n}function Xa(t,e={}){return t}const Ro={},wz=Object.freeze(Object.defineProperty({__proto__:null,default:Ro},Symbol.toStringTag,{value:"Module"}));function xn(t){this.content=t}xn.prototype={constructor:xn,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new xn(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new xn(n)},addToStart:function(t,e){return new xn([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new xn(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new xn(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=xn.from(t),t.size?new xn(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=xn.from(t),t.size?new xn(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=xn.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};xn.from=function(t){if(t instanceof xn)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new xn(e)};function IE(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=IE(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function PE(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),a=e.child(--o),l=s.nodeSize;if(s==a){n-=l,r-=l;continue}if(!s.sameMarkup(a))return{a:n,b:r};if(s.isText&&s.text!=a.text){let u=0,c=Math.min(s.text.length,a.text.length);for(;u<c&&s.text[s.text.length-u-1]==a.text[a.text.length-u-1];)u++,n--,r--;return{a:n,b:r}}if(s.content.size||a.content.size){let u=PE(s.content,a.content,n-1,r-1);if(u)return u}n-=l,r-=l}}class Y{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,a=0;a<n;s++){let l=this.content[s],u=a+l.nodeSize;if(u>e&&r(l,i+a,o||null,s)!==!1&&l.content.size){let c=a+1;l.nodesBetween(Math.max(0,e-c),Math.min(l.content.size,n-c),r,i+c)}a=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(a,l)=>{a.isText?(o+=a.text.slice(Math.max(e,l)-l,n-l),s=!r):a.isLeaf?(i?o+=typeof i=="function"?i(a):i:a.type.spec.leafText&&(o+=a.type.spec.leafText(a)),s=!r):!s&&a.isBlock&&(o+=r,s=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new Y(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let a=this.content[o],l=s+a.nodeSize;l>e&&((s<e||l>n)&&(a.isText?a=a.cut(Math.max(0,e-s),Math.min(a.text.length,n-s)):a=a.cut(Math.max(0,e-s-1),Math.min(a.content.size,n-s-1))),r.push(a),i+=a.nodeSize),s=l}return new Y(r,i)}cutByIndex(e,n){return e==n?Y.empty:e==0&&n==this.content.length?this:new Y(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new Y(i,o)}addToStart(e){return new Y([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Y(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return IE(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return PE(this,e,n,r)}findIndex(e,n=-1){if(e==0)return ah(0,e);if(e==this.size)return ah(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?ah(r+1,s):ah(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return Y.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new Y(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Y.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new Y(n||e,r)}static from(e){if(!e)return Y.empty;if(e instanceof Y)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Y([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Y.empty=new Y([],0);const Vg={index:0,offset:0};function ah(t,e){return Vg.index=t,Vg.offset=e,Vg}function Xp(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!Xp(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!Xp(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}class Je{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Xp(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Je.none;if(e instanceof Je)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}}Je.none=[];class Td extends Error{}class fe{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=zE(this.content,e+this.openStart,n);return r&&new fe(r,this.openStart,this.openEnd)}removeBetween(e,n){return new fe(LE(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return fe.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new fe(Y.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new fe(e,r,i)}}fe.empty=new fe(Y.empty,0,0);function LE(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:a}=t.findIndex(n);if(i==e||o.isText){if(a!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(LE(o.content,e-i-1,n-i-1)))}function zE(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let a=zE(s.content,e-o-1,n);return a&&t.replaceChild(i,s.copy(a))}function bz(t,e,n){if(n.openStart>t.depth)throw new Td("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Td("Inconsistent open depths");return BE(t,e,n,0)}function BE(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=BE(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,a=s.content;return sl(s,a.cut(0,t.parentOffset).append(n.content).append(a.cut(e.parentOffset)))}else{let{start:s,end:a}=Sz(n,t);return sl(o,FE(t,s,a,e,r))}else return sl(o,Jp(t,e,r))}function $E(t,e){if(!e.type.compatibleContent(t.type))throw new Td("Cannot join "+e.type.name+" onto "+t.type.name)}function s4(t,e,n){let r=t.node(n);return $E(r,e.node(n)),r}function ol(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function qf(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(ol(t.nodeAfter,r),o++));for(let a=o;a<s;a++)ol(i.child(a),r);e&&e.depth==n&&e.textOffset&&ol(e.nodeBefore,r)}function sl(t,e){if(!t.type.validContent(e))throw new Td("Invalid content for node "+t.type.name);return t.copy(e)}function FE(t,e,n,r,i){let o=t.depth>i&&s4(t,e,i+1),s=r.depth>i&&s4(n,r,i+1),a=[];return qf(null,t,i,a),o&&s&&e.index(i)==n.index(i)?($E(o,s),ol(sl(o,FE(t,e,n,r,i+1)),a)):(o&&ol(sl(o,Jp(t,e,i+1)),a),qf(e,n,i,a),s&&ol(sl(s,Jp(n,r,i+1)),a)),qf(r,null,i,a),new Y(a)}function Jp(t,e,n){let r=[];if(qf(null,t,n,r),t.depth>n){let i=s4(t,e,n+1);ol(sl(i,Jp(t,e,n+1)),r)}return qf(e,null,n,r),new Y(r)}function Sz(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(Y.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Qu{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Je.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let a=r;r=i,i=a}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new gl(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:a,offset:l}=s.content.findIndex(o),u=o-l;if(r.push(s,a,i+l),!u||(s=s.child(a),s.isText))break;o=u-1,i+=l+1}return new Qu(n,r,o)}static resolveCached(e,n){for(let i=0;i<Ug.length;i++){let o=Ug[i];if(o.pos==n&&o.doc==e)return o}let r=Ug[Hg]=Qu.resolve(e,n);return Hg=(Hg+1)%kz,r}}let Ug=[],Hg=0,kz=12;class gl{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const _z=Object.create(null);class Si{constructor(e,n,r,i=Je.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||Y.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&Xp(this.attrs,n||e.defaultAttrs||_z)&&Je.sameSet(this.marks,r||Je.none)}copy(e=null){return e==this.content?this:new Si(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Si(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return fe.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),a=i.start(s),u=i.node(s).content.cut(i.pos-a,o.pos-a);return new fe(u,i.depth-s,o.depth-s)}replace(e,n,r){return bz(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Qu.resolveCached(this,e)}resolveNoCache(e){return Qu.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),VE(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=Y.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),a=s&&s.matchFragment(this.content,n);if(!a||!a.validEnd)return!1;for(let l=i;l<o;l++)if(!this.type.allowsMarks(r.child(l).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){if(!this.type.validContent(this.content))throw new RangeError(`Invalid content for node ${this.type.name}: ${this.content.toString().slice(0,50)}`);let e=Je.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!Je.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=Y.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}}Si.prototype.text=void 0;class Qp extends Si{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):VE(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Qp(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Qp(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function VE(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class vl{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new Ez(e,n);if(r.next==null)return vl.empty;let i=UE(r);r.next&&r.err("Unexpected trailing text");let o=Rz(Nz(i));return Dz(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,a){let l=s.matchFragment(e,r);if(l&&(!n||l.validEnd))return Y.from(a.map(u=>u.createAndFill()));for(let u=0;u<s.next.length;u++){let{type:c,next:f}=s.next[u];if(!(c.isText||c.hasRequiredAttrs())&&i.indexOf(f)==-1){i.push(f);let d=o(f,a.concat(c));if(d)return d}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let a=i;a.type;a=a.via)s.push(a.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:a,next:l}=o.next[s];!a.isLeaf&&!a.hasRequiredAttrs()&&!(a.name in n)&&(!i.type||l.validEnd)&&(r.push({match:a.contentMatch,type:a,via:i}),n[a.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}vl.empty=new vl(!0);class Ez{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function UE(t){let e=[];do e.push(Cz(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function Cz(t){let e=[];do e.push(Tz(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Tz(t){let e=Mz(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=Az(t,e);else break;return e}function ib(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function Az(t,e){let n=ib(t),r=n;return t.eat(",")&&(t.next!="}"?r=ib(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function Oz(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function Mz(t){if(t.eat("(")){let e=UE(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Oz(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Nz(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,a,l){let u={term:l,to:a};return e[s].push(u),u}function i(s,a){s.forEach(l=>l.to=a)}function o(s,a){if(s.type=="choice")return s.exprs.reduce((l,u)=>l.concat(o(u,a)),[]);if(s.type=="seq")for(let l=0;;l++){let u=o(s.exprs[l],a);if(l==s.exprs.length-1)return u;i(u,a=n())}else if(s.type=="star"){let l=n();return r(a,l),i(o(s.expr,l),l),[r(l)]}else if(s.type=="plus"){let l=n();return i(o(s.expr,a),l),i(o(s.expr,l),l),[r(l)]}else{if(s.type=="opt")return[r(a)].concat(o(s.expr,a));if(s.type=="range"){let l=a;for(let u=0;u<s.min;u++){let c=n();i(o(s.expr,l),c),l=c}if(s.max==-1)i(o(s.expr,l),l);else for(let u=s.min;u<s.max;u++){let c=n();r(l,c),i(o(s.expr,l),c),l=c}return[r(l)]}else{if(s.type=="name")return[r(a,void 0,s.value)];throw new Error("Unknown expr type")}}}}function HE(t,e){return e-t}function ob(t,e){let n=[];return r(e),n.sort(HE);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:a,to:l}=o[s];!a&&n.indexOf(l)==-1&&r(l)}}}function Rz(t){let e=Object.create(null);return n(ob(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:a,to:l})=>{if(!a)return;let u;for(let c=0;c<i.length;c++)i[c][0]==a&&(u=i[c][1]);ob(t,l).forEach(c=>{u||i.push([a,u=[]]),u.indexOf(c)==-1&&u.push(c)})})});let o=e[r.join(",")]=new vl(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let a=i[s][1].sort(HE);o.next.push({type:i[s][0],next:e[a.join(",")]||n(a)})}return o}}function Dz(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let a=0;a<i.next.length;a++){let{type:l,next:u}=i.next[a];s.push(l.name),o&&!(l.isText||l.hasRequiredAttrs())&&(o=!1),r.indexOf(u)==-1&&r.push(u)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function jE(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function qE(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function WE(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new Iz(t[n]);return e}class Ad{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=WE(r.attrs),this.defaultAttrs=jE(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==vl.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:qE(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Si(this,this.computeAttrs(e),Y.from(n),Je.setFrom(r))}createChecked(e=null,n,r){if(n=Y.from(n),!this.validContent(n))throw new RangeError("Invalid content for node "+this.name);return new Si(this,this.computeAttrs(e),n,Je.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=Y.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(Y.empty,!0);return o?new Si(this,e,n.append(o),Je.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Je.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new Ad(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}}class Iz{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class m0{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=WE(i.attrs),this.excluded=null;let o=jE(this.attrs);this.instance=o?new Je(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Je(this,qE(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new m0(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class Pz{constructor(e){this.cached=Object.create(null),this.spec={nodes:xn.from(e.nodes),marks:xn.from(e.marks||{}),topNode:e.topNode},this.nodes=Ad.compile(this.spec.nodes,this),this.marks=m0.compile(this.spec.marks,this);let n=Object.create(null);for(let r in this.nodes){if(r in this.marks)throw new RangeError(r+" can not be both a node and a mark");let i=this.nodes[r],o=i.spec.content||"",s=i.spec.marks;i.contentMatch=n[o]||(n[o]=vl.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.markSet=s=="_"?null:s?sb(this,s.split(" ")):s==""||!i.inlineContent?[]:null}for(let r in this.marks){let i=this.marks[r],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:sb(this,o.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Ad){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new Qp(r,r.defaultAttrs,e,Je.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return Si.fromJSON(this,e)}markFromJSON(e){return Je.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function sb(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let a in t.marks){let l=t.marks[a];(i=="_"||l.spec.group&&l.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=l)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}class Zu{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new lb(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new lb(this,n,!0);return r.addAll(e,n.from,n.to),fe.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(Bz(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],a=s.style;if(!(a.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||a.length>e.length&&(a.charCodeAt(e.length)!=61||a.slice(e.length+1)!=n))){if(s.getAttrs){let l=s.getAttrs(n);if(l===!1)continue;s.attrs=l||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let a=n[s];if((a.priority==null?50:a.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=ub(s)),s.mark=i})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=ub(s)),s.node=i})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Zu(e,Zu.schemaRules(e)))}}const KE={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},Lz={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},GE={ol:!0,ul:!0},Zp=1,em=2,Wf=4;function ab(t,e,n){return e!=null?(e?Zp:0)|(e==="full"?em:0):t&&t.whitespace=="pre"?Zp|em:n&~Wf}class lh{constructor(e,n,r,i,o,s,a){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=a,this.content=[],this.activeMarks=Je.none,this.stashMarks=[],this.match=s||(a&Wf?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(Y.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Zp)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=Y.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(Y.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):Fz(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!KE.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class lb{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=ab(null,n.preserveWhitespace,0)|(r?Wf:0);i?o=new lh(i.type,i.attrs,Je.none,Je.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new lh(null,null,Je.none,Je.none,!0,null,s):o=new lh(e.schema.topNodeType,null,Je.none,Je.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let n=e.getAttribute("style"),r=n?this.readStyles($z(n)):null,i=this.top;if(r!=null)for(let o=0;o<r.length;o++)this.addPendingMark(r[o]);if(this.addElement(e),r!=null)for(let o=0;o<r.length;o++)this.removePendingMark(r[o],i)}}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&em||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&Zp)r.options&em?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;GE.hasOwnProperty(r)&&this.parser.normalizeLists&&zz(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:Lz.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let s,a=this.top,l=this.needsBlock;if(KE.hasOwnProperty(r))s=!0,a.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),s&&this.sync(a),this.needsBlock=l}else this.addElementByRule(e,o,o.consuming===!1?i:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=Je.none;e:for(let r=0;r<e.length;r+=2)for(let i=void 0;;){let o=this.parser.matchStyle(e[r],e[r+1],this,i);if(!o)continue e;if(o.ignore)return null;if(n=this.parser.schema.marks[o.mark].create(o.attrs).addToSet(n),o.consuming===!1)i=o;else break}return n}addElementByRule(e,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let a=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(l=>this.insertNode(l));else{let l=e;typeof n.contentElement=="string"?l=e.querySelector(n.contentElement):typeof n.contentElement=="function"?l=n.contentElement(e):n.contentElement&&(l=n.contentElement),this.findAround(e,l,!0),this.addAll(l)}i&&this.sync(a)&&this.open--,s&&this.removePendingMark(s,a)}addAll(e,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=r==null?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=ab(e,i,o.options);o.options&Wf&&o.content.length==0&&(s|=Wf),this.nodes.push(new lh(e,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(a,l)=>{for(;a>=0;a--){let u=n[a];if(u==""){if(a==n.length-1||a==0)continue;for(;l>=o;l--)if(s(a-1,l))return!0;return!1}else{let c=l>0||l==0&&i?this.nodes[l].type:r&&l>=o?r.node(l-o).type:null;if(!c||c.name!=u&&c.groups.indexOf(u)==-1)return!1;l--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=Vz(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let s=i.popFromStashMark(e);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==n)break}}}function zz(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&GE.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function Bz(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function $z(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function ub(t){let e={};for(let n in t)e[n]=t[n];return e}function Fz(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=a=>{o.push(a);for(let l=0;l<a.edgeCount;l++){let{type:u,next:c}=a.edge(l);if(u==e||o.indexOf(c)<0&&s(c))return!0}};if(s(i.contentMatch))return!0}}function Vz(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class Ur{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=jg(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let a=0,l=0;for(;a<o.length&&l<s.marks.length;){let u=s.marks[l];if(!this.marks[u.type.name]){l++;continue}if(!u.eq(o[a][0])||u.type.spec.spanning===!1)break;a++,l++}for(;a<o.length;)i=o.pop()[1];for(;l<s.marks.length;){let u=s.marks[l++],c=this.serializeMark(u,s.isInline,n);c&&(o.push([u,i]),i.appendChild(c.dom),i=c.contentDOM||c.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=Ur.renderSpec(jg(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&Ur.renderSpec(jg(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,a=r?e.createElementNS(r,i):e.createElement(i),l=n[1],u=1;if(l&&typeof l=="object"&&l.nodeType==null&&!Array.isArray(l)){u=2;for(let c in l)if(l[c]!=null){let f=c.indexOf(" ");f>0?a.setAttributeNS(c.slice(0,f),c.slice(f+1),l[c]):a.setAttribute(c,l[c])}}for(let c=u;c<n.length;c++){let f=n[c];if(f===0){if(c<n.length-1||c>u)throw new RangeError("Content hole must be the only child of its parent node");return{dom:a,contentDOM:a}}else{let{dom:d,contentDOM:h}=Ur.renderSpec(e,f,r);if(a.appendChild(d),h){if(s)throw new RangeError("Multiple content holes");s=h}}}return{dom:a,contentDOM:s}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Ur(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=cb(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return cb(e.marks)}}function cb(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function jg(t){return t.document||window.document}const YE=65535,XE=Math.pow(2,16);function Uz(t,e){return t+e*XE}function fb(t){return t&YE}function Hz(t){return(t-(t&YE))/XE}const JE=1,QE=2,Qh=4,ZE=8;class a4{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&ZE)>0}get deletedBefore(){return(this.delInfo&(JE|Qh))>0}get deletedAfter(){return(this.delInfo&(QE|Qh))>0}get deletedAcross(){return(this.delInfo&Qh)>0}}class Er{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Er.empty)return Er.empty}recover(e){let n=0,r=fb(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+Hz(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?i:0);if(l>e)break;let u=this.ranges[a+o],c=this.ranges[a+s],f=l+u;if(e<=f){let d=u?e==l?-1:e==f?1:n:n,h=l+i+(d<0?0:c);if(r)return h;let g=e==(n<0?l:f)?null:Uz(a/3,e-l),y=e==l?QE:e==f?JE:Qh;return(n<0?e!=l:e!=f)&&(y|=ZE),new a4(h,y,g)}i+=c-u}return r?e+i:new a4(e+i,0,null)}touches(e,n){let r=0,i=fb(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let a=0;a<this.ranges.length;a+=3){let l=this.ranges[a]-(this.inverted?r:0);if(l>e)break;let u=this.ranges[a+o],c=l+u;if(e<=c&&a==i*3)return!0;r+=this.ranges[a+s]-u}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],a=s-(this.inverted?o:0),l=s+(this.inverted?0:o),u=this.ranges[i+n],c=this.ranges[i+r];e(a,a+u,l,l+c),o+=c-u}}invert(){return new Er(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Er.empty:new Er(e<0?[0,-e,0]:[0,0,e])}}Er.empty=new Er([]);class Nu{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new Nu(this.maps,this.mirror,e,n)}copy(){return new Nu(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new Nu;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],a=s.mapResult(e,n);if(a.recover!=null){let l=this.getMirror(o);if(l!=null&&l>o&&l<this.to){o=l,e=this.maps[l].recover(a.recover);continue}}i|=a.delInfo,e=a.pos}return r?e:new a4(e,i,null)}}const qg=Object.create(null);class Tn{getMap(){return Er.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=qg[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in qg)throw new RangeError("Duplicate use of step JSON ID "+e);return qg[e]=n,n.prototype.jsonID=e,n}}class Kt{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new Kt(e,null)}static fail(e){return new Kt(null,e)}static fromReplace(e,n,r,i){try{return Kt.ok(e.replace(n,r,i))}catch(o){if(o instanceof Td)return Kt.fail(o.message);throw o}}}function q3(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(q3(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return Y.fromArray(r)}class Do extends Tn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new fe(q3(n.content,(s,a)=>!s.isAtom||!a.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return Kt.fromReplace(e,this.from,this.to,o)}invert(){return new xi(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new Do(n.pos,r.pos,this.mark)}merge(e){return e instanceof Do&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Do(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new Do(n.from,n.to,e.markFromJSON(n.mark))}}Tn.jsonID("addMark",Do);class xi extends Tn{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new fe(q3(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return Kt.fromReplace(e,this.from,this.to,r)}invert(){return new Do(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new xi(n.pos,r.pos,this.mark)}merge(e){return e instanceof xi&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new xi(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new xi(n.from,n.to,e.markFromJSON(n.mark))}}Tn.jsonID("removeMark",xi);class Ms extends Tn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Kt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return Kt.fromReplace(e,this.pos,this.pos+1,new fe(Y.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new Ms(this.pos,n.marks[i]);return new Ms(this.pos,this.mark)}}return new ec(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ms(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Ms(n.pos,e.markFromJSON(n.mark))}}Tn.jsonID("addNodeMark",Ms);class ec extends Tn{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return Kt.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return Kt.fromReplace(e,this.pos,this.pos+1,new fe(Y.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new Ms(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ec(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new ec(n.pos,e.markFromJSON(n.mark))}}Tn.jsonID("removeNodeMark",ec);class bn extends Tn{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&l4(e,this.from,this.to)?Kt.fail("Structure replace would overwrite content"):Kt.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Er([this.from,this.to-this.from,this.slice.size])}invert(e){return new bn(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new bn(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof bn)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?fe.empty:new fe(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new bn(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?fe.empty:new fe(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new bn(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new bn(n.from,n.to,fe.fromJSON(e,n.slice),!!n.structure)}}Tn.jsonID("replace",bn);class Ut extends Tn{constructor(e,n,r,i,o,s,a=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=a}apply(e){if(this.structure&&(l4(e,this.from,this.gapFrom)||l4(e,this.gapTo,this.to)))return Kt.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return Kt.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?Kt.fromReplace(e,this.from,this.to,r):Kt.fail("Content does not fit in gap")}getMap(){return new Er([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Ut(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Ut(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ut(n.from,n.to,n.gapFrom,n.gapTo,fe.fromJSON(e,n.slice),n.insert,!!n.structure)}}Tn.jsonID("replaceAround",Ut);function l4(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function jz(t,e,n,r){let i=[],o=[],s,a;t.doc.nodesBetween(e,n,(l,u,c)=>{if(!l.isInline)return;let f=l.marks;if(!r.isInSet(f)&&c.type.allowsMarkType(r.type)){let d=Math.max(u,e),h=Math.min(u+l.nodeSize,n),g=r.addToSet(f);for(let y=0;y<f.length;y++)f[y].isInSet(g)||(s&&s.to==d&&s.mark.eq(f[y])?s.to=h:i.push(s=new xi(d,h,f[y])));a&&a.to==d?a.to=h:o.push(a=new Do(d,h,r))}}),i.forEach(l=>t.step(l)),o.forEach(l=>t.step(l))}function qz(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,a)=>{if(!s.isInline)return;o++;let l=null;if(r instanceof m0){let u=s.marks,c;for(;c=r.isInSet(u);)(l||(l=[])).push(c),u=c.removeFromSet(u)}else r?r.isInSet(s.marks)&&(l=[r]):l=s.marks;if(l&&l.length){let u=Math.min(a+s.nodeSize,n);for(let c=0;c<l.length;c++){let f=l[c],d;for(let h=0;h<i.length;h++){let g=i[h];g.step==o-1&&f.eq(i[h].style)&&(d=g)}d?(d.to=u,d.step=o):i.push({style:f,from:Math.max(a,e),to:u,step:o})}}}),i.forEach(s=>t.step(new xi(s.from,s.to,s.style)))}function Wz(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),o=[],s=e+1;for(let a=0;a<i.childCount;a++){let l=i.child(a),u=s+l.nodeSize,c=r.matchType(l.type);if(!c)o.push(new bn(s,u,fe.empty));else{r=c;for(let f=0;f<l.marks.length;f++)n.allowsMarkType(l.marks[f].type)||t.step(new xi(s,u,l.marks[f]))}s=u}if(!r.validEnd){let a=r.fillBefore(Y.empty,!0);t.replace(s,s,new fe(a,0,0))}for(let a=o.length-1;a>=0;a--)t.step(o[a])}function Kz(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function Sc(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!Kz(i,o,s))break}return null}function Gz(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),a=i.after(o+1),l=s,u=a,c=Y.empty,f=0;for(let g=o,y=!1;g>n;g--)y||r.index(g)>0?(y=!0,c=Y.from(r.node(g).copy(c)),f++):l--;let d=Y.empty,h=0;for(let g=o,y=!1;g>n;g--)y||i.after(g+1)<i.end(g)?(y=!0,d=Y.from(i.node(g).copy(d)),h++):u++;t.step(new Ut(l,u,s,a,new fe(c.append(d),f,h),c.size-f,!0))}function W3(t,e,n=null,r=t){let i=Yz(t,e),o=i&&Xz(r,e);return o?i.map(db).concat({type:e,attrs:n}).concat(o.map(db)):null}function db(t){return{type:t,attrs:null}}function Yz(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function Xz(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let l=(s.length?s[s.length-1]:e).contentMatch;for(let u=r;l&&u<i;u++)l=l.matchType(n.child(u).type);return!l||!l.validEnd?null:s}function Jz(t,e,n){let r=Y.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let a=n[s].type.contentMatch.matchFragment(r);if(!a||!a.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=Y.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new Ut(i,o,i,o,new fe(r,0,0),n.length,!0))}function Qz(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,a)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&Zz(t.doc,t.mapping.slice(o).map(a),r)){t.clearIncompatible(t.mapping.slice(o).map(a,1),r);let l=t.mapping.slice(o),u=l.map(a,1),c=l.map(a+s.nodeSize,1);return t.step(new Ut(u,c,u+1,c-1,new fe(Y.from(r.create(i,null,s.marks)),0,0),1,!0)),!1}})}function Zz(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function eB(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Ut(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new fe(Y.from(s),0,0),1,!0))}function Ru(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let u=i.depth-1,c=n-2;u>o;u--,c--){let f=i.node(u),d=i.index(u);if(f.type.spec.isolating)return!1;let h=f.content.cutByIndex(d,f.childCount),g=r&&r[c]||f;if(g!=f&&(h=h.replaceChild(0,g.type.create(g.attrs))),!f.canReplace(d+1,f.childCount)||!g.type.validContent(h))return!1}let a=i.indexAfter(o),l=r&&r[0];return i.node(o).canReplaceWith(a,a,l?l.type:i.node(o+1).type)}function tB(t,e,n=1,r){let i=t.doc.resolve(e),o=Y.empty,s=Y.empty;for(let a=i.depth,l=i.depth-n,u=n-1;a>l;a--,u--){o=Y.from(i.node(a).copy(o));let c=r&&r[u];s=Y.from(c?c.type.create(c.attrs,s):i.node(a).copy(s))}t.step(new bn(e,e,new fe(o.append(s),n,n),!0))}function g0(t,e){let n=t.resolve(e),r=n.index();return nB(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function nB(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function rB(t,e,n){let r=new bn(e-n,e+n,fe.empty,!0);t.step(r)}function eC(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function iB(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let a=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,l=r.index(s)+(a>0?1:0),u=r.node(s),c=!1;if(o==1)c=u.canReplace(l,l,i);else{let f=u.contentMatchAt(l).findWrapping(i.firstChild.type);c=f&&u.canReplaceWith(l,l,f[0])}if(c)return a==0?r.pos:a<0?r.before(s+1):r.after(s+1)}return null}function K3(t,e,n=e,r=fe.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return tC(i,o,r)?new bn(e,n,r):new oB(i,o,r).fit()}function tC(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class oB{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=Y.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=Y.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,a=i.depth;for(;s&&a&&o.childCount==1;)o=o.firstChild.content,s--,a--;let l=new fe(o,s,a);return e>-1?new Ut(r.pos,e,this.$to.pos,this.$to.end(),l,n):l.size||r.pos!=this.$to.pos?new bn(r.pos,i.pos,l):null}findFittable(){for(let e=1;e<=2;e++)for(let n=this.unplaced.openStart;n>=0;n--){let r,i=null;n?(i=Wg(this.unplaced.content,n-1).firstChild,r=i.content):r=this.unplaced.content;let o=r.firstChild;for(let s=this.depth;s>=0;s--){let{type:a,match:l}=this.frontier[s],u,c=null;if(e==1&&(o?l.matchType(o.type)||(c=l.fillBefore(Y.from(o),!1)):i&&a.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:s,parent:i,inject:c};if(e==2&&o&&(u=l.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:s,parent:i,wrap:u};if(i&&l.matchType(i.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Wg(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new fe(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Wg(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new fe(nf(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new fe(nf(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let y=0;y<o.length;y++)this.openFrontierNode(o[y]);let s=this.unplaced,a=r?r.content:s.content,l=s.openStart-e,u=0,c=[],{match:f,type:d}=this.frontier[n];if(i){for(let y=0;y<i.childCount;y++)c.push(i.child(y));f=f.matchFragment(i)}let h=a.size+e-(s.content.size-s.openEnd);for(;u<a.childCount;){let y=a.child(u),S=f.matchType(y.type);if(!S)break;u++,(u>1||l==0||y.content.size)&&(f=S,c.push(nC(y.mark(d.allowedMarks(y.marks)),u==1?l:0,u==a.childCount?h:-1)))}let g=u==a.childCount;g||(h=-1),this.placed=rf(this.placed,n,Y.from(c)),this.frontier[n].match=f,g&&h<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let y=0,S=a;y<h;y++){let v=S.lastChild;this.frontier.push({type:v.type,match:v.contentMatchAt(v.childCount)}),S=v.content}this.unplaced=g?e==0?fe.empty:new fe(nf(s.content,e-1,1),e-1,h<0?s.openEnd:e-1):new fe(nf(s.content,e,u),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Kg(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=Kg(e,n,i,r,o);if(!!s){for(let a=n-1;a>=0;a--){let{match:l,type:u}=this.frontier[a],c=Kg(e,a,u,l,!0);if(!c||c.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=rf(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=rf(this.placed,this.depth,Y.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(Y.empty,!0);n.childCount&&(this.placed=rf(this.placed,this.frontier.length,n))}}function nf(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(nf(t.firstChild.content,e-1,n)))}function rf(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(rf(t.lastChild.content,e-1,n)))}function Wg(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function nC(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,nC(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(Y.empty,!0)))),t.copy(r)}function Kg(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let a=r.fillBefore(o.content,!0,s);return a&&!sB(n,o.content,s)?a:null}function sB(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function aB(t){return t.spec.defining||t.spec.definingForContent}function lB(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(tC(i,o,r))return t.step(new bn(e,n,r));let s=iC(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let a=-(i.depth+1);s.unshift(a);for(let d=i.depth,h=i.pos-1;d>0;d--,h--){let g=i.node(d).type.spec;if(g.defining||g.definingAsContext||g.isolating)break;s.indexOf(d)>-1?a=d:i.before(d)==h&&s.splice(1,0,-d)}let l=s.indexOf(a),u=[],c=r.openStart;for(let d=r.content,h=0;;h++){let g=d.firstChild;if(u.push(g),h==r.openStart)break;d=g.content}for(let d=c-1;d>=0;d--){let h=u[d].type,g=aB(h);if(g&&i.node(l).type!=h)c=d;else if(g||!h.isTextblock)break}for(let d=r.openStart;d>=0;d--){let h=(d+c+1)%(r.openStart+1),g=u[h];if(!!g)for(let y=0;y<s.length;y++){let S=s[(y+l)%s.length],v=!0;S<0&&(v=!1,S=-S);let m=i.node(S-1),p=i.index(S-1);if(m.canReplaceWith(p,p,g.type,g.marks))return t.replace(i.before(S),v?o.after(S):n,new fe(rC(r.content,0,r.openStart,h),h,r.openEnd))}}let f=t.steps.length;for(let d=s.length-1;d>=0&&(t.replace(e,n,r),!(t.steps.length>f));d--){let h=s[d];h<0||(e=i.before(h),n=o.after(h))}}function rC(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(rC(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(Y.empty,!0))}return t}function uB(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=eC(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new fe(Y.from(r),0,0))}function cB(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=iC(r,i);for(let s=0;s<o.length;s++){let a=o[s],l=s==o.length-1;if(l&&a==0||r.node(a).type.contentMatch.validEnd)return t.delete(r.start(a),i.end(a));if(a>0&&(l||r.node(a-1).canReplace(r.index(a-1),i.indexAfter(a-1))))return t.delete(r.before(a),i.after(a))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}function iC(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class Du extends Tn{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return Kt.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return Kt.fromReplace(e,this.pos,this.pos+1,new fe(Y.from(i),0,n.isLeaf?0:1))}getMap(){return Er.empty}invert(e){return new Du(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Du(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Du(n.pos,n.attr,n.value)}}Tn.jsonID("attr",Du);let tc=class extends Error{};tc=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};tc.prototype=Object.create(Error.prototype);tc.prototype.constructor=tc;tc.prototype.name="TransformError";class fB{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Nu}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new tc(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=fe.empty){let i=K3(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new fe(Y.from(r),0,0))}delete(e,n){return this.replace(e,n,fe.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return lB(this,e,n,r),this}replaceRangeWith(e,n,r){return uB(this,e,n,r),this}deleteRange(e,n){return cB(this,e,n),this}lift(e,n){return Gz(this,e,n),this}join(e,n=1){return rB(this,e,n),this}wrap(e,n){return Jz(this,e,n),this}setBlockType(e,n=e,r,i=null){return Qz(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i=[]){return eB(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new Du(e,n,r)),this}addNodeMark(e,n){return this.step(new Ms(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Je)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new ec(e,n)),this}split(e,n=1,r){return tB(this,e,n,r),this}addMark(e,n,r){return jz(this,e,n,r),this}removeMark(e,n,r){return qz(this,e,n,r),this}clearIncompatible(e,n,r){return Wz(this,e,n,r),this}}const Gg=Object.create(null);class Ke{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new dB(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=fe.empty){let r=n.content.lastChild,i=null;for(let a=0;a<n.openEnd;a++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let a=0;a<s.length;a++){let{$from:l,$to:u}=s[a],c=e.mapping.slice(o);e.replaceRange(c.map(l.pos),c.map(u.pos),a?fe.empty:n),a==0&&mb(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:a}=i[o],l=e.mapping.slice(r),u=l.map(s.pos),c=l.map(a.pos);o?e.deleteRange(u,c):(e.replaceRangeWith(u,c,n),mb(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new Ce(e):Jl(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?Jl(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):Jl(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new jn(e.node(0))}static atStart(e){return Jl(e,e,0,0,1)||new jn(e)}static atEnd(e){return Jl(e,e,e.content.size,e.childCount,-1)||new jn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Gg[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Gg)throw new RangeError("Duplicate use of selection JSON ID "+e);return Gg[e]=n,n.prototype.jsonID=e,n}getBookmark(){return Ce.between(this.$anchor,this.$head).getBookmark()}}Ke.prototype.visible=!0;class dB{constructor(e,n){this.$from=e,this.$to=n}}let hb=!1;function pb(t){!hb&&!t.parent.inlineContent&&(hb=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Ce extends Ke{constructor(e,n=e){pb(e),pb(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return Ke.near(r);let i=e.resolve(n.map(this.anchor));return new Ce(i.parent.inlineContent?i:r,r)}replace(e,n=fe.empty){if(super.replace(e,n),n==fe.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof Ce&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new b1(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Ce(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=Ke.findFrom(n,r,!0)||Ke.findFrom(n,-r,!0);if(o)n=o.$head;else return Ke.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(Ke.findFrom(e,-r,!0)||Ke.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new Ce(e,n)}}Ke.jsonID("text",Ce);class b1{constructor(e,n){this.anchor=e,this.head=n}map(e){return new b1(e.map(this.anchor),e.map(this.head))}resolve(e){return Ce.between(e.resolve(this.anchor),e.resolve(this.head))}}class Te extends Ke{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?Ke.near(o):new Te(o)}content(){return new fe(Y.from(this.node),0,0)}eq(e){return e instanceof Te&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new G3(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Te(e.resolve(n.anchor))}static create(e,n){return new Te(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Te.prototype.visible=!1;Ke.jsonID("node",Te);class G3{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new b1(r,r):new G3(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&Te.isSelectable(r)?new Te(n):Ke.near(n)}}class jn extends Ke{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=fe.empty){if(n==fe.empty){e.delete(0,e.doc.content.size);let r=Ke.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new jn(e)}map(e){return new jn(e)}eq(e){return e instanceof jn}getBookmark(){return hB}}Ke.jsonID("all",jn);const hB={map(){return this},resolve(t){return new jn(t)}};function Jl(t,e,n,r,i,o=!1){if(e.inlineContent)return Ce.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let a=e.child(s);if(a.isAtom){if(!o&&Te.isSelectable(a))return Te.create(t,n-(i<0?a.nodeSize:0))}else{let l=Jl(t,a,n+i,i<0?a.childCount:0,i,o);if(l)return l}n+=a.nodeSize*i}return null}function mb(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof bn||i instanceof Ut))return;let o=t.mapping.maps[r],s;o.forEach((a,l,u,c)=>{s==null&&(s=c)}),t.setSelection(Ke.near(t.doc.resolve(s),n))}const gb=1,uh=2,vb=4;class pB extends fB{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|gb)&~uh,this.storedMarks=null,this}get selectionSet(){return(this.updated&gb)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=uh,this}ensureMarks(e){return Je.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&uh)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~uh,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Je.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r==null?n:r,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(Ke.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=vb,this}get scrolledIntoView(){return(this.updated&vb)>0}}function yb(t,e){return!e||!t?t:t.bind(e)}class of{constructor(e,n,r){this.name=e,this.init=yb(n.init,r),this.apply=yb(n.apply,r)}}const mB=[new of("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new of("selection",{init(t,e){return t.selection||Ke.atStart(e.doc)},apply(t){return t.selection}}),new of("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new of("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Yg{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=mB.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new of(r.key,r.spec.state,r))})}}class Ns{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let a=this.config.plugins[s];if(a.spec.appendTransaction){let l=i?i[s].n:0,u=i?i[s].state:this,c=l<n.length&&a.spec.appendTransaction.call(a,l?n.slice(l):n,u,r);if(c&&r.filterTransaction(c,s)){if(c.setMeta("appendedTransaction",e),!i){i=[];for(let f=0;f<this.config.plugins.length;f++)i.push(f<s?{state:r,n:n.length}:{state:this,n:0})}n.push(c),r=r.applyInner(c),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Ns(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new pB(this)}static create(e){let n=new Yg(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Ns(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Yg(this.schema,e.plugins),r=n.fields,i=new Ns(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Yg(e.schema,e.plugins),o=new Ns(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=Si.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=Ke.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let a in r){let l=r[a],u=l.spec.state;if(l.key==s.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(n,a)){o[s.name]=u.fromJSON.call(l,e,n[a],o);return}}o[s.name]=s.init(e,o)}}),o}}function oC(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=oC(i,e,{})),n[r]=i}return n}class fo{constructor(e){this.spec=e,this.props={},e.props&&oC(e.props,this,this.props),this.key=e.key?e.key.key:sC("plugin")}getState(e){return e[this.key]}}const Xg=Object.create(null);function sC(t){return t in Xg?t+"$"+ ++Xg[t]:(Xg[t]=0,t+"$")}class Pl{constructor(e="key"){this.key=sC(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}var gB=/[A-Z]/g,vB=/^ms-/,Jg={};function yB(t){return"-"+t.toLowerCase()}function xB(t){if(Jg.hasOwnProperty(t))return Jg[t];var e=t.replace(gB,yB);return Jg[t]=vB.test(e)?"-"+e:e}function wB(t){return xB(t)}function bB(t,e){return wB(t)+":"+e}function SB(t){var e="";for(var n in t){var r=t[n];typeof r!="string"&&typeof r!="number"||(e&&(e+=";"),e+=bB(n,r))}return e}function kB(){return typeof document<"u"?document:null}var aC=kB;const _B={id:"extension.command.copy.label",comment:"Label for copy command.",message:"Copy"},EB={id:"extension.command.copy.description",comment:"Description for copy command.",message:"Copy the selected text"},CB={id:"extension.command.cut.label",comment:"Label for cut command.",message:"Cut"},TB={id:"extension.command.cut.description",comment:"Description for cut command.",message:"Cut the selected text"},AB={id:"extension.command.paste.label",comment:"Label for paste command.",message:"Paste"},OB={id:"extension.command.paste.description",comment:"Description for paste command.",message:"Paste content into the editor"},MB={id:"extension.command.select-all.label",comment:"Label for select all command.",message:"Select all"},NB={id:"extension.command.select-all.description",comment:"Description for select all command.",message:"Select all content within the editor"};var ia=Object.freeze({__proto__:null,COPY_LABEL:_B,COPY_DESCRIPTION:EB,CUT_LABEL:CB,CUT_DESCRIPTION:TB,PASTE_LABEL:AB,PASTE_DESCRIPTION:OB,SELECT_ALL_LABEL:MB,SELECT_ALL_DESCRIPTION:NB});const RB={id:"extension.command.toggle-blockquote.label",comment:"Label for blockquote formatting command.",message:"Blockquote"},DB={id:"extension.command.toggle-blockquote.description",comment:"Description for blockquote formatting command.",message:"Add blockquote formatting to the selected text"};var xb=Object.freeze({__proto__:null,LABEL:RB,DESCRIPTION:DB});const IB={id:"extension.command.toggle-bold.label",comment:"Label for bold formatting command.",message:"Bold"},PB={id:"extension.command.toggle-bold.description",comment:"Description for bold formatting command.",message:"Add bold formatting to the selected text"};var wb=Object.freeze({__proto__:null,LABEL:IB,DESCRIPTION:PB});const LB={id:"extension.command.toggle-code-block.label",comment:"Label for the code block command.",message:"Codeblock"},zB={id:"extension.command.toggle-code-block.description",comment:"Description for the code block command.",message:"Add a code block"};var BB=Object.freeze({__proto__:null,LABEL:LB,DESCRIPTION:zB});const $B={id:"extension.command.toggle-code.label",comment:"Label for the inline code formatting.",message:"Code"},FB={id:"extension.command.toggle-code.description",comment:"Description for the inline code formatting command.",message:"Add inline code formatting to the selected text"};var VB=Object.freeze({__proto__:null,LABEL:$B,DESCRIPTION:FB});const UB={id:"extension.command.toggle-heading.label",comment:"Label for heading command with support for levels.",message:`{level, select, 1 {Heading 1}
2 {Heading 2}
3 {Heading 3}
4 {Heading 4}
5 {Heading 5}
6 {Heading 6}
other {Heading}}`};var HB=Object.freeze({__proto__:null,LABEL:UB});const jB={id:"extension.command.undo.label",comment:"Label for undo.",message:"Undo"},qB={id:"extension.command.undo.description",comment:"Description for undo.",message:"Undo the most recent action"},WB={id:"extension.command.redo.label",comment:"Label for redo.",message:"Redo"},KB={id:"extension.command.redo.description",comment:"Description for redo.",message:"Redo the most recent action"};var tm=Object.freeze({__proto__:null,UNDO_LABEL:jB,UNDO_DESCRIPTION:qB,REDO_LABEL:WB,REDO_DESCRIPTION:KB});const GB={id:"extension.command.insert-horizontal-rule.label",comment:"Label for inserting a horizontal rule (divider) command.",message:"Divider"},YB={id:"extension.command.insert-horizontal-rule.description",comment:"Description for inserting a horizontal rule (divider) command.",message:"Separate content with a diving horizontal line"};var bb=Object.freeze({__proto__:null,LABEL:GB,DESCRIPTION:YB});const XB={id:"extension.command.toggle-italic.label",comment:"Label for italic formatting command.",message:"Italic"},JB={id:"extension.command.toggle-italic.description",comment:"Description for italic formatting command.",message:"Italicize the selected text"};var Sb=Object.freeze({__proto__:null,LABEL:XB,DESCRIPTION:JB});const QB={id:"extension.command.toggle-ordered-list.label",comment:"Label for inserting an ordered list into the editor.",message:"Ordered list"},ZB={id:"extension.command.toggle-bullet-list.description",comment:"Description for inserting a bullet list into the editor.",message:"Bulleted list"},e$={id:"extension.command.toggle-task-list.description",comment:"Description for inserting a task list into the editor.",message:"Tasked list"};var Y3=Object.freeze({__proto__:null,ORDERED_LIST_LABEL:QB,BULLET_LIST_LABEL:ZB,TASK_LIST_LABEL:e$});const t$={id:"extension.command.insert-paragraph.label",comment:"Label for inserting a paragraph.",message:"Insert Paragraph"},n$={id:"extension.command.insert-paragraph.description",comment:"Description for inserting a paragraph.",message:"Insert a new paragraph"},r$={id:"extension.command.convert-paragraph.label",comment:"Label for converting the current node into a paragraph.",message:"Convert Paragraph"},i$={id:"extension.command.convert-paragraph.description",comment:"Description for converting a paragraph.",message:"Convert current block into a paragraph block."};var nm=Object.freeze({__proto__:null,INSERT_LABEL:t$,INSERT_DESCRIPTION:n$,CONVERT_LABEL:r$,CONVERT_DESCRIPTION:i$});const o$={id:"extension.command.toggle-underline.label",comment:"Label for underline formatting command.",message:"Underline"},s$={id:"extension.command.toggle-underline.description",comment:"Description for underline formatting command.",message:"Underline the selected text"};var kb=Object.freeze({__proto__:null,LABEL:o$,DESCRIPTION:s$});class hr{constructor(e,n){this.match=e,this.match=e,this.handler=typeof n=="string"?a$(n):n}}function a$(t){return function(e,n,r,i){let o=t;if(n[1]){let s=n[0].lastIndexOf(n[1]);o+=n[0].slice(s+n[1].length),r+=s;let a=r-i;a>0&&(o=n[0].slice(s-a,s)+o,r=i)}return e.tr.insertText(o,r,i)}}const l$=500;function u$({rules:t}){let e=new fo({state:{init(){return null},apply(n,r){let i=n.getMeta(this);return i||(n.selectionSet||n.docChanged?null:r)}},props:{handleTextInput(n,r,i,o){return _b(n,r,i,o,t,e)},handleDOMEvents:{compositionend:n=>{setTimeout(()=>{let{$cursor:r}=n.state.selection;r&&_b(n,r.pos,r.pos,"",t,e)})}}},isInputRules:!0});return e}function _b(t,e,n,r,i,o){if(t.composing)return!1;let s=t.state,a=s.doc.resolve(e);if(a.parent.type.spec.code)return!1;let l=a.parent.textBetween(Math.max(0,a.parentOffset-l$),a.parentOffset,null,"\uFFFC")+r;for(let u=0;u<i.length;u++){let c=i[u].match.exec(l),f=c&&i[u].handler(s,c,e-(c[0].length-r.length),n);if(!!f)return t.dispatch(f.setMeta(o,{transform:f,from:e,to:n,text:r})),!0}return!1}const c$=(t,e)=>{let n=t.plugins;for(let r=0;r<n.length;r++){let i=n[r],o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){let s=t.tr,a=o.transform;for(let l=a.steps.length-1;l>=0;l--)s.step(a.steps[l].invert(a.docs[l]));if(o.text){let l=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,l))}else s.delete(o.from,o.to);e(s)}return!0}}return!1};new hr(/--$/,"\u2014");new hr(/\.\.\.$/,"\u2026");new hr(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(")$/,"\u201C");new hr(/"$/,"\u201D");new hr(/(?:^|[\s\{\[\(\<'"\u2018\u201C])(')$/,"\u2018");new hr(/'$/,"\u2019");function S1(t,e,n=null,r){return new hr(t,(i,o,s,a)=>{let l=n instanceof Function?n(o):n,u=i.tr.delete(s,a),c=u.doc.resolve(s),f=c.blockRange(),d=f&&W3(f,e,l);if(!d)return null;u.wrap(f,d);let h=u.doc.resolve(s-1).nodeBefore;return h&&h.type==e&&g0(u.doc,s-1)&&(!r||r(o,h))&&u.join(s-1),u})}function f$(t,e,n=null){return new hr(t,(r,i,o,s)=>{let a=r.doc.resolve(o),l=n instanceof Function?n(i):n;return a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),e)?r.tr.delete(o,s).setBlockType(o,o,e,l):null})}const Sr=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Od=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Eb=null;const Co=function(t,e,n){let r=Eb||(Eb=document.createRange());return r.setEnd(t,n==null?t.nodeValue.length:n),r.setStart(t,e||0),r},yl=function(t,e,n,r){return n&&(Cb(t,e,n,r,-1)||Cb(t,e,n,r,1))},d$=/^(img|br|input|textarea|hr)$/i;function Cb(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:Yi(t))){let o=t.parentNode;if(!o||o.nodeType!=1||p$(t)||d$.test(t.nodeName)||t.contentEditable=="false")return!1;e=Sr(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?Yi(t):0}else return!1}}function Yi(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function h$(t,e,n){for(let r=e==0,i=e==Yi(t);r||i;){if(t==n)return!0;let o=Sr(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==Yi(t)}}function p$(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const k1=function(t){return t.focusNode&&yl(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function wu(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function m$(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}const oa=typeof navigator<"u"?navigator:null,Tb=typeof document<"u"?document:null,va=oa&&oa.userAgent||"",u4=/Edge\/(\d+)/.exec(va),lC=/MSIE \d/.exec(va),c4=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(va),dr=!!(lC||c4||u4),Gs=lC?document.documentMode:c4?+c4[1]:u4?+u4[1]:0,Mi=!dr&&/gecko\/(\d+)/i.test(va);Mi&&+(/Firefox\/(\d+)/.exec(va)||[0,0])[1];const f4=!dr&&/Chrome\/(\d+)/.exec(va),sr=!!f4,g$=f4?+f4[1]:0,qn=!dr&&!!oa&&/Apple Computer/.test(oa.vendor),nc=qn&&(/Mobile\/\w+/.test(va)||!!oa&&oa.maxTouchPoints>2),Pr=nc||(oa?/Mac/.test(oa.platform):!1),Xi=/Android \d/.test(va),_1=!!Tb&&"webkitFontSmoothing"in Tb.documentElement.style,v$=_1?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function y$(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function ss(t,e){return typeof t=="number"?t:t[e]}function x$(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function Ab(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=Od(s)){if(s.nodeType!=1)continue;let a=s,l=a==o.body,u=l?y$(o):x$(a),c=0,f=0;if(e.top<u.top+ss(r,"top")?f=-(u.top-e.top+ss(i,"top")):e.bottom>u.bottom-ss(r,"bottom")&&(f=e.bottom-u.bottom+ss(i,"bottom")),e.left<u.left+ss(r,"left")?c=-(u.left-e.left+ss(i,"left")):e.right>u.right-ss(r,"right")&&(c=e.right-u.right+ss(i,"right")),c||f)if(l)o.defaultView.scrollBy(c,f);else{let d=a.scrollLeft,h=a.scrollTop;f&&(a.scrollTop+=f),c&&(a.scrollLeft+=c);let g=a.scrollLeft-d,y=a.scrollTop-h;e={left:e.left-g,top:e.top-y,right:e.right-g,bottom:e.bottom-y}}if(l)break}}function w$(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let a=t.root.elementFromPoint(o,s);if(!a||a==t.dom||!t.dom.contains(a))continue;let l=a.getBoundingClientRect();if(l.top>=n-20){r=a,i=l.top;break}}return{refDOM:r,refTop:i,stack:uC(t.dom)}}function uC(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Od(r));return e}function b$({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;cC(n,r==0?0:r-e)}function cC(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let jl=null;function S$(t){if(t.setActive)return t.setActive();if(jl)return t.focus(jl);let e=uC(t);t.focus(jl==null?{get preventScroll(){return jl={preventScroll:!0},!0}}:void 0),jl||(jl=!1,cC(e,0))}function fC(t,e){let n,r=2e8,i,o=0,s=e.top,a=e.top;for(let l=t.firstChild,u=0;l;l=l.nextSibling,u++){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=Co(l).getClientRects();else continue;for(let f=0;f<c.length;f++){let d=c[f];if(d.top<=s&&d.bottom>=a){s=Math.max(d.bottom,s),a=Math.min(d.top,a);let h=d.left>e.left?d.left-e.left:d.right<e.left?e.left-d.right:0;if(h<r){n=l,r=h,i=h&&n.nodeType==3?{left:d.right<e.left?d.right:d.left,top:e.top}:e,l.nodeType==1&&h&&(o=u+(e.left>=(d.left+d.right)/2?1:0));continue}}!n&&(e.left>=d.right&&e.top>=d.top||e.left>=d.left&&e.top>=d.bottom)&&(o=u+1)}}return n&&n.nodeType==3?k$(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:fC(n,i)}function k$(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=ds(r,1);if(o.top!=o.bottom&&X3(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function X3(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function _$(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function E$(t,e,n){let{node:r,offset:i}=fC(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function C$(t,e,n,r){let i=-1;for(let o=e;o!=t.dom;){let s=t.docView.nearestDesc(o,!0);if(!s)return null;if(s.node.isBlock&&s.parent){let a=s.dom.getBoundingClientRect();if(a.left>r.left||a.top>r.top)i=s.posBefore;else if(a.right<r.left||a.bottom<r.top)i=s.posAfter;else break}o=s.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,1)}function dC(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let a=s.getClientRects();for(let l=0;l<a.length;l++){let u=a[l];if(X3(e,u))return dC(s,e,u)}}if((o=(o+1)%r)==i)break}return t}function T$(t,e){let n=t.dom.ownerDocument,r,i=0;if(n.caretPositionFromPoint)try{let l=n.caretPositionFromPoint(e.left,e.top);l&&({offsetNode:r,offset:i}=l)}catch{}if(!r&&n.caretRangeFromPoint){let l=n.caretRangeFromPoint(e.left,e.top);l&&({startContainer:r,startOffset:i}=l)}let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),s;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let l=t.dom.getBoundingClientRect();if(!X3(e,l)||(o=dC(t.dom,e,l),!o))return null}if(qn)for(let l=o;r&&l;l=Od(l))l.draggable&&(r=void 0);if(o=_$(o,e),r){if(Mi&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let l=r.childNodes[i],u;l.nodeName=="IMG"&&(u=l.getBoundingClientRect()).right<=e.left&&u.bottom>e.top&&i++}r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?s=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(s=C$(t,r,i,e))}s==null&&(s=E$(t,o,e));let a=t.docView.nearestDesc(o,!0);return{pos:s,inside:a?a.posAtStart-a.border:-1}}function ds(t,e){let n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}const A$=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function hC(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=_1||Mi;if(r.nodeType==3)if(s&&(A$.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let l=ds(Co(r,i,i),n);if(Mi&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let u=ds(Co(r,i-1,i-1),-1);if(u.top==l.top){let c=ds(Co(r,i,i+1),-1);if(c.top!=l.top)return Wc(c,c.left<u.left)}}return l}else{let l=i,u=i,c=n<0?1:-1;return n<0&&!i?(u++,c=-1):n>=0&&i==r.nodeValue.length?(l--,c=1):n<0?l--:u++,Wc(ds(Co(r,l,u),1),c<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==Yi(r))){let l=r.childNodes[i-1];if(l.nodeType==1)return Qg(l.getBoundingClientRect(),!1)}if(o==null&&i<Yi(r)){let l=r.childNodes[i];if(l.nodeType==1)return Qg(l.getBoundingClientRect(),!0)}return Qg(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==Yi(r))){let l=r.childNodes[i-1],u=l.nodeType==3?Co(l,Yi(l)-(s?0:1)):l.nodeType==1&&(l.nodeName!="BR"||!l.nextSibling)?l:null;if(u)return Wc(ds(u,1),!1)}if(o==null&&i<Yi(r)){let l=r.childNodes[i];for(;l.pmViewDesc&&l.pmViewDesc.ignoreForCoords;)l=l.nextSibling;let u=l?l.nodeType==3?Co(l,0,s?0:1):l.nodeType==1?l:null:null;if(u)return Wc(ds(u,-1),!0)}return Wc(ds(r.nodeType==3?Co(r):r,-n),n>=0)}function Wc(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Qg(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function pC(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function O$(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return pC(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let a=t.docView.nearestDesc(o,!0);if(!a)break;if(a.node.isBlock){o=a.dom;break}o=a.dom.parentNode}let s=hC(t,i.pos,1);for(let a=o.firstChild;a;a=a.nextSibling){let l;if(a.nodeType==1)l=a.getClientRects();else if(a.nodeType==3)l=Co(a,0,a.nodeValue.length).getClientRects();else continue;for(let u=0;u<l.length;u++){let c=l[u];if(c.bottom>c.top+1&&(n=="up"?s.top-c.top>(c.bottom-s.top)*2:c.bottom-s.bottom>(s.bottom-c.top)*2))return!1}}return!0})}const M$=/[\u0590-\u08ac]/;function N$(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,a=t.domSelection();return!M$.test(r.parent.textContent)||!a.modify?n=="left"||n=="backward"?o:s:pC(t,e,()=>{let{focusNode:l,focusOffset:u,anchorNode:c,anchorOffset:f}=t.domSelectionRange(),d=a.caretBidiLevel;a.modify("move",n,"character");let h=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:g,focusOffset:y}=t.domSelectionRange(),S=g&&!h.contains(g.nodeType==1?g:g.parentNode)||l==g&&u==y;try{a.collapse(c,f),l&&(l!=c||u!=f)&&a.extend&&a.extend(l,u)}catch{}return d!=null&&(a.caretBidiLevel=d),S})}let Ob=null,Mb=null,Nb=!1;function R$(t,e,n){return Ob==e&&Mb==n?Nb:(Ob=e,Mb=n,Nb=n=="up"||n=="down"?O$(t,e,n):N$(t,e,n))}const ki=0,Rb=1,bu=2,ao=3;class v0{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=ki,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>Sr(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return(i==null?r>0:i)?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],a=o+s.size;if(a>e||s instanceof gC){i=e-o;break}o=a}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof mC&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?Sr(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?Sr(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,a=0;;a++){let l=this.children[a],u=s+l.size;if(i==-1&&e<=u){let c=s+l.border;if(e>=c&&n<=u-l.border&&l.node&&l.contentDOM&&this.contentDOM.contains(l.contentDOM))return l.parseRange(e,n,c);e=s;for(let f=a;f>0;f--){let d=this.children[f-1];if(d.size&&d.dom.parentNode==this.contentDOM&&!d.emptyChildAt(1)){i=Sr(d.dom)+1;break}e-=d.size}i==-1&&(i=0)}if(i>-1&&(u>n||a==this.children.length-1)){n=u;for(let c=a+1;c<this.children.length;c++){let f=this.children[c];if(f.size&&f.dom.parentNode==this.contentDOM&&!f.emptyChildAt(-1)){o=Sr(f.dom);break}n+=f.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=u}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let d=0,h=0;d<this.children.length;d++){let g=this.children[d],y=h+g.size;if(o>h&&s<y)return g.setSelection(e-h-g.border,n-h-g.border,r,i);h=y}let a=this.domFromPos(e,e?-1:1),l=n==e?a:this.domFromPos(n,n?-1:1),u=r.getSelection(),c=!1;if((Mi||qn)&&e==n){let{node:d,offset:h}=a;if(d.nodeType==3){if(c=!!(h&&d.nodeValue[h-1]==`
`),c&&h==d.nodeValue.length)for(let g=d,y;g;g=g.parentNode){if(y=g.nextSibling){y.nodeName=="BR"&&(a=l={node:y.parentNode,offset:Sr(y)+1});break}let S=g.pmViewDesc;if(S&&S.node&&S.node.isBlock)break}}else{let g=d.childNodes[h-1];c=g&&(g.nodeName=="BR"||g.contentEditable=="false")}}if(Mi&&u.focusNode&&u.focusNode!=l.node&&u.focusNode.nodeType==1){let d=u.focusNode.childNodes[u.focusOffset];d&&d.contentEditable=="false"&&(i=!0)}if(!(i||c&&qn)&&yl(a.node,a.offset,u.anchorNode,u.anchorOffset)&&yl(l.node,l.offset,u.focusNode,u.focusOffset))return;let f=!1;if((u.extend||e==n)&&!c){u.collapse(a.node,a.offset);try{e!=n&&u.extend(l.node,l.offset),f=!0}catch{}}if(!f){if(e>n){let h=a;a=l,l=h}let d=document.createRange();d.setEnd(l.node,l.offset),d.setStart(a.node,a.offset),u.removeAllRanges(),u.addRange(d)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let a=r+o.border,l=s-o.border;if(e>=a&&n<=l){this.dirty=e==r||n==s?bu:Rb,e==a&&n==l&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=ao:o.markDirty(e-a,n-a);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?bu:ao}r=s}this.dirty=bu}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?bu:Rb;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class mC extends v0{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let a=document.createElement("span");a.appendChild(s),s=a}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==ki&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class D$ extends v0{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class xl extends v0{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=Ur.renderSpec(document,n.type.spec.toDOM(n,r))),new xl(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&ao||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=ao&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=ki){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=ki}}slice(e,n,r){let i=xl.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=p4(o,n,s,r)),e>0&&(o=p4(o,0,e,r));for(let a=0;a<o.length;a++)o[a].parent=i;return i.children=o,i}}class wl extends v0{constructor(e,n,r,i,o,s,a,l,u){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=a,s&&this.updateChildren(l,u)}static create(e,n,r,i,o,s){let a=o.nodeViews[n.type.name],l,u=a&&a(n,o,()=>{if(!l)return s;if(l.parent)return l.parent.posBeforeChild(l)},r,i),c=u&&u.dom,f=u&&u.contentDOM;if(n.isText){if(!c)c=document.createTextNode(n.text);else if(c.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else c||({dom:c,contentDOM:f}=Ur.renderSpec(document,n.type.spec.toDOM(n)));!f&&!n.isText&&c.nodeName!="BR"&&(c.hasAttribute("contenteditable")||(c.contentEditable="false"),n.type.spec.draggable&&(c.draggable=!0));let d=c;return c=xC(c,r,n),u?l=new I$(e,n,r,i,c,f||null,d,u,o,s+1):n.isText?new E1(e,n,r,i,c,d,o):new wl(e,n,r,i,c,f||null,d,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Y.empty)}return e}matchesNode(e,n,r){return this.dirty==ki&&e.eq(this.node)&&h4(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,a=o&&o.pos<0,l=new L$(this,s&&s.node,e);$$(this.node,this.innerDeco,(u,c,f)=>{u.spec.marks?l.syncToMarks(u.spec.marks,r,e):u.type.side>=0&&!f&&l.syncToMarks(c==this.node.childCount?Je.none:this.node.child(c).marks,r,e),l.placeWidget(u,e,i)},(u,c,f,d)=>{l.syncToMarks(u.marks,r,e);let h;l.findNodeMatch(u,c,f,d)||a&&e.state.selection.from>i&&e.state.selection.to<i+u.nodeSize&&(h=l.findIndexWithChild(o.node))>-1&&l.updateNodeAt(u,c,f,h,e)||l.updateNextNode(u,c,f,e,d)||l.addNode(u,c,f,e,i),i+=u.nodeSize}),l.syncToMarks([],r,e),this.node.isTextblock&&l.addTextblockHacks(),l.destroyRest(),(l.changed||this.dirty==bu)&&(s&&this.protectLocalComposition(e,s),vC(this.contentDOM,this.children,e),nc&&F$(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof Ce)||r<n||i>n+this.node.content.size)return null;let o=e.domSelectionRange(),s=V$(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let a=s.nodeValue,l=U$(this.node.content,a,r-n,i-n);return l<0?null:{node:s,pos:l,text:a}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new D$(this,o,n,i);e.input.compositionNodes.push(s),this.children=p4(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==ao||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=ki}updateOuterDeco(e){if(h4(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=yC(this.dom,this.nodeDOM,d4(this.outerDeco,this.node,n),d4(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function Db(t,e,n,r,i){return xC(r,e,t),new wl(void 0,t,e,n,r,r,r,i,0)}class E1 extends wl{constructor(e,n,r,i,o,s,a){super(e,n,r,i,o,null,s,a,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==ao||this.dirty!=ki&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=ki||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=ki,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new E1(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=ao)}get domAtom(){return!1}}class gC extends v0{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==ki&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class I$ extends wl{constructor(e,n,r,i,o,s,a,l,u,c){super(e,n,r,i,o,s,a,u,c),this.spec=l}update(e,n,r,i){if(this.dirty==ao)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function vC(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],a=s.dom;if(a.parentNode==t){for(;a!=r;)r=Ib(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(a,r);if(s instanceof xl){let l=r?r.previousSibling:t.lastChild;vC(s.contentDOM,s.children,n),r=l?l.nextSibling:t.firstChild}}for(;r;)r=Ib(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const Kf=function(t){t&&(this.nodeName=t)};Kf.prototype=Object.create(null);const Ja=[new Kf];function d4(t,e,n){if(t.length==0)return Ja;let r=n?Ja[0]:new Kf,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(!!s){s.nodeName&&i.push(r=new Kf(s.nodeName));for(let a in s){let l=s[a];l!=null&&(n&&i.length==1&&i.push(r=new Kf(e.isInline?"span":"div")),a=="class"?r.class=(r.class?r.class+" ":"")+l:a=="style"?r.style=(r.style?r.style+";":"")+l:a!="nodeName"&&(r[a]=l))}}}return i}function yC(t,e,n,r){if(n==Ja&&r==Ja)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(o){let l;a&&a.nodeName==s.nodeName&&i!=t&&(l=i.parentNode)&&l.nodeName.toLowerCase()==s.nodeName||(l=document.createElement(s.nodeName),l.pmIsDeco=!0,l.appendChild(i),a=Ja[0]),i=l}P$(i,a||Ja[0],s)}return i}function P$(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function xC(t,e,n){return yC(t,t,Ja,d4(e,n,t.nodeType!=1))}function h4(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function Ib(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class L${constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=z$(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=ki,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let a=-1;for(let l=this.index;l<Math.min(this.index+3,this.top.children.length);l++)if(this.top.children[l].matchesMark(e[o])){a=l;break}if(a>-1)a>this.index&&(this.changed=!0,this.destroyBetween(this.index,a)),this.top=this.top.children[this.index];else{let l=xl.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,l),this.top=l,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let a=this.index,l=Math.min(this.top.children.length,a+5);a<l;a++){let u=this.top.children[a];if(u.matchesNode(e,n,r)&&!this.preMatch.matched.has(u)){o=a;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==ao&&s.dom==s.contentDOM&&(s.dirty=bu),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o){for(let s=this.index;s<this.top.children.length;s++){let a=this.top.children[s];if(a instanceof wl){let l=this.preMatch.matched.get(a);if(l!=null&&l!=o)return!1;let u=a.dom;if(!(this.lock&&(u==this.lock||u.nodeType==1&&u.contains(this.lock.parentNode))&&!(e.isText&&a.node&&a.node.isText&&a.nodeDOM.nodeValue==e.text&&a.dirty!=ao&&h4(n,a.outerDeco)))&&a.update(e,n,r,i))return this.destroyBetween(this.index,s),a.dom!=u&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,n,r,i,o){this.top.children.splice(this.index++,0,wl.create(this.top,e,n,r,i,o)),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new mC(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof xl;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof E1)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((qn||sr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new gC(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}}function z$(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let a;for(;;)if(r){let u=n.children[r-1];if(u instanceof xl)n=u,r=u.children.length;else{a=u,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let l=a.node;if(!!l){if(l!=t.child(i-1))break;--i,o.set(a,i),s.push(a)}}return{index:i,matched:o,matches:s.reverse()}}function B$(t,e){return t.type.side-e.type.side}function $$(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let u=0;u<t.childCount;u++){let c=t.child(u);r(c,i,e.forChild(o,c),u),o+=c.nodeSize}return}let s=0,a=[],l=null;for(let u=0;;){if(s<i.length&&i[s].to==o){let g=i[s++],y;for(;s<i.length&&i[s].to==o;)(y||(y=[g])).push(i[s++]);if(y){y.sort(B$);for(let S=0;S<y.length;S++)n(y[S],u,!!l)}else n(g,u,!!l)}let c,f;if(l)f=-1,c=l,l=null;else if(u<t.childCount)f=u,c=t.child(u++);else break;for(let g=0;g<a.length;g++)a[g].to<=o&&a.splice(g--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)a.push(i[s++]);let d=o+c.nodeSize;if(c.isText){let g=d;s<i.length&&i[s].from<g&&(g=i[s].from);for(let y=0;y<a.length;y++)a[y].to<g&&(g=a[y].to);g<d&&(l=c.cut(g-o),c=c.cut(0,g-o),d=g,f=-1)}let h=c.isInline&&!c.isLeaf?a.filter(g=>!g.inline):a.slice();r(c,h,e.forChild(o,c),f),o=d}}function F$(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function V$(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=Yi(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function U$(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),a=o;if(o+=s.nodeSize,!s.isText)continue;let l=s.text;for(;i<t.childCount;){let u=t.child(i++);if(o+=u.nodeSize,!u.isText)break;l+=u.text}if(o>=n){let u=a<r?l.lastIndexOf(e,r-a-1):-1;if(u>=0&&u+e.length+a>=n)return a+u;if(n==r&&l.length>=r+e.length-a&&l.slice(r-a,r-a+e.length)==e)return r}}return-1}function p4(t,e,n,r,i){let o=[];for(let s=0,a=0;s<t.length;s++){let l=t[s],u=a,c=a+=l.size;u>=n||c<=e?o.push(l):(u<e&&o.push(l.slice(0,e-u,r)),i&&(o.push(i),i=void 0),c>n&&o.push(l.slice(n-u,l.size,r)))}return o}function J3(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let a=r.resolve(s),l,u;if(k1(n)){for(l=a;i&&!i.node;)i=i.parent;let c=i.node;if(i&&c.isAtom&&Te.isSelectable(c)&&i.parent&&!(c.isInline&&h$(n.focusNode,n.focusOffset,i.dom))){let f=i.posBefore;u=new Te(s==f?a:r.resolve(f))}}else{let c=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(c<0)return null;l=r.resolve(c)}if(!u){let c=e=="pointer"||t.state.selection.head<a.pos&&!o?1:-1;u=Q3(t,l,a,c)}return u}function wC(t){return t.editable?t.hasFocus():SC(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Bo(t,e=!1){let n=t.state.selection;if(bC(t,n),!!wC(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&sr){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&yl(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)j$(t);else{let{anchor:r,head:i}=n,o,s;Pb&&!(n instanceof Ce)&&(n.$from.parent.inlineContent||(o=Lb(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=Lb(t,n.to))),t.docView.setSelection(r,i,t.root,e),Pb&&(o&&zb(o),s&&zb(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&H$(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const Pb=qn||sr&&g$<63;function Lb(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if(qn&&i&&i.contentEditable=="false")return Zg(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Zg(i);if(o)return Zg(o)}}function Zg(t){return t.contentEditable="true",qn&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function zb(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function H$(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!wC(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function j$(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,Sr(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&dr&&Gs<=11&&(r.disabled=!0,r.disabled=!1)}function bC(t,e){if(e instanceof Te){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(Bb(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else Bb(t)}function Bb(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function Q3(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||Ce.between(e,n,r)}function $b(t){return t.editable&&!t.hasFocus()?!1:SC(t)}function SC(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function q$(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return yl(e.node,e.offset,n.anchorNode,n.anchorOffset)}function m4(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&Ke.findFrom(o,e)}function ja(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function Fb(t,e,n){let r=t.state.selection;if(r instanceof Ce){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let i=m4(t.state,e);return i&&i instanceof Te?ja(t,i):!1}else if(!(Pr&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let a=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(a))&&!s.contentDOM?Te.isSelectable(o)?ja(t,new Te(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):_1?ja(t,new Ce(t.state.doc.resolve(e<0?a:a+o.nodeSize))):!1:!1}}else{if(r instanceof Te&&r.node.isInline)return ja(t,new Ce(e>0?r.$to:r.$from));{let i=m4(t.state,e);return i?ja(t,i):!1}}}function rm(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Gf(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function ev(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(Mi&&n.nodeType==1&&r<rm(n)&&Gf(n.childNodes[r])&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let a=n.childNodes[r-1];if(Gf(a))i=n,o=--r;else if(a.nodeType==3)n=a,r=n.nodeValue.length;else break}}else{if(kC(n))break;{let a=n.previousSibling;for(;a&&Gf(a);)i=n.parentNode,o=Sr(a),a=a.previousSibling;if(a)n=a,r=rm(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?g4(t,n,r):i&&g4(t,i,o)}function tv(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=rm(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let a=n.childNodes[r];if(Gf(a))o=n,s=++r;else break}else{if(kC(n))break;{let a=n.nextSibling;for(;a&&Gf(a);)o=a.parentNode,s=Sr(a)+1,a=a.nextSibling;if(a)n=a,r=0,i=rm(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&g4(t,o,s)}function kC(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function g4(t,e,n){let r=t.domSelection();if(k1(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Bo(t)},50)}function Vb(t,e,n){let r=t.state.selection;if(r instanceof Ce&&!r.empty||n.indexOf("s")>-1||Pr&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=m4(t.state,e);if(s&&s instanceof Te)return ja(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,a=r instanceof jn?Ke.near(s,e):Ke.findFrom(s,e);return a?ja(t,a):!1}return!1}function Ub(t,e){if(!(t.state.selection instanceof Ce))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function Hb(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function W$(t){if(!qn||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;Hb(t,r,"true"),setTimeout(()=>Hb(t,r,"false"),20)}return!1}function K$(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function G$(t,e){let n=e.keyCode,r=K$(e);return n==8||Pr&&n==72&&r=="c"?Ub(t,-1)||ev(t):n==46||Pr&&n==68&&r=="c"?Ub(t,1)||tv(t):n==13||n==27?!0:n==37||Pr&&n==66&&r=="c"?Fb(t,-1,r)||ev(t):n==39||Pr&&n==70&&r=="c"?Fb(t,1,r)||tv(t):n==38||Pr&&n==80&&r=="c"?Vb(t,-1,r)||ev(t):n==40||Pr&&n==78&&r=="c"?W$(t)||Vb(t,1,r)||tv(t):r==(Pr?"m":"c")&&(n==66||n==73||n==89||n==90)}function _C(t,e){t.someProp("transformCopied",h=>{e=h(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let h=r.firstChild;n.push(h.type.name,h.attrs!=h.type.defaultAttrs?h.attrs:null),r=h.content}let s=t.someProp("clipboardSerializer")||Ur.fromSchema(t.state.schema),a=MC(),l=a.createElement("div");l.appendChild(s.serializeFragment(r,{document:a}));let u=l.firstChild,c,f=0;for(;u&&u.nodeType==1&&(c=OC[u.nodeName.toLowerCase()]);){for(let h=c.length-1;h>=0;h--){let g=a.createElement(c[h]);for(;l.firstChild;)g.appendChild(l.firstChild);l.appendChild(g),f++}u=l.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${i} ${o}${f?` -${f}`:""} ${JSON.stringify(n)}`);let d=t.someProp("clipboardTextSerializer",h=>h(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:l,text:d}}function EC(t,e,n,r,i){let o=i.parent.type.spec.code,s,a;if(!n&&!e)return null;let l=e&&(r||o||!n);if(l){if(t.someProp("transformPastedText",d=>{e=d(e,o||r,t)}),o)return e?new fe(Y.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):fe.empty;let f=t.someProp("clipboardTextParser",d=>d(e,i,r,t));if(f)a=f;else{let d=i.marks(),{schema:h}=t.state,g=Ur.fromSchema(h);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(y=>{let S=s.appendChild(document.createElement("p"));y&&S.appendChild(g.serializeNode(h.text(y,d)))})}}else t.someProp("transformPastedHTML",f=>{n=f(n,t)}),s=J$(n),_1&&Q$(s);let u=s&&s.querySelector("[data-pm-slice]"),c=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(c&&c[3])for(let f=+c[3];f>0;f--){let d=s.firstChild;for(;d&&d.nodeType!=1;)d=d.nextSibling;if(!d)break;s=d}if(a||(a=(t.someProp("clipboardParser")||t.someProp("domParser")||Zu.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(l||c),context:i,ruleFromNode(d){return d.nodeName=="BR"&&!d.nextSibling&&d.parentNode&&!Y$.test(d.parentNode.nodeName)?{ignore:!0}:null}})),c)a=Z$(jb(a,+c[1],+c[2]),c[4]);else if(a=fe.maxOpen(X$(a.content,i),!0),a.openStart||a.openEnd){let f=0,d=0;for(let h=a.content.firstChild;f<a.openStart&&!h.type.spec.isolating;f++,h=h.firstChild);for(let h=a.content.lastChild;d<a.openEnd&&!h.type.spec.isolating;d++,h=h.lastChild);a=jb(a,f,d)}return t.someProp("transformPasted",f=>{a=f(a,t)}),a}const Y$=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function X$(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(a=>{if(!s)return;let l=i.findWrapping(a.type),u;if(!l)return s=null;if(u=s.length&&o.length&&TC(l,o,a,s[s.length-1],0))s[s.length-1]=u;else{s.length&&(s[s.length-1]=AC(s[s.length-1],o.length));let c=CC(a,l);s.push(c),i=i.matchType(c.type),o=l}}),s)return Y.from(s)}return t}function CC(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,Y.from(t));return t}function TC(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=TC(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(Y.from(CC(n,t,i+1))))}}function AC(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,AC(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(Y.empty,!0);return t.copy(n.append(r))}function v4(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,a=s.content;return i<r-1&&(a=v4(a,e,n,r,i+1,o)),i>=n&&(a=e<0?s.contentMatchAt(0).fillBefore(a,t.childCount>1||o<=i).append(a):a.append(s.contentMatchAt(s.childCount).fillBefore(Y.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(a))}function jb(t,e,n){return e<t.openStart&&(t=new fe(v4(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new fe(v4(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const OC={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let qb=null;function MC(){return qb||(qb=document.implementation.createHTMLDocument("title"))}function J$(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=MC().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&OC[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function Q$(t){let e=t.querySelectorAll(sr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent=="\xA0"&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Z$(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let a=r.length-2;a>=0;a-=2){let l=n.nodes[r[a]];if(!l||l.hasRequiredAttrs())break;i=Y.from(l.create(r[a+1],i)),o++,s++}return new fe(i,o,s)}const Wn={},Kn={},eF={touchstart:!0,touchmove:!0};class tF{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function nF(t){for(let e in Wn){let n=Wn[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{iF(t,r)&&!Z3(t,r)&&(t.editable||!(r.type in Kn))&&n(t,r)},eF[e]?{passive:!0}:void 0)}qn&&t.dom.addEventListener("input",()=>null),y4(t)}function Rs(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function rF(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function y4(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>Z3(t,r))})}function Z3(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function iF(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function oF(t,e){!Z3(t,e)&&Wn[e.type]&&(t.editable||!(e.type in Kn))&&Wn[e.type](t,e)}Kn.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!RC(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(Xi&&sr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),nc&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,wu(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||G$(t,n)?n.preventDefault():Rs(t,"key")};Kn.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Kn.keypress=(t,e)=>{let n=e;if(RC(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Pr&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof Ce)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))||t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function C1(t){return{left:t.clientX,top:t.clientY}}function sF(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function e5(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,a=>s>o.depth?a(t,n,o.nodeAfter,o.before(s),i,!0):a(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function Iu(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function aF(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&Te.isSelectable(r)?(Iu(t,new Te(n),"pointer"),!0):!1}function lF(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof Te&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let a=s>o.depth?o.nodeAfter:o.node(s);if(Te.isSelectable(a)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(Iu(t,Te.create(t.state.doc,i),"pointer"),!0):!1}function uF(t,e,n,r,i){return e5(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?lF(t,n):aF(t,n))}function cF(t,e,n,r){return e5(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function fF(t,e,n,r){return e5(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||dF(t,n,r)}function dF(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(Iu(t,Ce.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),a=i.before(o);if(s.inlineContent)Iu(t,Ce.create(r,a+1,a+1+s.content.size),"pointer");else if(Te.isSelectable(s))Iu(t,Te.create(r,a),"pointer");else continue;return!0}}function t5(t){return im(t)}const NC=Pr?"metaKey":"ctrlKey";Wn.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=t5(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&sF(n,t.input.lastClick)&&!n[NC]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(C1(n));!s||(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new hF(t,s,n,!!r)):(o=="doubleClick"?cF:fF)(t,s.pos,s.inside,n)?n.preventDefault():Rs(t,"pointer"))};class hF{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[NC],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let c=e.state.doc.resolve(n.pos);o=c.parent,s=c.depth?c.before():0}const a=i?null:r.target,l=a?e.docView.nearestDesc(a,!0):null;this.target=l?l.dom:null;let{selection:u}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||u instanceof Te&&u.from<=s&&u.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&Mi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Rs(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Bo(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(C1(e))),this.updateAllowDefault(e),this.allowDefault||!n?Rs(this.view,"pointer"):uF(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||qn&&this.mightDrag&&!this.mightDrag.node.isAtom||sr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Iu(this.view,Ke.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):Rs(this.view,"pointer")}move(e){this.updateAllowDefault(e),Rs(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Wn.touchstart=t=>{t.input.lastTouch=Date.now(),t5(t),Rs(t,"pointer")};Wn.touchmove=t=>{t.input.lastTouch=Date.now(),Rs(t,"pointer")};Wn.contextmenu=t=>t5(t);function RC(t,e){return t.composing?!0:qn&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const pF=Xi?5e3:-1;Kn.compositionstart=Kn.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),im(t,!0),t.markCursor=null;else if(im(t),Mi&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){t.domSelection().collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}DC(t,pF)};Kn.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,DC(t,20))};function DC(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>im(t),e))}function IC(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=mF());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function mF(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function im(t,e=!1){if(!(Xi&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),IC(t),e||t.docView&&t.docView.dirty){let n=J3(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function gF(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const rc=dr&&Gs<15||nc&&v$<604;Wn.copy=Kn.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=rc?null:n.clipboardData,s=r.content(),{dom:a,text:l}=_C(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",a.innerHTML),o.setData("text/plain",l)):gF(t,a),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function vF(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function yF(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?x4(t,r.value,null,e):x4(t,r.textContent,r.innerHTML,e)},50)}function x4(t,e,n,r){let i=EC(t,e,n,t.input.shiftKey,t.state.selection.$from);if(t.someProp("handlePaste",a=>a(t,r,i||fe.empty)))return!0;if(!i)return!1;let o=vF(i),s=o?t.state.tr.replaceSelectionWith(o,t.input.shiftKey):t.state.tr.replaceSelection(i);return t.dispatch(s.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Kn.paste=(t,e)=>{let n=e;if(t.composing&&!Xi)return;let r=rc?null:n.clipboardData;r&&x4(t,r.getData("text/plain"),r.getData("text/html"),n)?n.preventDefault():yF(t,n)};class xF{constructor(e,n){this.slice=e,this.move=n}}const PC=Pr?"altKey":"ctrlKey";Wn.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(C1(n));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof Te?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(Te.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let u=t.docView.nearestDesc(n.target,!0);u&&u.node.type.spec.draggable&&u!=t.docView&&t.dispatch(t.state.tr.setSelection(Te.create(t.state.doc,u.posBefore)))}}let s=t.state.selection.content(),{dom:a,text:l}=_C(t,s);n.dataTransfer.clearData(),n.dataTransfer.setData(rc?"Text":"text/html",a.innerHTML),n.dataTransfer.effectAllowed="copyMove",rc||n.dataTransfer.setData("text/plain",l),t.dragging=new xF(s,!n[PC])};Wn.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Kn.dragover=Kn.dragenter=(t,e)=>e.preventDefault();Kn.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(C1(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",g=>{s=g(s,t)}):s=EC(t,n.dataTransfer.getData(rc?"Text":"text/plain"),rc?null:n.dataTransfer.getData("text/html"),!1,o);let a=!!(r&&!n[PC]);if(t.someProp("handleDrop",g=>g(t,n,s||fe.empty,a))){n.preventDefault();return}if(!s)return;n.preventDefault();let l=s?iB(t.state.doc,o.pos,s):o.pos;l==null&&(l=o.pos);let u=t.state.tr;a&&u.deleteSelection();let c=u.mapping.map(l),f=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,d=u.doc;if(f?u.replaceRangeWith(c,c,s.content.firstChild):u.replaceRange(c,c,s),u.doc.eq(d))return;let h=u.doc.resolve(c);if(f&&Te.isSelectable(s.content.firstChild)&&h.nodeAfter&&h.nodeAfter.sameMarkup(s.content.firstChild))u.setSelection(new Te(h));else{let g=u.mapping.map(l);u.mapping.maps[u.mapping.maps.length-1].forEach((y,S,v,m)=>g=m),u.setSelection(Q3(t,h,u.doc.resolve(g)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};Wn.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Bo(t)},20))};Wn.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Wn.beforeinput=(t,e)=>{if(sr&&Xi&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,wu(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Kn)Wn[t]=Kn[t];function Md(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class n5{constructor(e,n){this.toDOM=e,this.spec=n||al,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new mt(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof n5&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Md(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ys{constructor(e,n){this.attrs=e,this.spec=n||al}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new mt(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Ys&&Md(this.attrs,e.attrs)&&Md(this.spec,e.spec)}static is(e){return e.type instanceof Ys}destroy(){}}class r5{constructor(e,n){this.attrs=e,this.spec=n||al}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new mt(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof r5&&Md(this.attrs,e.attrs)&&Md(this.spec,e.spec)}destroy(){}}class mt{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new mt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new mt(e,e,new n5(n,r))}static inline(e,n,r,i){return new mt(e,n,new Ys(r,i))}static node(e,n,r,i){return new mt(e,n,new r5(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ys}}const Ql=[],al={};class rt{constructor(e,n){this.local=e.length?e:Ql,this.children=n.length?n:Ql}static create(e,n){return n.length?om(n,e,0,al):Rn}find(e,n,r){let i=[];return this.findInner(e==null?0:e,n==null?1e9:n,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let a=this.local[s];a.from<=n&&a.to>=e&&(!o||o(a.spec))&&r.push(a.copy(a.from+i,a.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let a=this.children[s]+1;this.children[s+2].findInner(e-a,n-a,r,i+a,o)}}map(e,n,r){return this==Rn||e.maps.length==0?this:this.mapInner(e,n,0,0,r||al)}mapInner(e,n,r,i,o){let s;for(let a=0;a<this.local.length;a++){let l=this.local[a].map(e,r,i);l&&l.type.valid(n,l)?(s||(s=[])).push(l):o.onRemove&&o.onRemove(this.local[a].spec)}return this.children.length?wF(this.children,s||[],e,n,r,i,o):s?new rt(s.sort(ll),Ql):Rn}add(e,n){return n.length?this==Rn?rt.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((a,l)=>{let u=l+r,c;if(!!(c=zC(n,a,u))){for(i||(i=this.children.slice());o<i.length&&i[o]<l;)o+=3;i[o]==l?i[o+2]=i[o+2].addInner(a,c,u+1):i.splice(o,0,l,l+a.nodeSize,om(c,a,u+1,al)),o+=3}});let s=LC(o?BC(n):n,-r);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||s.splice(a--,1);return new rt(s.length?this.local.concat(s).sort(ll):this.local,i||this.children)}remove(e){return e.length==0||this==Rn?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,a=r[o]+n,l=r[o+1]+n;for(let c=0,f;c<e.length;c++)(f=e[c])&&f.from>a&&f.to<l&&(e[c]=null,(s||(s=[])).push(f));if(!s)continue;r==this.children&&(r=this.children.slice());let u=r[o+2].removeInner(s,a+1);u!=Rn?r[o+2]=u:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let a=0;a<i.length;a++)i[a].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(a--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new rt(i,r):Rn}forChild(e,n){if(this==Rn)return this;if(n.isLeaf)return rt.empty;let r,i;for(let a=0;a<this.children.length;a+=3)if(this.children[a]>=e){this.children[a]==e&&(r=this.children[a+2]);break}let o=e+1,s=o+n.content.size;for(let a=0;a<this.local.length;a++){let l=this.local[a];if(l.from<s&&l.to>o&&l.type instanceof Ys){let u=Math.max(o,l.from)-o,c=Math.min(s,l.to)-o;u<c&&(i||(i=[])).push(l.copy(u,c))}}if(i){let a=new rt(i.sort(ll),Ql);return r?new Es([a,r]):a}return r||Rn}eq(e){if(this==e)return!0;if(!(e instanceof rt)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return i5(this.localsInner(e))}localsInner(e){if(this==Rn)return Ql;if(e.inlineContent||!this.local.some(Ys.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Ys||n.push(this.local[r]);return n}}rt.empty=new rt([],[]);rt.removeOverlap=i5;const Rn=rt.empty;class Es{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,al));return Es.from(r)}forChild(e,n){if(n.isLeaf)return rt.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=Rn&&(o instanceof Es?r=r.concat(o.members):r.push(o))}return Es.from(r)}eq(e){if(!(e instanceof Es)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(!!o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?i5(r?n:n.sort(ll)):Ql}static from(e){switch(e.length){case 0:return Rn;case 1:return e[0];default:return new Es(e)}}}function wF(t,e,n,r,i,o,s){let a=t.slice();for(let u=0,c=o;u<n.maps.length;u++){let f=0;n.maps[u].forEach((d,h,g,y)=>{let S=y-g-(h-d);for(let v=0;v<a.length;v+=3){let m=a[v+1];if(m<0||d>m+c-f)continue;let p=a[v]+c-f;h>=p?a[v+1]=d<=p?-2:-1:g>=i&&S&&(a[v]+=S,a[v+1]+=S)}f+=S}),c=n.maps[u].map(c,-1)}let l=!1;for(let u=0;u<a.length;u+=3)if(a[u+1]<0){if(a[u+1]==-2){l=!0,a[u+1]=-1;continue}let c=n.map(t[u]+o),f=c-i;if(f<0||f>=r.content.size){l=!0;continue}let d=n.map(t[u+1]+o,-1),h=d-i,{index:g,offset:y}=r.content.findIndex(f),S=r.maybeChild(g);if(S&&y==f&&y+S.nodeSize==h){let v=a[u+2].mapInner(n,S,c+1,t[u]+o+1,s);v!=Rn?(a[u]=f,a[u+1]=h,a[u+2]=v):(a[u+1]=-2,l=!0)}else l=!0}if(l){let u=bF(a,t,e,n,i,o,s),c=om(u,r,0,s);e=c.local;for(let f=0;f<a.length;f+=3)a[f+1]<0&&(a.splice(f,3),f-=3);for(let f=0,d=0;f<c.children.length;f+=3){let h=c.children[f];for(;d<a.length&&a[d]<h;)d+=3;a.splice(d,0,c.children[f],c.children[f+1],c.children[f+2])}}return new rt(e.sort(ll),a)}function LC(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new mt(i.from+e,i.to+e,i.type))}return n}function bF(t,e,n,r,i,o,s){function a(l,u){for(let c=0;c<l.local.length;c++){let f=l.local[c].map(r,i,u);f?n.push(f):s.onRemove&&s.onRemove(l.local[c].spec)}for(let c=0;c<l.children.length;c+=3)a(l.children[c+2],l.children[c]+u+1)}for(let l=0;l<t.length;l+=3)t[l+1]==-1&&a(t[l+2],e[l]+o+1);return n}function zC(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function BC(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function om(t,e,n,r){let i=[],o=!1;e.forEach((a,l)=>{let u=zC(t,a,l+n);if(u){o=!0;let c=om(u,a,n+l+1,r);c!=Rn&&i.push(l,l+a.nodeSize,c)}});let s=LC(o?BC(t):t,-n).sort(ll);for(let a=0;a<s.length;a++)s[a].type.valid(e,s[a])||(r.onRemove&&r.onRemove(s[a].spec),s.splice(a--,1));return s.length||i.length?new rt(s,i):Rn}function ll(t,e){return t.from-e.from||t.to-e.to}function i5(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),Wb(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),Wb(e,i,r.copy(o.from,r.to)));break}}}return e}function Wb(t,e,n){for(;e<t.length&&ll(n,t[e])>0;)e++;t.splice(e,0,n)}function nv(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Rn&&e.push(r)}),t.cursorWrapper&&e.push(rt.create(t.state.doc,[t.cursorWrapper.deco])),Es.from(e)}const SF={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},kF=dr&&Gs<=11;class _F{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class EF{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new _F,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);dr&&Gs<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),kF&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,SF)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(!!$b(this.view)){if(this.suppressingSelectionUpdates)return Bo(this.view);if(dr&&Gs<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&yl(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=Od(o))n.add(o);for(let o=e.anchorNode;o;o=Od(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.observer?this.observer.takeRecords():[];this.queue.length&&(n=this.queue.concat(n),this.queue.length=0);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&$b(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,a=!1,l=[];if(e.editable)for(let c=0;c<n.length;c++){let f=this.registerMutation(n[c],l);f&&(o=o<0?f.from:Math.min(f.from,o),s=s<0?f.to:Math.max(f.to,s),f.typeOver&&(a=!0))}if(Mi&&l.length>1){let c=l.filter(f=>f.nodeName=="BR");if(c.length==2){let f=c[0],d=c[1];f.parentNode&&f.parentNode.parentNode==d.parentNode?d.remove():f.remove()}}let u=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&e.input.lastTouch<Date.now()-300&&k1(r)&&(u=J3(e))&&u.eq(Ke.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Bo(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),CF(e)),this.handleDOMChange(o,s,a,l),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Bo(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let c=0;c<e.addedNodes.length;c++)n.push(e.addedNodes[c]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(dr&&Gs<=11&&e.addedNodes.length)for(let c=0;c<e.addedNodes.length;c++){let{previousSibling:f,nextSibling:d}=e.addedNodes[c];(!f||Array.prototype.indexOf.call(e.addedNodes,f)<0)&&(i=f),(!d||Array.prototype.indexOf.call(e.addedNodes,d)<0)&&(o=d)}let s=i&&i.parentNode==e.target?Sr(i)+1:0,a=r.localPosFromDOM(e.target,s,-1),l=o&&o.parentNode==e.target?Sr(o):e.target.childNodes.length,u=r.localPosFromDOM(e.target,l,1);return{from:a,to:u}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let Kb=new WeakMap,Gb=!1;function CF(t){if(!Kb.has(t)&&(Kb.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=Mi,Gb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Gb=!0}}function TF(t){let e;function n(l){l.preventDefault(),l.stopImmediatePropagation(),e=l.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,a=t.domAtPos(t.state.selection.anchor);return yl(a.node,a.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}function AF(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:a}=t.docView.parseRange(e,n),l=t.domSelectionRange(),u,c=l.anchorNode;if(c&&t.dom.contains(c.nodeType==1?c:c.parentNode)&&(u=[{node:c,offset:l.anchorOffset}],k1(l)||u.push({node:l.focusNode,offset:l.focusOffset})),sr&&t.input.lastKeyCode===8)for(let S=o;S>i;S--){let v=r.childNodes[S-1],m=v.pmViewDesc;if(v.nodeName=="BR"&&!m){o=S;break}if(!m||m.size)break}let f=t.state.doc,d=t.someProp("domParser")||Zu.fromSchema(t.state.schema),h=f.resolve(s),g=null,y=d.parse(r,{topNode:h.parent,topMatch:h.parent.contentMatchAt(h.index()),topOpen:!0,from:i,to:o,preserveWhitespace:h.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:OF,context:h});if(u&&u[0].pos!=null){let S=u[0].pos,v=u[1]&&u[1].pos;v==null&&(v=S),g={anchor:S+s,head:v+s}}return{doc:y,sel:g,from:s,to:a}}function OF(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(qn&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||qn&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}function MF(t,e,n,r,i){if(e<0){let M=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,N=J3(t,M);if(N&&!t.state.selection.eq(N)){let $=t.state.tr.setSelection(N);M=="pointer"?$.setMeta("pointer",!0):M=="key"&&$.scrollIntoView(),t.dispatch($)}return}let o=t.state.doc.resolve(e),s=o.sharedDepth(n);e=o.before(s+1),n=t.state.doc.resolve(n).after(s+1);let a=t.state.selection,l=AF(t,e,n),u=t.state.doc,c=u.slice(l.from,l.to),f,d;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(f=t.state.selection.to,d="end"):(f=t.state.selection.from,d="start"),t.input.lastKeyCode=null;let h=DF(c.content,l.doc.content,l.from,f,d);if((nc&&t.input.lastIOSEnter>Date.now()-225||Xi)&&i.some(M=>M.nodeName=="DIV"||M.nodeName=="P"||M.nodeName=="LI")&&(!h||h.endA>=h.endB)&&t.someProp("handleKeyDown",M=>M(t,wu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!h)if(r&&a instanceof Ce&&!a.empty&&a.$head.sameParent(a.$anchor)&&!t.composing&&!(l.sel&&l.sel.anchor!=l.sel.head))h={start:a.from,endA:a.to,endB:a.to};else{if(l.sel){let M=Yb(t,t.state.doc,l.sel);M&&!M.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(M))}return}if(sr&&t.cursorWrapper&&l.sel&&l.sel.anchor==t.cursorWrapper.deco.from&&l.sel.head==l.sel.anchor){let M=h.endB-h.start;l.sel={anchor:l.sel.anchor+M,head:l.sel.anchor+M}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&h.start==h.endB&&t.state.selection instanceof Ce&&(h.start>t.state.selection.from&&h.start<=t.state.selection.from+2&&t.state.selection.from>=l.from?h.start=t.state.selection.from:h.endA<t.state.selection.to&&h.endA>=t.state.selection.to-2&&t.state.selection.to<=l.to&&(h.endB+=t.state.selection.to-h.endA,h.endA=t.state.selection.to)),dr&&Gs<=11&&h.endB==h.start+1&&h.endA==h.start&&h.start>l.from&&l.doc.textBetween(h.start-l.from-1,h.start-l.from+1)==" \xA0"&&(h.start--,h.endA--,h.endB--);let g=l.doc.resolveNoCache(h.start-l.from),y=l.doc.resolveNoCache(h.endB-l.from),S=u.resolve(h.start),v=g.sameParent(y)&&g.parent.inlineContent&&S.end()>=h.endA,m;if((nc&&t.input.lastIOSEnter>Date.now()-225&&(!v||i.some(M=>M.nodeName=="DIV"||M.nodeName=="P"))||!v&&g.pos<l.doc.content.size&&(m=Ke.findFrom(l.doc.resolve(g.pos+1),1,!0))&&m.head==y.pos)&&t.someProp("handleKeyDown",M=>M(t,wu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>h.start&&RF(u,h.start,h.endA,g,y)&&t.someProp("handleKeyDown",M=>M(t,wu(8,"Backspace")))){Xi&&sr&&t.domObserver.suppressSelectionUpdates();return}sr&&Xi&&h.endB==h.start&&(t.input.lastAndroidDelete=Date.now()),Xi&&!v&&g.start()!=y.start()&&y.parentOffset==0&&g.depth==y.depth&&l.sel&&l.sel.anchor==l.sel.head&&l.sel.head==h.endA&&(h.endB-=2,y=l.doc.resolveNoCache(h.endB-l.from),setTimeout(()=>{t.someProp("handleKeyDown",function(M){return M(t,wu(13,"Enter"))})},20));let p=h.start,x=h.endA,b,_,T;if(v){if(g.pos==y.pos)dr&&Gs<=11&&g.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Bo(t),20)),b=t.state.tr.delete(p,x),_=u.resolve(h.start).marksAcross(u.resolve(h.endA));else if(h.endA==h.endB&&(T=NF(g.parent.content.cut(g.parentOffset,y.parentOffset),S.parent.content.cut(S.parentOffset,h.endA-S.start()))))b=t.state.tr,T.type=="add"?b.addMark(p,x,T.mark):b.removeMark(p,x,T.mark);else if(g.parent.child(g.index()).isText&&g.index()==y.index()-(y.textOffset?0:1)){let M=g.parent.textBetween(g.parentOffset,y.parentOffset);if(t.someProp("handleTextInput",N=>N(t,p,x,M)))return;b=t.state.tr.insertText(M,p,x)}}if(b||(b=t.state.tr.replace(p,x,l.doc.slice(h.start-l.from,h.endB-l.from))),l.sel){let M=Yb(t,b.doc,l.sel);M&&!(sr&&Xi&&t.composing&&M.empty&&(h.start!=h.endB||t.input.lastAndroidDelete<Date.now()-100)&&(M.head==p||M.head==b.mapping.map(x)-1)||dr&&M.empty&&M.head==p)&&b.setSelection(M)}_&&b.ensureMarks(_),t.dispatch(b.scrollIntoView())}function Yb(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:Q3(t,e.resolve(n.anchor),e.resolve(n.head))}function NF(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,a,l;for(let c=0;c<r.length;c++)i=r[c].removeFromSet(i);for(let c=0;c<n.length;c++)o=n[c].removeFromSet(o);if(i.length==1&&o.length==0)a=i[0],s="add",l=c=>c.mark(a.addToSet(c.marks));else if(i.length==0&&o.length==1)a=o[0],s="remove",l=c=>c.mark(a.removeFromSet(c.marks));else return null;let u=[];for(let c=0;c<e.childCount;c++)u.push(l(e.child(c)));if(Y.from(u).eq(t))return{mark:a,type:s}}function RF(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||rv(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(rv(o,!0,!0));return!s.parent.isTextblock||s.pos>n||rv(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function rv(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function DF(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:a}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let l=Math.max(0,o-Math.min(s,a));r-=s+l-o}return s<o&&t.size<e.size?(o-=r<=o&&r>=s?o-r:0,a=o+(a-s),s=o):a<o&&(o-=r<=o&&r>=a?o-r:0,s=o+(s-a),a=o),{start:o,endA:s,endB:a}}class $C{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new tF,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(e7),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Qb(this),Jb(this),this.nodeViews=Zb(this),this.docView=Db(this.state.doc,Xb(this),nv(this),this.dom,this),this.domObserver=new EF(this,(r,i,o,s)=>MF(this,r,i,o,s)),this.domObserver.start(),nF(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&y4(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(e7),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){let r=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(IC(this),o=!0),this.state=e;let s=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(s||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let d=Zb(this);PF(d,this.nodeViews)&&(this.nodeViews=d,i=!0)}(s||n.handleDOMEvents!=this._props.handleDOMEvents)&&y4(this),this.editable=Qb(this),Jb(this);let a=nv(this),l=Xb(this),u=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",c=i||!this.docView.matchesNode(e.doc,l,a);(c||!e.selection.eq(r.selection))&&(o=!0);let f=u=="preserve"&&o&&this.dom.style.overflowAnchor==null&&w$(this);if(o){this.domObserver.stop();let d=c&&(dr||sr)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&IF(r.selection,e.selection);if(c){let h=sr?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,l,a,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=Db(e.doc,l,a,this.dom,this)),h&&!this.trackWrites&&(d=!0)}d||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&q$(this))?Bo(this,d):(bC(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),u=="reset"?this.dom.scrollTop=0:u=="to selection"?this.scrollToSelection():f&&b$(f)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof Te){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&Ab(this,n.getBoundingClientRect(),e)}else Ab(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let a=this.directPlugins[s].props[e];if(a!=null&&(i=n?n(a):a))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let a=o[s].props[e];if(a!=null&&(i=n?n(a):a))return i}}hasFocus(){if(dr){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&S$(this.dom),Bo(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}posAtCoords(e){return T$(this,e)}coordsAtPos(e,n=1){return hC(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return R$(this,n||this.state,e)}destroy(){!this.docView||(rF(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],nv(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return oF(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return qn&&this.root.nodeType===11&&m$(this.dom.ownerDocument)==this.dom?TF(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function Xb(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"&&(e.class+=" "+n[r]),r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),[mt.node(0,t.state.doc.content.size,e)]}function Jb(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:mt.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Qb(t){return!t.someProp("editable",e=>e(t.state)===!1)}function IF(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Zb(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function PF(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function e7(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var LF=t=>{if(typeof t!="string")throw new TypeError("Expected a string");return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")},zF=Object.defineProperty,BF=(t,e,n)=>e in t?zF(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vo=(t,e,n)=>(BF(t,typeof e!="symbol"?e+"":e,n),n),FC=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Ve=(t,e,n)=>(FC(t,e,"read from private field"),n?n.call(t):e.get(t)),yo=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},dt=(t,e,n,r)=>(FC(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);function $F(t){return!!(t.prev&&t.next&&t.prev.text.full!==t.next.text.full)}function FF(t){return!!(t.prev&&t.next&&t.prev.range.cursor!==t.next.range.cursor)}function VF(t){return!!(!t.prev&&t.next)}function UF(t){return!!(t.prev&&!t.next)}function HF(t){return!!(t.prev&&t.next&&t.prev.range.from!==t.next.range.from)}function jF(t){return t==="invalid-exit-split"}var qF=["jump-backward-exit","jump-forward-exit"],WF=["jump-backward-change","jump-forward-change"];function KF(t){var e,n;return Oi(qF,(e=t.exit)==null?void 0:e.exitReason)||Oi(WF,(n=t.change)==null?void 0:n.changeReason)}function t7(t){return!!(t&&t.query.full.length>=t.suggester.matchOffset)}function n7(t){return pn(t)&&t instanceof Ce}function ar(t){const{match:e,changeReason:n,exitReason:r}=t;return{...e,changeReason:n,exitReason:r}}function GF(t,e){const{invalidPrefixCharacters:n,validPrefixCharacters:r}=e;return n?!new RegExp(b4(n)).test(t):new RegExp(b4(r)).test(t)}function YF(t){const{text:e,regexp:n,$pos:r,suggester:i}=t,o=r.start();let s;return w1(e,n).forEach(a=>{const l=a.input.slice(Math.max(0,a.index-1),a.index);if(GF(l,i)){const u=a.index+o,c=a[0],f=a[1];if(!Ne(c)||!Ne(f))return;const d=u+c.length,h=Math.min(d,r.pos),g=h-u;u<r.pos&&d>=r.pos&&(s={range:{from:u,to:d,cursor:h},match:a,query:{partial:c.slice(f.length,g),full:c.slice(f.length)},text:{partial:c.slice(0,g),full:c},textAfter:r.doc.textBetween(d,r.end(),Os,Os),textBefore:r.doc.textBetween(o,u,Os,Os),suggester:i})}}),s}function VC(t){const{$pos:e,suggester:n}=t,{char:r,name:i,startOfLine:o,supportedCharacters:s,matchOffset:a,multiline:l,caseInsensitive:u,unicode:c}=n,f=iV({char:r,matchOffset:a,startOfLine:o,supportedCharacters:s,multiline:l,caseInsensitive:u,unicode:c}),d=e.doc.textBetween(e.before(),e.end(),Os,Os);return YF({suggester:n,text:d,regexp:f,$pos:e,char:r,name:i})}function UC(t){const{state:e,match:n}=t;try{return VC({$pos:e.doc.resolve(n.range.cursor),suggester:n.suggester})}catch{return}}function HC(t){const{prev:e,next:n,state:r}=t;return!n&&e.range.from>=r.doc.nodeSize?{exit:ar({match:e,exitReason:"delete"})}:!n||!e.query.partial?{exit:ar({match:e,exitReason:"invalid-exit-split"})}:e.range.to===n.range.cursor?{exit:ar({match:n,exitReason:"exit-end"})}:e.query.partial?{exit:ar({match:n,exitReason:"exit-split"})}:{}}function XF(t){const{prev:e,next:n,state:r}=t,i=we(),o=UC({state:r,match:e}),{exit:s}=o&&o.query.full!==e.query.full?HC({prev:e,next:o,state:r}):i;return e.range.from<n.range.from?{exit:s!=null?s:ar({match:e,exitReason:"jump-forward-exit"}),change:ar({match:n,changeReason:"jump-forward-change"})}:{exit:s!=null?s:ar({match:e,exitReason:"jump-backward-exit"}),change:ar({match:n,changeReason:"jump-backward-change"})}}function JF(t){const{match:e,state:n,$pos:r}=t,{selection:i}=n,o=UC({match:e,state:n});return!o||o.text.full!==e.text.full?HC({prev:e,next:o,state:n}):!i.empty&&(i.from<=e.range.from||i.to>=e.range.to)?{exit:ar({match:e,exitReason:"selection-outside"})}:r.pos>e.range.to?{exit:ar({match:e,exitReason:"move-end"})}:r.pos<=e.range.from?{exit:ar({match:e,exitReason:"move-start"})}:{}}function QF(t){const{prev:e,next:n,state:r,$pos:i}=t,o=we();if(!e&&!n)return o;const s={prev:e,next:n};return HF(s)?XF({prev:s.prev,next:s.next,state:r}):VF(s)?{change:ar({match:s.next,changeReason:"start"})}:UF(s)?JF({$pos:i,match:s.prev,state:r}):$F(s)?{change:ar({match:s.next,changeReason:"change-character"})}:FF(s)?{change:ar({match:s.next,changeReason:r.selection.empty?"move":"selection-inside"})}:o}function r7(t,e){for(let n=t.depth;n>0;n--){const r=t.node(n);if(e.includes(r.type.name))return!0}return!1}function w4(t,e){const{$from:n,$to:r}=t;return jC(t,e)?!0:j3(n.pos,r.pos).some(i=>ZF(n.doc.resolve(i),e))}function jC(t,e){var n;const{$from:r,$to:i}=t,o=new Set(((n=r.marksAcross(i))!=null?n:[]).map(s=>s.type.name));return e.some(s=>o.has(s))}function ZF(t,e){const n=new Set(t.marks().map(r=>r.type.name));return e.some(r=>n.has(r))}function eV(t,e){const{$cursor:n}=e,{validMarks:r,validNodes:i,invalidMarks:o,invalidNodes:s}=t;return!r&&!i&&ra(o)&&ra(s)?!0:!(r&&!jC(e,r)||i&&!r7(n,i)||!r&&w4(e,o)||!i&&r7(n,s))}function i7(t){const{suggesters:e,$pos:n,selectionEmpty:r}=t;for(const i of e)if(!(i.emptySelectionsOnly&&!r))try{const o=VC({suggester:i,$pos:n});if(!o)continue;const s={$from:n.doc.resolve(o.range.from),$to:n.doc.resolve(o.range.to),$cursor:n};if(eV(i,s)&&i.isValidPosition(s,o))return o}catch{}}function b4(t){return oz(t)?t.source:t}function tV(t){return t?"^":""}function nV(t,e){return`(?:${b4(t)}){${e},}`}function rV(t){return Ne(t)?new RegExp(LF(t)):t}function iV(t){const{char:e,matchOffset:n,startOfLine:r,supportedCharacters:i,captureChar:o=!0,caseInsensitive:s=!1,multiline:a=!1,unicode:l=!1}=t,u=`g${a?"m":""}${s?"i":""}${l?"u":""}`;let c=rV(e).source;return o&&(c=`(${c})`),new RegExp(`${tV(r)}${c}${nV(i,n)}`,u)}var oV={appendTransaction:!1,priority:50,ignoredTag:"span",matchOffset:0,disableDecorations:!1,startOfLine:!1,suggestClassName:"suggest",suggestTag:"span",supportedCharacters:/\w+/,validPrefixCharacters:/^[\s\0]?$/,invalidPrefixCharacters:null,ignoredClassName:null,invalidMarks:[],invalidNodes:[],validMarks:null,validNodes:null,isValidPosition:()=>!0,checkNextValidSelection:null,emptySelectionsOnly:!1,caseInsensitive:!1,multiline:!1,unicode:!1,captureChar:!0},qC="__ignore_prosemirror_suggest_update__",Zh,sf,ln,hs,Zl,$i,en,ps,eu,WC=class{constructor(t){yo(this,Zh,!1),yo(this,sf,!1),yo(this,ln,void 0),yo(this,hs,void 0),yo(this,Zl,void 0),yo(this,$i,we()),vo(this,"view"),yo(this,en,rt.empty),yo(this,ps,!1),yo(this,eu,!1),vo(this,"setMarkRemoved",()=>{dt(this,ps,!0)}),vo(this,"findNextTextSelection",n=>{const r=n.$from.doc,i=Math.min(r.nodeSize-2,n.to+1),o=r.resolve(i),s=Ke.findFrom(o,1,!0);if(!!n7(s))return s}),vo(this,"ignoreNextExit",()=>{dt(this,sf,!0)}),vo(this,"addIgnored",({from:n,name:r,specific:i=!1})=>{const o=Ve(this,ln).find(c=>c.name===r);if(!o)throw new Error(`No suggester exists for the name provided: ${r}`);const s=Ne(o.char)?o.char.length:1,a=n+s,l=o.ignoredClassName?{class:o.ignoredClassName}:{},u=mt.inline(n,a,{nodeName:o.ignoredTag,...l},{name:r,specific:i,char:o.char});dt(this,en,Ve(this,en).add(this.view.state.doc,[u]))}),vo(this,"removeIgnored",({from:n,name:r})=>{const i=Ve(this,ln).find(a=>a.name===r);if(!i)throw new Error(`No suggester exists for the name provided: ${r}`);const o=Ne(i.char)?i.char.length:1,s=Ve(this,en).find(n,n+o)[0];!s||s.spec.name!==r||dt(this,en,Ve(this,en).remove([s]))}),vo(this,"clearIgnored",n=>{if(!n){dt(this,en,rt.empty);return}const i=Ve(this,en).find().filter(({spec:o})=>o.name===n);dt(this,en,Ve(this,en).remove(i))}),vo(this,"findMatchAtPosition",(n,r)=>{const i=r?Ve(this,ln).filter(o=>o.name===r):Ve(this,ln);return i7({suggesters:i,$pos:n,docChanged:!1,selectionEmpty:!0})}),vo(this,"setLastChangeFromAppend",()=>{dt(this,eu,!0)});const e=o7();dt(this,ln,t.map(e)),dt(this,ln,ml(Ve(this,ln),(n,r)=>r.priority-n.priority))}static create(t){return new WC(t)}get decorationSet(){return Ve(this,en)}get removed(){return Ve(this,ps)}get match(){return Ve(this,hs)?Ve(this,hs):Ve(this,Zl)&&Ve(this,$i).exit?Ve(this,Zl):void 0}init(t){return this.view=t,this}createProps(t){const{name:e,char:n}=t.suggester;return{view:this.view,addIgnored:this.addIgnored,clearIgnored:this.clearIgnored,ignoreNextExit:this.ignoreNextExit,setMarkRemoved:this.setMarkRemoved,name:e,char:n,...t}}shouldRunExit(){return Ve(this,sf)?(dt(this,sf,!1),!1):!0}updateWithNextSelection(t){var e,n,r;const i=this.findNextTextSelection(t.selection);if(!!i)for(const o of Ve(this,ln)){const s=(e=Ve(this,$i).change)==null?void 0:e.suggester.name,a=(n=Ve(this,$i).exit)==null?void 0:n.suggester.name;(r=o.checkNextValidSelection)==null||r.call(o,i.$from,t,{change:s,exit:a})}}changeHandler(t,e){const{change:n,exit:r}=Ve(this,$i),i=this.match;if(!n&&!r||!t7(i))return;const o=e===(r==null?void 0:r.suggester.appendTransaction)&&this.shouldRunExit(),s=e===(n==null?void 0:n.suggester.appendTransaction);if(!(!o&&!s)){if(n&&r&&KF({change:n,exit:r})){const a=this.createProps(r),l=this.createProps(n),u=r.range.from<n.range.from;o&&r.suggester.onChange(a,t),s&&n.suggester.onChange(l,t),o&&dt(this,ps,!1);return}n&&s&&n.suggester.onChange(this.createProps(n),t),r&&o&&(r.suggester.onChange(this.createProps(r),t),dt(this,ps,!1),jF(r.exitReason)&&dt(this,$i,we()))}}mapIgnoredDecorations(t){const e=Ve(this,en).map(t.mapping,t.doc),r=e.find().filter(({from:i,to:o,spec:s})=>{const a=Ne(s.char)?s.char.length:1;return o-i!==a});dt(this,en,e.remove(r))}shouldIgnoreMatch({range:t,suggester:{name:e}}){return Ve(this,en).find().some(({spec:i,from:o})=>o!==t.from?!1:i.specific?i.name===e:!0)}resetState(){dt(this,$i,we()),dt(this,hs,void 0),dt(this,ps,!1),dt(this,eu,!1)}updateReasons(t){const{$pos:e,state:n}=t,r=Ve(this,Zh),i=Ve(this,ln),o=n.selection.empty,s=n7(n.selection)?i7({suggesters:i,$pos:e,docChanged:r,selectionEmpty:o}):void 0;dt(this,hs,s&&this.shouldIgnoreMatch(s)?void 0:s),dt(this,$i,QF({next:Ve(this,hs),prev:Ve(this,Zl),state:n,$pos:e}))}addSuggester(t){const e=Ve(this,ln).find(r=>r.name===t.name),n=o7();if(e)dt(this,ln,Ve(this,ln).map(r=>r===e?n(t):r));else{const r=[...Ve(this,ln),n(t)];dt(this,ln,ml(r,(i,o)=>o.priority-i.priority))}return()=>this.removeSuggester(t.name)}removeSuggester(t){const e=Ne(t)?t:t.name;dt(this,ln,Ve(this,ln).filter(n=>n.name!==e)),this.clearIgnored(e)}toJSON(){return this.match}apply(t){const{exit:e,change:n}=Ve(this,$i);if(Ve(this,eu)&&(dt(this,eu,!1),!(e!=null&&e.suggester.appendTransaction)&&!(n!=null&&n.suggester.appendTransaction)))return this;const{tr:r,state:i}=t,o=r.docChanged||r.selectionSet;return r.getMeta(qC)||!o&&!Ve(this,ps)?this:(dt(this,Zh,r.docChanged),this.mapIgnoredDecorations(r),e&&this.resetState(),dt(this,Zl,Ve(this,hs)),this.updateReasons({$pos:r.selection.$from,state:i}),this)}createDecorations(t){const e=this.match;if(!t7(e))return Ve(this,en);const{disableDecorations:n}=e.suggester;if(at(n)?n(t,e):n)return Ve(this,en);const{range:i,suggester:o}=e,{name:s,suggestTag:a,suggestClassName:l}=o,{from:u,to:c}=i;return this.shouldIgnoreMatch(e)?Ve(this,en):Ve(this,en).add(t.doc,[mt.inline(u,c,{nodeName:a,class:s?`${l} suggest-${s}`:l},{name:s})])}},sV=WC;Zh=new WeakMap;sf=new WeakMap;ln=new WeakMap;hs=new WeakMap;Zl=new WeakMap;$i=new WeakMap;en=new WeakMap;ps=new WeakMap;eu=new WeakMap;function o7(){const t=new Set;return e=>{if(t.has(e.name))throw new Error(`A suggester already exists with the name '${e.name}'. The name provided must be unique.`);const n={...oV,...e};return t.add(e.name),n}}var KC=new Pl("suggest");function o5(t){return KC.getState(t)}function s7(t,e){return o5(t).addSuggester(e)}function a7(t){t.setMeta(qC,!0)}function aV(t,e){return o5(t).removeSuggester(e)}function lV(...t){const e=sV.create(t);return new fo({key:KC,view:n=>(e.init(n),{update:r=>e.changeHandler(r.state.tr,!1)}),state:{init:()=>e,apply:(n,r,i,o)=>e.apply({tr:n,state:o})},appendTransaction:(n,r,i)=>{const o=i.tr;return e.updateWithNextSelection(o),e.changeHandler(o,!0),o.docChanged||o.steps.length>0||o.selectionSet||o.storedMarksSet?(e.setLastChangeFromAppend(),o):null},props:{decorations:n=>e.createDecorations(n)}})}function s5(t,e){const n=Object.getPrototypeOf(e);let r=t.selection,i=t.doc,o=t.storedMarks;const s=we();for(const[a,l]of Object.entries(e))s[a]={value:l};return Object.create(n,{...s,storedMarks:{get(){return o}},selection:{get(){return r}},doc:{get(){return i}},tr:{get(){return r=t.selection,i=t.doc,o=t.storedMarks,t}}})}function Ds(t){return({state:e,dispatch:n,view:r,tr:i})=>t(s5(i,e),n,r)}function l7(t){return e=>{var n;return be(e.dispatch===void 0||e.dispatch===((n=e.view)==null?void 0:n.dispatch),{code:re.NON_CHAINABLE_COMMAND}),t(e)}}var gi={get isBrowser(){return!!(typeof window<"u"&&typeof window.document<"u"&&window.navigator&&window.navigator.userAgent)},get isJSDOM(){return gi.isBrowser&&window.navigator.userAgent.includes("jsdom")},get isNode(){return typeof Ro<"u"&&Ro.versions!=null&&Ro.versions.node!=null},get isIos(){return gi.isBrowser&&/iPod|iPhone|iPad/.test(navigator.platform)},get isMac(){return gi.isBrowser&&/Mac|iPod|iPhone|iPad/.test(navigator.platform)},get isApple(){return gi.isNode?Ro.platform==="darwin":gi.isBrowser?/Mac|iPod|iPhone|iPad/.test(window.navigator.platform):!1},get isDevelopment(){return!1},get isTest(){return!1},get isProduction(){return!0}};function Hi(t,e){var n,r;const i=zV(t);return(r=(n=i==null?void 0:i.getComputedStyle(t))==null?void 0:n.getPropertyValue(e))!=null?r:""}function Nn(t,e){return Object.assign(t.style,e)}function sm(t){return pn(t)&&Gr(t.nodeType)&&Ne(t.nodeName)}function Ft(t){return sm(t)&&t.nodeType===1}function uV(t){return sm(t)&&t.nodeType===3}function T1(t){const{types:e,node:n}=t;if(!n)return!1;const r=i=>i===n.type||i===n.type.name;return Yt(e)?e.some(r):r(e)}function cV(t,e){const{tr:n}=e;return t.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function fV({pos:t,tr:e}){const n=e.doc.nodeAt(t);return n&&e.delete(t,t+n.nodeSize),e}function dV({pos:t,tr:e,content:n}){const r=e.doc.nodeAt(t);return r&&e.replaceWith(t,t+r.nodeSize,n),e}function y0(t){const{predicate:e,selection:n}=t,r=XC(n)?n.selection.$from:u5(n)?n.$from:n;for(let i=r.depth;i>0;i--){const o=r.node(i),s=i>0?r.before(i):0,a=r.start(i),l=s+o.nodeSize;if(e(o,s))return{pos:s,depth:i,node:o,start:a,end:l}}}function hV(t){const{depth:e}=t,n=e>0?t.before(e):0,r=t.node(e),i=t.start(e),o=n+r.nodeSize;return{pos:n,start:i,node:r,end:o,depth:e}}function pV(t){const e=y0({predicate:()=>!0,selection:t});return be(e,{message:"No parent node found for the selection provided."}),e}function sa(t){const{types:e,selection:n}=t;return y0({predicate:r=>T1({types:e,node:r}),selection:n})}function mV(t){const{types:e,selection:n}=t;if(!(!w0(n)||!T1({types:e,node:n.node})))return{pos:n.$from.pos,depth:n.$from.depth,start:n.$from.start(),end:n.$from.pos+n.node.nodeSize,node:n.node}}function a5(t){return u5(t)?t.empty:t.selection.empty}function gV(t){return t.docChanged||t.selectionSet}function GC(t){return!!Nd(t)}function Nd(t){var e;const{state:n,type:r,attrs:i}=t,{selection:o,doc:s}=n,a=Ne(r)?s.type.schema.nodes[r]:r;be(a,{code:re.SCHEMA,message:`No node exists for ${r}`});const l=(e=mV({selection:o,types:r}))!=null?e:y0({predicate:u=>u.type===a,selection:o});return!i||Wp(i)||!l||l.node.hasMarkup(a,{...l.node.attrs,...i})?l:void 0}function Rd(...t){return e=>{if(!tb(t))return!1;const[n,...r]=t;let i=!1;const o=(...l)=>()=>{if(!tb(l))return!1;i=!0;const[,...u]=l;return Rd(...l)({...e,next:o(...u)})},s=o(...r),a=n({...e,next:s});return i||a?a:s()}}function vV(t,e){var n;const r=new Map,i=we();for(const o of t)for(const[s,a]of on(o)){const u=[...(n=r.get(s))!=null?n:[],a],c=Rd(...u);r.set(s,u),i[s]=e(c)}return i}function yV(t){return vV(t,e=>(n,r,i)=>e({state:n,dispatch:r,view:i,tr:n.tr,next:()=>!1}))}function l5(t,e){var n;const r=(n=t.attrs)!=null?n:{};return Object.entries(e).every(([i,o])=>r[i]===o)}function xV(t){return ZC(t,[Do,Ut,bn,xi])}function kc(t){return pn(t)}function _c(t,e){return Yt(e)?Oi(e,t[Wo]):e===t[Wo]}function wV(t){return pn(t)&&t instanceof Ad}function bV(t,e){return Ne(t)?kt(e.nodes,t):t}function YC(t){return pn(t)&&t instanceof m0}function SV(t,e){return Ne(t)?kt(e.marks,t):t}function x0(t){return pn(t)&&t instanceof Si}function kV(t){return pn(t)&&t instanceof Y}function _V(t){return pn(t)&&t instanceof Je}function XC(t){return pn(t)&&t instanceof Ns}function ya(t){return pn(t)&&t instanceof Ce}function EV(t){return pn(t)&&t instanceof jn}function u5(t){return pn(t)&&t instanceof Ke}function CV(t){return pn(t)&&t instanceof Qu}function u7(t){const{trState:e,from:n,to:r,type:i,attrs:o={}}=t,{doc:s}=e,a=SV(i,s.type.schema);if(Object.keys(o).length===0)return s.rangeHasMark(n,r,a);let l=!1;return r>n&&s.nodesBetween(n,r,u=>{var c;return l?!1:(l=((c=u.marks)!=null?c:[]).some(d=>d.type!==a?!1:l5(d,o)),!l)}),l}function w0(t){return pn(t)&&t instanceof Te}function am(t){const{trState:e,type:n,attrs:r={},from:i,to:o}=t,{selection:s,doc:a,storedMarks:l}=e,u=Ne(n)?a.type.schema.marks[n]:n;if(be(u,{code:re.SCHEMA,message:`Mark type: ${n} does not exist on the current schema.`}),i&&o)try{return Math.max(i,o)<a.nodeSize&&u7({...t,from:i,to:o})}catch{return!1}return s.empty?(l!=null?l:s.$from.marks()).some(f=>f.type!==n?!1:l5(f,r!=null?r:{})):u7({...t,from:s.from,to:s.to})}function JC(t,e={}){const n=TV(t.type.schema);if(!n)return!1;const{ignoreAttributes:r,ignoreDocAttributes:i}=e;return r?QC(n,t):i?n.content.eq(t.content):n.eq(t)}function QC(t,e){if(t===e)return!0;const n=t.type===e.type&&Je.sameSet(t.marks,e.marks);function r(){if(t.content===e.content)return!0;if(t.content.size!==e.content.size)return!1;const i=[],o=[];t.content.forEach(s=>i.push(s)),e.content.forEach(s=>o.push(s));for(const[s,a]of i.entries()){const l=o[s];if(!l||!QC(a,l))return!1}return!0}return n&&r()}function TV(t){var e,n;return(n=(e=t.nodes.doc)==null?void 0:e.createAndFill())!=null?n:void 0}function A1(t){for(const e of Object.values(t.nodes))if(e.name!=="doc"&&(e.isBlock||e.isTextblock))return e;be(!1,{code:re.SCHEMA,message:"No default block node found for the provided schema."})}function AV(t){return t.type===A1(t.type.schema)}function O1(t){return!!t&&t.type.isBlock&&!t.textContent&&!t.childCount}function ro(t,e,n){const r=t.parent.childAfter(t.parentOffset);if(!r.node)return;const i=Ne(e)?e:e.name,o=r.node.marks.find(({type:f})=>f.name===i);let s=t.index(),a=t.start()+r.offset,l=s+1,u=a+r.node.nodeSize;if(!o)return n&&u<n.pos?ro(t.doc.resolve(u+1),e,n):void 0;for(;s>0&&o.isInSet(t.parent.child(s-1).marks);)s-=1,a-=t.parent.child(s).nodeSize;for(;l<t.parent.childCount&&o.isInSet(t.parent.child(l).marks);)u+=t.parent.child(l).nodeSize,l+=1;const c=t.doc.textBetween(a,u,V3,`

`);return{from:a,to:u,text:c,mark:o}}function ZC(t,e){return e.length===0||e.some(n=>t instanceof n)}function OV(t){return ME(t,({from:n,to:r,prevFrom:i,prevTo:o})=>`${n}_${r}_${i}_${o}`).filter((n,r,i)=>!i.some((o,s)=>r===s?!1:n.prevFrom>=o.prevFrom&&n.prevTo<=o.prevTo&&n.from>=o.from&&n.to<=o.to))}function eT(t,e=[]){const n=[],{steps:r,mapping:i}=t,o=i.invert();r.forEach((a,l)=>{if(!ZC(a,e))return;const u=[],c=a.getMap(),f=i.slice(l);if(c.ranges.length===0&&xV(a)){const{from:d,to:h}=a;u.push({from:d,to:h})}else c.forEach((d,h)=>{u.push({from:d,to:h})});u.forEach(d=>{const h=f.map(d.from,-1),g=f.map(d.to);n.push({from:h,to:g,prevFrom:o.map(h,-1),prevTo:o.map(g)})})});const s=ml(n,(a,l)=>a.from-l.from);return OV(s)}function MV(t,e){const n=[],r=eT(t,e);for(const i of r)try{const o=t.doc.resolve(i.from),s=t.doc.resolve(i.to),a=o.blockRange(s);a&&n.push(a)}catch{}return n}function NV(t){var e,n;return(n=(e=t.content.firstChild)==null?void 0:e.textContent)!=null?n:""}function RV(t,e){if(!ya(t.selection))return;let{from:n,to:r}=t.selection;const i=(s,a)=>NV(Ce.between(t.doc.resolve(s),t.doc.resolve(a)).content());for(let s=i(n-1,n);s&&!e.test(s);n--,s=i(n-1,n));for(let s=i(r,r+1);s&&!e.test(s);r++,s=i(r,r+1));if(n===r)return;const o=t.doc.textBetween(n,r,V3,`

`);return{from:n,to:r,text:o}}function tT(t){return RV(t,/\W/)}function Pu(t,e=0){const n=Yt(t)?t[e]:t;return EE(Ne(n),`No match string found for match ${t}`),n!=null?n:""}function DV(t){return ya(t)?t.$cursor:void 0}function IV(t,e){return x0(t)?e?t.type===e.nodes.doc:t.type.name==="doc":!1}function PV(t){return pn(t)&&Gr(t.anchor)&&Gr(t.head)}function Yr(t,e){const n=e.nodeSize-2,r=0;let i;const o=l=>dz({min:r,max:n,value:l});if(u5(t))return t;if(t==="all")return new jn(e);if(t==="start"?i=r:t==="end"?i=n:CV(t)?i=t.pos:i=t,Gr(i))return i=o(i),Ce.near(e.resolve(i));if(PV(i)){const l=o(i.anchor),u=o(i.head);return Ce.between(e.resolve(l),e.resolve(u))}const s=o(i.from),a=o(i.to);return Ce.between(e.resolve(s),e.resolve(a))}var LV=3;function nT(t){const{content:e,schema:n,document:r,stringHandler:i,onError:o,attempts:s=0}=t,a=o&&s<=LV||s===0;if(be(a,{code:re.INVALID_CONTENT,message:"The invalid content has been called recursively more than ${MAX_ATTEMPTS} times. The content is invalid and the error handler has not been able to recover properly."}),Ne(e))return be(i,{code:re.INVALID_CONTENT,message:`The string '${e}' was added to the editor, but no \`stringHandler\` was added. Please provide a valid string handler which transforms your content to a \`ProsemirrorNode\` to prevent this error.`}),i({document:r,content:e,schema:n});if(XC(e))return e.doc;if(x0(e))return e;try{return n.nodeFromJSON(e)}catch(l){const u=jV({schema:n,error:l,json:e}),c=o==null?void 0:o(u);return be(c,{code:re.INVALID_CONTENT,message:`An error occurred when processing the content. Please provide an \`onError\` handler to process the invalid content: ${JSON.stringify(u.invalidContent,null,2)}`}),nT({...t,content:c,attempts:s+1})}}function M1(){const t=aC();if(t)return t;throw new Error(`Unable to retrieve the document from the global scope. 
It seems that you are running Remirror in a non-browser environment. Remirror need browser APIs to work. 
If you are using Jest (or other testing frameworks), make sure that you are using the JSDOM environment (https://jestjs.io/docs/29.0/configuration#testenvironment-string). 
If you are using Next.js (or other server-side rendering frameworks), please use dynamic import with \`ssr: false\` to load the editor component without rendering it on the server (https://nextjs.org/docs/advanced-features/dynamic-import#with-no-ssr). 
If you are using Node.js, you can install JSDOM and Remirror will try to use it automatically, or you can create a fake document and pass it to Remirror`)}function rT(t){var e,n,r;return(r=(e=t==null?void 0:t.defaultView)!=null?e:typeof window<"u"?window:void 0)!=null?r:(n=aC())==null?void 0:n.defaultView}function zV(t){return rT(t==null?void 0:t.ownerDocument)}function BV(t){var e;const n=(e=rT(t))!=null?e:M1().defaultView;if(n)return n;throw new Error("Unable to retrieve the window from the global scope")}function $V(t,e=M1()){const n=IV(t,t.type.schema)?t.content:Y.from(t);return Ur.fromSchema(t.type.schema).serializeFragment(n,{document:e})}function FV(t,e){return new(BV(e)).DOMParser().parseFromString(`<body>${t}</body>`,"text/html").body}function VV(t,e=M1()){const n=e.createElement("div");return n.append($V(t,e)),n.innerHTML}function S4(t){const{content:e,schema:n,document:r,fragment:i=!1,...o}=t,s=FV(e,r),a=Zu.fromSchema(n);return i?a.parseSlice(s,{...c7,...o}).content:a.parse(s,{...c7,...o})}var c7={preserveWhitespace:!1};function c5(t,e){const n=Ed(e.defaults());return U3({...t},n)}function UV(t,e){let n="";e&&(n=`${e.trim()}`);const r=SB(t);if(!r)return n;const i=(n.endsWith(";")," ");return`${n}${i}${r}`}var HV={remove(t,e){let n=t;for(const r of e)r.invalidParentNode||(n=mz(r.path,n));return n}};function jV({json:t,schema:e,...n}){const r=new Set(Ed(e.marks)),i=new Set(Ed(e.nodes)),o=iT({json:t,path:[],validNodes:i,validMarks:r});return{json:t,invalidContent:o,transformers:HV,...n}}function iT(t){const{json:e,validMarks:n,validNodes:r,path:i=[]}=t,o={validMarks:n,validNodes:r},s=[],{type:a,marks:l,content:u}=e;let{invalidParentMark:c=!1,invalidParentNode:f=!1}=t;if(l){const d=[];for(const[h,g]of l.entries()){const y=Ne(g)?g:g.type;n.has(y)||(d.unshift({name:y,path:[...i,"marks",`${h}`],type:"mark",invalidParentMark:c,invalidParentNode:f}),c=!0)}s.push(...d)}if(r.has(a)||(s.push({name:a,type:"node",path:i,invalidParentMark:c,invalidParentNode:f}),f=!0),u){const d=[];for(const[h,g]of u.entries())d.unshift(...iT({...o,json:g,path:[...i,"content",`${h}`],invalidParentMark:c,invalidParentNode:f}));s.unshift(...d)}return s}function qV(t){return!!(ya(t)&&t.$cursor&&t.$cursor.parentOffset>=t.$cursor.parent.content.size)}function k4(t){return!!(ya(t)&&t.$cursor&&t.$cursor.parentOffset<=0)}function f7(t){const e=Ke.atStart(t.$anchor.doc);return!!(k4(t)&&e.anchor===t.anchor)}function WV(t){return({dispatch:e,tr:n})=>{const{type:r,attrs:i=we(),appendText:o,range:s}=t,a=s?Ce.between(n.doc.resolve(s.from),n.doc.resolve(s.to)):n.selection,{$from:l,from:u,to:c}=a;let f=l.depth===0?n.doc.type.allowsMarkType(r):!1;return n.doc.nodesBetween(u,c,d=>{if(f)return!1;if(d.inlineContent&&d.type.allowsMarkType(r)){f=!0;return}}),f?(e==null||e(n.addMark(u,c,r.create(i))&&o?n.insertText(o):n),!0):!1}}function KV({tr:t,dispatch:e}){const{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&Sc(i);return!Gr(o)||!i?!1:(e==null||e(t.lift(i,o).scrollIntoView()),!0)}function oT(t,e={},n){return function(r){const{tr:i,dispatch:o,state:s}=r,a=Ne(t)?kt(s.schema.nodes,t):t,{from:l,to:u}=Yr(n!=null?n:i.selection,i.doc),c=i.doc.resolve(l),f=i.doc.resolve(u),d=c.blockRange(f),h=d&&W3(d,a,e);return!h||!d?!1:(o==null||o(i.wrap(d,h).scrollIntoView()),!0)}}function sT(t,e={},n){return r=>{const{tr:i,state:o}=r,s=Ne(t)?kt(o.schema.nodes,t):t;return Nd({state:i,type:s,attrs:e})?KV(r):oT(t,e,n)(r)}}function Dd(t,e,n,r=!0){return function(i){const{tr:o,dispatch:s,state:a}=i,l=Ne(t)?kt(a.schema.nodes,t):t,{from:u,to:c}=Yr(n!=null?n:o.selection,o.doc);let f=!1,d;return o.doc.nodesBetween(u,c,(h,g)=>{if(f)return!1;if(!h.isTextblock||h.hasMarkup(l,e))return;if(h.type===l){f=!0,d=h.attrs;return}const y=o.doc.resolve(g),S=y.index();f=y.parent.canReplaceWith(S,S+1,l),f&&(d=y.parent.attrs)}),f?(s==null||s(o.setBlockType(u,c,l,{...r?d:{},...e}).scrollIntoView()),!0):!1}}function f5(t){return e=>{var n;const{tr:r,state:i}=e,{type:o,attrs:s,preserveAttrs:a=!0}=t,l=Nd({state:r,type:o,attrs:s}),u=(n=t.toggleType)!=null?n:A1(i.schema);if(l)return Dd(u,{...a?l.node.attrs:{},...s})(e);const c=Nd({state:r,type:u,attrs:s});return Dd(o,{...a?c==null?void 0:c.node.attrs:{},...s})(e)}}function GV(t=0){const e=navigator.userAgent.match(/Chrom(e|ium)\/(\d+)\./);return e?Number.parseInt(kt(e,2),10)>=t:!1}function YV(t,e){let{head:n,empty:r,anchor:i}=t;for(const o of e.steps)n=o.getMap().map(n);r?e.setSelection(Ce.near(e.doc.resolve(n))):e.setSelection(Ce.between(e.doc.resolve(i),e.doc.resolve(n)))}function XV(t){const{attrs:e={},appendText:n="",content:r="",keepSelection:i=!1,range:o}=t;return({state:s,tr:a,dispatch:l})=>{var u,c,f,d;const h=s.schema,g=Yr((c=(u=t.selection)!=null?u:o)!=null?c:a.selection,a.doc),y=g.$from.index(),{from:S,to:v,$from:m}=g,p=Ne(t.type)?(f=h.nodes[t.type])!=null?f:h.marks[t.type]:t.type;if(be(Ne(t.type)?p:!0,{code:re.SCHEMA,message:`Schema contains no marks or nodes with name ${p}`}),wV(p)){if(!m.parent.canReplaceWith(y,y,p))return!1;a.replaceWith(S,v,p.create(e,r?h.text(r):void 0))}else be(r,{message:"`replaceText` cannot be called without content when using a mark type"}),a.replaceWith(S,v,h.text(r,YC(p)?[p.create(e)]:void 0));return n&&a.insertText(n),i&&YV(s.selection,a),l&&(GV(60)&&((d=document.getSelection())==null||d.empty()),l(a)),!0}}function aT(t,e){const n=t.parent.childAfter(t.parentOffset);if(!n.node)return;const{marks:r,nodeSize:i}=n.node;if(r[0])return r[0].type;const s=t.start()+n.offset+i;return aT(t.doc.resolve(s+1))}function lT(t){return({dispatch:e,tr:n,state:r})=>{var i,o;const{type:s,expand:a=!0,range:l}=t,u=Yr((o=(i=t.selection)!=null?i:l)!=null?o:n.selection,n.doc);let{from:c,to:f,$from:d,$to:h}=u;const g=Ne(s)?r.schema.marks[s]:s;g!==null&&be(g,{code:re.SCHEMA,message:`Mark type: ${s} does not exist on the current schema.`});const y=g!=null?g:aT(d);if(!y)return!1;const S=ro(d,y,h);return a&&S&&(c=Math.max(0,Math.min(c,S.from)),f=Math.min(Math.max(f,S.to),n.doc.nodeSize-2)),e==null||e(n.removeMark(c,Gr(f)?f:c,YC(g)?g:void 0)),!0}}function JV(t){const{node:e,predicate:n,descend:r=!0,action:i}=t;be(x0(e),{code:re.INTERNAL,message:'Invalid "node" parameter passed to "findChildren".'}),be(at(n),{code:re.INTERNAL,message:'Invalid "predicate" parameter passed to "findChildren".'});const o=[];return e.descendants((s,a)=>{const l={node:s,pos:a};return n(l)&&(o.push(l),i==null||i(l)),r}),o}function QV(t){const{type:e,...n}=t;return JV({...n,predicate:r=>r.node.type===e})}function ZV(t,e={}){const{descend:n=!1,predicate:r,StepTypes:i}=e,o=MV(t,i),s=[];for(const a of o){const{start:l,end:u}=a;t.doc.nodesBetween(l,u,(c,f)=>{var d;return((d=r==null?void 0:r(c,f,a))!=null?d:!0)&&s.push({node:c,pos:f}),n})}return s}function Id(t){const{regexp:e,type:n,getAttributes:r,ignoreWhitespace:i=!1,beforeDispatch:o,updateCaptured:s,shouldSkip:a,invalidMarks:l}=t;let u;const c=new hr(e,(f,d,h,g)=>{var y;const{tr:S,schema:v}=f;u||(u=Ne(n)?v.marks[n]:n,be(u,{code:re.SCHEMA,message:`Mark type: ${n} does not exist on the current schema.`}));let m=d[1],p=d[0];const x=uT({captureGroup:m,fullMatch:p,end:g,start:h,rule:c,state:f,ignoreWhitespace:i,invalidMarks:l,shouldSkip:a,updateCaptured:s});if(!x)return null;({start:h,end:g,captureGroup:m,fullMatch:p}=x);const b=at(r)?r(d):r;let _=g,T=[];if(m){const M=p.search(/\S/),N=h+p.indexOf(m),$=N+m.length;T=(y=S.storedMarks)!=null?y:[],$<g&&S.delete($,g),N>h&&S.delete(h+M,N),_=h+M+m.length}return S.addMark(h,_,u.create(b)),S.setStoredMarks(T),o==null||o({tr:S,match:d,start:h,end:g}),S});return c}function d5(t){const{regexp:e,type:n,getAttributes:r,beforeDispatch:i,shouldSkip:o,ignoreWhitespace:s=!1,updateCaptured:a,invalidMarks:l}=t,u=new hr(e,(c,f,d,h)=>{const g=at(r)?r(f):r,{tr:y,schema:S}=c,v=Ne(n)?S.nodes[n]:n;let m=f[1],p=f[0];const x=uT({captureGroup:m,fullMatch:p,end:h,start:d,rule:u,state:c,ignoreWhitespace:s,invalidMarks:l,shouldSkip:o,updateCaptured:a});if(!x)return null;({start:d,end:h,captureGroup:m,fullMatch:p}=x),be(v,{code:re.SCHEMA,message:`No node exists for ${n} in the schema.`});const b=v.createAndFill(g);return b&&(y.replaceRangeWith(v.isBlock?y.doc.resolve(d).before():d,h,b),i==null||i({tr:y,match:[p,m!=null?m:""],start:d,end:h})),y});return u}function uT({captureGroup:t,fullMatch:e,end:n,start:r,rule:i,ignoreWhitespace:o,shouldSkip:s,updateCaptured:a,state:l,invalidMarks:u}){var c,f,d,h,g,y;if(e==null)return null;const S=(c=a==null?void 0:a({captureGroup:t,fullMatch:e,start:r,end:n}))!=null?c:{};t=(f=S.captureGroup)!=null?f:t,e=(d=S.fullMatch)!=null?d:e,r=(h=S.start)!=null?h:r,n=(g=S.end)!=null?g:n;const v=l.doc.resolve(r),m=l.doc.resolve(n);return u&&w4({$from:v,$to:m},u)||i.invalidMarks&&w4({$from:v,$to:m},i.invalidMarks)||o&&(t==null?void 0:t.trim())===""||(s==null?void 0:s({state:l,captureGroup:t,fullMatch:e,start:r,end:n,ruleType:"mark"}))||((y=i.shouldSkip)==null?void 0:y.call(i,{state:l,captureGroup:t,fullMatch:e,start:r,end:n,ruleType:"mark"}))?null:{captureGroup:t,end:n,fullMatch:e,start:r}}const N1=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0),h5=(t,e,n)=>{let{$cursor:r}=t.selection;if(!r||(n?!n.endOfTextblock("backward",t):r.parentOffset>0))return!1;let i=fT(r);if(!i){let s=r.blockRange(),a=s&&Sc(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&pT(t,i,e))return!0;if(r.parent.content.size==0&&(ic(o,"end")||Te.isSelectable(o))){let s=K3(t.doc,r.before(),r.after(),fe.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(ic(o,"end")?Ke.findFrom(a.doc.resolve(a.mapping.map(i.pos,-1)),-1):Te.create(a.doc,i.pos-o.nodeSize)),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function ic(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const cT=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=fT(r)}let s=o&&o.nodeBefore;return!s||!Te.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Te.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function fT(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}const eU=(t,e,n)=>{let{$cursor:r}=t.selection;if(!r||(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size))return!1;let i=dT(r);if(!i)return!1;let o=i.nodeAfter;if(pT(t,i,e))return!0;if(r.parent.content.size==0&&(ic(o,"start")||Te.isSelectable(o))){let s=K3(t.doc,r.before(),r.after(),fe.empty);if(s&&s.slice.size<s.to-s.from){if(e){let a=t.tr.step(s);a.setSelection(ic(o,"start")?Ke.findFrom(a.doc.resolve(a.mapping.map(i.pos)),1):Te.create(a.doc,a.mapping.map(i.pos))),e(a.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},tU=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=dT(r)}let s=o&&o.nodeAfter;return!s||!Te.isSelectable(s)?!1:(e&&e(t.tr.setSelection(Te.create(t.doc,o.pos)).scrollIntoView()),!0)};function dT(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const hT=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function p5(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const nU=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=p5(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let a=n.after(),l=t.tr.replaceWith(a,a,s.createAndFill());l.setSelection(Ke.near(l.doc.resolve(a),1)),e(l.scrollIntoView())}return!0},rU=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof jn||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=p5(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,a=t.tr.insert(s,o.createAndFill());a.setSelection(Ce.create(a.doc,s+1)),e(a.scrollIntoView())}return!0},iU=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(Ru(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&Sc(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},oU=(t,e)=>{let{$from:n,$to:r}=t.selection;if(t.selection instanceof Te&&t.selection.node.isBlock)return!n.parentOffset||!Ru(t.doc,n.pos)?!1:(e&&e(t.tr.split(n.pos).scrollIntoView()),!0);if(!n.parent.isBlock)return!1;if(e){let i=r.parentOffset==r.parent.content.size,o=t.tr;(t.selection instanceof Ce||t.selection instanceof jn)&&o.deleteSelection();let s=n.depth==0?null:p5(n.node(-1).contentMatchAt(n.indexAfter(-1))),a=i&&s?[{type:s}]:void 0,l=Ru(o.doc,o.mapping.map(n.pos),1,a);if(!a&&!l&&Ru(o.doc,o.mapping.map(n.pos),1,s?[{type:s}]:void 0)&&(s&&(a=[{type:s}]),l=!0),l&&(o.split(o.mapping.map(n.pos),1,a),!i&&!n.parentOffset&&n.parent.type!=s)){let u=o.mapping.map(n.before()),c=o.doc.resolve(u);s&&n.node(-1).canReplaceWith(c.index(),c.index()+1,s)&&o.setNodeMarkup(o.mapping.map(n.before()),s)}e(o.scrollIntoView())}return!0},sU=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(Te.create(t.doc,i))),!0)},aU=(t,e)=>(e&&e(t.tr.setSelection(new jn(t.doc))),!0);function lU(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||g0(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function pT(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o,s;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(lU(t,e,n))return!0;let a=e.parent.canReplace(e.index(),e.index()+1);if(a&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let f=e.pos+i.nodeSize,d=Y.empty;for(let y=o.length-1;y>=0;y--)d=Y.from(o[y].create(null,d));d=Y.from(r.copy(d));let h=t.tr.step(new Ut(e.pos-1,f,e.pos,f,new fe(d,1,0),o.length,!0)),g=f+2*o.length;g0(h.doc,g)&&h.join(g),n(h.scrollIntoView())}return!0}let l=Ke.findFrom(e,1),u=l&&l.$from.blockRange(l.$to),c=u&&Sc(u);if(c!=null&&c>=e.depth)return n&&n(t.tr.lift(u,c).scrollIntoView()),!0;if(a&&ic(i,"start",!0)&&ic(r,"end")){let f=r,d=[];for(;d.push(f),!f.isTextblock;)f=f.lastChild;let h=i,g=1;for(;!h.isTextblock;h=h.firstChild)g++;if(f.canReplace(f.childCount,f.childCount,h.content)){if(n){let y=Y.empty;for(let v=d.length-1;v>=0;v--)y=Y.from(d[v].copy(y));let S=t.tr.step(new Ut(e.pos-d.length,e.pos+i.nodeSize,e.pos+g,e.pos+i.nodeSize-g,new fe(y,d.length,0),0,!0));n(S.scrollIntoView())}return!0}}return!1}function mT(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(Ce.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const uU=mT(-1),cU=mT(1);function fU(t,e,n){for(let r=0;r<e.length;r++){let{$from:i,$to:o}=e[r],s=i.depth==0?t.inlineContent&&t.type.allowsMarkType(n):!1;if(t.nodesBetween(i.pos,o.pos,a=>{if(s)return!1;s=a.inlineContent&&a.type.allowsMarkType(n)}),s)return!0}return!1}function dU(t,e=null){return function(n,r){let{empty:i,$cursor:o,ranges:s}=n.selection;if(i&&!o||!fU(n.doc,s,t))return!1;if(r)if(o)t.isInSet(n.storedMarks||o.marks())?r(n.tr.removeStoredMark(t)):r(n.tr.addStoredMark(t.create(e)));else{let a=!1,l=n.tr;for(let u=0;!a&&u<s.length;u++){let{$from:c,$to:f}=s[u];a=n.doc.rangeHasMark(c.pos,f.pos,t)}for(let u=0;u<s.length;u++){let{$from:c,$to:f}=s[u];if(a)l.removeMark(c.pos,f.pos,t);else{let d=c.pos,h=f.pos,g=c.nodeAfter,y=f.nodeBefore,S=g&&g.isText?/^\s*/.exec(g.text)[0].length:0,v=y&&y.isText?/\s*$/.exec(y.text)[0].length:0;d+S<h&&(d+=S,h-=v),l.addMark(d,h,t.create(e))}}r(l.scrollIntoView())}return!0}}function oc(...t){return function(e,n,r){for(let i=0;i<t.length;i++)if(t[i](e,n,r))return!0;return!1}}let iv=oc(N1,h5,cT),d7=oc(N1,eU,tU);const Ao={Enter:oc(hT,rU,iU,oU),"Mod-Enter":nU,Backspace:iv,"Mod-Backspace":iv,"Shift-Backspace":iv,Delete:d7,"Mod-Delete":d7,"Mod-a":aU},gT={"Ctrl-h":Ao.Backspace,"Alt-Backspace":Ao["Mod-Backspace"],"Ctrl-d":Ao.Delete,"Ctrl-Alt-Backspace":Ao["Mod-Delete"],"Alt-Delete":Ao["Mod-Delete"],"Alt-d":Ao["Mod-Delete"],"Ctrl-a":uU,"Ctrl-e":cU};for(let t in Ao)gT[t]=Ao[t];const hU=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform?os.platform()=="darwin":!1,ov=hU?gT:Ao;var aa={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},lm={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},h7=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent);typeof navigator<"u"&&/Gecko\/\d+/.test(navigator.userAgent);var pU=typeof navigator<"u"&&/Mac/.test(navigator.platform),mU=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),gU=pU||h7&&+h7[1]<57;for(var Sn=0;Sn<10;Sn++)aa[48+Sn]=aa[96+Sn]=String(Sn);for(var Sn=1;Sn<=24;Sn++)aa[Sn+111]="F"+Sn;for(var Sn=65;Sn<=90;Sn++)aa[Sn]=String.fromCharCode(Sn+32),lm[Sn]=String.fromCharCode(Sn);for(var sv in aa)lm.hasOwnProperty(sv)||(lm[sv]=aa[sv]);function vU(t){var e=gU&&(t.ctrlKey||t.altKey||t.metaKey)||mU&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?lm:aa)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const yU=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function xU(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let a=0;a<e.length-1;a++){let l=e[a];if(/^(cmd|meta|m)$/i.test(l))s=!0;else if(/^a(lt)?$/i.test(l))r=!0;else if(/^(c|ctrl|control)$/i.test(l))i=!0;else if(/^s(hift)?$/i.test(l))o=!0;else if(/^mod$/i.test(l))yU?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+l)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function wU(t){let e=Object.create(null);for(let n in t)e[xU(n)]=t[n];return e}function av(t,e,n){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n!==!1&&e.shiftKey&&(t="Shift-"+t),t}function vT(t){return new fo({props:{handleKeyDown:m5(t)}})}function m5(t){let e=wU(t);return function(n,r){let i=vU(r),o=i.length==1&&i!=" ",s,a=e[av(i,r,!o)];if(a&&a(n.state,n.dispatch,n))return!0;if(o&&(r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(s=aa[r.keyCode])&&s!=i){let l=e[av(s,r,!0)];if(l&&l(n.state,n.dispatch,n))return!0}else if(o&&r.shiftKey){let l=e[av(i,r,!0)];if(l&&l(n.state,n.dispatch,n))return!0}return!1}}function bU(t){const e=ml(t,(o,s)=>{var a,l;return((a=s.priority)!=null?a:lt.Low)-((l=o.priority)!=null?l:lt.Low)}),n=[],r=[];for(const o of e)AU(o)?n.push(o):r.push(o);let i;return new fo({key:SU,view:o=>(i=o,{}),props:{transformPasted:o=>{var s,a,l,u;const c=i.state.selection.$from,f=c.node().type.name,d=new Set(c.marks().map(h=>h.type.name));for(const h of n){if(((s=h.ignoredNodes)==null?void 0:s.includes(f))||((a=h.ignoredMarks)==null?void 0:a.some(p=>d.has(p))))continue;const g=(u=(l=o.content.firstChild)==null?void 0:l.textContent)!=null?u:"",y=!i.state.selection.empty&&o.content.childCount===1&&g,S=w1(g,h.regexp)[0];if(y&&S&&h.type==="mark"&&h.replaceSelection){const{from:p,to:x}=i.state.selection,b=i.state.doc.slice(p,x),_=b.content.textBetween(0,b.content.size);if(typeof h.replaceSelection!="boolean"?h.replaceSelection(_):h.replaceSelection){const T=[],{getAttributes:M,markType:N}=h,$=at(M)?M(S,!0):M,W=N.create($);return b.content.forEach(X=>{if(X.isText){const oe=W.addToSet(X.marks);T.push(X.mark(oe))}}),fe.maxOpen(Y.fromArray(T))}}const{nodes:v,transformed:m}=CU(o.content,h,i.state.schema);m&&(o=h.type==="node"&&h.nodeType.isBlock?new fe(Y.fromArray(v),0,0):new fe(Y.fromArray(v),o.openStart,o.openEnd))}return o},handleDOMEvents:{paste:(o,s)=>{var a,l;const u=s;if(!((l=(a=o.props).editable)!=null&&l.call(a,o.state)))return!1;const{clipboardData:c}=u;if(!c)return!1;const f=[...c.items].map(h=>h.getAsFile()).filter(h=>!!h);if(f.length===0)return!1;const{selection:d}=o.state;for(const{fileHandler:h,regexp:g}of r){const y=g?f.filter(S=>g.test(S.type)):f;if(y.length!==0&&h({event:u,files:y,selection:d,view:o,type:"paste"}))return u.preventDefault(),!0}return!1},drop:(o,s)=>{var a,l,u,c;const f=s;if(!((l=(a=o.props).editable)!=null&&l.call(a,o.state)))return!1;const{dataTransfer:d,clientX:h,clientY:g}=f;if(!d)return!1;const y=NU(f);if(y.length===0)return!1;const S=(c=(u=o.posAtCoords({left:h,top:g}))==null?void 0:u.pos)!=null?c:o.state.selection.anchor;for(const{fileHandler:v,regexp:m}of r){const p=m?y.filter(x=>m.test(x.type)):y;if(p.length!==0&&v({event:f,files:p,pos:S,view:o,type:"drop"}))return f.preventDefault(),!0}return!1}}}})}var SU=new Pl("pasteRule");function lv(t,e){return function n(r){const{fragment:i,rule:o,nodes:s}=r,{regexp:a,ignoreWhitespace:l,ignoredMarks:u,ignoredNodes:c}=o;let f=!1;return i.forEach(d=>{var h;if((c==null?void 0:c.includes(d.type.name))||OU(d)){s.push(d);return}if(!d.isText){const S=n({fragment:d.content,rule:o,nodes:[]});f||(f=S.transformed);const v=Y.fromArray(S.nodes);d.type.validContent(v)?s.push(d.copy(v)):s.push(...S.nodes);return}if(d.marks.some(S=>MU(S)||(u==null?void 0:u.includes(S.type.name)))){s.push(d);return}const g=(h=d.text)!=null?h:"";let y=0;for(const S of w1(g,a)){const v=S[1],m=S[0];if(l&&(v==null?void 0:v.trim())===""||!m)return;const p=S.index,x=p+m.length;p>y&&s.push(d.cut(y,p));let b=d.cut(p,x);if(m&&v){const _=m.search(/\S/),T=p+m.indexOf(v),M=T+v.length;_&&s.push(d.cut(p,p+_)),b=d.cut(T,M)}t({nodes:s,rule:o,textNode:b,match:S,schema:e}),f=!0,y=x}g&&y<g.length&&s.push(d.cut(y))}),{nodes:s,transformed:f}}}function kU(t){var e;const{nodes:n,rule:r,textNode:i,match:o,schema:s}=t,{transformMatch:a,getAttributes:l,markType:u}=r,c=at(l)?l(o,!1):l,f=(e=i.text)!=null?e:"",d=u.create(c),h=a==null?void 0:a(o);if(h==="")return;if(h===!1){n.push(s.text(f,i.marks));return}const g=d.addToSet(i.marks);n.push(s.text(h!=null?h:f,g))}function _U(t){var e;const{nodes:n,rule:r,textNode:i,match:o,schema:s}=t,{transformMatch:a}=r,l=a==null?void 0:a(o);if(l===""||l===!1)return;const u=(e=l!=null?l:i.text)!=null?e:"";n.push(s.text(u,i.marks))}function EU(t){const{nodes:e,rule:n,textNode:r,match:i}=t,{getAttributes:o,nodeType:s,getContent:a}=n,l=at(o)?o(i,!1):o,u=(a?a(i):r)||void 0;e.push(s.createChecked(l,u))}function CU(t,e,n){const r=[];switch(e.type){case"mark":return lv(kU,n)({fragment:t,nodes:r,rule:e});case"node":return lv(EU,n)({fragment:t,nodes:r,rule:e});default:return lv(_U,n)({fragment:t,nodes:r,rule:e})}}var TU=["mark","node","text"];function AU(t){return Oi(TU,t.type)}function OU(t){var e;return t.type.spec.code||((e=t.type.spec.group)==null?void 0:e.split(" ").includes("code"))}function MU(t){var e;return t.type.name==="code"||((e=t.type.spec.group)==null?void 0:e.split(" ").includes("code"))}function NU(t){var e,n;const{dataTransfer:r}=t;return r?((e=r.files)==null?void 0:e.length)>0?[...r.files]:(n=r.items)!=null&&n.length?[...r.items].map(i=>i.getAsFile()).filter(i=>!!i):[]:[]}let R1=()=>({events:{},emit(t,...e){(this.events[t]||[]).forEach(n=>n(...e))},on(t,e){return(this.events[t]=this.events[t]||[]).push(e),()=>this.events[t]=(this.events[t]||[]).filter(n=>n!==e)}});var yT=Object.defineProperty,RU=Object.getOwnPropertyDescriptor,DU=(t,e,n)=>e in t?yT(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ye=(t,e,n,r)=>{for(var i=r>1?void 0:r?RU(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&yT(e,n,i),i},ve=(t,e,n)=>(DU(t,typeof e!="symbol"?e+"":e,n),n),xT=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},ce=(t,e,n)=>(xT(t,e,"read from private field"),n?n.call(t):e.get(t)),jt=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},un=(t,e,n,r)=>(xT(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);function IU(t,e){return t===e}function p7(t){const{previousOptions:e,update:n,equals:r=IU}=t,i=Xa({...e,...n}),o=we(),s=Ed(e);for(const l of s){const u=e[l],c=i[l];if(r(u,c)){o[l]={changed:!1};continue}o[l]={changed:!0,previousValue:u,value:c}}const a=l=>{const u=we();for(const c of l){const f=o[c];f!=null&&f.changed&&(u[c]=f.value)}return u};return{changes:Xa(o),options:i,pickChanged:a}}var PU={[re.DUPLICATE_HELPER_NAMES]:"helper method",[re.DUPLICATE_COMMAND_NAMES]:"command method"};function wT(t){const{name:e,set:n,code:r}=t,i=PU[r];be(!n.has(e),{code:r,message:`There is a naming conflict for the name: ${e} used in this '${i}'. Please rename or remove from the editor to avoid runtime errors.`}),n.add(e)}var m7="__IGNORE__",LU="__ALL__",Ec=class{constructor(t,...[e]){ve(this,"~O",{}),ve(this,"_initialOptions"),ve(this,"_dynamicKeys"),ve(this,"_options"),ve(this,"_mappedHandlers"),ve(this,"onAddCustomHandler"),this._mappedHandlers=we(),this.populateMappedHandlers(),this._options=this._initialOptions=fz(t,this.constructor.defaultOptions,e!=null?e:we(),this.createDefaultHandlerOptions()),this._dynamicKeys=this.getDynamicKeys(),this.init()}get options(){return this._options}get dynamicKeys(){return this._dynamicKeys}get initialOptions(){return this._initialOptions}init(){}getDynamicKeys(){const t=[],{customHandlerKeys:e,handlerKeys:n,staticKeys:r}=this.constructor;for(const i of Ed(this._options))r.includes(i)||n.includes(i)||e.includes(i)||t.push(i);return t}ensureAllKeysAreDynamic(t){}setOptions(t){var e;const n=this.getDynamicOptions();this.ensureAllKeysAreDynamic(t);const{changes:r,options:i,pickChanged:o}=p7({previousOptions:n,update:t});this.updateDynamicOptions(i),(e=this.onSetOptions)==null||e.call(this,{reason:"set",changes:r,options:i,pickChanged:o,initialOptions:this._initialOptions})}resetOptions(){var t;const e=this.getDynamicOptions(),{changes:n,options:r,pickChanged:i}=p7({previousOptions:e,update:this._initialOptions});this.updateDynamicOptions(r),(t=this.onSetOptions)==null||t.call(this,{reason:"reset",options:r,changes:n,pickChanged:i,initialOptions:this._initialOptions})}getDynamicOptions(){return U3(this._options,[...this.constructor.customHandlerKeys,...this.constructor.handlerKeys])}updateDynamicOptions(t){this._options={...this._options,...t}}populateMappedHandlers(){for(const t of this.constructor.handlerKeys)this._mappedHandlers[t]=[]}createDefaultHandlerOptions(){const t=we();for(const e of this.constructor.handlerKeys)t[e]=(...n)=>{var r;const{handlerKeyOptions:i}=this.constructor,o=(r=i[e])==null?void 0:r.reducer;let s=o==null?void 0:o.getDefault(...n);for(const[,a]of this._mappedHandlers[e]){const l=a(...n);if(s=o?o.accumulator(s,l,...n):l,zU(i,s,e))return s}return s};return t}addHandler(t,e,n=lt.Default){return this._mappedHandlers[t].push([n,e]),this.sortHandlers(t),()=>this._mappedHandlers[t]=this._mappedHandlers[t].filter(([,r])=>r!==e)}hasHandlers(t){var e;return((e=this._mappedHandlers[t])!=null?e:[]).length>0}sortHandlers(t){this._mappedHandlers[t]=ml(this._mappedHandlers[t],([e],[n])=>n-e)}addCustomHandler(t,e){var n,r;return(r=(n=this.onAddCustomHandler)==null?void 0:n.call(this,{[t]:e}))!=null?r:OE}};ve(Ec,"defaultOptions",{});ve(Ec,"staticKeys",[]);ve(Ec,"handlerKeys",[]);ve(Ec,"handlerKeyOptions",{});ve(Ec,"customHandlerKeys",[]);function zU(t,e,n){const{[LU]:r}=t,i=t[n];return!r&&!i?!1:!!(i&&i.earlyReturnValue!==m7&&(at(i.earlyReturnValue)?i.earlyReturnValue(e)===!0:e===i.earlyReturnValue)||r&&r.earlyReturnValue!==m7&&(at(r.earlyReturnValue)?r.earlyReturnValue(e)===!0:e===r.earlyReturnValue))}var D1=class extends Ec{constructor(...t){super(BU,...t),ve(this,"priorityOverride"),ve(this,"_extensions"),ve(this,"extensionMap"),ve(this,"_store"),ve(this,"~E",{}),this._extensions=ME(this.createExtensions(),e=>e.constructor),this.extensionMap=new Map;for(const e of this._extensions)this.extensionMap.set(e.constructor,e)}get priority(){var t,e;return(e=(t=this.priorityOverride)!=null?t:this.options.priority)!=null?e:this.constructor.defaultPriority}get constructorName(){return`${kE(this.name)}Extension`}get store(){return be(this._store,{code:re.MANAGER_PHASE_ERROR,message:"An error occurred while attempting to access the 'extension.store' when the Manager has not yet set created the lifecycle methods."}),Xa(this._store,{requireKeys:!0})}get extensions(){return this._extensions}replaceChildExtension(t,e){!this.extensionMap.has(t)||(this.extensionMap.set(t,e),this._extensions=this.extensions.map(n=>e.constructor===t?e:n))}createExtensions(){return[]}getExtension(t){const e=this.extensionMap.get(t);return be(e,{code:re.INVALID_GET_EXTENSION,message:`'${t.name}' does not exist within the preset: '${this.name}'`}),e}isOfType(t){return this.constructor===t}setStore(t){this._store||(this._store=t)}clone(...t){return new this.constructor(...t)}setPriority(t){this.priorityOverride=t}};ve(D1,"defaultPriority",lt.Default);var _t=class extends D1{static get[Wo](){return hn.PlainExtensionConstructor}get[Wo](){return hn.PlainExtension}},Cc=class extends D1{static get[Wo](){return hn.MarkExtensionConstructor}get[Wo](){return hn.MarkExtension}get type(){return kt(this.store.schema.marks,this.name)}constructor(...t){super(...t)}};ve(Cc,"disableExtraAttributes",!1);var Xn=class extends D1{static get[Wo](){return hn.NodeExtensionConstructor}get[Wo](){return hn.NodeExtension}get type(){return kt(this.store.schema.nodes,this.name)}constructor(...t){super(...t)}};ve(Xn,"disableExtraAttributes",!1);var BU={priority:void 0,extraAttributes:{},disableExtraAttributes:!1,exclude:{}};function bT(t){return kc(t)&&_c(t,[hn.PlainExtension,hn.MarkExtension,hn.NodeExtension])}function $U(t){return kc(t)&&_c(t,[hn.PlainExtensionConstructor,hn.MarkExtensionConstructor,hn.NodeExtensionConstructor])}function ST(t){return kc(t)&&_c(t,hn.PlainExtension)}function b0(t){return kc(t)&&_c(t,hn.NodeExtension)}function I1(t){return kc(t)&&_c(t,hn.MarkExtension)}function Xe(t){return e=>{const{defaultOptions:n,customHandlerKeys:r,handlerKeys:i,staticKeys:o,defaultPriority:s,handlerKeyOptions:a,...l}=t,u=e;n&&(u.defaultOptions=n),s&&(u.defaultPriority=s),a&&(u.handlerKeyOptions=a),u.staticKeys=o!=null?o:[],u.handlerKeys=i!=null?i:[],u.customHandlerKeys=r!=null?r:[];for(const[c,f]of Object.entries(l))u[c]||(u[c]=f);return u}}var FU=class extends _t{constructor(){super(...arguments),ve(this,"attributeList",[]),ve(this,"attributeObject",we()),ve(this,"updateAttributes",(t=!0)=>{this.transformAttributes(),t&&this.store.commands.forceUpdate("attributes")})}get name(){return"attributes"}onCreate(){this.transformAttributes(),this.store.setExtensionStore("updateAttributes",this.updateAttributes)}transformAttributes(){var t,e,n,r;if(this.attributeObject=we(),(t=this.store.managerSettings.exclude)!=null&&t.attributes){this.store.setStoreKey("attributes",this.attributeObject);return}this.attributeList=[];for(const i of this.store.extensions){if((e=i.options.exclude)!=null&&e.attributes)continue;const o=(n=i.createAttributes)==null?void 0:n.call(i),s={...o,class:Yp(...(r=i.classNames)!=null?r:[],o==null?void 0:o.class)};this.attributeList.unshift(s)}for(const i of this.attributeList)this.attributeObject={...this.attributeObject,...i,class:Yp(this.attributeObject.class,i.class)};this.store.setStoreKey("attributes",this.attributeObject)}};function Lt(t={}){return(e,n,r)=>{var i;((i=e.decoratedHelpers)!=null?i:e.decoratedHelpers={})[n]=t}}function pe(t={}){return(e,n,r)=>{var i;((i=e.decoratedCommands)!=null?i:e.decoratedCommands={})[n]=t}}function an(t){return(e,n,r)=>{var i;((i=e.decoratedKeybindings)!=null?i:e.decoratedKeybindings={})[n]=t}}var VU=class{constructor(t){this.promiseCreator=t,ve(this,"failureHandlers",[]),ve(this,"successHandlers",[]),ve(this,"validateHandlers",[]),ve(this,"generateCommand",()=>e=>{let n=!0;const{view:r,tr:i,dispatch:o}=e;if(!r)return!1;for(const a of this.validateHandlers)if(!a({...e,dispatch:()=>{}})){n=!1;break}return!o||!n?n:(this.promiseCreator(e).then(a=>{this.runHandlers(this.successHandlers,{value:a,state:r.state,tr:r.state.tr,dispatch:r.dispatch,view:r})}).catch(a=>{this.runHandlers(this.failureHandlers,{error:a,state:r.state,tr:r.state.tr,dispatch:r.dispatch,view:r})}),o(i),!0)})}validate(t,e="push"){return this.validateHandlers[e](t),this}success(t,e="push"){return this.successHandlers[e](t),this}failure(t,e="push"){return this.failureHandlers[e](t),this}runHandlers(t,e){var n;for(const r of t)if(!r({...e,dispatch:()=>{}}))break;(n=e.dispatch)==null||n.call(e,e.tr)}};function bl(t){const{type:e,attrs:n,range:r,selection:i}=t;return o=>{var s;const{dispatch:a,tr:l,state:u}=o,c=Ne(e)?u.schema.marks[e]:e;if(be(c,{code:re.SCHEMA,message:`Mark type: ${e} does not exist on the current schema.`}),r||i){const{from:f,to:d}=Yr((s=i!=null?i:r)!=null?s:l.selection,l.doc);return am({trState:l,type:e,...r})?a==null||a(l.removeMark(f,d,c)):a==null||a(l.addMark(f,d,c.create(n))),!0}return Ds(dU(c,n))(o)}}function UU(t,e,n){for(const{$from:r,$to:i}of n){let o=r.depth===0?e.type.allowsMarkType(t):!1;if(e.nodesBetween(r.pos,i.pos,s=>{if(o)return!1;o=s.inlineContent&&s.type.allowsMarkType(t)}),o)return!0}return!1}function HU(t,e,n){return({tr:r,dispatch:i,state:o})=>{const s=Yr(n!=null?n:r.selection,r.doc),a=DV(s),l=Ne(t)?o.schema.marks[t]:t;if(be(l,{code:re.SCHEMA,message:`Mark type: ${t} does not exist on the current schema.`}),s.empty&&!a||!UU(l,r.doc,s.ranges))return!1;if(!i)return!0;if(a)return r.removeStoredMark(l),e&&r.addStoredMark(l.create(e)),i(r),!0;let u=!1;for(const{$from:c,$to:f}of s.ranges){if(u)break;u=r.doc.rangeHasMark(c.pos,f.pos,l)}for(const{$from:c,$to:f}of s.ranges)u&&r.removeMark(c.pos,f.pos,l),e&&r.addMark(c.pos,f.pos,l.create(e));return i(r),!0}}function jU(t,e={}){return({tr:n,dispatch:r,state:i})=>{const o=i.schema,s=n.selection,{from:a=s.from,to:l=a!=null?a:s.to,marks:u={}}=e;if(!r)return!0;n.insertText(t,a,l);const c=kt(n.steps,n.steps.length-1).getMap().map(l);for(const[f,d]of on(u))n.addMark(a,c,kt(o.marks,f).create(d));return r(n),!0}}var Ge=class extends _t{constructor(){super(...arguments),ve(this,"_transaction"),ve(this,"decorated",new Map),ve(this,"forceUpdateTransaction",(t,...e)=>{const{forcedUpdates:n}=this.getCommandMeta(t);return this.setCommandMeta(t,{forcedUpdates:Cd([...n,...e])}),t})}get name(){return"commands"}get transaction(){const t=this.store.getState();this._transaction||(this._transaction=t.tr);const e=this._transaction.before.eq(t.doc),n=!ra(this._transaction.steps);if(!e){const r=t.tr;if(n)for(const i of this._transaction.steps)r.step(i);this._transaction=r}return this._transaction}onCreate(){this.store.setStoreKey("getForcedUpdates",this.getForcedUpdates.bind(this))}onView(t){var e,n,r;const{extensions:i,helpers:o}=this.store,s=we(),a=new Set;let l=we();const u=f=>{var d;const h=we(),g=()=>f!=null?f:this.transaction;let y=[];const S=()=>y;for(const[m,p]of Object.entries(s))(d=l[m])!=null&&d.disableChaining||(h[m]=this.chainedFactory({chain:h,command:p.original,getTr:g,getChain:S}));const v=m=>{be(m===g(),{message:"Chaining currently only supports `CommandFunction` methods which do not use the `state.tr` property. Instead you should use the provided `tr` property."})};return h.run=(m={})=>{const p=y;y=[];for(const x of p)if(!x(v)&&m.exitEarly)return;t.dispatch(g())},h.tr=()=>{const m=y;y=[];for(const p of m)p(v);return g()},h.enabled=()=>{for(const m of y)if(!m())return!1;return!0},h};for(const f of i){const d=(n=(e=f.createCommands)==null?void 0:e.call(f))!=null?n:{},h=(r=f.decoratedCommands)!=null?r:{},g={};l={...l,decoratedCommands:h};for(const[y,S]of Object.entries(h)){const v=Ne(S.shortcut)&&S.shortcut.startsWith("_|")?{shortcut:o.getNamedShortcut(S.shortcut,f.options)}:void 0;this.updateDecorated(y,{...S,name:f.name,...v}),d[y]=f[y].bind(f),S.active&&(g[y]=()=>{var m,p;return(p=(m=S.active)==null?void 0:m.call(S,f.options,this.store))!=null?p:!1})}Wp(d)||this.addCommands({active:g,names:a,commands:s,extensionCommands:d})}const c=u();for(const[f,d]of Object.entries(c))u[f]=d;this.store.setStoreKey("commands",s),this.store.setStoreKey("chain",u),this.store.setExtensionStore("commands",s),this.store.setExtensionStore("chain",u)}onStateUpdate({state:t}){this._transaction=t.tr}createPlugin(){return{}}customDispatch(t){return t}insertText(t,e={}){return Ne(t)?jU(t,e):this.store.createPlaceholderCommand({promise:t,placeholder:{type:"inline"},onSuccess:(n,r,i)=>this.insertText(n,{...e,...r})(i)}).generateCommand()}selectText(t,e={}){return({tr:n,dispatch:r})=>{const i=Yr(t,n.doc);return n.selection.anchor===i.anchor&&n.selection.head===i.head&&!e.forceUpdate?!1:(r==null||r(n.setSelection(i)),!0)}}selectMark(t){return e=>{const{tr:n}=e,r=ro(n.selection.$from,t);return r?this.store.commands.selectText.original({from:r.from,to:r.to})(e):!1}}delete(t){return({tr:e,dispatch:n})=>{const{from:r,to:i}=t!=null?t:e.selection;return n==null||n(e.delete(r,i)),!0}}emptyUpdate(t){return({tr:e,dispatch:n})=>(n&&(t==null||t(),n(e)),!0)}forceUpdate(...t){return({tr:e,dispatch:n})=>(n==null||n(this.forceUpdateTransaction(e,...t)),!0)}updateNodeAttributes(t,e){return({tr:n,dispatch:r})=>(r==null||r(n.setNodeMarkup(t,void 0,e)),!0)}setContent(t,e){return n=>{const{tr:r,dispatch:i}=n,o=this.store.manager.createState({content:t,selection:e});return o?(i==null||i(r.replaceRangeWith(0,r.doc.nodeSize-2,o.doc)),!0):!1}}resetContent(){return t=>{const{tr:e,dispatch:n}=t,r=this.store.manager.createEmptyDoc();return r?this.setContent(r)(t):(n==null||n(e.delete(0,e.doc.nodeSize)),!0)}}emptySelection(){return({tr:t,dispatch:e})=>t.selection.empty?!1:(e==null||e(t.setSelection(Ce.near(t.selection.$anchor))),!0)}insertNewLine(){return({dispatch:t,tr:e})=>ya(e.selection)?(t==null||t(e.insertText(`
`)),!0):!1}insertNode(t,e={}){return({dispatch:n,tr:r,state:i})=>{var o,s;const{attrs:a,range:l,selection:u,replaceEmptyParentBlock:c=!1}=e,{from:f,to:d,$from:h}=Yr((o=u!=null?u:l)!=null?o:r.selection,r.doc);if(x0(t)||kV(t)){const m=h.before(h.depth);return n==null||n(c&&f===d&&O1(h.parent)?r.replaceWith(m,m+h.parent.nodeSize,t):r.replaceWith(f,d,t)),!0}const g=Ne(t)?i.schema.nodes[t]:t;be(g,{code:re.SCHEMA,message:`The requested node type ${t} does not exist in the schema.`});const y=(s=e.marks)==null?void 0:s.map(m=>{if(m instanceof Je)return m;const p=Ne(m)?i.schema.marks[m]:m;return be(p,{code:re.SCHEMA,message:`The requested mark type ${m} does not exist in the schema.`}),p.create()}),S=g.createAndFill(a,Ne(e.content)?i.schema.text(e.content):e.content,y);if(!S)return!1;const v=f!==d;return n==null||n(v?r.replaceRangeWith(f,d,S):r.insert(f,S)),!0}}focus(t){return e=>{const{dispatch:n,tr:r}=e,{view:i}=this.store;if(t===!1||i.hasFocus()&&(t===void 0||t===!0))return!1;if(t===void 0||t===!0){const{from:o=0,to:s=o}=r.selection;t={from:o,to:s}}return n&&this.delayedFocus(),this.selectText(t)(e)}}blur(t){return e=>{const{view:n}=this.store;return n.hasFocus()?(requestAnimationFrame(()=>{n.dom.blur()}),t?this.selectText(t)(e):!0):!1}}setBlockNodeType(t,e,n,r=!0){return Dd(t,e,n,r)}toggleWrappingNode(t,e,n){return sT(t,e,n)}toggleBlockNodeItem(t){return f5(t)}wrapInNode(t,e,n){return oT(t,e,n)}applyMark(t,e,n){return HU(t,e,n)}toggleMark(t){return bl(t)}removeMark(t){return lT(t)}setMeta(t,e){return({tr:n})=>(n.setMeta(t,e),!0)}selectAll(){return this.selectText("all")}copy(){return t=>t.tr.selection.empty?!1:(t.dispatch&&document.execCommand("copy"),!0)}paste(){return this.store.createPlaceholderCommand({promise:()=>navigator.clipboard.readText(),placeholder:{type:"inline"},onSuccess:(t,e,n)=>this.insertNode(S4({content:t,schema:n.state.schema}),{selection:e})(n)}).generateCommand()}cut(){return t=>t.tr.selection.empty?!1:(t.dispatch&&document.execCommand("cut"),!0)}replaceText(t){return XV(t)}getAllCommandOptions(){const t={};for(const[e,n]of this.decorated)Wp(n)||(t[e]=n);return t}getCommandOptions(t){return this.decorated.get(t)}getCommandProp(){return{tr:this.transaction,dispatch:this.store.view.dispatch,state:this.store.view.state,view:this.store.view}}updateDecorated(t,e){var n;if(!e){this.decorated.delete(t);return}const r=(n=this.decorated.get(t))!=null?n:{name:""};this.decorated.set(t,{...r,...e})}handleIosFocus(){!gi.isIos||this.store.view.dom.focus()}delayedFocus(){this.handleIosFocus(),requestAnimationFrame(()=>{this.store.view.focus(),this.store.view.dispatch(this.transaction.scrollIntoView())})}getForcedUpdates(t){return this.getCommandMeta(t).forcedUpdates}getCommandMeta(t){var e;const n=(e=t.getMeta(this.pluginKey))!=null?e:{};return{...qU,...n}}setCommandMeta(t,e){const n=this.getCommandMeta(t);t.setMeta(this.pluginKey,{...n,...e})}addCommands(t){const{extensionCommands:e,commands:n,names:r,active:i}=t;for(const[o,s]of on(e))wT({name:o,set:r,code:re.DUPLICATE_COMMAND_NAMES}),be(!WU.has(o),{code:re.DUPLICATE_COMMAND_NAMES,message:"The command name you chose is forbidden."}),n[o]=this.createUnchainedCommand(s,i[o])}unchainedFactory(t){return(...e)=>{const{shouldDispatch:n=!0,command:r}=t,{view:i}=this.store,{state:o}=i;let s;return n&&(s=i.dispatch),r(...e)({state:o,dispatch:s,view:i,tr:o.tr})}}createUnchainedCommand(t,e){const n=this.unchainedFactory({command:t});return n.enabled=this.unchainedFactory({command:t,shouldDispatch:!1}),n.isEnabled=n.enabled,n.original=t,n.active=e,n}chainedFactory(t){return(...e)=>{const{chain:n,command:r,getTr:i,getChain:o}=t,s=o(),{view:a}=this.store,{state:l}=a;return s.push(u=>r(...e)({state:l,dispatch:u,view:a,tr:i()})),n}}};ye([pe()],Ge.prototype,"customDispatch",1);ye([pe()],Ge.prototype,"insertText",1);ye([pe()],Ge.prototype,"selectText",1);ye([pe()],Ge.prototype,"selectMark",1);ye([pe()],Ge.prototype,"delete",1);ye([pe()],Ge.prototype,"emptyUpdate",1);ye([pe()],Ge.prototype,"forceUpdate",1);ye([pe()],Ge.prototype,"updateNodeAttributes",1);ye([pe()],Ge.prototype,"setContent",1);ye([pe()],Ge.prototype,"resetContent",1);ye([pe()],Ge.prototype,"emptySelection",1);ye([pe()],Ge.prototype,"insertNewLine",1);ye([pe()],Ge.prototype,"insertNode",1);ye([pe()],Ge.prototype,"focus",1);ye([pe()],Ge.prototype,"blur",1);ye([pe()],Ge.prototype,"setBlockNodeType",1);ye([pe()],Ge.prototype,"toggleWrappingNode",1);ye([pe()],Ge.prototype,"toggleBlockNodeItem",1);ye([pe()],Ge.prototype,"wrapInNode",1);ye([pe()],Ge.prototype,"applyMark",1);ye([pe()],Ge.prototype,"toggleMark",1);ye([pe()],Ge.prototype,"removeMark",1);ye([pe()],Ge.prototype,"setMeta",1);ye([pe({description:({t})=>t(ia.SELECT_ALL_DESCRIPTION),label:({t})=>t(ia.SELECT_ALL_LABEL),shortcut:ie.SelectAll})],Ge.prototype,"selectAll",1);ye([pe({description:({t})=>t(ia.COPY_DESCRIPTION),label:({t})=>t(ia.COPY_LABEL),shortcut:ie.Copy,icon:"fileCopyLine"})],Ge.prototype,"copy",1);ye([pe({description:({t})=>t(ia.PASTE_DESCRIPTION),label:({t})=>t(ia.PASTE_LABEL),shortcut:ie.Paste,icon:"clipboardLine"})],Ge.prototype,"paste",1);ye([pe({description:({t})=>t(ia.CUT_DESCRIPTION),label:({t})=>t(ia.CUT_LABEL),shortcut:ie.Cut,icon:"scissorsFill"})],Ge.prototype,"cut",1);ye([pe()],Ge.prototype,"replaceText",1);ye([Lt()],Ge.prototype,"getAllCommandOptions",1);ye([Lt()],Ge.prototype,"getCommandOptions",1);ye([Lt()],Ge.prototype,"getCommandProp",1);Ge=ye([Xe({defaultPriority:lt.Highest,defaultOptions:{trackerClassName:"remirror-tracker-position",trackerNodeName:"span"},staticKeys:["trackerClassName","trackerNodeName"]})],Ge);var qU={forcedUpdates:[]},WU=new Set(["run","chain","original","raw","enabled","tr"]),Ni=class extends _t{constructor(){super(...arguments),ve(this,"placeholders",rt.empty),ve(this,"placeholderWidgets",new Map),ve(this,"createPlaceholderCommand",t=>{const e=Gp(),{promise:n,placeholder:r,onFailure:i,onSuccess:o}=t;return new VU(n).validate(s=>this.addPlaceholder(e,r)(s)).success(s=>{var a;const{state:l,tr:u,dispatch:c,view:f,value:d}=s,h=this.store.helpers.findPlaceholder(e);if(!h){const g=new Error("The placeholder has been removed");return(a=i==null?void 0:i({error:g,state:l,tr:u,dispatch:c,view:f}))!=null?a:!1}return this.removePlaceholder(e)({state:l,tr:u,view:f,dispatch:()=>{}}),o(d,h,{state:l,tr:u,dispatch:c,view:f})}).failure(s=>{var a;return this.removePlaceholder(e)({...s,dispatch:()=>{}}),(a=i==null?void 0:i(s))!=null?a:!1})})}get name(){return"decorations"}onCreate(){this.store.setExtensionStore("createPlaceholderCommand",this.createPlaceholderCommand)}createPlugin(){return{state:{init:()=>{},apply:t=>{var e,n,r,i,o,s;const{added:a,clearTrackers:l,removed:u,updated:c}=this.getMeta(t);if(l){this.placeholders=rt.empty;for(const[,f]of this.placeholderWidgets)(n=(e=f.spec).onDestroy)==null||n.call(e,this.store.view,f.spec.element);this.placeholderWidgets.clear();return}this.placeholders=this.placeholders.map(t.mapping,t.doc,{onRemove:f=>{var d,h;const g=this.placeholderWidgets.get(f.id);g&&((h=(d=g.spec).onDestroy)==null||h.call(d,this.store.view,g.spec.element))}});for(const[,f]of this.placeholderWidgets)(i=(r=f.spec).onUpdate)==null||i.call(r,this.store.view,f.from,f.spec.element,f.spec.data);for(const f of a){if(f.type==="inline"){this.addInlinePlaceholder(f,t);continue}if(f.type==="node"){this.addNodePlaceholder(f,t);continue}if(f.type==="widget"){this.addWidgetPlaceholder(f,t);continue}}for(const{id:f,data:d}of c){const h=this.placeholderWidgets.get(f);if(!h)continue;const g=mt.widget(h.from,h.spec.element,{...h.spec,data:d});this.placeholders=this.placeholders.remove([h]).add(t.doc,[g]),this.placeholderWidgets.set(f,g)}for(const f of u){const d=this.placeholders.find(void 0,void 0,g=>g.id===f&&g.__type===ql),h=this.placeholderWidgets.get(f);h&&((s=(o=h.spec).onDestroy)==null||s.call(o,this.store.view,h.spec.element)),this.placeholders=this.placeholders.remove(d),this.placeholderWidgets.delete(f)}}},props:{decorations:t=>{let e=this.options.decorations(t);e=e.add(t.doc,this.placeholders.find());for(const n of this.store.extensions){if(!n.createDecorations)continue;const r=n.createDecorations(t).find();e=e.add(t.doc,r)}return e},handleDOMEvents:{blur:t=>(this.options.persistentSelectionClass&&t.dispatch(t.state.tr.setMeta(g7,!1)),!1),focus:t=>(this.options.persistentSelectionClass&&t.dispatch(t.state.tr.setMeta(g7,!0)),!1)}}}}updateDecorations(){return({tr:t,dispatch:e})=>(e==null||e(t),!0)}addPlaceholder(t,e,n){return({dispatch:r,tr:i})=>this.addPlaceholderTransaction(t,e,i,!r)?(r==null||r(n?i.deleteSelection():i),!0):!1}updatePlaceholder(t,e){return({dispatch:n,tr:r})=>this.updatePlaceholderTransaction({id:t,data:e,tr:r,checkOnly:!n})?(n==null||n(r),!0):!1}removePlaceholder(t){return({dispatch:e,tr:n})=>this.removePlaceholderTransaction({id:t,tr:n,checkOnly:!e})?(e==null||e(n),!0):!1}clearPlaceholders(){return({tr:t,dispatch:e})=>this.clearPlaceholdersTransaction({tr:t,checkOnly:!e})?(e==null||e(t),!0):!1}findPlaceholder(t){return this.findAllPlaceholders().get(t)}findAllPlaceholders(){const t=new Map,e=this.placeholders.find(void 0,void 0,n=>n.__type===ql);for(const n of e)t.set(n.spec.id,{from:n.from,to:n.to});return t}createDecorations(t){var e,n,r;const{persistentSelectionClass:i}=this.options;return!i||((e=this.store.view)==null?void 0:e.hasFocus())||((r=(n=this.store.helpers).isInteracting)==null?void 0:r.call(n))?rt.empty:GU(t,rt.empty,{class:Ne(i)?i:"selection"})}onApplyState(){}addWidgetPlaceholder(t,e){var n;const{pos:r,createElement:i,onDestroy:o,onUpdate:s,className:a,nodeName:l,id:u,type:c}=t,f=(n=i==null?void 0:i(this.store.view,r))!=null?n:document.createElement(l);f.classList.add(a);const d=mt.widget(r,f,{id:u,__type:ql,type:c,element:f,onDestroy:o,onUpdate:s});this.placeholderWidgets.set(u,d),this.placeholders=this.placeholders.add(e.doc,[d])}addInlinePlaceholder(t,e){const{from:n=e.selection.from,to:r=e.selection.to,className:i,nodeName:o,id:s,type:a}=t;let l;if(n===r){const u=document.createElement(o);u.classList.add(i),l=mt.widget(n,u,{id:s,type:a,__type:ql,widget:u})}else l=mt.inline(n,r,{nodeName:o,class:i},{id:s,__type:ql});this.placeholders=this.placeholders.add(e.doc,[l])}addNodePlaceholder(t,e){const{pos:n,className:r,nodeName:i,id:o}=t,s=Gr(n)?e.doc.resolve(n):e.selection.$from,a=Gr(n)?s.nodeAfter?{pos:n,end:s.nodeAfter.nodeSize}:void 0:hV(s);if(!a)return;const l=mt.node(a.pos,a.end,{nodeName:i,class:r},{id:o,__type:ql});this.placeholders=this.placeholders.add(e.doc,[l])}withRequiredBase(t,e){const{placeholderNodeName:n,placeholderClassName:r}=this.options,{nodeName:i=n,className:o,...s}=e,a=(o?[r,o]:[r]).join(" ");return{nodeName:i,className:a,...s,id:t}}getMeta(t){var e;const n=(e=t.getMeta(this.pluginKey))!=null?e:{};return{...KU,...n}}setMeta(t,e){const n=this.getMeta(t);t.setMeta(this.pluginKey,{...n,...e})}addPlaceholderTransaction(t,e,n,r=!1){if(this.findPlaceholder(t))return!1;if(r)return!0;const{added:o}=this.getMeta(n);return this.setMeta(n,{added:[...o,this.withRequiredBase(t,e)]}),!0}updatePlaceholderTransaction(t){const{id:e,tr:n,checkOnly:r=!1,data:i}=t;if(!this.findPlaceholder(e))return!1;if(r)return!0;const{updated:s}=this.getMeta(n);return this.setMeta(n,{updated:Cd([...s,{id:e,data:i}])}),!0}removePlaceholderTransaction(t){const{id:e,tr:n,checkOnly:r=!1}=t;if(!this.findPlaceholder(e))return!1;if(r)return!0;const{removed:o}=this.getMeta(n);return this.setMeta(n,{removed:Cd([...o,e])}),!0}clearPlaceholdersTransaction(t){const{tr:e,checkOnly:n=!1}=t;return this.getPluginState()===rt.empty?!1:(n||this.setMeta(e,{clearTrackers:!0}),!0)}};ye([pe()],Ni.prototype,"updateDecorations",1);ye([pe()],Ni.prototype,"addPlaceholder",1);ye([pe()],Ni.prototype,"updatePlaceholder",1);ye([pe()],Ni.prototype,"removePlaceholder",1);ye([pe()],Ni.prototype,"clearPlaceholders",1);ye([Lt()],Ni.prototype,"findPlaceholder",1);ye([Lt()],Ni.prototype,"findAllPlaceholders",1);Ni=ye([Xe({defaultOptions:{persistentSelectionClass:void 0,placeholderClassName:"placeholder",placeholderNodeName:"span"},staticKeys:["placeholderClassName","placeholderNodeName"],handlerKeys:["decorations"],handlerKeyOptions:{decorations:{reducer:{accumulator:(t,e,n)=>t.add(n.doc,e.find()),getDefault:()=>rt.empty}}},defaultPriority:lt.Low})],Ni);var KU={added:[],updated:[],clearTrackers:!1,removed:[]},ql="placeholderDecoration",g7="persistentSelectionFocus";function GU(t,e,n){const{selection:r,doc:i}=t;if(r.empty)return e;const{from:o,to:s}=r,a=w0(r)?mt.node(o,s,n):mt.inline(o,s,n);return e.add(i,[a])}var _4=class extends _t{get name(){return"docChanged"}onStateUpdate(t){const{firstUpdate:e,transactions:n,tr:r}=t;e||(n!=null?n:[r]).some(i=>i==null?void 0:i.docChanged)&&this.options.docChanged(t)}};_4=ye([Xe({handlerKeys:["docChanged"],handlerKeyOptions:{docChanged:{earlyReturnValue:!1}},defaultPriority:lt.Lowest})],_4);var Xr=class extends _t{get name(){return"helpers"}onCreate(){var t,e,n;this.store.setStringHandler("text",this.textToProsemirrorNode.bind(this)),this.store.setStringHandler("html",S4);const r=we(),i=we(),o=we(),s=new Set;for(const a of this.store.extensions){b0(a)&&(i[a.name]=u=>GC({state:this.store.getState(),type:a.type,attrs:u}),o[a.name]=u=>{var c;return(c=Nd({state:this.store.getState(),type:a.type,attrs:u}))==null?void 0:c.node.attrs}),I1(a)&&(i[a.name]=u=>am({trState:this.store.getState(),type:a.type,attrs:u}),o[a.name]=u=>{const c=ro(this.store.getState().selection.$from,a.type);if(!c||!u)return c==null?void 0:c.mark.attrs;if(l5(c.mark,u))return c.mark.attrs});const l=(e=(t=a.createHelpers)==null?void 0:t.call(a))!=null?e:{};for(const u of Object.keys((n=a.decoratedHelpers)!=null?n:{}))l[u]=a[u].bind(a);if(!Wp(l))for(const[u,c]of on(l))wT({name:u,set:s,code:re.DUPLICATE_HELPER_NAMES}),r[u]=c}this.store.setStoreKey("attrs",o),this.store.setStoreKey("active",i),this.store.setStoreKey("helpers",r),this.store.setExtensionStore("attrs",o),this.store.setExtensionStore("active",i),this.store.setExtensionStore("helpers",r)}isSelectionEmpty(t=this.store.getState()){return a5(t)}isViewEditable(t=this.store.getState()){var e,n,r;return(r=(n=(e=this.store.view.props).editable)==null?void 0:n.call(e,t))!=null?r:!1}getStateJSON(t=this.store.getState()){return t.toJSON()}getJSON(t=this.store.getState()){return t.doc.toJSON()}getRemirrorJSON(t=this.store.getState()){return this.getJSON(t)}insertHtml(t,e){return n=>{const{state:r}=n,i=S4({content:t,schema:r.schema,fragment:!0});return this.store.commands.insertNode.original(i,e)(n)}}getText({lineBreakDivider:t=`

`,state:e=this.store.getState()}={}){return e.doc.textBetween(0,e.doc.content.size,t,Os)}getTextBetween(t,e,n=this.store.getState().doc){return n.textBetween(t,e,`

`,Os)}getHTML(t=this.store.getState()){return VV(t.doc,this.store.document)}textToProsemirrorNode(t){const e=`<pre>${t.content}</pre>`;return this.store.stringHandlers.html({...t,content:e})}};ye([Lt()],Xr.prototype,"isSelectionEmpty",1);ye([Lt()],Xr.prototype,"isViewEditable",1);ye([Lt()],Xr.prototype,"getStateJSON",1);ye([Lt()],Xr.prototype,"getJSON",1);ye([Lt()],Xr.prototype,"getRemirrorJSON",1);ye([pe()],Xr.prototype,"insertHtml",1);ye([Lt()],Xr.prototype,"getText",1);ye([Lt()],Xr.prototype,"getTextBetween",1);ye([Lt()],Xr.prototype,"getHTML",1);Xr=ye([Xe({})],Xr);var E4=class extends _t{get name(){return"inputRules"}onCreate(){this.store.setExtensionStore("rebuildInputRules",this.rebuildInputRules.bind(this))}createExternalPlugins(){return[this.generateInputRulesPlugin()]}generateInputRulesPlugin(){var t,e;const n=[],r=this.store.markTags[De.ExcludeInputRules];for(const i of this.store.extensions)if(!(((t=this.store.managerSettings.exclude)==null?void 0:t.inputRules)||!i.createInputRules||((e=i.options.exclude)==null?void 0:e.inputRules)))for(const o of i.createInputRules())o.shouldSkip=this.options.shouldSkipInputRule,o.invalidMarks=r,n.push(o);return u$({rules:n})}rebuildInputRules(){this.store.updateExtensionPlugins(this)}};E4=ye([Xe({defaultPriority:lt.Default,handlerKeys:["shouldSkipInputRule"],handlerKeyOptions:{shouldSkipInputRule:{earlyReturnValue:!0}}})],E4);var vi=class extends _t{constructor(){super(...arguments),ve(this,"extraKeyBindings",[]),ve(this,"backwardMarkExitTracker",new Map),ve(this,"onAddCustomHandler",({keymap:t})=>{var e,n;if(!!t)return this.extraKeyBindings=[...this.extraKeyBindings,t],(n=(e=this.store).rebuildKeymap)==null||n.call(e),()=>{var r,i;this.extraKeyBindings=this.extraKeyBindings.filter(o=>o!==t),(i=(r=this.store).rebuildKeymap)==null||i.call(r)}}),ve(this,"rebuildKeymap",()=>{this.store.updateExtensionPlugins(this)})}get name(){return"keymap"}get shortcutMap(){const{shortcuts:t}=this.options;return Ne(t)?QU[t]:t}onCreate(){this.store.setExtensionStore("rebuildKeymap",this.rebuildKeymap)}createExternalPlugins(){var t;return(t=this.store.managerSettings.exclude)!=null&&t.keymap?[]:[this.generateKeymap()]}generateKeymap(){var t,e,n;const r=[],i=this.shortcutMap,o=this.store.getExtension(Ge),s=u=>c=>ep({shortcut:c,map:i,store:this.store,options:u.options});for(const u of this.store.extensions){const c=(t=u.decoratedKeybindings)!=null?t:{};if(!((e=u.options.exclude)!=null&&e.keymap)){u.createKeymap&&r.push(XU(u.createKeymap(s(u)),i));for(const[f,d]of on(c)){if(d.isActive&&!d.isActive(u.options,this.store))continue;const h=u[f].bind(u),g=ep({shortcut:d.shortcut,map:i,options:u.options,store:this.store}),y=at(d.priority)?d.priority(u.options,this.store):(n=d.priority)!=null?n:lt.Low,S=we();for(const v of g)S[v]=h;r.push([y,S]),d.command&&o.updateDecorated(d.command,{shortcut:g})}}}const a=this.sortKeymaps([...this.extraKeyBindings,...r]),l=yV(a);return vT(l)}arrowRightShortcut(t){const e=this.store.markTags[De.PreventExits],n=this.store.nodeTags[De.PreventExits];return this.exitMarkForwards(e,n)(t)}arrowLeftShortcut(t){const e=this.store.markTags[De.PreventExits],n=this.store.nodeTags[De.PreventExits];return Rd(this.exitNodeBackwards(n),this.exitMarkBackwards(e,n))(t)}backspace(t){const e=this.store.markTags[De.PreventExits],n=this.store.nodeTags[De.PreventExits];return Rd(this.exitNodeBackwards(n,!0),this.exitMarkBackwards(e,n,!0))(t)}createKeymap(){const{selectParentNodeOnEscape:t,undoInputRuleOnBackspace:e,excludeBaseKeymap:n}=this.options,r=we();if(!n)for(const[i,o]of on(ov))r[i]=Ds(o);return e&&ov.Backspace&&(r.Backspace=Ds(oc(c$,ov.Backspace))),t&&(r.Escape=Ds(sU)),[lt.Low,r]}getNamedShortcut(t,e={}){return t.startsWith("_|")?ep({shortcut:t,map:this.shortcutMap,store:this.store,options:e}):[t]}onSetOptions(t){var e,n;const{changes:r}=t;(r.excludeBaseKeymap.changed||r.selectParentNodeOnEscape.changed||r.undoInputRuleOnBackspace.changed)&&((n=(e=this.store).rebuildKeymap)==null||n.call(e))}sortKeymaps(t){return ml(t.map(e=>Yt(e)?e:[lt.Default,e]),(e,n)=>n[0]-e[0]).map(e=>e[1])}exitMarkForwards(t,e){return n=>{const{tr:r,dispatch:i}=n;if(!qV(r.selection)||sa({selection:r.selection,types:e}))return!1;const a=r.selection.$from.marks().filter(l=>!t.includes(l.type.name));if(ra(a))return!1;if(!i)return!0;for(const l of a)r.removeStoredMark(l);return i(r.insertText(" ",r.selection.from)),!0}}exitNodeBackwards(t,e=!1){return n=>{const{tr:r}=n;if(!(e?f7:k4)(r.selection))return!1;const o=r.selection.$anchor.node();return!O1(o)||AV(o)||t.includes(o.type.name)?!1:this.store.commands.toggleBlockNodeItem.original({type:o.type})(n)}}exitMarkBackwards(t,e,n=!1){return r=>{var i;const{tr:o,dispatch:s}=r;if(!(n?f7:k4)(o.selection)||this.backwardMarkExitTracker.has(o.selection.anchor))return this.backwardMarkExitTracker.clear(),!1;if(sa({selection:o.selection,types:e}))return!1;const u=[...(i=o.storedMarks)!=null?i:[],...o.selection.$from.marks()].filter(c=>!t.includes(c.type.name));if(ra(u))return!1;if(!s)return!0;for(const c of u)o.removeStoredMark(c);return this.backwardMarkExitTracker.set(o.selection.anchor,!0),s(o),!0}}};ye([an({shortcut:"ArrowRight",isActive:t=>t.exitMarksOnArrowPress})],vi.prototype,"arrowRightShortcut",1);ye([an({shortcut:"ArrowLeft",isActive:t=>t.exitMarksOnArrowPress})],vi.prototype,"arrowLeftShortcut",1);ye([an({shortcut:"Backspace",isActive:t=>t.exitMarksOnArrowPress})],vi.prototype,"backspace",1);ye([Lt()],vi.prototype,"getNamedShortcut",1);vi=ye([Xe({defaultPriority:lt.Low,defaultOptions:{shortcuts:"default",undoInputRuleOnBackspace:!0,selectParentNodeOnEscape:!1,excludeBaseKeymap:!1,exitMarksOnArrowPress:!0},customHandlerKeys:["keymap"]})],vi);function YU(t){return Oi(y1(ie),t)}function ep({shortcut:t,map:e,options:n,store:r}){return Ne(t)?[C4(t,e)]:Yt(t)?t.map(i=>C4(i,e)):(t=t(n,r),ep({shortcut:t,map:e,options:n,store:r}))}function C4(t,e){return YU(t)?e[t]:t}function XU(t,e){const n={};let r,i;Yt(t)?[i,r]=t:r=t;for(const[o,s]of on(r))n[C4(o,e)]=s;return x1(i)?n:[i,n]}var kT={[ie.Copy]:"Mod-c",[ie.Cut]:"Mod-x",[ie.Paste]:"Mod-v",[ie.PastePlain]:"Mod-Shift-v",[ie.SelectAll]:"Mod-a",[ie.Undo]:"Mod-z",[ie.Redo]:gi.isMac?"Shift-Mod-z":"Mod-y",[ie.Bold]:"Mod-b",[ie.Italic]:"Mod-i",[ie.Underline]:"Mod-u",[ie.Strike]:"Mod-d",[ie.Code]:"Mod-`",[ie.Paragraph]:"Mod-Shift-0",[ie.H1]:"Mod-Shift-1",[ie.H2]:"Mod-Shift-2",[ie.H3]:"Mod-Shift-3",[ie.H4]:"Mod-Shift-4",[ie.H5]:"Mod-Shift-5",[ie.H6]:"Mod-Shift-6",[ie.TaskList]:"Mod-Shift-7",[ie.BulletList]:"Mod-Shift-8",[ie.OrderedList]:"Mod-Shift-9",[ie.Quote]:"Mod->",[ie.Divider]:"Mod-Shift-|",[ie.Codeblock]:"Mod-Shift-~",[ie.ClearFormatting]:"Mod-Shift-C",[ie.Superscript]:"Mod-.",[ie.Subscript]:"Mod-,",[ie.LeftAlignment]:"Mod-Shift-L",[ie.CenterAlignment]:"Mod-Shift-E",[ie.RightAlignment]:"Mod-Shift-R",[ie.JustifyAlignment]:"Mod-Shift-J",[ie.InsertLink]:"Mod-k",[ie.Find]:"Mod-f",[ie.FindBackwards]:"Mod-Shift-f",[ie.FindReplace]:"Mod-Shift-H",[ie.AddFootnote]:"Mod-Alt-f",[ie.AddComment]:"Mod-Alt-m",[ie.ContextMenu]:"Mod-Shift-\\",[ie.IncreaseFontSize]:"Mod-Shift-.",[ie.DecreaseFontSize]:"Mod-Shift-,",[ie.IncreaseIndent]:"Tab",[ie.DecreaseIndent]:"Shift-Tab",[ie.Shortcuts]:"Mod-/",[ie.Format]:gi.isMac?"Alt-Shift-f":"Shift-Ctrl-f"},JU={...kT,[ie.Strike]:"Mod-Shift-S",[ie.Code]:"Mod-Shift-M",[ie.Paragraph]:"Mod-Alt-0",[ie.H1]:"Mod-Alt-1",[ie.H2]:"Mod-Alt-2",[ie.H3]:"Mod-Alt-3",[ie.H4]:"Mod-Alt-4",[ie.H5]:"Mod-Alt-5",[ie.H6]:"Mod-Alt-6",[ie.OrderedList]:"Mod-Alt-7",[ie.BulletList]:"Mod-Alt-8",[ie.Quote]:"Mod-Alt-9",[ie.ClearFormatting]:"Mod-\\",[ie.IncreaseIndent]:"Mod-[",[ie.DecreaseIndent]:"Mod-]"},QU={default:kT,googleDoc:JU},ZU=class extends _t{get name(){return"nodeViews"}createPlugin(){var t;const e=[],n=we();for(const r of this.store.extensions){if(!r.createNodeViews)continue;const i=r.createNodeViews();e.unshift(at(i)?{[r.name]:i}:i)}e.unshift((t=this.store.managerSettings.nodeViews)!=null?t:{});for(const r of e)Object.assign(n,r);return{props:{nodeViews:n}}}},eH=class extends _t{get name(){return"pasteRules"}createExternalPlugins(){return[this.generatePasteRulesPlugin()]}generatePasteRulesPlugin(){var t,e;const n=[];for(const r of this.store.extensions){if(((t=this.store.managerSettings.exclude)==null?void 0:t.pasteRules)||!r.createPasteRules||((e=r.options.exclude)==null?void 0:e.pasteRules))continue;const i=r.createPasteRules(),o=Yt(i)?i:[i];n.push(...o)}return bU(n)}},T4=class extends _t{constructor(){super(...arguments),ve(this,"plugins",[]),ve(this,"managerPlugins",[]),ve(this,"applyStateHandlers",[]),ve(this,"initStateHandlers",[]),ve(this,"appendTransactionHandlers",[]),ve(this,"pluginKeys",we()),ve(this,"stateGetters",new Map),ve(this,"getPluginStateCreator",t=>e=>t.getState(e!=null?e:this.store.getState())),ve(this,"getStateByName",t=>{const e=this.stateGetters.get(t);return be(e,{message:"No plugin exists for the requested extension name."}),e()})}get name(){return"plugins"}onCreate(){const{setStoreKey:t,setExtensionStore:e,managerSettings:n,extensions:r}=this.store;this.updateExtensionStore();const{plugins:i=[]}=n;this.updatePlugins(i,this.managerPlugins);for(const o of r)o.onApplyState&&this.applyStateHandlers.push(o.onApplyState.bind(o)),o.onInitState&&this.initStateHandlers.push(o.onInitState.bind(o)),o.onAppendTransaction&&this.appendTransactionHandlers.push(o.onAppendTransaction.bind(o)),this.extractExtensionPlugins(o);this.managerPlugins=i,this.store.setStoreKey("plugins",this.plugins),t("pluginKeys",this.pluginKeys),t("getPluginState",this.getStateByName),e("getPluginState",this.getStateByName)}createPlugin(){return{appendTransaction:(t,e,n)=>{const r=n.tr,i={previousState:e,tr:r,transactions:t,state:n};for(const o of this.appendTransactionHandlers)o(i);return this.options.appendTransaction(i),r.docChanged||r.steps.length>0||r.selectionSet||r.storedMarksSet?r:void 0},state:{init:(t,e)=>{for(const n of this.initStateHandlers)n(e)},apply:(t,e,n,r)=>{const i={previousState:n,state:r,tr:t};for(const o of this.applyStateHandlers)o(i);this.options.applyState(i)}}}}extractExtensionPlugins(t){var e,n;if(!(!t.createPlugin&&!t.createExternalPlugins||((e=this.store.managerSettings.exclude)==null?void 0:e.plugins)||((n=t.options.exclude)==null?void 0:n.plugins))){if(t.createPlugin){const i=new Pl(t.name);this.pluginKeys[t.name]=i;const o=this.getPluginStateCreator(i);t.pluginKey=i,t.getPluginState=o,this.stateGetters.set(t.name,o),this.stateGetters.set(t.constructor,o);const s={...t.createPlugin(),key:i},a=new fo(s);this.updatePlugins([a],t.plugin?[t.plugin]:void 0),t.plugin=a}if(t.createExternalPlugins){const i=t.createExternalPlugins();this.updatePlugins(i,t.externalPlugins),t.externalPlugins=i}}}updatePlugins(t,e){if(!e||ra(e)){this.plugins=[...this.plugins,...t];return}if(t.length!==e.length){this.plugins=[...this.plugins.filter(r=>!e.includes(r)),...t];return}const n=new Map;for(const[r,i]of t.entries())n.set(kt(e,r),i);this.plugins=this.plugins.map(r=>e.includes(r)?n.get(r):r)}updateExtensionStore(){const{setExtensionStore:t}=this.store;t("updatePlugins",this.updatePlugins.bind(this)),t("dispatchPluginUpdate",this.dispatchPluginUpdate.bind(this)),t("updateExtensionPlugins",this.updateExtensionPlugins.bind(this))}updateExtensionPlugins(t){const e=bT(t)?t:$U(t)?this.store.manager.getExtension(t):this.store.extensions.find(n=>n.name===t);be(e,{code:re.INVALID_MANAGER_EXTENSION,message:`The extension ${t} does not exist within the editor.`}),this.extractExtensionPlugins(e),this.store.setStoreKey("plugins",this.plugins),this.dispatchPluginUpdate()}dispatchPluginUpdate(){be(this.store.phase>=nr.EditorView,{code:re.MANAGER_PHASE_ERROR,message:"`dispatchPluginUpdate` should only be called after the view has been added to the manager."});const{view:t,updateState:e}=this.store,n=t.state.reconfigure({plugins:this.plugins});e(n)}};T4=ye([Xe({defaultPriority:lt.Highest,handlerKeys:["applyState","appendTransaction"]})],T4);var A4=class extends _t{constructor(){super(...arguments),ve(this,"dynamicAttributes",{marks:we(),nodes:we()})}get name(){return"schema"}onCreate(){var t;const{managerSettings:e,tags:n,markNames:r,nodeNames:i,extensions:o}=this.store,{defaultBlockNode:s,disableExtraAttributes:a,nodeOverride:l,markOverride:u}=e,c=y=>!!(y&&n[De.Block].includes(y));if(e.schema){const{nodes:y,marks:S}=lH(e.schema);this.addSchema(e.schema,y,S);return}const f=c(s)?{doc:we(),[s]:we()}:we(),d=we(),h=tH({settings:e,gatheredSchemaAttributes:this.gatherExtraAttributes(o),nodeNames:i,markNames:r,tags:n});for(const y of o){h[y.name]={...h[y.name],...y.options.extraAttributes};const S=a===!0||y.options.disableExtraAttributes===!0||y.constructor.disableExtraAttributes===!0;if(b0(y)){const{spec:v,dynamic:m}=v7({createExtensionSpec:(p,x)=>y.createNodeSpec(p,x),extraAttributes:kt(h,y.name),override:{...l,...y.options.nodeOverride},ignoreExtraAttributes:S,name:y.constructorName,tags:y.tags});y.spec=v,f[y.name]=v,Object.keys(m).length>0&&(this.dynamicAttributes.nodes[y.name]=m)}if(I1(y)){const{spec:v,dynamic:m}=v7({createExtensionSpec:(p,x)=>y.createMarkSpec(p,x),extraAttributes:kt(h,y.name),override:{...u,...y.options.markOverride},ignoreExtraAttributes:S,name:y.constructorName,tags:(t=y.tags)!=null?t:[]});y.spec=v,d[y.name]=v,Object.keys(m).length>0&&(this.dynamicAttributes.marks[y.name]=m)}}const g=new Pz({nodes:f,marks:d,topNode:"doc"});this.addSchema(g,f,d)}createPlugin(){return{appendTransaction:(t,e,n)=>{const{tr:r}=n;return!t.some(o=>o.docChanged)||Object.keys(this.dynamicAttributes.nodes).length===0&&Object.keys(this.dynamicAttributes.marks).length===0?null:(r.doc.descendants((o,s)=>(this.checkAndUpdateDynamicNodes(o,s,r),this.checkAndUpdateDynamicMarks(o,s,r),!0)),r.steps.length>0?r:null)}}}addSchema(t,e,n){this.store.setStoreKey("nodes",e),this.store.setStoreKey("marks",n),this.store.setStoreKey("schema",t),this.store.setExtensionStore("schema",t),this.store.setStoreKey("defaultBlockNode",A1(t).name);for(const r of Object.values(t.nodes))if(r.name!=="doc"&&(r.isBlock||r.isTextblock))break}checkAndUpdateDynamicNodes(t,e,n){for(const[r,i]of on(this.dynamicAttributes.nodes))if(t.type.name===r)for(const[o,s]of on(i)){if(!na(t.attrs[o]))continue;const a={...t.attrs,[o]:s(t)};n.setNodeMarkup(e,void 0,a),a7(n)}}checkAndUpdateDynamicMarks(t,e,n){for(const[r,i]of on(this.dynamicAttributes.marks)){const o=kt(this.store.schema.marks,r),s=t.marks.find(a=>a.type.name===r);if(!!s)for(const[a,l]of on(i)){if(!na(s.attrs[a]))continue;const u=ro(n.doc.resolve(e),o);if(!u)continue;const{from:c,to:f}=u,d=o.create({...s.attrs,[a]:l(s)});n.removeMark(c,f,o).addMark(c,f,d),a7(n)}}}gatherExtraAttributes(t){const e=[];for(const n of t)!n.createSchemaAttributes||e.push(...n.createSchemaAttributes());return e}};A4=ye([Xe({defaultPriority:lt.Highest})],A4);function tH(t){var e,n;const{settings:r,gatheredSchemaAttributes:i,nodeNames:o,markNames:s,tags:a}=t,l=we();if(r.disableExtraAttributes)return l;const u=[...i,...(e=r.extraAttributes)!=null?e:[]];for(const c of u!=null?u:[]){const f=rH({identifiers:c.identifiers,nodeNames:o,markNames:s,tags:a});for(const d of f){const h=(n=l[d])!=null?n:{};l[d]={...h,...c.attributes}}}return l}function nH(t){return Il(t)&&Yt(t.tags)}function rH(t){var e;const{identifiers:n,nodeNames:r,markNames:i,tags:o}=t;if(n==="nodes")return r;if(n==="marks")return i;if(n==="all")return[...r,...i];if(Yt(n))return n;be(nH(n),{code:re.EXTENSION_EXTRA_ATTRIBUTES,message:"Invalid value passed as an identifier when creating `extraAttributes`."});const{tags:s=[],names:a=[],behavior:l="any",excludeNames:u,excludeTags:c,type:f}=n,d=new Set,h=f==="mark"?i:f==="node"?r:[...i,...r],g=S=>h.includes(S)&&!(u!=null&&u.includes(S));for(const S of a)g(S)&&d.add(S);const y=new Map;for(const S of s)if(!(c!=null&&c.includes(S)))for(const v of o[S]){if(!g(v))continue;if(l==="any"){d.add(v);continue}const m=(e=y.get(v))!=null?e:new Set;m.add(S),y.set(v,m)}for(const[S,v]of y)v.size===s.length&&d.add(S);return[...d]}function v7(t){var e,n;const{createExtensionSpec:r,extraAttributes:i,ignoreExtraAttributes:o,name:s,tags:a,override:l}=t,u=we();function c(v,m){u[v]=m}let f=!1;function d(){f=!0}const h=iH(i,o,d,c),g=oH(i,o),y=sH(i,o),S=r({defaults:h,parse:g,dom:y},l);return be(o||f,{code:re.EXTENSION_SPEC,message:`When creating a node specification you must call the 'defaults', and parse, and 'dom' methods. To avoid this error you can set the static property 'disableExtraAttributes' of '${s}' to 'true'.`}),S.group=[...(n=(e=S.group)==null?void 0:e.split(" "))!=null?n:[],...a].join(" ")||void 0,{spec:S,dynamic:u}}function g5(t){return Ne(t)||at(t)?{default:t}:(be(t,{message:`${CE(t)} is not supported`,code:re.EXTENSION_EXTRA_ATTRIBUTES}),t)}function iH(t,e,n,r){return()=>{n();const i=we();if(e)return i;for(const[o,s]of on(t)){let l=g5(s).default;at(l)&&(r(o,l),l=null),i[o]=l===void 0?{}:{default:l}}return i}}function oH(t,e){return n=>{var r,i,o;const s=we();if(e)return s;for(const[a,l]of on(t)){const{parseDOM:u,...c}=g5(l);if(!!Ft(n)){if(na(u)){s[a]=(r=n.getAttribute(a))!=null?r:c.default;continue}if(at(u)){s[a]=(i=u(n))!=null?i:c.default;continue}s[a]=(o=n.getAttribute(u))!=null?o:c.default}}return s}}function sH(t,e){return n=>{const r=we();if(e)return r;function i(o,s){if(!!o){if(Ne(o)){r[s]=o;return}if(Yt(o)){const[a,l]=o;r[a]=l!=null?l:n.attrs[s];return}for(const[a,l]of on(o))r[a]=l}}for(const[o,s]of on(t)){const{toDOM:a,parseDOM:l}=g5(s);if(na(a)){const u=Ne(l)?l:o;r[u]=n.attrs[o];continue}if(at(a)){i(a(n.attrs,aH(n)),o);continue}i(a,o)}return r}}function aH(t){return x0(t)?{node:t}:_V(t)?{mark:t}:{}}function lH(t){const e=we(),n=we();for(const[r,i]of Object.entries(t.nodes))e[r]=i.spec;for(const[r,i]of Object.entries(t.marks))n[r]=i.spec;return{nodes:e,marks:n}}var sc=class extends _t{constructor(){super(...arguments),ve(this,"onAddCustomHandler",({suggester:t})=>{var e;if(!(!t||((e=this.store.managerSettings.exclude)==null?void 0:e.suggesters)))return s7(this.store.getState(),t)})}get name(){return"suggest"}onCreate(){this.store.setExtensionStore("addSuggester",t=>s7(this.store.getState(),t)),this.store.setExtensionStore("removeSuggester",t=>aV(this.store.getState(),t))}createExternalPlugins(){var t,e;const n=[];for(const r of this.store.extensions){if((t=this.store.managerSettings.exclude)!=null&&t.suggesters)break;if(!r.createSuggesters||((e=r.options.exclude)==null?void 0:e.suggesters))continue;const i=r.createSuggesters(),o=Yt(i)?i:[i];n.push(...o)}return[lV(...n)]}getSuggestState(t){return o5(t!=null?t:this.store.getState())}getSuggestMethods(){const{addIgnored:t,clearIgnored:e,removeIgnored:n,ignoreNextExit:r,setMarkRemoved:i,findMatchAtPosition:o,findNextTextSelection:s,setLastChangeFromAppend:a}=this.getSuggestState();return{addIgnored:t,clearIgnored:e,removeIgnored:n,ignoreNextExit:r,setMarkRemoved:i,findMatchAtPosition:o,findNextTextSelection:s,setLastChangeFromAppend:a}}isSuggesterActive(t){var e;return Oi(Yt(t)?t:[t],(e=this.getSuggestState().match)==null?void 0:e.suggester.name)}};ye([Lt()],sc.prototype,"getSuggestState",1);ye([Lt()],sc.prototype,"getSuggestMethods",1);ye([Lt()],sc.prototype,"isSuggesterActive",1);sc=ye([Xe({customHandlerKeys:["suggester"]})],sc);var O4=class extends _t{constructor(){super(...arguments),ve(this,"allTags",we()),ve(this,"plainTags",we()),ve(this,"markTags",we()),ve(this,"nodeTags",we())}get name(){return"tags"}onCreate(){this.resetTags();for(const t of this.store.extensions)this.updateTagForExtension(t);this.store.setStoreKey("tags",this.allTags),this.store.setExtensionStore("tags",this.allTags),this.store.setStoreKey("plainTags",this.plainTags),this.store.setExtensionStore("plainTags",this.plainTags),this.store.setStoreKey("markTags",this.markTags),this.store.setExtensionStore("markTags",this.markTags),this.store.setStoreKey("nodeTags",this.nodeTags),this.store.setExtensionStore("nodeTags",this.nodeTags)}resetTags(){const t=we(),e=we(),n=we(),r=we();for(const i of y1(De))t[i]=[],e[i]=[],n[i]=[],r[i]=[];this.allTags=t,this.plainTags=e,this.markTags=n,this.nodeTags=r}updateTagForExtension(t){var e,n,r,i,o,s;const a=new Set([...(e=t.tags)!=null?e:[],...(r=(n=t.createTags)==null?void 0:n.call(t))!=null?r:[],...(i=t.options.extraTags)!=null?i:[],...(s=(o=this.store.managerSettings.extraTags)==null?void 0:o[t.name])!=null?s:[]]);for(const l of a)be(uH(l),{code:re.EXTENSION,message:`The tag provided by the extension: ${t.constructorName} is not supported by the editor. To add custom tags you can use the 'mutateTag' method.`}),this.allTags[l].push(t.name),ST(t)&&this.plainTags[l].push(t.name),I1(t)&&this.markTags[l].push(t.name),b0(t)&&this.nodeTags[l].push(t.name);t.tags=[...a]}};O4=ye([Xe({defaultPriority:lt.Highest})],O4);function uH(t){return Oi(y1(De),t)}var cH=new Pl("remirrorFilePlaceholderPlugin");function fH(){const t=new fo({key:cH,state:{init(){return{set:rt.empty,payloads:new Map}},apply(e,{set:n,payloads:r}){n=n.map(e.mapping,e.doc);const i=e.getMeta(t);if(i)if(i.type===0){const o=document.createElement("placeholder"),s=mt.widget(i.pos,o,{id:i.id});n=n.add(e.doc,[s]),r.set(i.id,i.payload)}else i.type===1&&(n=n.remove(n.find(void 0,void 0,o=>o.id===i.id)),r.delete(i.id));return{set:n,payloads:r}}},props:{decorations(e){var n,r;return(r=(n=t.getState(e))==null?void 0:n.set)!=null?r:null}}});return t}var dH=class extends _t{get name(){return"upload"}createExternalPlugins(){return[fH()]}};function hH(t={}){t={...{exitMarksOnArrowPress:vi.defaultOptions.exitMarksOnArrowPress,excludeBaseKeymap:vi.defaultOptions.excludeBaseKeymap,selectParentNodeOnEscape:vi.defaultOptions.selectParentNodeOnEscape,undoInputRuleOnBackspace:vi.defaultOptions.undoInputRuleOnBackspace,persistentSelectionClass:Ni.defaultOptions.persistentSelectionClass},...t};const n=r4(t,["excludeBaseKeymap","selectParentNodeOnEscape","undoInputRuleOnBackspace"]),r=r4(t,["persistentSelectionClass"]);return[new O4,new A4,new FU,new T4,new E4,new eH,new ZU,new sc,new Ge,new Xr,new vi(n),new _4,new dH,new Ni(r)]}var y7=class extends _t{get name(){return"meta"}onCreate(){if(this.store.setStoreKey("getCommandMeta",this.getCommandMeta.bind(this)),!!this.options.capture)for(const t of this.store.extensions)this.captureCommands(t),this.captureKeybindings(t)}createPlugin(){return{}}captureCommands(t){var e;const n=(e=t.decoratedCommands)!=null?e:{},r=t.createCommands;for(const i of Object.keys(n)){const o=t[i];t[i]=(...s)=>a=>{var l;const u=o(...s)(a);return a.dispatch&&u&&this.setCommandMeta(a.tr,{type:"command",chain:a.dispatch!==((l=a.view)==null?void 0:l.dispatch),name:i,extension:t.name,decorated:!0}),u}}r&&(t.createCommands=()=>{const i=r();for(const[o,s]of Object.entries(i))i[o]=(...a)=>l=>{var u;const c=s(...a)(l);return l.dispatch&&c&&this.setCommandMeta(l.tr,{type:"command",chain:l.dispatch!==((u=l.view)==null?void 0:u.dispatch),name:o,extension:t.name,decorated:!1}),c};return i})}captureKeybindings(t){}getCommandMeta(t){var e;return(e=t.getMeta(this.pluginKey))!=null?e:[]}setCommandMeta(t,e){const n=this.getCommandMeta(t);t.setMeta(this.pluginKey,[...n,e])}};y7=ye([Xe({defaultOptions:{capture:gi.isDevelopment},staticKeys:["capture"],defaultPriority:lt.Highest})],y7);var tp,af,np,tu,ms,rp,ip,pH=class{constructor(t){jt(this,tp,Gp()),jt(this,af,void 0),jt(this,np,void 0),ve(this,"previousStateOverride"),jt(this,tu,!0),jt(this,ms,R1()),jt(this,rp,void 0),jt(this,ip,void 0),ve(this,"getState",()=>{var o;return(o=this.view.state)!=null?o:this.initialEditorState}),ve(this,"getPreviousState",()=>this.previousState),ve(this,"dispatchTransaction",o=>{var s,a,l;be(!this.manager.destroyed,{code:re.MANAGER_PHASE_ERROR,message:"A transaction was dispatched to a manager that has already been destroyed. Please check your set up, or open an issue."}),o=(l=(a=(s=this.props).onDispatchTransaction)==null?void 0:a.call(s,o,this.getState()))!=null?l:o;const u=this.getState(),{state:c,transactions:f}=u.applyTransaction(o);un(this,np,u),this.updateState({state:c,tr:o,transactions:f});const d=this.manager.store.getForcedUpdates(o);ra(d)||this.updateViewProps(...d)}),ve(this,"onChange",(o=we())=>{var s,a;const l=this.eventListenerProps(o);ce(this,tu)&&un(this,tu,!1),(a=(s=this.props).onChange)==null||a.call(s,l)}),ve(this,"onBlur",o=>{var s,a;const l=this.eventListenerProps();(a=(s=this.props).onBlur)==null||a.call(s,l,o),ce(this,ms).emit("blur",l,o)}),ve(this,"onFocus",o=>{var s,a;const l=this.eventListenerProps();(a=(s=this.props).onFocus)==null||a.call(s,l,o),ce(this,ms).emit("focus",l,o)}),ve(this,"setContent",(o,{triggerChange:s=!1}={})=>{const{doc:a}=this.manager.createState({content:o}),l=this.getState(),{state:u}=this.getState().applyTransaction(l.tr.replaceRangeWith(0,l.doc.nodeSize-2,a));if(s)return this.updateState({state:u,triggerChange:s});this.view.updateState(u)}),ve(this,"clearContent",({triggerChange:o=!1}={})=>{this.setContent(this.manager.createEmptyDoc(),{triggerChange:o})}),ve(this,"createStateFromContent",(o,s)=>this.manager.createState({content:o,selection:s})),ve(this,"focus",o=>{this.manager.store.commands.focus(o)}),ve(this,"blur",o=>{this.manager.store.commands.blur(o)});const{getProps:e,initialEditorState:n,element:r}=t;if(un(this,af,e),un(this,ip,n),this.manager.attachFramework(this,this.updateListener.bind(this)),this.manager.view)return;const i=this.createView(n,r);this.manager.addView(i)}get addHandler(){var t;return(t=ce(this,rp))!=null?t:un(this,rp,ce(this,ms).on.bind(ce(this,ms)))}get updatableViewProps(){return{attributes:()=>this.getAttributes(),editable:()=>{var t;return(t=this.props.editable)!=null?t:!0}}}get firstRender(){return ce(this,tu)}get props(){return ce(this,af).call(this)}get previousState(){var t,e;return(e=(t=this.previousStateOverride)!=null?t:ce(this,np))!=null?e:this.initialEditorState}get manager(){return this.props.manager}get view(){return this.manager.view}get uid(){return ce(this,tp)}get initialEditorState(){return ce(this,ip)}updateListener(t){const{state:e,tr:n}=t;return ce(this,ms).emit("updated",this.eventListenerProps({state:e,tr:n}))}update(t){const{getProps:e}=t;return un(this,af,e),this}updateViewProps(...t){const e=r4(this.updatableViewProps,t);this.view.setProps({...this.view.props,...e})}getAttributes(t){var e;const{attributes:n,autoFocus:r,classNames:i=[],label:o,editable:s}=this.props,a=(e=this.manager.store)==null?void 0:e.attributes,l=at(n)?n(this.eventListenerProps()):n;let u={};(r||Gr(r))&&(u=t?{autoFocus:!0}:{autofocus:"true"});const c=Cd(Yp(t&&"Prosemirror","remirror-editor",a==null?void 0:a.class,...i).split(" ")).join(" "),f={role:"textbox",...u,"aria-multiline":"true",...s==null||s?{}:{"aria-readonly":"true"},"aria-label":o!=null?o:"",...a,class:c};return lz({...f,...l})}addFocusListeners(){this.view.dom.addEventListener("blur",this.onBlur),this.view.dom.addEventListener("focus",this.onFocus)}removeFocusListeners(){this.view.dom.removeEventListener("blur",this.onBlur),this.view.dom.removeEventListener("focus",this.onFocus)}destroy(){ce(this,ms).emit("destroy"),this.view&&this.removeFocusListeners()}eventListenerProps(t=we()){const{state:e,tr:n,transactions:r}=t;return{tr:n,transactions:r,internalUpdate:!n,view:this.view,firstRender:ce(this,tu),state:e!=null?e:this.getState(),createStateFromContent:this.createStateFromContent,previousState:this.previousState,helpers:this.manager.store.helpers}}get baseOutput(){return{manager:this.manager,...this.manager.store,addHandler:this.addHandler,focus:this.focus,blur:this.blur,uid:ce(this,tp),view:this.view,getState:this.getState,getPreviousState:this.getPreviousState,getExtension:this.manager.getExtension.bind(this.manager),hasExtension:this.manager.hasExtension.bind(this.manager),clearContent:this.clearContent,setContent:this.setContent}}};tp=new WeakMap;af=new WeakMap;np=new WeakMap;tu=new WeakMap;ms=new WeakMap;rp=new WeakMap;ip=new WeakMap;function mH(t,e){const n=[],r=new WeakMap,i=[],o=new WeakMap;let s=[];const a={duplicateMap:o,parentExtensions:i,gatheredExtensions:s,settings:e};for(const f of t)_T(a,{extension:f});s=ml(s,(f,d)=>d.priority-f.priority);const l=new WeakSet,u=new Set;for(const f of s){const d=f.constructor,h=f.name,g=o.get(d);be(g,{message:`No entries were found for the ExtensionConstructor ${f.name}`,code:re.INTERNAL}),!(l.has(d)||u.has(h))&&(l.add(d),u.add(h),n.push(f),r.set(d,f),g.forEach(y=>y==null?void 0:y.replaceChildExtension(d,f)))}const c=[];for(const f of n)gH({extension:f,found:l,missing:c});return be(ra(c),{code:re.MISSING_REQUIRED_EXTENSION,message:c.map(({Constructor:f,extension:d})=>`The extension '${d.name}' requires '${f.name} in order to run correctly.`).join(`
`)}),{extensions:n,extensionMap:r}}function _T(t,e){var n;const{gatheredExtensions:r,duplicateMap:i,parentExtensions:o,settings:s}=t,{extension:a,parentExtension:l}=e;let{names:u=[]}=e;be(bT(a),{code:re.INVALID_MANAGER_EXTENSION,message:`An invalid extension: ${a} was provided to the [[\`RemirrorManager\`]].`});const c=a.extensions;if(a.setPriority((n=s.priority)==null?void 0:n[a.name]),r.push(a),vH({duplicateMap:i,extension:a,parentExtension:l}),c.length!==0){if(u.includes(a.name)){`${u.join(" > ")}${a.name}`;return}u=[...u,a.name],o.push(a);for(const f of c)_T(t,{names:u,extension:f,parentExtension:a})}}function gH(t){var e;const{extension:n,found:r,missing:i}=t;if(!!n.requiredExtensions)for(const o of(e=n.requiredExtensions)!=null?e:[])r.has(o)||i.push({Constructor:o,extension:n})}function vH(t){const{duplicateMap:e,extension:n,parentExtension:r}=t,i=n.constructor,o=e.get(i),s=r?[r]:[];e.set(i,o?[...o,...s]:s)}function yH(t){var e,n,r,i;const{extension:o,nodeNames:s,markNames:a,plainNames:l,store:u,handlers:c}=t;o.setStore(u);const f=(e=o.onCreate)==null?void 0:e.bind(o),d=(n=o.onView)==null?void 0:n.bind(o),h=(r=o.onStateUpdate)==null?void 0:r.bind(o),g=(i=o.onDestroy)==null?void 0:i.bind(o);f&&c.create.push(f),d&&c.view.push(d),h&&c.update.push(h),g&&c.destroy.push(g),I1(o)&&a.push(o.name),b0(o)&&o.name!=="doc"&&s.push(o.name),ST(o)&&l.push(o.name)}var gs,lf,oi,So,uf,yr,Da,cf,Ia,ff,Pa,si,df,op=class{constructor(t,e={}){jt(this,gs,void 0),jt(this,lf,we()),jt(this,oi,we()),jt(this,So,void 0),jt(this,uf,void 0),jt(this,yr,nr.None),jt(this,Da,void 0),jt(this,cf,!0),jt(this,Ia,{create:[],view:[],update:[],destroy:[]}),jt(this,ff,[]),jt(this,Pa,R1()),jt(this,si,void 0),jt(this,df,void 0),ve(this,"getState",()=>{var i;return ce(this,yr)>=nr.EditorView?this.view.state:(be(ce(this,si),{code:re.MANAGER_PHASE_ERROR,message:"`getState` can only be called after the `Framework` or the `EditorView` has been added to the manager`. Check your plugins to make sure that the decorations callback uses the state argument."}),(i=ce(this,si))==null?void 0:i.initialEditorState)}),ve(this,"updateState",i=>{const o=this.getState();this.view.updateState(i),this.onStateUpdate({previousState:o,state:i})});const{extensions:n,extensionMap:r}=mH(t,e);un(this,Da,e),un(this,So,Xa(n)),un(this,uf,r),un(this,gs,this.createExtensionStore()),un(this,yr,nr.Create),this.setupLifecycleHandlers();for(const i of ce(this,Ia).create){const o=i();o&&ce(this,ff).push(o)}}static create(t,e={}){return new op([...NE(t),...hH(e.builtin)],e)}get[Wo](){return hn.Manager}get destroyed(){return ce(this,yr)===nr.Destroy}get mounted(){return ce(this,yr)>=nr.EditorView&&ce(this,yr)<nr.Destroy}get output(){var t;return(t=ce(this,si))==null?void 0:t.frameworkOutput}get frameworkAttached(){return!!ce(this,si)}get extensions(){return ce(this,So)}get stringHandlers(){return ce(this,lf)}get store(){return Xa(ce(this,oi))}get extensionStore(){return Xa(ce(this,gs))}get tr(){return this.getExtension(Ge).transaction}get nodes(){return ce(this,oi).nodes}get marks(){return ce(this,oi).marks}get schema(){return ce(this,oi).schema}get extensionTags(){return ce(this,oi).tags}get view(){return ce(this,oi).view}get settings(){return ce(this,Da)}get document(){var t;return(t=ce(this,Da).document)!=null?t:M1()}setupLifecycleHandlers(){const t=ce(this,gs),e=ce(this,Ia),n=[],r=[],i=[];t.nodeNames=n,t.markNames=r,t.plainNames=i;for(const o of ce(this,So))yH({extension:o,nodeNames:n,markNames:r,plainNames:i,handlers:e,store:t})}setStringHandler(t,e){ce(this,lf)[t]=e}setStoreKey(t,e){ce(this,oi)[t]=e}getStoreKey(t){const e=ce(this,oi)[t];return be(!na(e),{code:re.MANAGER_PHASE_ERROR,message:"`getStoreKey` should not be called before the values are available."}),e}setExtensionStore(t,e){be(ce(this,yr)<=nr.EditorView,{code:re.MANAGER_PHASE_ERROR,message:"`setExtensionStore` should only be called during the `onCreate` lifecycle hook. Make sure to only call it within the returned methods."}),ce(this,gs)[t]=e}createExtensionStore(){const t=we(),e=!0;let n,r;return Object.defineProperties(t,{extensions:{get:()=>ce(this,So),enumerable:e},phase:{get:()=>ce(this,yr),enumerable:e},view:{get:()=>this.view,enumerable:e},managerSettings:{get:()=>Xa(ce(this,Da)),enumerable:e},getState:{value:this.getState,enumerable:e},updateState:{value:this.updateState,enumerable:e},isMounted:{value:()=>this.mounted,enumerable:e},getExtension:{value:this.getExtension.bind(this),enumerable:e},manager:{get:()=>this,enumerable:e},document:{get:()=>this.document,enumerable:e},stringHandlers:{get:()=>ce(this,lf),enumerable:e},currentState:{get:()=>n!=null?n:n=this.getState(),set:i=>{n=i},enumerable:e},previousState:{get:()=>r,set:i=>{r=i},enumerable:e}}),t.getStoreKey=this.getStoreKey.bind(this),t.setStoreKey=this.setStoreKey.bind(this),t.setExtensionStore=this.setExtensionStore.bind(this),t.setStringHandler=this.setStringHandler.bind(this),t}addView(t){if(ce(this,yr)>=nr.EditorView)return this;un(this,cf,!0),un(this,yr,nr.EditorView),ce(this,oi).view=t;for(const e of ce(this,Ia).view){const n=e(t);n&&ce(this,ff).push(n)}return this}attachFramework(t,e){var n;ce(this,si)!==t&&(ce(this,si)&&(ce(this,si).destroy(),(n=ce(this,df))==null||n.call(this)),un(this,si,t),un(this,df,this.addHandler("stateUpdate",e)))}createEmptyDoc(){var t;const e=(t=this.schema.nodes.doc)==null?void 0:t.createAndFill();return be(e,{code:re.INVALID_CONTENT,message:"An empty node could not be created due to an invalid schema."}),e}createState(t={}){const{onError:e,defaultSelection:n="end"}=this.settings,{content:r=this.createEmptyDoc(),selection:i=n,stringHandler:o=this.settings.stringHandler}=t,{schema:s,plugins:a}=this.store,l=nT({stringHandler:Ne(o)?this.stringHandlers[o]:o,document:this.document,content:r,onError:e,schema:s,selection:i});return Ns.create({schema:s,doc:l,plugins:a,selection:Yr(i,l)})}addHandler(t,e){return ce(this,Pa).on(t,e)}onStateUpdate(t){const e=ce(this,cf);ce(this,gs).currentState=t.state,ce(this,gs).previousState=t.previousState,e&&(un(this,yr,nr.Runtime),un(this,cf,!1));const n={...t,firstUpdate:e};for(const r of ce(this,Ia).update)r(n);ce(this,Pa).emit("stateUpdate",n)}getExtension(t){const e=ce(this,uf).get(t);return be(e,{code:re.INVALID_MANAGER_EXTENSION,message:`'${t.name}' doesn't exist within this manager. Make sure it is properly added before attempting to use it.`}),e}hasExtension(t){return!!ce(this,uf).get(t)}clone(){const t=ce(this,So).map(n=>n.clone(n.options)),e=op.create(()=>t,ce(this,Da));return ce(this,Pa).emit("clone",e),e}recreate(t=[],e={}){const n=ce(this,So).map(i=>i.clone(i.initialOptions)),r=op.create(()=>[...n,...t],e);return ce(this,Pa).emit("recreate",r),r}destroy(){var t,e,n,r,i,o,s;un(this,yr,nr.Destroy);for(const a of(e=(t=this.view)==null?void 0:t.state.plugins)!=null?e:[])(r=(n=a.getState(this.view.state))==null?void 0:n.destroy)==null||r.call(n);(i=ce(this,si))==null||i.destroy(),(o=ce(this,df))==null||o.call(this);for(const a of ce(this,ff))a();for(const a of ce(this,Ia).destroy)a();(s=this.view)==null||s.destroy(),ce(this,Pa).emit("destroy")}includes(t){const e=[],n=[];for(const r of ce(this,So))e.push(r.name,r.constructorName),n.push(r.constructor);return t.every(r=>Ne(r)?Oi(e,r):Oi(n,r))}},xH=op;gs=new WeakMap;lf=new WeakMap;oi=new WeakMap;So=new WeakMap;uf=new WeakMap;yr=new WeakMap;Da=new WeakMap;cf=new WeakMap;Ia=new WeakMap;ff=new WeakMap;Pa=new WeakMap;si=new WeakMap;df=new WeakMap;function wH(t,e){return!kc(t)||!_c(t,hn.Manager)?!1:e?t.includes(e):!0}function Io(t,e,n){return Math.min(Math.max(t,n),e)}class bH extends Error{constructor(e){super(`Failed to parse color: "${e}"`)}}var hf=bH;function v5(t){if(typeof t!="string")throw new hf(t);if(t.trim().toLowerCase()==="transparent")return[0,0,0,0];let e=t.trim();e=OH.test(t)?_H(t):t;const n=EH.exec(e);if(n){const s=Array.from(n).slice(1);return[...s.slice(0,3).map(a=>parseInt(Pd(a,2),16)),parseInt(Pd(s[3]||"f",2),16)/255]}const r=CH.exec(e);if(r){const s=Array.from(r).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,16)),parseInt(s[3]||"ff",16)/255]}const i=TH.exec(e);if(i){const s=Array.from(i).slice(1);return[...s.slice(0,3).map(a=>parseInt(a,10)),parseFloat(s[3]||"1")]}const o=AH.exec(e);if(o){const[s,a,l,u]=Array.from(o).slice(1).map(parseFloat);if(Io(0,100,a)!==a)throw new hf(t);if(Io(0,100,l)!==l)throw new hf(t);return[...MH(s,a,l),u||1]}throw new hf(t)}function SH(t){let e=5381,n=t.length;for(;n;)e=e*33^t.charCodeAt(--n);return(e>>>0)%2341}const x7=t=>parseInt(t.replace(/_/g,""),36),kH="1q29ehhb 1n09sgk7 1kl1ekf_ _yl4zsno 16z9eiv3 1p29lhp8 _bd9zg04 17u0____ _iw9zhe5 _to73___ _r45e31e _7l6g016 _jh8ouiv _zn3qba8 1jy4zshs 11u87k0u 1ro9yvyo 1aj3xael 1gz9zjz0 _3w8l4xo 1bf1ekf_ _ke3v___ _4rrkb__ 13j776yz _646mbhl _nrjr4__ _le6mbhl 1n37ehkb _m75f91n _qj3bzfz 1939yygw 11i5z6x8 _1k5f8xs 1509441m 15t5lwgf _ae2th1n _tg1ugcv 1lp1ugcv 16e14up_ _h55rw7n _ny9yavn _7a11xb_ 1ih442g9 _pv442g9 1mv16xof 14e6y7tu 1oo9zkds 17d1cisi _4v9y70f _y98m8kc 1019pq0v 12o9zda8 _348j4f4 1et50i2o _8epa8__ _ts6senj 1o350i2o 1mi9eiuo 1259yrp0 1ln80gnw _632xcoy 1cn9zldc _f29edu4 1n490c8q _9f9ziet 1b94vk74 _m49zkct 1kz6s73a 1eu9dtog _q58s1rz 1dy9sjiq __u89jo3 _aj5nkwg _ld89jo3 13h9z6wx _qa9z2ii _l119xgq _bs5arju 1hj4nwk9 1qt4nwk9 1ge6wau6 14j9zlcw 11p1edc_ _ms1zcxe _439shk6 _jt9y70f _754zsow 1la40eju _oq5p___ _x279qkz 1fa5r3rv _yd2d9ip _424tcku _8y1di2_ _zi2uabw _yy7rn9h 12yz980_ __39ljp6 1b59zg0x _n39zfzp 1fy9zest _b33k___ _hp9wq92 1il50hz4 _io472ub _lj9z3eo 19z9ykg0 _8t8iu3a 12b9bl4a 1ak5yw0o _896v4ku _tb8k8lv _s59zi6t _c09ze0p 1lg80oqn 1id9z8wb _238nba5 1kq6wgdi _154zssg _tn3zk49 _da9y6tc 1sg7cv4f _r12jvtt 1gq5fmkz 1cs9rvci _lp9jn1c _xw1tdnb 13f9zje6 16f6973h _vo7ir40 _bt5arjf _rc45e4t _hr4e100 10v4e100 _hc9zke2 _w91egv_ _sj2r1kk 13c87yx8 _vqpds__ _ni8ggk8 _tj9yqfb 1ia2j4r4 _7x9b10u 1fc9ld4j 1eq9zldr _5j9lhpx _ez9zl6o _md61fzm".split(" ").reduce((t,e)=>{const n=x7(e.substring(0,3)),r=x7(e.substring(3)).toString(16);let i="";for(let o=0;o<6-r.length;o++)i+="0";return t[n]=`${i}${r}`,t},{});function _H(t){const e=t.toLowerCase().trim(),n=kH[SH(e)];if(!n)throw new hf(t);return`#${n}`}const Pd=(t,e)=>Array.from(Array(e)).map(()=>t).join(""),EH=new RegExp(`^#${Pd("([a-f0-9])",3)}([a-f0-9])?$`,"i"),CH=new RegExp(`^#${Pd("([a-f0-9]{2})",3)}([a-f0-9]{2})?$`,"i"),TH=new RegExp(`^rgba?\\(\\s*(\\d+)\\s*${Pd(",\\s*(\\d+)\\s*",2)}(?:,\\s*([\\d.]+))?\\s*\\)$`,"i"),AH=/^hsla?\(\s*([\d.]+)\s*,\s*([\d.]+)%\s*,\s*([\d.]+)%(?:\s*,\s*([\d.]+))?\s*\)$/i,OH=/^[a-z]+$/i,w7=t=>Math.round(t*255),MH=(t,e,n)=>{let r=n/100;if(e===0)return[r,r,r].map(w7);const i=(t%360+360)%360/60,o=(1-Math.abs(2*r-1))*(e/100),s=o*(1-Math.abs(i%2-1));let a=0,l=0,u=0;i>=0&&i<1?(a=o,l=s):i>=1&&i<2?(a=s,l=o):i>=2&&i<3?(l=o,u=s):i>=3&&i<4?(l=s,u=o):i>=4&&i<5?(a=s,u=o):i>=5&&i<6&&(a=o,u=s);const c=r-o/2,f=a+c,d=l+c,h=u+c;return[f,d,h].map(w7)};function NH(t){const[e,n,r,i]=v5(t).map((f,d)=>d===3?f:f/255),o=Math.max(e,n,r),s=Math.min(e,n,r),a=(o+s)/2;if(o===s)return[0,0,a,i];const l=o-s,u=a>.5?l/(2-o-s):l/(o+s);return[60*(e===o?(n-r)/l+(n<r?6:0):n===o?(r-e)/l+2:(e-n)/l+4),u,a,i]}function RH(t,e,n,r){return`hsla(${(t%360).toFixed()}, ${Io(0,100,e*100).toFixed()}%, ${Io(0,100,n*100).toFixed()}%, ${parseFloat(Io(0,1,r).toFixed(3))})`}function kr(t,e){const[n,r,i,o]=NH(t);return RH(n,r,i-e,o)}function DH(t){if(t==="transparent")return 0;function e(o){const s=o/255;return s<=.03928?s/12.92:Math.pow((s+.055)/1.055,2.4)}const[n,r,i]=v5(t);return .2126*e(n)+.7152*e(r)+.0722*e(i)}function IH(t,e,n,r){return`rgba(${Io(0,255,t).toFixed()}, ${Io(0,255,e).toFixed()}, ${Io(0,255,n).toFixed()}, ${parseFloat(Io(0,1,r).toFixed(3))})`}function sp(t,e){return kr(t,-e)}function um(t,e){const[n,r,i,o]=v5(t);return IH(n,r,i,o-e)}function PH(t){return DH(t)>.179}function Lu(t){return PH(t)?"#000":"#fff"}function LH(t){return t.replace(/([a-z])([\dA-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase()}function zH(t){return`--rmr-${t.map(LH).join("-")}`}function BH(t){return`var(${zH(t)})`}function Jn(...t){return BH(t.map(e=>e.toString()))}const ai={gray:["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],red:["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],pink:["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],grape:["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],violet:["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],indigo:["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],blue:["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],cyan:["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],teal:["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],green:["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],lime:["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],yellow:["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],orange:["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]},Po="#000000",y5="#ffffff",$H="#252103",x5=um(Po,.75),P1="#7963d2",w5="#bcd263",FH="#fff",VH="#fff",b5=ai.gray[1],b7="rgba(10,31,68,0.08)",S7="rgba(10,31,68,0.10)",k7="rgba(10,31,68,0.12)",UH=sp(um(Po,.1),.13),S5={background:y5,border:x5,foreground:Po,muted:b5,primary:P1,secondary:w5,primaryText:FH,secondaryText:VH,text:$H,faded:UH},HH={...S5,background:kr(y5,.15),border:kr(x5,.15),foreground:kr(Po,.15),muted:kr(b5,.15),primary:kr(P1,.15),secondary:kr(w5,.15),get text(){return Lu(this.background)},get primaryText(){return Lu(this.primary)},get secondaryText(){return Lu(this.secondary)}},jH={...S5,background:kr(y5,.075),border:kr(x5,.075),foreground:kr(Po,.075),muted:kr(b5,.075),primary:kr(P1,.075),secondary:kr(w5,.075),get text(){return Lu(this.background)},get primaryText(){return Lu(this.primary)},get secondaryText(){return Lu(this.secondary)}};({...S5,backdrop:um(Po,.1),outline:um(P1,.6),table:(sp(Po,.8),sp(Po,.4),ai.gray[3],ai.blue[7],ai.blue[1],ai.blue[5],ai.blue[7],sp(Po,.4),ai.blue[5],ai.red[7],ai.red[1],ai.red[5])},`${b7}`,`${S7}`,`${k7}`);Jn("color","foreground");Jn("color","text");Jn("color","background");Jn("color","backdrop");Jn("color","border");Jn("color","shadow1");Jn("color","hover","border");Jn("color","active","border");Jn("color","primary");Jn("color","primaryText");Jn("color","hover","primary");Jn("color","hover","primaryText");Jn("color","active","primary");Jn("color","active","primaryText");const qH="remirror-editor-wrapper",WH="remirror-button-active",KH="remirror-button",GH="remirror-composite",YH="remirror-dialog",XH="remirror-dialog-backdrop",JH="remirror-form",QH="remirror-form-message",ZH="remirror-form-label",ej="remirror-form-group",tj="remirror-group",nj="remirror-input",rj="remirror-menu",ij="remirror-menu-pane",oj="remirror-menu-pane-active",sj="remirror-menu-dropdown-label",aj="remirror-menu-pane-icon",lj="remirror-menu-pane-label",uj="remirror-menu-pane-shortcut",cj="remirror-menu-button-left",fj="remirror-menu-button-right",dj="remirror-menu-button-nested-left",hj="remirror-menu-button-nested-right",pj="remirror-menu-button",mj="remirror-menu-bar",gj="remirror-flex-column",vj="remirror-flex-row",yj="remirror-menu-item",xj="remirror-menu-item-row",wj="remirror-menu-item-column",bj="remirror-menu-item-checkbox",Sj="remirror-menu-item-radio",kj="remirror-menu-group",_j="remirror-floating-popover",Ej="remirror-popover",Cj="remirror-animated-popover",Tj="remirror-role",Aj="remirror-separator",Oj="remirror-tab",Mj="remirror-tab-list",Nj="remirror-tabbable",Rj="remirror-toolbar",Dj="remirror-tooltip",Ij="remirror-table-size-editor",Pj="remirror-table-size-editor-body",Lj="remirror-table-size-editor-cell",zj="remirror-table-size-editor-cell-selected",Bj="remirror-table-size-editor-footer",$j="remirror-color-picker",Fj="remirror-color-picker-cell",Vj="remirror-color-picker-cell-selected";var Uj=Object.freeze({__proto__:null,EDITOR_WRAPPER:qH,BUTTON_ACTIVE:WH,BUTTON:KH,COMPOSITE:GH,DIALOG:YH,DIALOG_BACKDROP:XH,FORM:JH,FORM_MESSAGE:QH,FORM_LABEL:ZH,FORM_GROUP:ej,GROUP:tj,INPUT:nj,MENU:rj,MENU_PANE:ij,MENU_PANE_ACTIVE:oj,MENU_DROPDOWN_LABEL:sj,MENU_PANE_ICON:aj,MENU_PANE_LABEL:lj,MENU_PANE_SHORTCUT:uj,MENU_BUTTON_LEFT:cj,MENU_BUTTON_RIGHT:fj,MENU_BUTTON_NESTED_LEFT:dj,MENU_BUTTON_NESTED_RIGHT:hj,MENU_BUTTON:pj,MENU_BAR:mj,FLEX_COLUMN:gj,FLEX_ROW:vj,MENU_ITEM:yj,MENU_ITEM_ROW:xj,MENU_ITEM_COLUMN:wj,MENU_ITEM_CHECKBOX:bj,MENU_ITEM_RADIO:Sj,MENU_GROUP:kj,FLOATING_POPOVER:_j,POPOVER:Ej,ANIMATED_POPOVER:Cj,ROLE:Tj,SEPARATOR:Aj,TAB:Oj,TAB_LIST:Mj,TABBABLE:Nj,TOOLBAR:Rj,TOOLTIP:Dj,TABLE_SIZE_EDITOR:Ij,TABLE_SIZE_EDITOR_BODY:Pj,TABLE_SIZE_EDITOR_CELL:Lj,TABLE_SIZE_EDITOR_CELL_SELECTED:zj,TABLE_SIZE_EDITOR_FOOTER:Bj,COLOR_PICKER:$j,COLOR_PICKER_CELL:Fj,COLOR_PICKER_CELL_SELECTED:Vj});const Hj="remirror-wrap",jj="remirror-a11y-dark",qj="remirror-atom-dark",Wj="remirror-base16-ateliersulphurpool-light",Kj="remirror-cb",Gj="remirror-darcula",Yj="remirror-dracula",Xj="remirror-duotone-dark",Jj="remirror-duotone-earth",Qj="remirror-duotone-forest",Zj="remirror-duotone-light",eq="remirror-duotone-sea",tq="remirror-duotone-space",nq="remirror-gh-colors",rq="remirror-hopscotch",iq="remirror-pojoaque",oq="remirror-vs",sq="remirror-xonokai";var aq=Object.freeze({__proto__:null,WRAP:Hj,A11Y_DARK:jj,ATOM_DARK:qj,BASE16_ATELIERSULPHURPOOL_LIGHT:Wj,CB:Kj,DARCULA:Gj,DRACULA:Yj,DUOTONE_DARK:Xj,DUOTONE_EARTH:Jj,DUOTONE_FOREST:Qj,DUOTONE_LIGHT:Zj,DUOTONE_SEA:eq,DUOTONE_SPACE:tq,GH_COLORS:nq,HOPSCOTCH:rq,POJOAQUE:iq,VS:oq,XONOKAI:sq});const lq="remirror-image-loader";var uq=Object.freeze({__proto__:null,IMAGE_LOADER:lq});const cq="remirror-list-item-with-custom-mark",fq="remirror-ul-list-content",dq="remirror-editor",hq="remirror-list-item-marker-container",pq="remirror-list-item-checkbox",mq="remirror-collapsible-list-item-closed",gq="remirror-collapsible-list-item-button",vq="remirror-list-spine";var la=Object.freeze({__proto__:null,LIST_ITEM_WITH_CUSTOM_MARKER:cq,UL_LIST_CONTENT:fq,EDITOR:dq,LIST_ITEM_MARKER_CONTAINER:hq,LIST_ITEM_CHECKBOX:pq,COLLAPSIBLE_LIST_ITEM_CLOSED:mq,COLLAPSIBLE_LIST_ITEM_BUTTON:gq,LIST_SPINE:vq});const yq="remirror-is-empty";var xq=Object.freeze({__proto__:null,IS_EMPTY:yq});const wq="remirror-editor",bq="remirror-positioner",Sq="remirror-positioner-widget";var kq=Object.freeze({__proto__:null,EDITOR:wq,POSITIONER:bq,POSITIONER_WIDGET:Sq});const as=12,uv=2,cv="remirror-table-controller-wrapper",fv="remirror-table-controller-trigger-area",dv="remirror-table-controller-mark-row-corner",hv="remirror-table-controller-mark-column-corner";(()=>{const t=String.raw,e=t`
    overflow: visible;
    padding: 0;
    cursor: pointer;
    z-index: 15;
    position: relative;
  `,n=t`
    flex: 1;
    position: relative;
    z-index: 10;

    /* Style for debug. Use linear-gradient as background so that we can differentiate two neighbor areas. */
    /* background: linear-gradient(to left top, rgba(0, 255, 100, 0.2), rgba(200, 100, 255, 0.2)); */
  `,r=t`
    overflow: visible;
    display: flex;
    justify-content: flex-end;
    align-items: flex-end;
  `,i=t`
    position: absolute;
    width: 0px;
    height: 0px;
    border-radius: 50%;
    border-style: solid;
    border-color: ${Jn("color","table","mark")};
    border-width: ${uv}px;
  `,o=t`
    bottom: -${uv}px;
    left: -12px;

    ${i}
  `,s=t`
    ${i}

    right: -${uv}px;
    top: -12px;
  `,a=t`
    ${e}

    height: ${as}px;
    width: ${as}px;

    & div.${cv} {
      ${r}

      width: ${as}px;
      height: ${as}px;
    }

    & div.${fv} {
      ${n}

      display: none;
    }

    & div.${dv} {
      ${o}
    }
    & div.${hv} {
      ${s}
    }
  `,l=t`
    ${e}

    height: ${as}px;

    & div.${cv} {
      ${r}

      width: 100%;
      height: ${as}px;
      flex-direction: row;
    }

    & div.${fv} {
      ${n}

      height: 36px;
    }

    & div.${dv} {
      display: none;
    }
    & div.${hv} {
      ${s}
    }
  `,u=t`
    ${e}

    width: ${as}px;

    & div.${cv} {
      ${r}

      height: 100%;
      width: ${as}px;
      flex-direction: column;
    }

    & div.${fv} {
      ${n}

      width: 36px;
    }

    & div.${dv} {
      ${o}
    }
    & div.${hv} {
      display: none;
    }
  `;return{tableCornerController:a,tableColumnController:l,tableRowController:u}})();var ET=Object.defineProperty,_q=Object.getOwnPropertyDescriptor,Eq=(t,e,n)=>e in t?ET(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k5=(t,e,n,r)=>{for(var i=r>1?void 0:r?_q(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&ET(e,n,i),i},Is=(t,e,n)=>(Eq(t,typeof e!="symbol"?e+"":e,n),n),CT=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Qt=(t,e,n)=>(CT(t,e,"read from private field"),n?n.call(t):e.get(t)),xo=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},ls=(t,e,n,r)=>(CT(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),pf,mf,nu,gf,ap,vf,yf,xf,wf,lp=class{constructor(t){Is(this,"events"),xo(this,pf,R1()),xo(this,mf,[]),xo(this,nu,new Map),xo(this,gf,[]),xo(this,ap,!1),Is(this,"recentUpdate"),xo(this,vf,void 0),xo(this,yf,void 0),xo(this,xf,void 0),xo(this,wf,void 0),Is(this,"hasChanged"),Is(this,"addListener",(n,r)=>Qt(this,pf).on(n,r));var e;ls(this,vf,t),ls(this,yf,t.getActive),ls(this,wf,t.getPosition),ls(this,xf,t.getID),this.hasChanged=t.hasChanged,this.events=(e=t.events)!=null?e:["state","scroll"]}static create(t){return new lp(t)}static fromPositioner(t,e){return lp.create({...t.basePositioner,...e})}get basePositioner(){return{getActive:Qt(this,yf),getPosition:Qt(this,wf),hasChanged:this.hasChanged,events:this.events,getID:Qt(this,xf)}}onActiveChanged(t){this.recentUpdate=t;const e=Qt(this,yf).call(this,t);ls(this,mf,e),ls(this,nu,new Map),ls(this,ap,!1),ls(this,gf,[]);const n=[];for(const[r,i]of e.entries()){const o=this.getID(i,r);Qt(this,gf).push(o),n.push({setElement:s=>this.addProps({...t,data:i,element:s},r),id:o})}Qt(this,pf).emit("update",n)}getID(t,e){var n,r;return(r=(n=Qt(this,xf))==null?void 0:n.call(this,t,e))!=null?r:e.toString()}addProps(t,e){if(Qt(this,ap)||(Qt(this,nu).set(e,t),Qt(this,nu).size<Qt(this,mf).length))return;const n=[];for(const r of Qt(this,mf).keys()){const i=Qt(this,nu).get(r);be(i,{code:re.INTERNAL,message:"Something went wrong when retrieving the parameters"});const o=Qt(this,gf)[r];if(!o)return;n.push({position:Qt(this,wf).call(this,i),element:i.element,id:o})}Qt(this,pf).emit("done",n)}clone(t){return lp.create({...Qt(this,vf),...at(t)?t(Qt(this,vf)):t})}active(t){const e=at(t)?t:()=>t;return this.clone(n=>({getActive:r=>n.getActive(r).filter(e)}))}},_i=lp;pf=new WeakMap;mf=new WeakMap;nu=new WeakMap;gf=new WeakMap;ap=new WeakMap;vf=new WeakMap;yf=new WeakMap;xf=new WeakMap;wf=new WeakMap;Is(_i,"EMPTY",[]);function Cq(t,e=MT){var n;const{key:r}=(n=t==null?void 0:t.getMeta(OT))!=null?n:{};return r===e}function TT(t){const{tr:e,state:n,previousState:r}=t;return!r||e&&Cq(e)?!0:e?gV(e):!n.doc.eq(r.doc)||!n.selection.eq(r.selection)}function AT(t,e,n={}){const r=e.getBoundingClientRect(),{accountForPadding:i=!1}=n;let o=0,s=0,a=0,l=0;if(Ft(e)&&i){const c=Number.parseFloat(Hi(e,"padding-left").replace("px","")),f=Number.parseFloat(Hi(e,"padding-right").replace("px","")),d=Number.parseFloat(Hi(e,"padding-top").replace("px","")),h=Number.parseFloat(Hi(e,"padding-bottom").replace("px","")),g=Number.parseFloat(Hi(e,"border-left").replace("px","")),y=Number.parseFloat(Hi(e,"border-right").replace("px","")),S=Number.parseFloat(Hi(e,"border-top").replace("px","")),v=Number.parseFloat(Hi(e,"border-bottom").replace("px","")),m=e.offsetWidth-e.clientWidth,p=e.offsetHeight-e.clientHeight;o+=c+g+(e.dir==="rtl"?m:0),s+=f+y+(e.dir==="rtl"?0:m),a+=d+S,l+=h+v+p}const u=new DOMRect(r.left+o,r.top+a,r.width-s,r.height-l);for(const[c,f]of[[t.top,t.left],[t.top,t.right],[t.bottom,t.left],[t.bottom,t.right]])if(nb(c,u.top,u.bottom)&&nb(f,u.left,u.right))return!0;return!1}var Tq="remirror-positioner-widget",OT="positionerUpdate",MT="__all_positioners__",NT={y:-999999,x:-999999,width:0,height:0},_7={...NT,left:-999999,top:-999999,bottom:-999999,right:-999999},Aq={...NT,rect:{..._7,toJSON:()=>_7},visible:!1},Oq=_i.create({hasChanged:TT,getActive(t){const{state:e}=t;if(!a5(e)||e.selection.$anchor.depth>2)return _i.EMPTY;const n=y0({predicate:r=>r.type.isBlock,selection:e});return n?[n]:_i.EMPTY},getPosition(t){const{view:e,data:n}=t,r=e.nodeDOM(n.pos);if(!Ft(r))return Aq;const i=r.getBoundingClientRect(),o=e.dom.getBoundingClientRect(),s=i.height,a=i.width,l=e.dom.scrollLeft+i.left-o.left,u=e.dom.scrollTop+i.top-o.top,c=AT(i,e.dom);return{y:u,x:l,height:s,width:a,rect:i,visible:c}}}),RT=Oq.clone(({getActive:t})=>({getActive:e=>{const[n]=t(e);return n&&O1(n.node)&&n.node.type===A1(e.state.schema)?[n]:_i.EMPTY}}));RT.clone(({getPosition:t})=>({getPosition:e=>({...t(e),width:1})}));RT.clone(({getPosition:t})=>({getPosition:e=>{const{width:n,x:r,y:i,height:o}=t(e);return{...t(e),width:1,x:n+r,rect:new DOMRect(n+r,i,1,o)}}}));function _5(t){return _i.create({hasChanged:TT,getActive:e=>{const{state:n,view:r}=e;if(!t(n)||!ya(n.selection))return _i.EMPTY;try{const{head:i,anchor:o}=n.selection;return[{from:r.coordsAtPos(o),to:r.coordsAtPos(i)}]}catch{return _i.EMPTY}},getPosition(e){var n;const{element:r,data:i,view:o}=e,{from:s,to:a}=i,l=(n=r.offsetParent)!=null?n:o.dom,u=l.getBoundingClientRect(),c=Math.abs(a.bottom-s.top),f=c>s.bottom-s.top,d=Math.min(s.left,a.left),h=Math.min(s.top,a.top),g=l.scrollLeft+(f?a.left-u.left:d-u.left),y=l.scrollTop+h-u.top,S=f?1:Math.abs(s.left-a.right),v=new DOMRect(f?a.left:d,h,S,c),m=AT(v,o.dom);return{rect:v,y,x:g,height:c,width:S,visible:m}}})}var Mq=_5(t=>!t.selection.empty);_5(t=>t.selection.empty);_5(()=>!0);Mq.clone(()=>({getActive:t=>{const{state:e,view:n}=t;if(!e.selection.empty)return _i.EMPTY;const r=tT(e);if(!r)return _i.EMPTY;try{return[{from:n.coordsAtPos(r.from),to:n.coordsAtPos(r.to)}]}catch{return _i.EMPTY}}}));var Ld=class extends _t{constructor(){super(...arguments),Is(this,"positioners",[]),Is(this,"element"),Is(this,"onAddCustomHandler",({positioner:t})=>{if(!!t)return this.positioners=[...this.positioners,t],this.store.commands.forceUpdate(),()=>{this.positioners=this.positioners.filter(e=>e!==t)}})}get name(){return"positioner"}createAttributes(){return{class:kq.EDITOR}}init(){this.onScroll=_E(this.options.scrollDebounce,this.onScroll.bind(this))}createEventHandlers(){return{scroll:()=>(this.onScroll(),!1),hover:(t,e)=>(this.positioner(this.getBaseProps("hover",{hover:e})),!1),contextmenu:(t,e)=>(this.positioner(this.getBaseProps("contextmenu",{contextmenu:e})),!1)}}onStateUpdate(t){this.positioner({...t,previousState:t.firstUpdate?void 0:t.previousState,event:"state",helpers:this.store.helpers})}createDecorations(t){var e;if((e=this.element)!=null||(this.element=this.createElement()),!this.element.hasChildNodes())return rt.empty;const n=mt.widget(0,this.element,{key:"positioner-widget",side:-1,stopEvent:()=>!0});return rt.create(t.doc,[n])}forceUpdatePositioners(t=MT){return({tr:e,dispatch:n})=>(n==null||n(e.setMeta(OT,{key:t})),!0)}getPositionerWidget(){var t;return(t=this.element)!=null?t:this.element=this.createElement()}createElement(){const t=document.createElement("span");return t.dataset.id=Tq,t.setAttribute("role","presentation"),t}triggerPositioner(t,e){!t.hasChanged(e)||t.onActiveChanged({...e,view:this.store.view})}positioner(t){for(const e of this.positioners)!e.events.includes(t.event)||this.triggerPositioner(e,t)}getBaseProps(t,e){const n=this.store.getState(),r=this.store.previousState;return{helpers:this.store.helpers,event:t,firstUpdate:!1,previousState:r,state:n,...e}}onScroll(){this.positioner(this.getBaseProps("scroll",{scroll:{scrollTop:this.store.view.dom.scrollTop}}))}};k5([pe()],Ld.prototype,"forceUpdatePositioners",1);k5([Lt()],Ld.prototype,"getPositionerWidget",1);Ld=k5([Xe({defaultOptions:{scrollDebounce:100},customHandlerKeys:["positioner"],staticKeys:["scrollDebounce"]})],Ld);var Nq=Object.defineProperty,Rq=Object.getOwnPropertyDescriptor,DT=(t,e,n,r)=>{for(var i=r>1?void 0:r?Rq(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&Nq(e,n,i),i},E5=class extends Xn{get name(){return"blockquote"}createTags(){return[De.Block,De.FormattingNode]}createNodeSpec(t,e){var n;return{content:"block+",defining:!0,draggable:!1,...e,attrs:t.defaults(),parseDOM:[{tag:"blockquote",getAttrs:t.parse,priority:100},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>["blockquote",t.dom(r),0]}}toggleBlockquote(){return sT(this.type)}shortcut(t){return this.toggleBlockquote()(t)}createInputRules(){return[S1(/^\s*>\s$/,this.type)]}createPasteRules(){return{type:"node",nodeType:this.type,regexp:/^\s*>\s$/,startOfTextBlock:!0}}};DT([pe({icon:"doubleQuotesL",description:({t})=>t(xb.DESCRIPTION),label:({t})=>t(xb.LABEL)})],E5.prototype,"toggleBlockquote",1);DT([an({shortcut:"Ctrl->",command:"toggleBlockquote"})],E5.prototype,"shortcut",1);var Dq=Object.defineProperty,Iq=Object.getOwnPropertyDescriptor,S0=(t,e,n,r)=>{for(var i=r>1?void 0:r?Iq(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&Dq(e,n,i),i},Pq={icon:"bold",label:({t})=>t(wb.LABEL),description:({t})=>t(wb.DESCRIPTION)},Sl=class extends Cc{get name(){return"bold"}createTags(){return[De.FormattingMark,De.FontStyle]}createMarkSpec(t,e){var n;return{...e,attrs:t.defaults(),parseDOM:[{tag:"strong",getAttrs:t.parse},{tag:"b",getAttrs:r=>Ft(r)&&r.style.fontWeight!=="normal"?t.parse(r):!1},{style:"font-weight",getAttrs:r=>Ne(r)&&/^(bold(er)?|[5-9]\d{2,})$/.test(r)?null:!1},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>{const{weight:i}=this.options;return i?["strong",{"font-weight":i.toString()},0]:["strong",t.dom(r),0]}}}createInputRules(){return[Id({regexp:/(?:\*\*|__)([^*_]+)(?:\*\*|__)$/,type:this.type,ignoreWhitespace:!0})]}toggleBold(t){return bl({type:this.type,selection:t})}setBold(t){return({tr:e,dispatch:n})=>{const{from:r,to:i}=Yr(t!=null?t:e.selection,e.doc);return n==null||n(e.addMark(r,i,this.type.create())),!0}}removeBold(t){return({tr:e,dispatch:n})=>{const{from:r,to:i}=Yr(t!=null?t:e.selection,e.doc);return e.doc.rangeHasMark(r,i,this.type)?(n==null||n(e.removeMark(r,i,this.type)),!0):!1}}shortcut(t){return this.toggleBold()(t)}};S0([pe(Pq)],Sl.prototype,"toggleBold",1);S0([pe()],Sl.prototype,"setBold",1);S0([pe()],Sl.prototype,"removeBold",1);S0([an({shortcut:ie.Bold,command:"toggleBold"})],Sl.prototype,"shortcut",1);Sl=S0([Xe({defaultOptions:{weight:void 0},staticKeys:["weight"]})],Sl);var Lq=Object.defineProperty,zq=Object.getOwnPropertyDescriptor,C5=(t,e,n,r)=>{for(var i=r>1?void 0:r?zq(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&Lq(e,n,i),i},{DESCRIPTION:Bq,LABEL:$q}=VB,Fq={icon:"codeLine",description:({t})=>t(Bq),label:({t})=>t($q)},zd=class extends Cc{get name(){return"code"}createTags(){return[De.Code,De.ExcludeInputRules]}createMarkSpec(t,e){var n;return{excludes:"_",...e,attrs:t.defaults(),parseDOM:[{tag:"code",getAttrs:t.parse},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>["code",{spellcheck:"false",...t.dom(r)},0]}}createKeymap(){return{"Mod-`":bl({type:this.type})}}keyboardShortcut(t){return this.toggleCode()(t)}toggleCode(){return bl({type:this.type})}createInputRules(){return[Id({regexp:new RegExp(`(?:\`)([^\`${V3}]+)(?:\`)$`),type:this.type,ignoreWhitespace:!0})]}createPasteRules(){return[{type:"mark",regexp:/`([^`]+)`/g,markType:this.type}]}};C5([an({shortcut:ie.Code,command:"toggleCode"})],zd.prototype,"keyboardShortcut",1);C5([pe(Fq)],zd.prototype,"toggleCode",1);zd=C5([Xe({})],zd);var IT={exports:{}},Vq=Hq,Uq=Object.prototype.hasOwnProperty;function Hq(){for(var t={},e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)Uq.call(n,r)&&(t[r]=n[r])}return t}var PT=LT,T5=LT.prototype;T5.space=null;T5.normal={};T5.property={};function LT(t,e,n){this.property=t,this.normal=e,n&&(this.space=n)}var E7=Vq,jq=PT,qq=Wq;function Wq(t){for(var e=t.length,n=[],r=[],i=-1,o,s;++i<e;)o=t[i],n.push(o.property),r.push(o.normal),s=o.space;return new jq(E7.apply(null,n),E7.apply(null,r),s)}var A5=Kq;function Kq(t){return t.toLowerCase()}var zT=BT,ei=BT.prototype;ei.space=null;ei.attribute=null;ei.property=null;ei.boolean=!1;ei.booleanish=!1;ei.overloadedBoolean=!1;ei.number=!1;ei.commaSeparated=!1;ei.spaceSeparated=!1;ei.commaOrSpaceSeparated=!1;ei.mustUseProperty=!1;ei.defined=!1;function BT(t,e){this.property=t,this.attribute=e}var ho={},Gq=0;ho.boolean=Ll();ho.booleanish=Ll();ho.overloadedBoolean=Ll();ho.number=Ll();ho.spaceSeparated=Ll();ho.commaSeparated=Ll();ho.commaOrSpaceSeparated=Ll();function Ll(){return Math.pow(2,++Gq)}var $T=zT,C7=ho,FT=O5;O5.prototype=new $T;O5.prototype.defined=!0;var VT=["boolean","booleanish","overloadedBoolean","number","commaSeparated","spaceSeparated","commaOrSpaceSeparated"],Yq=VT.length;function O5(t,e,n,r){var i=-1,o;for(T7(this,"space",r),$T.call(this,t,e);++i<Yq;)o=VT[i],T7(this,o,(n&C7[o])===C7[o])}function T7(t,e,n){n&&(t[e]=n)}var A7=A5,Xq=PT,Jq=FT,k0=Qq;function Qq(t){var e=t.space,n=t.mustUseProperty||[],r=t.attributes||{},i=t.properties,o=t.transform,s={},a={},l,u;for(l in i)u=new Jq(l,o(r,l),i[l],e),n.indexOf(l)!==-1&&(u.mustUseProperty=!0),s[l]=u,a[A7(l)]=l,a[A7(u.attribute)]=l;return new Xq(s,a,e)}var Zq=k0,eW=Zq({space:"xlink",transform:tW,properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null}});function tW(t,e){return"xlink:"+e.slice(5).toLowerCase()}var nW=k0,rW=nW({space:"xml",transform:iW,properties:{xmlLang:null,xmlBase:null,xmlSpace:null}});function iW(t,e){return"xml:"+e.slice(3).toLowerCase()}var oW=sW;function sW(t,e){return e in t?t[e]:e}var aW=oW,UT=lW;function lW(t,e){return aW(t,e.toLowerCase())}var uW=k0,cW=UT,fW=uW({space:"xmlns",attributes:{xmlnsxlink:"xmlns:xlink"},transform:cW,properties:{xmlns:null,xmlnsXLink:null}}),M5=ho,dW=k0,Zn=M5.booleanish,Ir=M5.number,ka=M5.spaceSeparated,hW=dW({transform:pW,properties:{ariaActiveDescendant:null,ariaAtomic:Zn,ariaAutoComplete:null,ariaBusy:Zn,ariaChecked:Zn,ariaColCount:Ir,ariaColIndex:Ir,ariaColSpan:Ir,ariaControls:ka,ariaCurrent:null,ariaDescribedBy:ka,ariaDetails:null,ariaDisabled:Zn,ariaDropEffect:ka,ariaErrorMessage:null,ariaExpanded:Zn,ariaFlowTo:ka,ariaGrabbed:Zn,ariaHasPopup:null,ariaHidden:Zn,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:ka,ariaLevel:Ir,ariaLive:null,ariaModal:Zn,ariaMultiLine:Zn,ariaMultiSelectable:Zn,ariaOrientation:null,ariaOwns:ka,ariaPlaceholder:null,ariaPosInSet:Ir,ariaPressed:Zn,ariaReadOnly:Zn,ariaRelevant:null,ariaRequired:Zn,ariaRoleDescription:ka,ariaRowCount:Ir,ariaRowIndex:Ir,ariaRowSpan:Ir,ariaSelected:Zn,ariaSetSize:Ir,ariaSort:null,ariaValueMax:Ir,ariaValueMin:Ir,ariaValueNow:Ir,ariaValueText:null,role:null}});function pW(t,e){return e==="role"?e:"aria-"+e.slice(4).toLowerCase()}var Tc=ho,mW=k0,gW=UT,We=Tc.boolean,vW=Tc.overloadedBoolean,Kc=Tc.booleanish,yt=Tc.number,zn=Tc.spaceSeparated,ch=Tc.commaSeparated,yW=mW({space:"html",attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},transform:gW,mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:ch,acceptCharset:zn,accessKey:zn,action:null,allow:null,allowFullScreen:We,allowPaymentRequest:We,allowUserMedia:We,alt:null,as:null,async:We,autoCapitalize:null,autoComplete:zn,autoFocus:We,autoPlay:We,capture:We,charSet:null,checked:We,cite:null,className:zn,cols:yt,colSpan:null,content:null,contentEditable:Kc,controls:We,controlsList:zn,coords:yt|ch,crossOrigin:null,data:null,dateTime:null,decoding:null,default:We,defer:We,dir:null,dirName:null,disabled:We,download:vW,draggable:Kc,encType:null,enterKeyHint:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:We,formTarget:null,headers:zn,height:yt,hidden:We,high:yt,href:null,hrefLang:null,htmlFor:zn,httpEquiv:zn,id:null,imageSizes:null,imageSrcSet:ch,inputMode:null,integrity:null,is:null,isMap:We,itemId:null,itemProp:zn,itemRef:zn,itemScope:We,itemType:zn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:We,low:yt,manifest:null,max:null,maxLength:yt,media:null,method:null,min:null,minLength:yt,multiple:We,muted:We,name:null,nonce:null,noModule:We,noValidate:We,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforePrint:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextMenu:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:We,optimum:yt,pattern:null,ping:zn,placeholder:null,playsInline:We,poster:null,preload:null,readOnly:We,referrerPolicy:null,rel:zn,required:We,reversed:We,rows:yt,rowSpan:yt,sandbox:zn,scope:null,scoped:We,seamless:We,selected:We,shape:null,size:yt,sizes:null,slot:null,span:yt,spellCheck:Kc,src:null,srcDoc:null,srcLang:null,srcSet:ch,start:yt,step:null,style:null,tabIndex:yt,target:null,title:null,translate:null,type:null,typeMustMatch:We,useMap:null,value:Kc,width:yt,wrap:null,align:null,aLink:null,archive:zn,axis:null,background:null,bgColor:null,border:yt,borderColor:null,bottomMargin:yt,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:We,declare:We,event:null,face:null,frame:null,frameBorder:null,hSpace:yt,leftMargin:yt,link:null,longDesc:null,lowSrc:null,marginHeight:yt,marginWidth:yt,noResize:We,noHref:We,noShade:We,noWrap:We,object:null,profile:null,prompt:null,rev:null,rightMargin:yt,rules:null,scheme:null,scrolling:Kc,standby:null,summary:null,text:null,topMargin:yt,valueType:null,version:null,vAlign:null,vLink:null,vSpace:yt,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:We,disableRemotePlayback:We,prefix:null,property:null,results:yt,security:null,unselectable:null}}),xW=qq,wW=eW,bW=rW,SW=fW,kW=hW,_W=yW,EW=xW([bW,wW,SW,kW,_W]),CW=A5,TW=FT,AW=zT,N5="data",OW=RW,MW=/^data[-\w.:]+$/i,HT=/-[a-z]/g,NW=/[A-Z]/g;function RW(t,e){var n=CW(e),r=e,i=AW;return n in t.normal?t.property[t.normal[n]]:(n.length>4&&n.slice(0,4)===N5&&MW.test(e)&&(e.charAt(4)==="-"?r=DW(e):e=IW(e),i=TW),new i(r,e))}function DW(t){var e=t.slice(5).replace(HT,LW);return N5+e.charAt(0).toUpperCase()+e.slice(1)}function IW(t){var e=t.slice(4);return HT.test(e)?t:(e=e.replace(NW,PW),e.charAt(0)!=="-"&&(e="-"+e),N5+e)}function PW(t){return"-"+t.toLowerCase()}function LW(t){return t.charAt(1).toUpperCase()}var zW=BW,O7=/[#.]/g;function BW(t,e){for(var n=t||"",r=e||"div",i={},o=0,s,a,l;o<n.length;)O7.lastIndex=o,l=O7.exec(n),s=n.slice(o,l?l.index:n.length),s&&(a?a==="#"?i.id=s:i.className?i.className.push(s):i.className=[s]:r=s,o+=s.length),l&&(a=l[0],o++);return{type:"element",tagName:r,properties:i,children:[]}}var R5={};R5.parse=VW;R5.stringify=UW;var M7="",$W=" ",FW=/[ \t\n\r\f]+/g;function VW(t){var e=String(t||M7).trim();return e===M7?[]:e.split(FW)}function UW(t){return t.join($W).trim()}var D5={};D5.parse=HW;D5.stringify=jW;var M4=",",N7=" ",bf="";function HW(t){for(var e=[],n=String(t||bf),r=n.indexOf(M4),i=0,o=!1,s;!o;)r===-1&&(r=n.length,o=!0),s=n.slice(i,r).trim(),(s||!o)&&e.push(s),i=r+1,r=n.indexOf(M4,i);return e}function jW(t,e){var n=e||{},r=n.padLeft===!1?bf:N7,i=n.padRight?N7:bf;return t[t.length-1]===bf&&(t=t.concat(bf)),t.join(i+M4+r).trim()}var qW=OW,R7=A5,WW=zW,D7=R5.parse,I7=D5.parse,KW=YW,GW={}.hasOwnProperty;function YW(t,e,n){var r=n?eK(n):null;return i;function i(s,a){var l=WW(s,e),u=Array.prototype.slice.call(arguments,2),c=l.tagName.toLowerCase(),f;if(l.tagName=r&&GW.call(r,c)?r[c]:c,a&&XW(a,l)&&(u.unshift(a),a=null),a)for(f in a)o(l.properties,f,a[f]);return jT(l.children,u),l.tagName==="template"&&(l.content={type:"root",children:l.children},l.children=[]),l}function o(s,a,l){var u,c,f;l==null||l!==l||(u=qW(t,a),c=u.property,f=l,typeof f=="string"&&(u.spaceSeparated?f=D7(f):u.commaSeparated?f=I7(f):u.commaOrSpaceSeparated&&(f=D7(I7(f).join(" ")))),c==="style"&&typeof l!="string"&&(f=ZW(f)),c==="className"&&s.className&&(f=s.className.concat(f)),s[c]=QW(u,c,f))}}function XW(t,e){return typeof t=="string"||"length"in t||JW(e.tagName,t)}function JW(t,e){var n=e.type;return t==="input"||!n||typeof n!="string"?!1:typeof e.children=="object"&&"length"in e.children?!0:(n=n.toLowerCase(),t==="button"?n!=="menu"&&n!=="submit"&&n!=="reset"&&n!=="button":"value"in e)}function jT(t,e){var n,r;if(typeof e=="string"||typeof e=="number"){t.push({type:"text",value:String(e)});return}if(typeof e=="object"&&"length"in e){for(n=-1,r=e.length;++n<r;)jT(t,e[n]);return}if(typeof e!="object"||!("type"in e))throw new Error("Expected node, nodes, or string, got `"+e+"`");t.push(e)}function QW(t,e,n){var r,i,o;if(typeof n!="object"||!("length"in n))return P7(t,e,n);for(i=n.length,r=-1,o=[];++r<i;)o[r]=P7(t,e,n[r]);return o}function P7(t,e,n){var r=n;return t.number||t.positiveNumber?!isNaN(r)&&r!==""&&(r=Number(r)):(t.boolean||t.overloadedBoolean)&&typeof r=="string"&&(r===""||R7(n)===R7(e))&&(r=!0),r}function ZW(t){var e=[],n;for(n in t)e.push([n,t[n]].join(": "));return e.join("; ")}function eK(t){for(var e=t.length,n=-1,r={},i;++n<e;)i=t[n],r[i.toLowerCase()]=i;return r}var tK=EW,nK=KW,qT=nK(tK,"div");qT.displayName="html";var rK=qT;(function(t){t.exports=rK})(IT);const iK="\xC6",oK="&",sK="\xC1",aK="\xC2",lK="\xC0",uK="\xC5",cK="\xC3",fK="\xC4",dK="\xA9",hK="\xC7",pK="\xD0",mK="\xC9",gK="\xCA",vK="\xC8",yK="\xCB",xK=">",wK="\xCD",bK="\xCE",SK="\xCC",kK="\xCF",_K="<",EK="\xD1",CK="\xD3",TK="\xD4",AK="\xD2",OK="\xD8",MK="\xD5",NK="\xD6",RK='"',DK="\xAE",IK="\xDE",PK="\xDA",LK="\xDB",zK="\xD9",BK="\xDC",$K="\xDD",FK="\xE1",VK="\xE2",UK="\xB4",HK="\xE6",jK="\xE0",qK="&",WK="\xE5",KK="\xE3",GK="\xE4",YK="\xA6",XK="\xE7",JK="\xB8",QK="\xA2",ZK="\xA9",eG="\xA4",tG="\xB0",nG="\xF7",rG="\xE9",iG="\xEA",oG="\xE8",sG="\xF0",aG="\xEB",lG="\xBD",uG="\xBC",cG="\xBE",fG=">",dG="\xED",hG="\xEE",pG="\xA1",mG="\xEC",gG="\xBF",vG="\xEF",yG="\xAB",xG="<",wG="\xAF",bG="\xB5",SG="\xB7",kG="\xA0",_G="\xAC",EG="\xF1",CG="\xF3",TG="\xF4",AG="\xF2",OG="\xAA",MG="\xBA",NG="\xF8",RG="\xF5",DG="\xF6",IG="\xB6",PG="\xB1",LG="\xA3",zG='"',BG="\xBB",$G="\xAE",FG="\xA7",VG="\xAD",UG="\xB9",HG="\xB2",jG="\xB3",qG="\xDF",WG="\xFE",KG="\xD7",GG="\xFA",YG="\xFB",XG="\xF9",JG="\xA8",QG="\xFC",ZG="\xFD",eY="\xA5",tY="\xFF",nY={AElig:iK,AMP:oK,Aacute:sK,Acirc:aK,Agrave:lK,Aring:uK,Atilde:cK,Auml:fK,COPY:dK,Ccedil:hK,ETH:pK,Eacute:mK,Ecirc:gK,Egrave:vK,Euml:yK,GT:xK,Iacute:wK,Icirc:bK,Igrave:SK,Iuml:kK,LT:_K,Ntilde:EK,Oacute:CK,Ocirc:TK,Ograve:AK,Oslash:OK,Otilde:MK,Ouml:NK,QUOT:RK,REG:DK,THORN:IK,Uacute:PK,Ucirc:LK,Ugrave:zK,Uuml:BK,Yacute:$K,aacute:FK,acirc:VK,acute:UK,aelig:HK,agrave:jK,amp:qK,aring:WK,atilde:KK,auml:GK,brvbar:YK,ccedil:XK,cedil:JK,cent:QK,copy:ZK,curren:eG,deg:tG,divide:nG,eacute:rG,ecirc:iG,egrave:oG,eth:sG,euml:aG,frac12:lG,frac14:uG,frac34:cG,gt:fG,iacute:dG,icirc:hG,iexcl:pG,igrave:mG,iquest:gG,iuml:vG,laquo:yG,lt:xG,macr:wG,micro:bG,middot:SG,nbsp:kG,not:_G,ntilde:EG,oacute:CG,ocirc:TG,ograve:AG,ordf:OG,ordm:MG,oslash:NG,otilde:RG,ouml:DG,para:IG,plusmn:PG,pound:LG,quot:zG,raquo:BG,reg:$G,sect:FG,shy:VG,sup1:UG,sup2:HG,sup3:jG,szlig:qG,thorn:WG,times:KG,uacute:GG,ucirc:YG,ugrave:XG,uml:JG,uuml:QG,yacute:ZG,yen:eY,yuml:tY},rY={0:"\uFFFD",128:"\u20AC",130:"\u201A",131:"\u0192",132:"\u201E",133:"\u2026",134:"\u2020",135:"\u2021",136:"\u02C6",137:"\u2030",138:"\u0160",139:"\u2039",140:"\u0152",142:"\u017D",145:"\u2018",146:"\u2019",147:"\u201C",148:"\u201D",149:"\u2022",150:"\u2013",151:"\u2014",152:"\u02DC",153:"\u2122",154:"\u0161",155:"\u203A",156:"\u0153",158:"\u017E",159:"\u0178"};var WT=iY;function iY(t){var e=typeof t=="string"?t.charCodeAt(0):t;return e>=48&&e<=57}var oY=sY;function sY(t){var e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=102||e>=65&&e<=70||e>=48&&e<=57}var aY=lY;function lY(t){var e=typeof t=="string"?t.charCodeAt(0):t;return e>=97&&e<=122||e>=65&&e<=90}var uY=aY,cY=WT,fY=dY;function dY(t){return uY(t)||cY(t)}var fh,hY=59,pY=mY;function mY(t){var e="&"+t+";",n;return fh=fh||document.createElement("i"),fh.innerHTML=e,n=fh.textContent,n.charCodeAt(n.length-1)===hY&&t!=="semi"||n===e?!1:n}var L7=nY,z7=rY,gY=WT,vY=oY,KT=fY,yY=pY,xY=RY,wY={}.hasOwnProperty,Wl=String.fromCharCode,bY=Function.prototype,B7={warning:null,reference:null,text:null,warningContext:null,referenceContext:null,textContext:null,position:{},additional:null,attribute:!1,nonTerminated:!0},SY=9,$7=10,kY=12,_Y=32,F7=38,EY=59,CY=60,TY=61,AY=35,OY=88,MY=120,NY=65533,ru="named",I5="hexadecimal",P5="decimal",L5={};L5[I5]=16;L5[P5]=10;var L1={};L1[ru]=KT;L1[P5]=gY;L1[I5]=vY;var GT=1,YT=2,XT=3,JT=4,QT=5,N4=6,ZT=7,xa={};xa[GT]="Named character references must be terminated by a semicolon";xa[YT]="Numeric character references must be terminated by a semicolon";xa[XT]="Named character references cannot be empty";xa[JT]="Numeric character references cannot be empty";xa[QT]="Named character references must be known";xa[N4]="Numeric character references cannot be disallowed";xa[ZT]="Numeric character references cannot be outside the permissible Unicode range";function RY(t,e){var n={},r,i;e||(e={});for(i in B7)r=e[i],n[i]=r==null?B7[i]:r;return(n.position.indent||n.position.start)&&(n.indent=n.position.indent||[],n.position=n.position.start),DY(t,n)}function DY(t,e){var n=e.additional,r=e.nonTerminated,i=e.text,o=e.reference,s=e.warning,a=e.textContext,l=e.referenceContext,u=e.warningContext,c=e.position,f=e.indent||[],d=t.length,h=0,g=-1,y=c.column||1,S=c.line||1,v="",m=[],p,x,b,_,T,M,N,$,W,X,oe,H,K,q,A,O,L,P,R;for(typeof n=="string"&&(n=n.charCodeAt(0)),O=F(),$=s?V:bY,h--,d++;++h<d;)if(T===$7&&(y=f[g]||1),T=t.charCodeAt(h),T===F7){if(N=t.charCodeAt(h+1),N===SY||N===$7||N===kY||N===_Y||N===F7||N===CY||N!==N||n&&N===n){v+=Wl(T),y++;continue}for(K=h+1,H=K,R=K,N===AY?(R=++H,N=t.charCodeAt(R),N===OY||N===MY?(q=I5,R=++H):q=P5):q=ru,p="",oe="",_="",A=L1[q],R--;++R<d&&(N=t.charCodeAt(R),!!A(N));)_+=Wl(N),q===ru&&wY.call(L7,_)&&(p=_,oe=L7[_]);b=t.charCodeAt(R)===EY,b&&(R++,x=q===ru?yY(_):!1,x&&(p=_,oe=x)),P=1+R-K,!b&&!r||(_?q===ru?(b&&!oe?$(QT,1):(p!==_&&(R=H+p.length,P=1+R-H,b=!1),b||(W=p?GT:XT,e.attribute?(N=t.charCodeAt(R),N===TY?($(W,P),oe=null):KT(N)?oe=null:$(W,P)):$(W,P))),M=oe):(b||$(YT,P),M=parseInt(_,L5[q]),IY(M)?($(ZT,P),M=Wl(NY)):M in z7?($(N4,P),M=z7[M]):(X="",PY(M)&&$(N4,P),M>65535&&(M-=65536,X+=Wl(M>>>10|55296),M=56320|M&1023),M=X+Wl(M))):q!==ru&&$(JT,P)),M?(G(),O=F(),h=R-1,y+=R-K+1,m.push(M),L=F(),L.offset++,o&&o.call(l,M,{start:O,end:L},t.slice(K-1,R)),O=L):(_=t.slice(K-1,R),v+=_,y+=_.length,h=R-1)}else T===10&&(S++,g++,y=0),T===T?(v+=Wl(T),y++):G();return m.join("");function F(){return{line:S,column:y,offset:h+(c.offset||0)}}function V(Q,se){var ue=F();ue.column+=se,ue.offset+=se,s.call(u,xa[Q],ue,Q)}function G(){v&&(m.push(v),i&&i.call(a,v,{start:O,end:F()}),v="")}}function IY(t){return t>=55296&&t<=57343||t>1114111}function PY(t){return t>=1&&t<=8||t===11||t>=13&&t<=31||t>=127&&t<=159||t>=64976&&t<=65007||(t&65535)===65535||(t&65535)===65534}var eA={exports:{}};(function(t){var e=typeof window<"u"?window:typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope?self:{};/**
 * Prism: Lightweight, robust, elegant syntax highlighting
 *
 * @license MIT <https://opensource.org/licenses/MIT>
 * @author Lea Verou <https://lea.verou.me>
 * @namespace
 * @public
 */var n=function(r){var i=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,o=0,s={},a={manual:r.Prism&&r.Prism.manual,disableWorkerMessageHandler:r.Prism&&r.Prism.disableWorkerMessageHandler,util:{encode:function m(p){return p instanceof l?new l(p.type,m(p.content),p.alias):Array.isArray(p)?p.map(m):p.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(m){return Object.prototype.toString.call(m).slice(8,-1)},objId:function(m){return m.__id||Object.defineProperty(m,"__id",{value:++o}),m.__id},clone:function m(p,x){x=x||{};var b,_;switch(a.util.type(p)){case"Object":if(_=a.util.objId(p),x[_])return x[_];b={},x[_]=b;for(var T in p)p.hasOwnProperty(T)&&(b[T]=m(p[T],x));return b;case"Array":return _=a.util.objId(p),x[_]?x[_]:(b=[],x[_]=b,p.forEach(function(M,N){b[N]=m(M,x)}),b);default:return p}},getLanguage:function(m){for(;m;){var p=i.exec(m.className);if(p)return p[1].toLowerCase();m=m.parentElement}return"none"},setLanguage:function(m,p){m.className=m.className.replace(RegExp(i,"gi"),""),m.classList.add("language-"+p)},currentScript:function(){if(typeof document>"u")return null;if("currentScript"in document&&1<2)return document.currentScript;try{throw new Error}catch(b){var m=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(b.stack)||[])[1];if(m){var p=document.getElementsByTagName("script");for(var x in p)if(p[x].src==m)return p[x]}return null}},isActive:function(m,p,x){for(var b="no-"+p;m;){var _=m.classList;if(_.contains(p))return!0;if(_.contains(b))return!1;m=m.parentElement}return!!x}},languages:{plain:s,plaintext:s,text:s,txt:s,extend:function(m,p){var x=a.util.clone(a.languages[m]);for(var b in p)x[b]=p[b];return x},insertBefore:function(m,p,x,b){b=b||a.languages;var _=b[m],T={};for(var M in _)if(_.hasOwnProperty(M)){if(M==p)for(var N in x)x.hasOwnProperty(N)&&(T[N]=x[N]);x.hasOwnProperty(M)||(T[M]=_[M])}var $=b[m];return b[m]=T,a.languages.DFS(a.languages,function(W,X){X===$&&W!=m&&(this[W]=T)}),T},DFS:function m(p,x,b,_){_=_||{};var T=a.util.objId;for(var M in p)if(p.hasOwnProperty(M)){x.call(p,M,p[M],b||M);var N=p[M],$=a.util.type(N);$==="Object"&&!_[T(N)]?(_[T(N)]=!0,m(N,x,null,_)):$==="Array"&&!_[T(N)]&&(_[T(N)]=!0,m(N,x,M,_))}}},plugins:{},highlightAll:function(m,p){a.highlightAllUnder(document,m,p)},highlightAllUnder:function(m,p,x){var b={callback:x,container:m,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};a.hooks.run("before-highlightall",b),b.elements=Array.prototype.slice.apply(b.container.querySelectorAll(b.selector)),a.hooks.run("before-all-elements-highlight",b);for(var _=0,T;T=b.elements[_++];)a.highlightElement(T,p===!0,b.callback)},highlightElement:function(m,p,x){var b=a.util.getLanguage(m),_=a.languages[b];a.util.setLanguage(m,b);var T=m.parentElement;T&&T.nodeName.toLowerCase()==="pre"&&a.util.setLanguage(T,b);var M=m.textContent,N={element:m,language:b,grammar:_,code:M};function $(X){N.highlightedCode=X,a.hooks.run("before-insert",N),N.element.innerHTML=N.highlightedCode,a.hooks.run("after-highlight",N),a.hooks.run("complete",N),x&&x.call(N.element)}if(a.hooks.run("before-sanity-check",N),T=N.element.parentElement,T&&T.nodeName.toLowerCase()==="pre"&&!T.hasAttribute("tabindex")&&T.setAttribute("tabindex","0"),!N.code){a.hooks.run("complete",N),x&&x.call(N.element);return}if(a.hooks.run("before-highlight",N),!N.grammar){$(a.util.encode(N.code));return}if(p&&r.Worker){var W=new Worker(a.filename);W.onmessage=function(X){$(X.data)},W.postMessage(JSON.stringify({language:N.language,code:N.code,immediateClose:!0}))}else $(a.highlight(N.code,N.grammar,N.language))},highlight:function(m,p,x){var b={code:m,grammar:p,language:x};if(a.hooks.run("before-tokenize",b),!b.grammar)throw new Error('The language "'+b.language+'" has no grammar.');return b.tokens=a.tokenize(b.code,b.grammar),a.hooks.run("after-tokenize",b),l.stringify(a.util.encode(b.tokens),b.language)},tokenize:function(m,p){var x=p.rest;if(x){for(var b in x)p[b]=x[b];delete p.rest}var _=new f;return d(_,_.head,m),c(m,_,p,_.head,0),g(_)},hooks:{all:{},add:function(m,p){var x=a.hooks.all;x[m]=x[m]||[],x[m].push(p)},run:function(m,p){var x=a.hooks.all[m];if(!(!x||!x.length))for(var b=0,_;_=x[b++];)_(p)}},Token:l};r.Prism=a;function l(m,p,x,b){this.type=m,this.content=p,this.alias=x,this.length=(b||"").length|0}l.stringify=function m(p,x){if(typeof p=="string")return p;if(Array.isArray(p)){var b="";return p.forEach(function($){b+=m($,x)}),b}var _={type:p.type,content:m(p.content,x),tag:"span",classes:["token",p.type],attributes:{},language:x},T=p.alias;T&&(Array.isArray(T)?Array.prototype.push.apply(_.classes,T):_.classes.push(T)),a.hooks.run("wrap",_);var M="";for(var N in _.attributes)M+=" "+N+'="'+(_.attributes[N]||"").replace(/"/g,"&quot;")+'"';return"<"+_.tag+' class="'+_.classes.join(" ")+'"'+M+">"+_.content+"</"+_.tag+">"};function u(m,p,x,b){m.lastIndex=p;var _=m.exec(x);if(_&&b&&_[1]){var T=_[1].length;_.index+=T,_[0]=_[0].slice(T)}return _}function c(m,p,x,b,_,T){for(var M in x)if(!(!x.hasOwnProperty(M)||!x[M])){var N=x[M];N=Array.isArray(N)?N:[N];for(var $=0;$<N.length;++$){if(T&&T.cause==M+","+$)return;var W=N[$],X=W.inside,oe=!!W.lookbehind,H=!!W.greedy,K=W.alias;if(H&&!W.pattern.global){var q=W.pattern.toString().match(/[imsuy]*$/)[0];W.pattern=RegExp(W.pattern.source,q+"g")}for(var A=W.pattern||W,O=b.next,L=_;O!==p.tail&&!(T&&L>=T.reach);L+=O.value.length,O=O.next){var P=O.value;if(p.length>m.length)return;if(!(P instanceof l)){var R=1,F;if(H){if(F=u(A,L,m,oe),!F||F.index>=m.length)break;var se=F.index,V=F.index+F[0].length,G=L;for(G+=O.value.length;se>=G;)O=O.next,G+=O.value.length;if(G-=O.value.length,L=G,O.value instanceof l)continue;for(var Q=O;Q!==p.tail&&(G<V||typeof Q.value=="string");Q=Q.next)R++,G+=Q.value.length;R--,P=m.slice(L,G),F.index-=L}else if(F=u(A,0,P,oe),!F)continue;var se=F.index,ue=F[0],J=P.slice(0,se),xe=P.slice(se+ue.length),Be=L+P.length;T&&Be>T.reach&&(T.reach=Be);var it=O.prev;J&&(it=d(p,it,J),L+=J.length),h(p,it,R);var $e=new l(M,X?a.tokenize(ue,X):ue,K,ue);if(O=d(p,it,$e),xe&&d(p,O,xe),R>1){var Ae={cause:M+","+$,reach:Be};c(m,p,x,O.prev,L,Ae),T&&Ae.reach>T.reach&&(T.reach=Ae.reach)}}}}}}function f(){var m={value:null,prev:null,next:null},p={value:null,prev:m,next:null};m.next=p,this.head=m,this.tail=p,this.length=0}function d(m,p,x){var b=p.next,_={value:x,prev:p,next:b};return p.next=_,b.prev=_,m.length++,_}function h(m,p,x){for(var b=p.next,_=0;_<x&&b!==m.tail;_++)b=b.next;p.next=b,b.prev=p,m.length-=_}function g(m){for(var p=[],x=m.head.next;x!==m.tail;)p.push(x.value),x=x.next;return p}if(!r.document)return r.addEventListener&&(a.disableWorkerMessageHandler||r.addEventListener("message",function(m){var p=JSON.parse(m.data),x=p.language,b=p.code,_=p.immediateClose;r.postMessage(a.highlight(b,a.languages[x],x)),_&&r.close()},!1)),a;var y=a.util.currentScript();y&&(a.filename=y.src,y.hasAttribute("data-manual")&&(a.manual=!0));function S(){a.manual||a.highlightAll()}if(!a.manual){var v=document.readyState;v==="loading"||v==="interactive"&&y&&y.defer?document.addEventListener("DOMContentLoaded",S):window.requestAnimationFrame?window.requestAnimationFrame(S):window.setTimeout(S,16)}return a}(e);t.exports&&(t.exports=n),typeof tt<"u"&&(tt.Prism=n)})(eA);var tA=z5;z5.displayName="markup";z5.aliases=["html","mathml","svg","xml","ssml","atom","rss"];function z5(t){t.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},t.languages.markup.tag.inside["attr-value"].inside.entity=t.languages.markup.entity,t.languages.markup.doctype.inside["internal-subset"].inside=t.languages.markup,t.hooks.add("wrap",function(e){e.type==="entity"&&(e.attributes.title=e.content.value.replace(/&amp;/,"&"))}),Object.defineProperty(t.languages.markup.tag,"addInlined",{value:function(n,r){var i={};i["language-"+r]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:t.languages[r]},i.cdata=/^<!\[CDATA\[|\]\]>$/i;var o={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:i}};o["language-"+r]={pattern:/[\s\S]+/,inside:t.languages[r]};var s={};s[n]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return n}),"i"),lookbehind:!0,greedy:!0,inside:o},t.languages.insertBefore("markup","cdata",s)}}),Object.defineProperty(t.languages.markup.tag,"addAttribute",{value:function(e,n){t.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+e+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[n,"language-"+n],inside:t.languages[n]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),t.languages.html=t.languages.markup,t.languages.mathml=t.languages.markup,t.languages.svg=t.languages.markup,t.languages.xml=t.languages.extend("markup",{}),t.languages.ssml=t.languages.xml,t.languages.atom=t.languages.xml,t.languages.rss=t.languages.xml}var nA=B5;B5.displayName="css";B5.aliases=[];function B5(t){(function(e){var n=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;e.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-](?:[^;{\s]|\s+(?![\s{]))*(?:;|(?=\s*\{))/,inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+n.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+n.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+n.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:n,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},e.languages.css.atrule.inside.rest=e.languages.css;var r=e.languages.markup;r&&(r.tag.addInlined("style","css"),r.tag.addAttribute("style","css"))})(t)}var LY=$5;$5.displayName="clike";$5.aliases=[];function $5(t){t.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/}}var zY=F5;F5.displayName="javascript";F5.aliases=["js"];function F5(t){t.languages.javascript=t.languages.extend("clike",{"class-name":[t.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),t.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,t.languages.insertBefore("javascript","keyword",{regex:{pattern:/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)\/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/,lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:t.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:t.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:t.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:t.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:t.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),t.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:t.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),t.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),t.languages.markup&&(t.languages.markup.tag.addInlined("script","javascript"),t.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),t.languages.js=t.languages.javascript}var Sf=typeof globalThis=="object"?globalThis:typeof self=="object"?self:typeof window=="object"?window:typeof tt=="object"?tt:{},BY=ZY();Sf.Prism={manual:!0,disableWorkerMessageHandler:!0};var $Y=IT.exports,FY=xY,rA=eA.exports,VY=tA,UY=nA,HY=LY,jY=zY;BY();var V5={}.hasOwnProperty;function iA(){}iA.prototype=rA;var Gt=new iA,U5=Gt;Gt.highlight=WY;Gt.register=_0;Gt.alias=qY;Gt.registered=KY;Gt.listLanguages=GY;_0(VY);_0(UY);_0(HY);_0(jY);Gt.util.encode=JY;Gt.Token.stringify=YY;function _0(t){if(typeof t!="function"||!t.displayName)throw new Error("Expected `function` for `grammar`, got `"+t+"`");Gt.languages[t.displayName]===void 0&&t(Gt)}function qY(t,e){var n=Gt.languages,r=t,i,o,s,a;e&&(r={},r[t]=e);for(i in r)for(o=r[i],o=typeof o=="string"?[o]:o,s=o.length,a=-1;++a<s;)n[o[a]]=n[i]}function WY(t,e){var n=rA.highlight,r;if(typeof t!="string")throw new Error("Expected `string` for `value`, got `"+t+"`");if(Gt.util.type(e)==="Object")r=e,e=null;else{if(typeof e!="string")throw new Error("Expected `string` for `name`, got `"+e+"`");if(V5.call(Gt.languages,e))r=Gt.languages[e];else throw new Error("Unknown language: `"+e+"` is not registered")}return n.call(this,t,r,e)}function KY(t){if(typeof t!="string")throw new Error("Expected `string` for `language`, got `"+t+"`");return V5.call(Gt.languages,t)}function GY(){var t=Gt.languages,e=[],n;for(n in t)V5.call(t,n)&&typeof t[n]=="object"&&e.push(n);return e}function YY(t,e,n){var r;return typeof t=="string"?{type:"text",value:t}:Gt.util.type(t)==="Array"?XY(t,e):(r={type:t.type,content:Gt.Token.stringify(t.content,e,n),tag:"span",classes:["token",t.type],attributes:{},language:e,parent:n},t.alias&&(r.classes=r.classes.concat(t.alias)),Gt.hooks.run("wrap",r),$Y(r.tag+"."+r.classes.join("."),QY(r.attributes),r.content))}function XY(t,e){for(var n=[],r=t.length,i=-1,o;++i<r;)o=t[i],o!==""&&o!==null&&o!==void 0&&n.push(o);for(i=-1,r=n.length;++i<r;)o=n[i],n[i]=Gt.Token.stringify(o,e,n);return n}function JY(t){return t}function QY(t){var e;for(e in t)t[e]=FY(t[e]);return t}function ZY(){var t="Prism"in Sf,e=t?Sf.Prism:void 0;return n;function n(){t?Sf.Prism=e:delete Sf.Prism,t=void 0,e=void 0}}var oA=Object.defineProperty,eX=Object.getOwnPropertyDescriptor,tX=(t,e,n)=>e in t?oA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,es=(t,e,n,r)=>{for(var i=r>1?void 0:r?eX(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&oA(e,n,i),i},nX=(t,e,n)=>(tX(t,typeof e!="symbol"?e+"":e,n),n),sA=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},us=(t,e,n)=>(sA(t,e,"read from private field"),n?n.call(t):e.get(t)),pv=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},mv=(t,e,n,r)=>(sA(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),aA="data-code-block-language";function lA(t,e,n=[]){return t.map(r=>{const i=[...n];return r.type==="element"&&r.properties.className?i.push(...r.properties.className):r.type==="text"&&i.length===0&&e&&i.push(e),r.type==="element"?lA(r.children,e,i):{text:r.value,classes:i}})}function rX(t,e){var n,r;const{node:i,pos:o}=t,s=cm({language:(n=i.attrs.language)==null?void 0:n.replace("language-",""),fallback:"markup"}),a=U5.highlight((r=i.textContent)!=null?r:"",s),l=lA(a,e);let u=o+1;function c(f){const d=u,h=d+f.text.length;return u=h,{...f,from:d,to:h}}return AE(l).map(c)}function V7(t){const{blocks:e,skipLast:n,plainTextClassName:r}=t,i=[];for(const o of e){const s=rX(o,r),a=n?s.length-1:s.length;for(const l of j3(a)){const u=s[l],c=u==null?void 0:u.classes;if(!u||!(c!=null&&c.length))continue;const f=mt.inline(u.from,u.to,{class:c.join(" ")});i.push(f)}}return i}function iX(t){return!!(t&&pn(t)&&Ne(t.language)&&t.language.length>0)}function oX(t){return e=>({state:{tr:n,selection:r},dispatch:i})=>{if(!iX(e))throw new Error("Invalid attrs passed to the updateAttributes method");const o=sa({types:t,selection:r});return!o||cz(e,o.node.attrs)?!1:(n.setNodeMarkup(o.pos,t,{...o.node.attrs,...e}),i&&i(n),!0)}}function cm(t){const{language:e,fallback:n}=t;if(!e)return n;const r=U5.listLanguages();for(const i of r)if(i.toLowerCase()===e.toLowerCase())return i;return n}function sX(t,e){const{language:n,wrap:r}=c5(t.attrs,e),{style:i,...o}=e.dom(t);let s=o.style;r&&(s=UV({whiteSpace:"pre-wrap",wordBreak:"break-all"},s));const a={spellcheck:"false",...o,class:Yp(o.class,`language-${n}`)};return["pre",a,["code",{[aA]:n,style:s},0]]}function aX(t){return({pos:e}=we())=>({tr:n,dispatch:r})=>{const{type:i,formatter:o,defaultLanguage:s}=t,{from:a,to:l}=e?{from:e,to:e}:n.selection,u=sa({types:i,selection:n.selection});if(!u)return!1;const{node:{attrs:c,textContent:f},start:d}=u,h=a-d,g=l-d,y=cm({language:c.language,fallback:s}),S=o({source:f,language:y,cursorOffset:h});let v;if(h!==g&&(v=o({source:f,language:y,cursorOffset:g})),!S)return!1;const{cursorOffset:m,formatted:p}=S;if(p===f)return!1;const x=d+f.length;n.insertText(p,d,x);const b=d+m,_=v?d+v.cursorOffset:void 0;return n.setSelection(Ce.between(n.doc.resolve(b),n.doc.resolve(_!=null?_:b))),r&&r(n),!0}}function lX(t){var e,n;return(n=(e=t.getAttribute(aA))!=null?e:t.classList[0])==null?void 0:n.replace("language-","")}var{DESCRIPTION:uX,LABEL:cX}=BB,fX={icon:"bracesLine",description:({t})=>t(uX),label:({t})=>t(cX)},La,kf,_f,dX=class{constructor(t,e){pv(this,La,void 0),pv(this,kf,void 0),pv(this,_f,!1),nX(this,"decorationSet"),mv(this,kf,t),mv(this,La,e)}init(t){const e=QV({node:t.doc,type:us(this,kf)});return this.refreshDecorationSet(t.doc,e),this}refreshDecorationSet(t,e){var n;const r=V7({blocks:e,skipLast:us(this,_f),defaultLanguage:us(this,La).options.defaultLanguage,plainTextClassName:(n=us(this,La).options.plainTextClassName)!=null?n:void 0});this.decorationSet=rt.create(t,r)}apply(t,e){if(!t.docChanged)return this;this.decorationSet=this.decorationSet.map(t.mapping,t.doc);const n=ZV(t,{descend:!0,predicate:r=>r.type===us(this,kf),StepTypes:[]});return this.updateDecorationSet(t,n),this}updateDecorationSet(t,e){var n;if(e.length===0)return;let r=this.decorationSet;for(const{node:i,pos:o}of e)r=this.decorationSet.remove(this.decorationSet.find(o,o+i.nodeSize));this.decorationSet=r.add(t.doc,V7({blocks:e,skipLast:us(this,_f),defaultLanguage:us(this,La).options.defaultLanguage,plainTextClassName:(n=us(this,La).options.plainTextClassName)!=null?n:void 0}))}setDeleted(t){mv(this,_f,t)}};La=new WeakMap;kf=new WeakMap;_f=new WeakMap;var Ri=class extends Xn{get name(){return"codeBlock"}createTags(){return[De.Block,De.Code]}init(){this.registerLanguages()}createNodeSpec(t,e){var n;const r=/highlight-(?:text|source)-([\da-z]+)/;return{content:"text*",marks:"",defining:!0,isolating:!0,draggable:!1,...e,code:!0,attrs:{...t.defaults(),language:{default:this.options.defaultLanguage},wrap:{default:this.options.defaultWrap}},parseDOM:[{tag:"div.highlight",preserveWhitespace:"full",getAttrs:i=>{var o,s;if(!Ft(i))return!1;const a=i.querySelector("pre.code");if(!Ft(a))return!1;const l=Hi(a,"white-space")==="pre-wrap",u=(s=(o=i.className.match(r))==null?void 0:o[1])==null?void 0:s.replace("language-","");return{...t.parse(i),language:u,wrap:l}}},{tag:"pre",preserveWhitespace:"full",getAttrs:i=>{if(!Ft(i))return!1;const o=i.querySelector("code");if(!Ft(o))return!1;const s=Hi(o,"white-space")==="pre-wrap",a=this.options.getLanguageFromDom(o,i);return{...t.parse(i),language:a,wrap:s}}},...(n=e.parseDOM)!=null?n:[]],toDOM:i=>sX(i,t)}}createAttributes(){return{class:aq[this.options.syntaxTheme.toUpperCase()]}}createInputRules(){const t=/^```([\dA-Za-z]*) $/,e=n=>({language:cm({language:Pu(n,1),fallback:this.options.defaultLanguage})});return[d5({regexp:t,type:this.type,beforeDispatch:({tr:n,start:r})=>{const i=n.doc.resolve(r);n.setSelection(Ce.near(i))},getAttributes:e})]}onSetOptions(t){const{changes:e}=t;e.supportedLanguages.changed&&this.registerLanguages(),e.syntaxTheme.changed&&this.store.updateAttributes()}createPlugin(){const t=new dX(this.type,this),e=()=>(t.setDeleted(!0),!1);return{state:{init(n,r){return t.init(r)},apply(n,r,i,o){return t.apply(n,o)}},props:{handleKeyDown:m5({Backspace:e,"Mod-Backspace":e,Delete:e,"Mod-Delete":e,"Ctrl-h":e,"Alt-Backspace":e,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e}),decorations(){return t.setDeleted(!1),t.decorationSet}}}}toggleCodeBlock(t={}){return f5({type:this.type,toggleType:this.options.toggleName,attrs:{language:this.options.defaultLanguage,...t}})}createCodeBlock(t){return Dd(this.type,t)}updateCodeBlock(t){return oX(this.type)(t)}formatCodeBlock(t){return aX({type:this.type,formatter:this.options.formatter,defaultLanguage:this.options.defaultLanguage})(t)}tabKey({state:t,dispatch:e}){const{selection:n,tr:r,schema:i}=t,{node:o}=pV(n);if(!T1({node:o,types:this.type}))return!1;if(n.empty)r.insertText("	");else{const{from:s,to:a}=n;r.replaceWith(s,a,i.text("	"))}return e&&e(r),!0}backspaceKey({dispatch:t,tr:e,state:n}){if(!e.selection.empty)return!1;const r=sa({types:this.type,selection:e.selection});if((r==null?void 0:r.start)!==e.selection.from)return!1;const{pos:i,node:o,start:s}=r,a=kt(n.schema.nodes,this.options.toggleName);return o.textContent.trim()===""?e.doc.lastChild===o&&e.doc.firstChild===o?dV({pos:i,tr:e,content:a.create()}):fV({pos:i,tr:e}):s>2?e.setSelection(Ce.near(e.doc.resolve(s-2))):(e.insert(0,a.create()),e.setSelection(Ce.near(e.doc.resolve(1)))),t&&t(e),!0}enterKey({dispatch:t,tr:e}){if(!(ya(e.selection)&&e.selection.empty))return!1;const{nodeBefore:n,parent:r}=e.selection.$anchor;if(!n||!n.isText||!r.type.isTextblock)return!1;const i=/^```([A-Za-z]*)?$/,{text:o,nodeSize:s}=n,{textContent:a}=r;if(!o)return!1;const l=o.match(i),u=a.match(i);if(!l||!u)return!1;const[,c]=l,f=cm({language:c,fallback:this.options.defaultLanguage}),d=e.selection.$from.before(),h=d+s+1;return e.replaceWith(d,h,this.type.create({language:f})),e.setSelection(Ce.near(e.doc.resolve(d+1))),t&&t(e),!0}formatShortcut({tr:t}){const e=this.store.commands;if(!GC({type:this.type,state:t}))return!1;const n=e.formatCodeBlock.isEnabled();return n&&e.formatCodeBlock(),n}registerLanguages(){for(const t of this.options.supportedLanguages)U5.register(t)}};es([pe(fX)],Ri.prototype,"toggleCodeBlock",1);es([pe()],Ri.prototype,"createCodeBlock",1);es([pe()],Ri.prototype,"updateCodeBlock",1);es([pe()],Ri.prototype,"formatCodeBlock",1);es([an({shortcut:"Tab"})],Ri.prototype,"tabKey",1);es([an({shortcut:"Backspace"})],Ri.prototype,"backspaceKey",1);es([an({shortcut:"Enter"})],Ri.prototype,"enterKey",1);es([an({shortcut:ie.Format})],Ri.prototype,"formatShortcut",1);Ri=es([Xe({defaultOptions:{supportedLanguages:[],toggleName:"paragraph",formatter:({source:t})=>({cursorOffset:0,formatted:t}),syntaxTheme:"a11y_dark",defaultLanguage:"markup",defaultWrap:!1,plainTextClassName:"",getLanguageFromDom:lX},staticKeys:["getLanguageFromDom"]})],Ri);var fm=200,En=function(){};En.prototype.append=function(e){return e.length?(e=En.from(e),!this.length&&e||e.length<fm&&this.leafAppend(e)||this.length<fm&&e.leafPrepend(this)||this.appendInner(e)):this};En.prototype.prepend=function(e){return e.length?En.from(e).append(this):this};En.prototype.appendInner=function(e){return new hX(this,e)};En.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?En.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};En.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};En.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};En.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};En.from=function(e){return e instanceof En?e:e&&e.length?new uA(e):En.empty};var uA=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,a){for(var l=o;l<s;l++)if(i(this.values[l],a+l)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,a){for(var l=o-1;l>=s;l--)if(i(this.values[l],a+l)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=fm)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=fm)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(En);En.empty=new uA([]);var hX=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var a=this.left.length;if(i<a&&this.left.forEachInner(r,i,Math.min(o,a),s)===!1||o>a&&this.right.forEachInner(r,Math.max(i-a,0),Math.min(this.length,o)-a,s+a)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var a=this.left.length;if(i>a&&this.right.forEachInvertedInner(r,i-a,Math.max(o,a)-a,s+a)===!1||o<a&&this.left.forEachInvertedInner(r,Math.min(i,a),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(En),cA=En;const pX=500;class yi{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,a,l,u=[],c=[];return this.items.forEach((f,d)=>{if(!f.step){i||(i=this.remapping(r,d+1),o=i.maps.length),o--,c.push(f);return}if(i){c.push(new ji(f.map));let h=f.step.map(i.slice(o)),g;h&&s.maybeStep(h).doc&&(g=s.mapping.maps[s.mapping.maps.length-1],u.push(new ji(g,void 0,void 0,u.length+c.length))),o--,g&&i.appendMap(g,o)}else s.maybeStep(f.step);if(f.selection)return a=i?f.selection.map(i.slice(o)):f.selection,l=new yi(this.items.slice(0,r).append(c.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:l,transform:s,selection:a}}addTransform(e,n,r,i){let o=[],s=this.eventCount,a=this.items,l=!i&&a.length?a.get(a.length-1):null;for(let c=0;c<e.steps.length;c++){let f=e.steps[c].invert(e.docs[c]),d=new ji(e.mapping.maps[c],f,n),h;(h=l&&l.merge(d))&&(d=h,c?o.pop():a=a.slice(0,a.length-1)),o.push(d),n&&(s++,n=void 0),i||(l=d)}let u=s-r.depth;return u>gX&&(a=mX(a,u),s-=u),new yi(a.append(o),s)}remapping(e,n){let r=new Nu;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new yi(this.items.append(e.map(n=>new ji(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,a=this.eventCount;this.items.forEach(d=>{d.selection&&a--},i);let l=n;this.items.forEach(d=>{let h=o.getMirror(--l);if(h==null)return;s=Math.min(s,h);let g=o.maps[h];if(d.step){let y=e.steps[h].invert(e.docs[h]),S=d.selection&&d.selection.map(o.slice(l+1,h));S&&a++,r.push(new ji(g,y,S))}else r.push(new ji(g))},i);let u=[];for(let d=n;d<s;d++)u.push(new ji(o.maps[d]));let c=this.items.slice(0,i).append(u).append(r),f=new yi(c,a);return f.emptyItemCount()>pX&&(f=f.compress(this.items.length-r.length)),f}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,a)=>{if(a>=e)i.push(s),s.selection&&o++;else if(s.step){let l=s.step.map(n.slice(r)),u=l&&l.getMap();if(r--,u&&n.appendMap(u,r),l){let c=s.selection&&s.selection.map(n.slice(r));c&&o++;let f=new ji(u.invert(),l,c),d,h=i.length-1;(d=i.length&&i[h].merge(f))?i[h]=d:i.push(f)}}else s.map&&r--},this.items.length,0),new yi(cA.from(i.reverse()),o)}}yi.empty=new yi(cA.empty,0);function mX(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class ji{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new ji(n.getMap().invert(),n,this.selection)}}}class bs{constructor(e,n,r,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i}}const gX=20;function vX(t,e,n,r){let i=n.getMeta(io),o;if(i)return i.historyState;n.getMeta(xX)&&(t=new bs(t.done,t.undone,null,0));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(io))return s.getMeta(io).redo?new bs(t.done.addTransform(n,void 0,r,up(e)),t.undone,U7(n.mapping.maps[n.steps.length-1]),t.prevTime):new bs(t.done,t.undone.addTransform(n,void 0,r,up(e)),null,t.prevTime);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let a=t.prevTime==0||!s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!yX(n,t.prevRanges)),l=s?gv(t.prevRanges,n.mapping):U7(n.mapping.maps[n.steps.length-1]);return new bs(t.done.addTransform(n,a?e.selection.getBookmark():void 0,r,up(e)),yi.empty,l,n.time)}else return(o=n.getMeta("rebased"))?new bs(t.done.rebased(n,o),t.undone.rebased(n,o),gv(t.prevRanges,n.mapping),t.prevTime):new bs(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),gv(t.prevRanges,n.mapping),t.prevTime)}function yX(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function U7(t){let e=[];return t.forEach((n,r,i,o)=>e.push(i,o)),e}function gv(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function fA(t,e,n,r){let i=up(e),o=io.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,i);if(!s)return;let a=s.selection.resolve(s.transform.doc),l=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),u=new bs(r?l:s.remaining,r?s.remaining:l,null,0);n(s.transform.setSelection(a).setMeta(io,{redo:r,historyState:u}).scrollIntoView())}let vv=!1,H7=null;function up(t){let e=t.plugins;if(H7!=e){vv=!1,H7=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){vv=!0;break}}return vv}const io=new Pl("history"),xX=new Pl("closeHistory");function wX(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new fo({key:io,state:{init(){return new bs(yi.empty,yi.empty,null,0)},apply(e,n,r){return vX(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?cp:r=="historyRedo"?Ef:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const cp=(t,e)=>{let n=io.getState(t);return!n||n.done.eventCount==0?!1:(e&&fA(n,t,e,!1),!0)},Ef=(t,e)=>{let n=io.getState(t);return!n||n.undone.eventCount==0?!1:(e&&fA(n,t,e,!0),!0)};function R4(t){let e=io.getState(t);return e?e.done.eventCount:0}function bX(t){let e=io.getState(t);return e?e.undone.eventCount:0}var dA=Object.defineProperty,SX=Object.getOwnPropertyDescriptor,kX=(t,e,n)=>e in t?dA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,hA=(t,e,n,r)=>{for(var i=r>1?void 0:r?SX(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&dA(e,n,i),i},dh=(t,e,n)=>(kX(t,typeof e!="symbol"?e+"":e,n),n),Bd=class extends Xn{get name(){return"doc"}createNodeSpec(t,e){const{docAttributes:n,content:r}=this.options,i=we();if(Il(n))for(const[o,s]of on(n))i[o]={default:s};else for(const o of n)i[o]={default:null};return{attrs:i,content:r,...e}}setDocAttributes(t){return({tr:e,dispatch:n})=>{if(n){for(const[r,i]of Object.entries(t))e.step(new $d(r,i));n(e)}return!0}}};hA([pe()],Bd.prototype,"setDocAttributes",1);Bd=hA([Xe({defaultOptions:{content:"block+",docAttributes:[]},defaultPriority:lt.Medium,staticKeys:["content","docAttributes"],disableExtraAttributes:!0})],Bd);var pA="SetDocAttribute",mA="RevertSetDocAttribute",$d=class extends Tn{constructor(t,e,n=pA){super(),dh(this,"key"),dh(this,"stepType"),dh(this,"value"),dh(this,"previous"),this.stepType=n,this.key=t,this.value=e}static fromJSON(t,e){return new $d(e.key,e.value,e.stepType)}apply(t){this.previous=t.attrs[this.key];const e={...t.attrs,[this.key]:this.value};return Kt.ok(t.type.create(e,t.content,t.marks))}invert(){return new $d(this.key,this.previous,mA)}map(){return this}toJSON(){return{stepType:this.stepType,key:this.key,value:this.value}}};try{Tn.jsonID(pA,$d),Tn.jsonID(mA,$d)}catch(t){if(!t.message.startsWith("Duplicate use of step JSON ID"))throw t}var _X=Object.defineProperty,EX=(t,e,n)=>e in t?_X(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,dm=(t,e,n)=>(EX(t,typeof e!="symbol"?e+"":e,n),n),gA=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},nt=(t,e,n)=>(gA(t,e,"read from private field"),n?n.call(t):e.get(t)),iu=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},vs=(t,e,n,r)=>(gA(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),CX='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="22" height="22" fill="rgba(0, 0, 0, 0.65)" stroke="rgba(255, 255, 255, 0.5)" transform="rotate(90)" xmlns:v="https://vecta.io/nano"><path fill-rule="evenodd" d="M14 0a2 2 0 0 0-2 2v10H2a2 2 0 1 0 0 4h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/></svg>',TX='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 18 18" width="22" height="22" fill="rgba(0, 0, 0, 0.65)" stroke="rgba(255, 255, 255, 0.5)" transform="matrix(0 1 1 0 0 0)" xmlns:v="https://vecta.io/nano"><path fill-rule="evenodd" d="M14 0a2 2 0 0 0-2 2v10H2a2 2 0 1 0 0 4h12a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2z"/></svg>',AX=encodeURIComponent(CX),OX=encodeURIComponent(TX),tr,MX=class{constructor(t){dm(this,"dom"),iu(this,tr,void 0),dm(this,"type");const e=document.createElement("div"),n=document.createElement("div");this.dom=e,vs(this,tr,n),this.type=t,this.createHandle(t)}createHandle(t){switch(Nn(this.dom,{position:"absolute",pointerEvents:"auto",display:"flex",alignItems:"center",justifyContent:"center",zIndex:"100"}),Nn(nt(this,tr),{opacity:"0",transition:"opacity 300ms ease-in 0s"}),nt(this,tr).dataset.dragging="",t){case 0:Nn(this.dom,{right:"0px",top:"0px",height:"100%",width:"15px",cursor:"col-resize"}),Nn(nt(this,tr),{width:" 4px",height:"36px",maxHeight:"50%",boxSizing:"content-box",background:"rgba(0, 0, 0, 0.65)",border:"1px solid rgba(255, 255, 255, 0.5)",borderRadius:"6px"});break;case 1:Nn(this.dom,{left:"0px",top:"0px",height:"100%",width:"15px",cursor:"col-resize"}),Nn(nt(this,tr),{width:" 4px",height:"36px",maxHeight:"50%",boxSizing:"content-box",background:"rgba(0, 0, 0, 0.65)",border:"1px solid rgba(255, 255, 255, 0.5)",borderRadius:"6px"});break;case 2:Nn(this.dom,{bottom:"0px",width:"100%",height:"14px",cursor:"row-resize"}),Nn(nt(this,tr),{width:" 42px",height:"4px",boxSizing:"content-box",maxWidth:"50%",background:"rgba(0, 0, 0, 0.65)",border:"1px solid rgba(255, 255, 255, 0.5)",borderRadius:"6px"});break;case 3:Nn(this.dom,{right:"-1px",bottom:"-2px",width:"30px",height:"30px",cursor:"nwse-resize",zIndex:"101"}),Nn(nt(this,tr),{height:"22px",width:"22px",backgroundRepeat:"no-repeat",backgroundImage:`url("data:image/svg+xml,${OX}") `});break;case 4:Nn(this.dom,{left:"-1px",bottom:"-2px",width:"30px",height:"30px",cursor:"nesw-resize",zIndex:"101"}),Nn(nt(this,tr),{height:"22px",width:"22px",backgroundRepeat:"no-repeat",backgroundImage:`url("data:image/svg+xml,${AX}") `});break}this.dom.append(nt(this,tr))}setHandleVisibility(t){const e=t||!!nt(this,tr).dataset.dragging;nt(this,tr).style.opacity=e?"1":"0"}dataSetDragging(t){nt(this,tr).dataset.dragging=t?"true":""}};tr=new WeakMap;var hh=50,vA=(t=>(t[t.Fixed=0]="Fixed",t[t.Flexible=1]="Flexible",t))(vA||{}),za,Ba,$a,ko,Fa,NX=class{constructor({node:t,view:e,getPos:n,aspectRatio:r=0,options:i,initialSize:o}){dm(this,"dom"),iu(this,za,void 0),iu(this,Ba,void 0),iu(this,$a,[]),dm(this,"aspectRatio"),iu(this,ko,void 0),iu(this,Fa,void 0);const s=this.createWrapper(t,o),a=this.createElement({node:t,view:e,getPos:n,options:i}),u=(r===1?[0,1,2,3,4]:[0,1]).map(d=>new MX(d));for(const d of u){const h=g=>{this.startResizing(g,e,n,d)};d.dom.addEventListener("mousedown",h),nt(this,$a).push(()=>d.dom.removeEventListener("mousedown",h)),s.append(d.dom)}const c=()=>{u.forEach(d=>d.setHandleVisibility(!0))},f=()=>{u.forEach(d=>d.setHandleVisibility(!1))};s.addEventListener("mouseover",c),s.addEventListener("mouseout",f),nt(this,$a).push(()=>s.removeEventListener("mouseover",c),()=>s.removeEventListener("mouseout",f)),s.append(a),this.dom=s,vs(this,Ba,t),vs(this,za,a),this.aspectRatio=r}createWrapper(t,e){const n=document.createElement("div");return n.classList.add("remirror-resizable-view"),n.style.position="relative",e?Nn(n,{width:j7(e.width),aspectRatio:`${e.width} / ${e.height}`}):Nn(n,{width:j7(t.attrs.width),aspectRatio:`${t.attrs.width} / ${t.attrs.height}`}),Nn(n,{maxWidth:"100%",minWidth:`${hh}px`,verticalAlign:"bottom",display:"inline-block",lineHeight:"0",transition:"width 0.15s ease-out, height 0.15s ease-out"}),n}startResizing(t,e,n,r){var i,o;t.preventDefault(),r.dataSetDragging(!0),nt(this,za).style.pointerEvents="none";const s=t.pageX,a=t.pageY,l=((i=nt(this,za))==null?void 0:i.getBoundingClientRect().width)||0,u=((o=nt(this,za))==null?void 0:o.getBoundingClientRect().height)||0,c=i4(100,!1,d=>{const h=d.pageX,g=d.pageY,y=h-s,S=g-a;let v=null,m=null;if(this.aspectRatio===0&&l&&u)switch(r.type){case 0:case 3:v=l+y,m=u/l*v;break;case 1:case 4:v=l-y,m=u/l*v;break;case 2:m=u+S,v=l/u*m;break}else if(this.aspectRatio===1)switch(r.type){case 0:v=l+y;break;case 1:v=l-y;break;case 2:m=u+S;break;case 3:v=l+y,m=u+S;break;case 4:v=l-y,m=u+S;break}typeof v=="number"&&v<hh&&(this.aspectRatio===0&&l&&u?(v=hh,m=u/l*v):this.aspectRatio===1&&(v=hh)),v&&(vs(this,ko,Math.round(v)),this.dom.style.width=`${nt(this,ko)}px`),m&&vs(this,Fa,Math.round(m)),(v||m)&&(this.dom.style.aspectRatio=`${nt(this,ko)} / ${nt(this,Fa)}`)}),f=d=>{d.preventDefault(),r.dataSetDragging(!1),r.setHandleVisibility(!1),nt(this,za).style.pointerEvents="auto",document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",f);const h=n(),g=e.state.tr.setNodeMarkup(h,void 0,{...nt(this,Ba).attrs,width:nt(this,ko),height:nt(this,Fa)});e.dispatch(g)};document.addEventListener("mousemove",c),document.addEventListener("mouseup",f),nt(this,$a).push(()=>document.removeEventListener("mousemove",c)),nt(this,$a).push(()=>document.removeEventListener("mouseup",f))}update(t){return t.type!==nt(this,Ba).type||this.aspectRatio===0&&t.attrs.width&&t.attrs.width!==nt(this,ko)||this.aspectRatio===1&&t.attrs.width&&t.attrs.height&&t.attrs.width!==nt(this,ko)&&t.attrs.height!==nt(this,Fa)||!RX(nt(this,Ba),t,["width","height"])?!1:(vs(this,Ba,t),vs(this,ko,t.attrs.width),vs(this,Fa,t.attrs.height),!0)}destroy(){nt(this,$a).forEach(t=>t())}};za=new WeakMap;Ba=new WeakMap;$a=new WeakMap;ko=new WeakMap;Fa=new WeakMap;function RX(t,e,n){return t===e||DX(t,e,n)&&t.content.eq(e.content)}function DX(t,e,n){const r=t.attrs,i=e.attrs,o={};for(const a of n)o[a]=null;t.attrs={...r,...o},e.attrs={...i,...o};const s=t.sameMarkup(e);return t.attrs=r,e.attrs=i,s}function j7(t){return typeof t=="number"?`${t}px`:t||void 0}function IX(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function q7(t,e){if(t==null)return{};var n=IX(t,e),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(i=0;i<o.length;i++)r=o[i],!(e.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(t,r)||(n[r]=t[r]))}return n}var yA=Object.defineProperty,PX=Object.getOwnPropertyDescriptor,LX=(t,e,n)=>e in t?yA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,xA=(t,e,n,r)=>{for(var i=r>1?void 0:r?PX(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&yA(e,n,i),i},yv=(t,e,n)=>(LX(t,typeof e!="symbol"?e+"":e,n),n);function zX(t,e,n,r){const i=t.docView.posFromDOM(e,n,r);return i===null||i<0?null:i}function BX(t,e){var n;const r=e.target;if(r){const i=zX(t,r,0);if(i!==null){const o=t.state.doc.resolve(i),s=o.node().isLeaf?0:1,a=o.start()-s;return{pos:i,inside:a}}}return(n=t.posAtCoords({left:e.clientX,top:e.clientY}))!=null?n:void 0}var Fd=class extends _t{constructor(){super(...arguments),yv(this,"mousedown",!1),yv(this,"mouseover",!1),yv(this,"createMouseEventHandler",t=>(e,n)=>{const r=n,i=BX(e,r);if(!i)return!1;const o=[],s=[],{inside:a}=i;if(a===-1)return!1;const l=e.state.doc.resolve(a),u=l.depth+1;for(const c of j3(u,1))o.push({node:c>l.depth&&l.nodeAfter?l.nodeAfter:l.node(c),pos:l.before(c)});for(const{type:c}of l.marks()){const f=ro(l,c);f&&s.push(f)}return t(r,{view:e,nodes:o,marks:s,getMark:c=>{const f=Ne(c)?e.state.schema.marks[c]:c;return be(f,{code:re.EXTENSION,message:`The mark ${c} being checked does not exist within the editor schema.`}),s.find(d=>d.mark.type===f)},getNode:c=>{var f;const d=Ne(c)?e.state.schema.nodes[c]:c;be(d,{code:re.EXTENSION,message:"The node being checked does not exist"});const h=o.find(({node:g})=>g.type===d);if(!!h)return{...h,isRoot:!!((f=o[0])!=null&&f.node.eq(h.node))}}})})}get name(){return"events"}onView(){var t,e;if(!((t=this.store.managerSettings.exclude)!=null&&t.clickHandler))for(const n of this.store.extensions){if(!n.createEventHandlers||((e=n.options.exclude)==null?void 0:e.clickHandler))continue;const r=n.createEventHandlers();for(const[i,o]of on(r))this.addHandler(i,o)}}createPlugin(){const t=new WeakMap,e=(n,r,i,o,s,a,l,u)=>{const c=this.store.currentState,{schema:f,doc:d}=c,h=d.resolve(o),g=t.has(l),y=$X({$pos:h,handled:g,view:i,state:c});let S=!1;g||(S=n(l,y)||S);const v={...y,pos:o,direct:u,nodeWithPosition:{node:s,pos:a},getNode:m=>{const p=Ne(m)?f.nodes[m]:m;return be(p,{code:re.EXTENSION,message:"The node being checked does not exist"}),p===s.type?{node:s,pos:a}:void 0}};return t.set(l,!0),r(l,v)||S};return{props:{handleKeyPress:(n,r)=>this.options.keypress(r)||!1,handleKeyDown:(n,r)=>this.options.keydown(r)||!1,handleTextInput:(n,r,i,o)=>this.options.textInput({from:r,to:i,text:o})||!1,handleClickOn:(n,r,i,o,s,a)=>e(this.options.clickMark,this.options.click,n,r,i,o,s,a),handleDoubleClickOn:(n,r,i,o,s,a)=>e(this.options.doubleClickMark,this.options.doubleClick,n,r,i,o,s,a),handleTripleClickOn:(n,r,i,o,s,a)=>e(this.options.tripleClickMark,this.options.tripleClick,n,r,i,o,s,a),handleDOMEvents:{focus:(n,r)=>this.options.focus(r)||!1,blur:(n,r)=>this.options.blur(r)||!1,mousedown:(n,r)=>(this.startMouseover(),this.options.mousedown(r)||!1),mouseup:(n,r)=>(this.endMouseover(),this.options.mouseup(r)||!1),mouseleave:(n,r)=>(this.mouseover=!1,this.options.mouseleave(r)||!1),mouseenter:(n,r)=>(this.mouseover=!0,this.options.mouseenter(r)||!1),keyup:(n,r)=>this.options.keyup(r)||!1,mouseout:this.createMouseEventHandler((n,r)=>{const i={...r,hovering:!1};return this.options.hover(n,i)||!1}),mouseover:this.createMouseEventHandler((n,r)=>{const i={...r,hovering:!0};return this.options.hover(n,i)||!1}),contextmenu:this.createMouseEventHandler((n,r)=>this.options.contextmenu(n,r)||!1),scroll:(n,r)=>this.options.scroll(r)||!1,copy:(n,r)=>this.options.copy(r)||!1,paste:(n,r)=>this.options.paste(r)||!1}}}}isInteracting(){return this.mousedown&&this.mouseover}startMouseover(){this.mouseover=!0,!this.mousedown&&(this.mousedown=!0,this.store.document.documentElement.addEventListener("mouseup",()=>{this.endMouseover()},{once:!0}))}endMouseover(){!this.mousedown||(this.mousedown=!1,this.store.commands.emptyUpdate())}};xA([Lt()],Fd.prototype,"isInteracting",1);Fd=xA([Xe({handlerKeys:["blur","focus","mousedown","mouseup","mouseenter","mouseleave","textInput","keypress","keyup","keydown","click","clickMark","doubleClick","doubleClickMark","tripleClick","tripleClickMark","contextmenu","hover","scroll","copy","paste"],handlerKeyOptions:{blur:{earlyReturnValue:!0},focus:{earlyReturnValue:!0},mousedown:{earlyReturnValue:!0},mouseleave:{earlyReturnValue:!0},mouseup:{earlyReturnValue:!0},click:{earlyReturnValue:!0},doubleClick:{earlyReturnValue:!0},tripleClick:{earlyReturnValue:!0},hover:{earlyReturnValue:!0},contextmenu:{earlyReturnValue:!0},scroll:{earlyReturnValue:!0},copy:{earlyReturnValue:!0},paste:{earlyReturnValue:!0}},defaultPriority:lt.High})],Fd);function $X(t){const{handled:e,view:n,$pos:r,state:i}=t,o={getMark:OE,markRanges:[],view:n,state:i};if(e)return o;for(const{type:s}of r.marks()){const a=ro(r,s);a&&o.markRanges.push(a)}return o.getMark=s=>{const a=Ne(s)?i.schema.marks[s]:s;return be(a,{code:re.EXTENSION,message:`The mark ${s} being checked does not exist within the editor schema.`}),o.markRanges.find(l=>l.mark.type===a)},o}class Mt extends Ke{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return Mt.valid(r)?new Mt(r):Ke.near(r)}content(){return fe.empty}eq(e){return e instanceof Mt&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Mt(e.resolve(n.pos))}getBookmark(){return new H5(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!FX(e)||!VX(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&Mt.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let a=e.node(s);if(n>0?e.indexAfter(s)<a.childCount:e.index(s)>0){o=a.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let l=e.doc.resolve(i);if(Mt.valid(l))return l}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!Te.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let a=e.doc.resolve(i);if(Mt.valid(a))return a}return null}}}Mt.prototype.visible=!1;Mt.findFrom=Mt.findGapCursorFrom;Ke.jsonID("gapcursor",Mt);class H5{constructor(e){this.pos=e}map(e){return new H5(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return Mt.valid(n)?new Mt(n):Ke.near(n)}}function FX(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function VX(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function UX(){return new fo({props:{decorations:WX,createSelectionBetween(t,e,n){return e.pos==n.pos&&Mt.valid(n)?new Mt(n):null},handleClick:jX,handleKeyDown:HX,handleDOMEvents:{beforeinput:qX}}})}const HX=m5({ArrowLeft:ph("horiz",-1),ArrowRight:ph("horiz",1),ArrowUp:ph("vert",-1),ArrowDown:ph("vert",1)});function ph(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,a=e>0?s.$to:s.$from,l=s.empty;if(s instanceof Ce){if(!o.endOfTextblock(n)||a.depth==0)return!1;l=!1,a=r.doc.resolve(e>0?a.after():a.before())}let u=Mt.findGapCursorFrom(a,e,l);return u?(i&&i(r.tr.setSelection(new Mt(u))),!0):!1}}function jX(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!Mt.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&Te.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Mt(r))),!0)}function qX(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Mt))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=Y.empty;for(let s=r.length-1;s>=0;s--)i=Y.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new fe(i,0,0));return o.setSelection(Ce.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function WX(t){if(!(t.selection instanceof Mt))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",rt.create(t.doc,[mt.widget(t.selection.head,e,{key:"gapcursor"})])}var KX=Object.defineProperty,GX=Object.getOwnPropertyDescriptor,YX=(t,e,n,r)=>{for(var i=r>1?void 0:r?GX(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&KX(e,n,i),i},D4=class extends _t{get name(){return"gapCursor"}createExternalPlugins(){return[UX()]}};D4=YX([Xe({})],D4);iz(Mt);var XX=Object.defineProperty,JX=Object.getOwnPropertyDescriptor,wA=(t,e,n,r)=>{for(var i=r>1?void 0:r?JX(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&XX(e,n,i),i},{LABEL:QX}=HB,ZX={icon:({attrs:t})=>{var e;return`h${(e=t==null?void 0:t.level)!=null?e:"1"}`},label:({t,attrs:e})=>t(QX,{level:e==null?void 0:e.level})},eJ=[ie.H1,ie.H2,ie.H3,ie.H4,ie.H5,ie.H6],hm=class extends Xn{get name(){return"heading"}createTags(){return[De.Block,De.TextBlock,De.FormattingNode]}createNodeSpec(t,e){var n;return{content:"inline*",defining:!0,draggable:!1,...e,attrs:{...t.defaults(),level:{default:this.options.defaultLevel}},parseDOM:[...this.options.levels.map(r=>({tag:`h${r}`,getAttrs:i=>({...t.parse(i),level:r})})),...(n=e.parseDOM)!=null?n:[]],toDOM:r=>this.options.levels.includes(r.attrs.level)?[`h${r.attrs.level}`,t.dom(r),0]:[`h${this.options.defaultLevel}`,t.dom(r),0]}}toggleHeading(t={}){return f5({type:this.type,toggleType:"paragraph",attrs:t})}createKeymap(t){var e;const n=this.store.getExtension(Ge),r=we(),i=[];for(const o of this.options.levels){const s=(e=eJ[o-1])!=null?e:ie.H1;r[s]=Dd(this.type,{level:o}),i.push({attrs:{level:o},shortcut:t(s)[0]})}return n.updateDecorated("toggleHeading",{shortcut:i}),r}createInputRules(){return this.options.levels.map(t=>f$(new RegExp(`^(#{1,${t}})\\s$`),this.type,()=>({level:t})))}createPasteRules(){return this.options.levels.map(t=>({type:"node",nodeType:this.type,regexp:new RegExp(`^#{${t}}\\s([\\s\\w]+)$`),getAttributes:()=>({level:t}),startOfTextBlock:!0}))}};wA([pe(ZX)],hm.prototype,"toggleHeading",1);hm=wA([Xe({defaultOptions:{levels:[1,2,3,4,5,6],defaultLevel:1},staticKeys:["defaultLevel","levels"]})],hm);var bA=Object.defineProperty,tJ=Object.getOwnPropertyDescriptor,nJ=(t,e,n)=>e in t?bA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zl=(t,e,n,r)=>{for(var i=r>1?void 0:r?tJ(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&bA(e,n,i),i},rJ=(t,e,n)=>(nJ(t,typeof e!="symbol"?e+"":e,n),n),lo=class extends _t{constructor(){super(...arguments),rJ(this,"wrapMethod",(t,e)=>({state:n,dispatch:r,view:i})=>{const{getState:o,getDispatch:s}=this.options,a=at(o)?o():n,l=at(s)&&r?s():r,u=t(a,l,i);return e==null||e(u),u})}get name(){return"history"}createKeymap(){return{"Mod-y":gi.isMac?()=>!1:this.wrapMethod(Ef,this.options.onRedo),"Mod-z":this.wrapMethod(cp,this.options.onUndo),"Shift-Mod-z":this.wrapMethod(Ef,this.options.onRedo)}}undoShortcut(t){return this.wrapMethod(cp,this.options.onUndo)(t)}redoShortcut(t){return this.wrapMethod(Ef,this.options.onRedo)(t)}createExternalPlugins(){const{depth:t,newGroupDelay:e}=this.options;return[wX({depth:t,newGroupDelay:e})]}undo(){return l7(this.wrapMethod(cp,this.options.onUndo))}redo(){return l7(this.wrapMethod(Ef,this.options.onRedo))}undoDepth(t=this.store.getState()){return R4(t)}redoDepth(t=this.store.getState()){return bX(t)}};zl([an({shortcut:ie.Undo,command:"undo"})],lo.prototype,"undoShortcut",1);zl([an({shortcut:ie.Redo,command:"redo"})],lo.prototype,"redoShortcut",1);zl([pe({disableChaining:!0,description:({t})=>t(tm.UNDO_DESCRIPTION),label:({t})=>t(tm.UNDO_LABEL),icon:"arrowGoBackFill"})],lo.prototype,"undo",1);zl([pe({disableChaining:!0,description:({t})=>t(tm.REDO_DESCRIPTION),label:({t})=>t(tm.REDO_LABEL),icon:"arrowGoForwardFill"})],lo.prototype,"redo",1);zl([Lt()],lo.prototype,"undoDepth",1);zl([Lt()],lo.prototype,"redoDepth",1);lo=zl([Xe({defaultOptions:{depth:100,newGroupDelay:500,getDispatch:void 0,getState:void 0},staticKeys:["depth","newGroupDelay"],handlerKeys:["onUndo","onRedo"]})],lo);var iJ=Object.defineProperty,oJ=Object.getOwnPropertyDescriptor,SA=(t,e,n,r)=>{for(var i=r>1?void 0:r?oJ(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&iJ(e,n,i),i},sJ={icon:"separator",label:({t})=>t(bb.LABEL),description:({t})=>t(bb.DESCRIPTION)},pm=class extends Xn{get name(){return"horizontalRule"}createTags(){return[De.Block]}createNodeSpec(t,e){var n;return{...e,attrs:t.defaults(),parseDOM:[{tag:"hr",getAttrs:t.parse},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>["hr",t.dom(r)]}}insertHorizontalRule(){return t=>{const{tr:e,dispatch:n}=t,r=e.selection.$anchor,i=r.parent;return i.type.name==="doc"||i.isAtom||i.isLeaf?!1:(n&&(e.selection.empty&&O1(i)&&e.insert(r.pos+1,i),e.replaceSelectionWith(this.type.create()),this.updateFromNodeSelection(e),n(e.scrollIntoView())),!0)}}createInputRules(){return[d5({regexp:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type,beforeDispatch:({tr:t})=>{this.updateFromNodeSelection(t)}})]}updateFromNodeSelection(t){if(!w0(t.selection)||t.selection.node.type.name!==this.name)return;const e=t.selection.$from.pos+1,{insertionNode:n}=this.options;if(!n)return;const r=this.store.schema.nodes[n];be(r,{code:re.EXTENSION,message:`'${n}' node provided as the insertionNode to the '${this.constructorName}' does not exist.`});const i=r.create();t.insert(e,i),t.setSelection(Ce.near(t.doc.resolve(e+1)))}};SA([pe(sJ)],pm.prototype,"insertHorizontalRule",1);pm=SA([Xe({defaultOptions:{insertionNode:"paragraph"}})],pm);var aJ=Object.defineProperty,lJ=Object.getOwnPropertyDescriptor,j5=(t,e,n,r)=>{for(var i=r>1?void 0:r?lJ(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&aJ(e,n,i),i},uJ=class extends NX{constructor(t,e,n){super({node:t,view:e,getPos:n,aspectRatio:vA.Fixed})}createElement({node:t}){const e=document.createElement("img");return e.setAttribute("src",t.attrs.src),Nn(e,{width:"100%",minWidth:"50px",objectFit:"contain"}),e}},Vd=class extends Xn{get name(){return"image"}createTags(){return[De.InlineNode,De.Media]}createNodeSpec(t,e){var n;const{preferPastedTextContent:r}=this.options;return{inline:!0,draggable:!0,selectable:!1,...e,attrs:{...t.defaults(),alt:{default:""},crop:{default:null},height:{default:null},width:{default:null},rotate:{default:null},src:{default:null},title:{default:""},fileName:{default:null},resizable:{default:!1}},parseDOM:[{tag:"img[src]",getAttrs:i=>{var o;if(Ft(i)){const s=fJ({element:i,parse:t.parse});return r&&((o=s.src)==null?void 0:o.startsWith("file:///"))?!1:s}return{}}},...(n=e.parseDOM)!=null?n:[]],toDOM:i=>{const o=c5(i.attrs,t);return["img",{...t.dom(i),...o}]}}}insertImage(t,e){return({tr:n,dispatch:r})=>{const{from:i,to:o}=Yr(e!=null?e:n.selection,n.doc),s=this.type.create(t);return r==null||r(n.replaceRangeWith(i,o,s)),!0}}uploadImage(t,e){const{updatePlaceholder:n,destroyPlaceholder:r,createPlaceholder:i}=this.options;return o=>{const{tr:s}=o;let a=s.selection.from;return this.store.createPlaceholderCommand({promise:t,placeholder:{type:"widget",get pos(){return a},createElement:(l,u)=>{const c=i(l,u);return e==null||e(c),c},onUpdate:(l,u,c,f)=>{n(l,u,c,f)},onDestroy:(l,u)=>{r(l,u)}},onSuccess:(l,u,c)=>this.insertImage(l,u)(c)}).validate(({tr:l,dispatch:u})=>{const c=eC(l.doc,a,this.type);return c==null?!1:(a=c,l.selection.empty||u==null||u(l.deleteSelection()),!0)},"unshift").generateCommand()(o)}}fileUploadFileHandler(t,e){var n;const{preferPastedTextContent:r,uploadHandler:i}=this.options;if(r&&pJ(e)&&((n=e.clipboardData)==null?void 0:n.getData("text/plain")))return!1;const{commands:o,chain:s}=this.store,a=t.map((u,c)=>({file:u,progress:f=>{o.updatePlaceholder(l[c],f)}})),l=i(a);for(const u of l)s.uploadImage(u);return s.run(),!0}createPasteRules(){return[{type:"file",regexp:/image/i,fileHandler:({files:t,event:e})=>this.fileUploadFileHandler(t,e)}]}createNodeViews(){return this.options.enableResizing?(t,e,n)=>new uJ(t,e,n):{}}};j5([pe()],Vd.prototype,"insertImage",1);j5([pe()],Vd.prototype,"uploadImage",1);Vd=j5([Xe({defaultOptions:{createPlaceholder:dJ,updatePlaceholder:()=>{},destroyPlaceholder:()=>{},uploadHandler:hJ,enableResizing:!1,preferPastedTextContent:!0}})],Vd);function cJ(t){let{width:e,height:n}=t.style;return e=e||t.getAttribute("width")||"",n=n||t.getAttribute("height")||"",{width:e,height:n}}function fJ({element:t,parse:e}){var n,r,i,o;const{width:s,height:a}=cJ(t);return{...e(t),alt:(n=t.getAttribute("alt"))!=null?n:"",height:Number.parseInt(a||"0",10)||null,src:(r=t.getAttribute("src"))!=null?r:null,title:(i=t.getAttribute("title"))!=null?i:"",width:Number.parseInt(s||"0",10)||null,fileName:(o=t.getAttribute("data-file-name"))!=null?o:null}}function dJ(t,e){const n=document.createElement("div");return n.classList.add(uq.IMAGE_LOADER),n}function hJ(t){be(t.length>0,{code:re.EXTENSION,message:"The upload handler was applied for the image extension without any valid files"});let e=0;const n=[];for(const{file:r,progress:i}of t)n.push(()=>new Promise(o=>{const s=new FileReader;s.addEventListener("load",a=>{var l;e+=1,i(e/t.length),o({src:(l=a.target)==null?void 0:l.result,fileName:r.name})},{once:!0}),s.readAsDataURL(r)}));return n}function pJ(t){return t.clipboardData!==void 0}var mJ=Object.defineProperty,gJ=Object.getOwnPropertyDescriptor,q5=(t,e,n,r)=>{for(var i=r>1?void 0:r?gJ(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&mJ(e,n,i),i},vJ={icon:"italic",label:({t})=>t(Sb.LABEL),description:({t})=>t(Sb.DESCRIPTION)},Ud=class extends Cc{get name(){return"italic"}createTags(){return[De.FontStyle,De.FormattingMark]}createMarkSpec(t,e){var n;return{...e,attrs:t.defaults(),parseDOM:[{tag:"i",getAttrs:t.parse},{tag:"em",getAttrs:t.parse},{style:"font-style=italic"},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>["em",t.dom(r),0]}}createKeymap(){return{"Mod-i":bl({type:this.type})}}createInputRules(){return[Id({regexp:/(?:^|[^*])\*([^*]+)\*$/,type:this.type,ignoreWhitespace:!0,updateCaptured:({fullMatch:t,start:e})=>t.startsWith("*")?{}:{fullMatch:t.slice(1),start:e+1}}),Id({regexp:/(?:^|\W)_([^_]+)_$/,type:this.type,ignoreWhitespace:!0,updateCaptured:({fullMatch:t,start:e})=>t.startsWith("_")?{}:{fullMatch:t.slice(1),start:e+1}})]}createPasteRules(){return[{type:"mark",markType:this.type,regexp:/(?:^|\W)_([^_]+)_/g},{type:"mark",markType:this.type,regexp:/\*([^*]+)\*/g}]}toggleItalic(t){return bl({type:this.type,selection:t})}shortcut(t){return this.toggleItalic()(t)}};q5([pe(vJ)],Ud.prototype,"toggleItalic",1);q5([an({shortcut:ie.Italic,command:"toggleItalic"})],Ud.prototype,"shortcut",1);Ud=q5([Xe({})],Ud);var kA={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(typeof self<"u"?self:tt,function(){return function(n){function r(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,r),s.l=!0,s.exports}var i={};return r.m=n,r.c=i,r.d=function(o,s,a){r.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},r.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return r.d(s,"a",s),s},r.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},r.p="",r(r.s=0)}([function(n,r,i){function o(){throw new TypeError("The given URL is not a string. Please verify your string|array.")}function s(u){typeof u!="string"&&o();for(var c=0,f=0,d=0,h=u.length,g=0;h--&&++g&&!(c&&-1<a.indexOf(u[g]));)u[g]==="."&&(++c,f=g);for(c=g,g=f;g--;)if(l.indexOf(u[g])!==-1){d=g+1;break}return 2>d?"":u.slice(d,c)}var a=["/",":","?","#"],l=[".","/","@"];n.exports=function(u){if(typeof u=="string")return s(u);if(Array.isArray(u)){var c=[],f,d=0;for(f=u.length;d<f;d++)c.push(s(u[d]));return c}o()}}])})})(kA);const yJ=q2(kA.exports);var _A=Object.defineProperty,xJ=Object.getOwnPropertyDescriptor,wJ=(t,e,n)=>e in t?_A(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,E0=(t,e,n,r)=>{for(var i=r>1?void 0:r?xJ(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&_A(e,n,i),i},bJ=(t,e,n)=>(wJ(t,typeof e!="symbol"?e+"":e,n),n),SJ=["com","de","net","org","uk","cn","ga","nl","cf","ml","tk","ru","br","gq","xyz","fr","eu","info","co","au","ca","it","in","ch","pl","es","online","us","top","be","jp","biz","se","at","dk","cz","za","me","ir","icu","shop","kr","site","mx","hu","io","cc","club","no","cyou"],W7="updateLink",kJ=/(?:(?:(?:https?|ftp):)?\/\/)?(?:\S+(?::\S*)?@)?(?:(?:[\da-z\u00A1-\uFFFF][\w\u00A1-\uFFFF-]{0,62})?[\da-z\u00A1-\uFFFF]\.)*(?:(?:\d(?!\.)|[a-z\u00A1-\uFFFF])(?:[\da-z\u00A1-\uFFFF][\w\u00A1-\uFFFF-]{0,62})?[\da-z\u00A1-\uFFFF]\.)+[a-z\u00A1-\uFFFF]{2,}(?::\d{2,5})?(?:[#/?]\S*)?/gi,kl=class extends Cc{constructor(){super(...arguments),bJ(this,"_autoLinkRegexNonGlobal")}get name(){return"link"}createTags(){return[De.Link,De.ExcludeInputRules]}createMarkSpec(t,e){var n;const r="data-link-auto",i=o=>{const{defaultTarget:s,supportedTargets:a}=this.options,l=s?[...a,s]:a;return o&&Oi(l,o)?{target:o}:void 0};return{inclusive:!1,excludes:"_",...e,attrs:{...t.defaults(),href:{},target:{default:this.options.defaultTarget},auto:{default:!1}},parseDOM:[{tag:"a[href]",getAttrs:o=>{if(!Ft(o))return!1;const s=o.getAttribute("href"),a=o.textContent,l=this.options.autoLink&&(o.hasAttribute(r)||s===a||(s==null?void 0:s.replace(`${this.options.defaultProtocol}//`,""))===a);return{...t.parse(o),href:s,auto:l,...i(o.getAttribute("target"))}}},...(n=e.parseDOM)!=null?n:[]],toDOM:o=>{const{auto:s,target:a,...l}=c5(o.attrs,t),u=o.attrs.auto?{[r]:""}:{},c="noopener noreferrer nofollow",f={...t.dom(o),...l,rel:c,...u,...i(o.attrs.target)};return["a",f,0]}}}onCreate(){const{autoLinkRegex:t}=this.options;this._autoLinkRegexNonGlobal=new RegExp(`^${t.source}$`,t.flags.replace("g",""))}shortcut({tr:t}){let e="",{from:n,to:r,empty:i,$from:o}=t.selection,s=!1;const a=ro(o,this.type);if(i){const l=a!=null?a:tT(t);if(!l)return!1;({text:e,from:n,to:r}=l),s=!0}return n===r?!1:(s||(e=t.doc.textBetween(n,r)),this.options.onActivateLink(e),this.options.onShortcut({activeLink:a?{attrs:a.mark.attrs,from:a.from,to:a.to}:void 0,selectedText:e,from:n,to:r}),!0)}updateLink(t,e){return n=>{const{tr:r}=n;return!(ya(r.selection)&&!a5(r.selection)||EV(r.selection)||am({trState:r,type:this.type}))&&!e?!1:(r.setMeta(this.name,{command:W7,attrs:t,range:e}),WV({type:this.type,attrs:t,range:e})(n))}}selectLink(){return this.store.commands.selectMark.original(this.type)}removeLink(t){return e=>{const{tr:n}=e;return am({trState:n,type:this.type,...t})?lT({type:this.type,expand:!0,range:t})(e):!1}}createPasteRules(){return[{type:"mark",regexp:this.options.autoLinkRegex,markType:this.type,getAttributes:(t,e)=>({href:this.buildHref(Pu(t)),auto:!e}),transformMatch:t=>{const e=Pu(t);return!e||!this.isValidUrl(e)?!1:e}}]}createEventHandlers(){return{clickMark:(t,e)=>{const n=e.getMark(this.type);if(!n)return;const r=n.mark.attrs,i={...r,...n};if(this.options.onClick(t,i))return!0;let o=!1;if(this.options.openLinkOnClick){o=!0;const s=r.href;window.open(s,"_blank")}return this.options.selectTextOnClick&&(o=!0,this.store.commands.selectText(n)),o}}}createPlugin(){return{props:{handleClick:(t,e)=>{if(!this.options.selectTextOnClick&&!this.options.openLinkOnClick)return!1;const{doc:n,tr:r}=t.state,i=ro(n.resolve(e),this.type);if(!i)return!1;if(this.options.openLinkOnClick){const o=i.mark.attrs.href;window.open(o,"_blank")}if(this.options.selectTextOnClick){const o=n.resolve(i.from),s=n.resolve(i.to),a=r.setSelection(Ce.between(o,s));t.dispatch(a)}return!0}},appendTransaction:(t,e,n)=>{if(t.filter(h=>!!h.getMeta(this.name)).forEach(h=>{const g=h.getMeta(this.name);if(g.command===W7){const{range:y,attrs:S}=g,{selection:v,doc:m}=n,p={range:y,selection:v,doc:m,attrs:S},{from:x,to:b}=y!=null?y:v;this.options.onUpdateLink(m.textBetween(x,b),p)}}),!this.options.autoLink||R4(e)-R4(n)===1||!t.some(h=>h.docChanged))return;const s=cV(t,e),a=eT(s,[Ut,bn]),{mapping:l}=s,{tr:u,doc:c}=n,{updateLink:f,removeLink:d}=this.store.chain(u);if(a.forEach(({prevFrom:h,prevTo:g,from:y,to:S})=>{const v=[],m=S-y===2,p=this.getLinkMarksInRange(e.doc,h,g,!0).filter(x=>x.mark.type===this.type).map(({from:x,to:b,text:_})=>({mappedFrom:l.map(x),mappedTo:l.map(b),text:_,from:x,to:b}));p.forEach(({mappedFrom:x,mappedTo:b,from:_,to:T},M)=>this.getLinkMarksInRange(c,x,b,!0).filter(N=>N.mark.type===this.type).forEach(N=>{const $=e.doc.textBetween(_,T,void 0," "),W=c.textBetween(N.from,N.to+1,void 0," ").trim(),X=this.isValidUrl($);this.isValidUrl(W)||(X&&(d({from:N.from,to:N.to}).tr(),p.splice(M,1)),!m&&y===S&&this.findAutoLinks(W).map(H=>this.addLinkProperties({...H,from:x+H.start,to:x+H.end})).forEach(({attrs:H,range:K,text:q})=>{f(H,K).tr(),v.push({attrs:H,range:K,text:q})}))})),this.findTextBlocksInRange(c,{from:y,to:S}).forEach(({text:x,positionStart:b})=>{this.findAutoLinks(x).map(_=>this.addLinkProperties({..._,from:b+_.start+1,to:b+_.end+1})).filter(({range:_})=>{const T=y>=_.from&&y<=_.to,M=S>=_.from&&S<=_.to;return T||M||m}).filter(({range:_})=>this.getLinkMarksInRange(u.doc,_.from,_.to,!1).length===0).filter(({range:{from:_},text:T})=>!p.some(({text:M,mappedFrom:N})=>N===_&&M===T)).forEach(({attrs:_,text:T,range:M})=>{f(_,M).tr(),v.push({attrs:_,range:M,text:T})})}),window.requestAnimationFrame(()=>{v.forEach(({attrs:x,range:b,text:_})=>{const{doc:T,selection:M}=u;this.options.onUpdateLink(_,{attrs:x,doc:T,range:b,selection:M})})})}),u.steps.length!==0)return u}}}buildHref(t){return this.options.extractHref({url:t,defaultProtocol:this.options.defaultProtocol})}getLinkMarksInRange(t,e,n,r){const i=[];if(e===n){const o=Math.max(e-1,0),s=t.resolve(o),a=ro(s,this.type);(a==null?void 0:a.mark.attrs.auto)===r&&i.push(a)}else t.nodesBetween(e,n,(o,s)=>{var a;const u=((a=o.marks)!=null?a:[]).find(({type:c,attrs:f})=>c===this.type&&f.auto===r);u&&i.push({from:s,to:s+o.nodeSize,mark:u,text:o.textContent})});return i}findTextBlocksInRange(t,e){const n=[];return t.nodesBetween(e.from,e.to,(r,i)=>{!r.isTextblock||!r.type.allowsMarkType(this.type)||n.push({node:r,pos:i})}),n.map(r=>({text:t.textBetween(r.pos,r.pos+r.node.nodeSize,void 0," "),positionStart:r.pos}))}addLinkProperties({from:t,to:e,href:n,...r}){return{...r,range:{from:t,to:e},attrs:{href:n,auto:!0}}}findAutoLinks(t){if(this.options.findAutoLinks)return this.options.findAutoLinks(t,this.options.defaultProtocol);const e=[];for(const n of w1(t,this.options.autoLinkRegex)){const r=Pu(n);if(!r)continue;const i=this.buildHref(r);!this.isValidTLD(i)||e.push({text:r,href:i,start:n.index,end:n.index+r.length})}return e}isValidUrl(t){var e;return this.options.isValidUrl?this.options.isValidUrl(t,this.options.defaultProtocol):this.isValidTLD(this.buildHref(t))&&!!((e=this._autoLinkRegexNonGlobal)!=null&&e.test(t))}isValidTLD(t){const{autoLinkAllowedTLDs:e}=this.options;if(e.length===0)return!0;const n=yJ(t);if(n==="")return!0;const r=hz(n.split("."));return e.includes(r)}};E0([an({shortcut:ie.InsertLink})],kl.prototype,"shortcut",1);E0([pe()],kl.prototype,"updateLink",1);E0([pe()],kl.prototype,"selectLink",1);E0([pe()],kl.prototype,"removeLink",1);kl=E0([Xe({defaultOptions:{autoLink:!1,defaultProtocol:"",selectTextOnClick:!1,openLinkOnClick:!1,autoLinkRegex:kJ,autoLinkAllowedTLDs:SJ,findAutoLinks:void 0,isValidUrl:void 0,defaultTarget:null,supportedTargets:[],extractHref:_J},staticKeys:["autoLinkRegex"],handlerKeyOptions:{onClick:{earlyReturnValue:!0}},handlerKeys:["onActivateLink","onShortcut","onUpdateLink","onClick"],defaultPriority:lt.Medium})],kl);function _J({url:t,defaultProtocol:e}){const n=/^((?:https?|ftp)?:)\/\//.test(t);return!n&&t.includes("@")?`mailto:${t}`:n?t:`${e}//${t}`}function EJ(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),a=!1,l=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let c=n.doc.resolve(s.start-2);l=new gl(c,c,s.depth),s.endIndex<s.parent.childCount&&(s=new gl(i,n.doc.resolve(o.end(s.depth)),s.depth)),a=!0}let u=W3(l,t,e,s);return u?(r&&r(CJ(n.tr,s,u,a,t).scrollIntoView()),!0):!1}}function CJ(t,e,n,r,i){let o=Y.empty;for(let c=n.length-1;c>=0;c--)o=Y.from(n[c].type.create(n[c].attrs,o));t.step(new Ut(e.start-(r?2:0),e.end,e.start,e.end,new fe(o,0,0),n.length,!0));let s=0;for(let c=0;c<n.length;c++)n[c].type==i&&(s=c+1);let a=n.length-s,l=e.start+n.length-(r?2:0),u=e.parent;for(let c=e.startIndex,f=e.endIndex,d=!0;c<f;c++,d=!1)!d&&Ru(t.doc,l,a)&&(t.split(l,a),l+=2*a),l+=u.child(c).nodeSize;return t}function TJ(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?AJ(e,n,t,o):OJ(e,n,o):!0:!1}}function AJ(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Ut(o-1,s,o,s,new fe(Y.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new gl(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const a=Sc(r);if(a==null)return!1;i.lift(r,a);let l=i.mapping.map(o,-1)-1;return g0(i.doc,l)&&i.join(l),e(i.scrollIntoView()),!0}function OJ(t,e,n){let r=t.tr,i=n.parent;for(let h=n.end,g=n.endIndex-1,y=n.startIndex;g>y;g--)h-=i.child(g).nodeSize,r.delete(h-1,h+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let a=n.startIndex==0,l=n.endIndex==i.childCount,u=o.node(-1),c=o.index(-1);if(!u.canReplace(c+(a?0:1),c+1,s.content.append(l?Y.empty:Y.from(i))))return!1;let f=o.pos,d=f+s.nodeSize;return r.step(new Ut(f-(a?1:0),d+(l?1:0),f+1,d-1,new fe((a?Y.empty:Y.from(i.copy(Y.empty))).append(l?Y.empty:Y.from(i.copy(Y.empty))),a?0:1,l?0:1),a?0:1)),e(r.scrollIntoView()),!0}var MJ=Object.defineProperty,NJ=Object.getOwnPropertyDescriptor,ti=(t,e,n,r)=>{for(var i=r>1?void 0:r?NJ(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&MJ(e,n,i),i};function I4(t){var e;return!!((e=t.spec.group)!=null&&e.includes(De.ListContainerNode))}function RJ(t){var e;return!!((e=t.spec.group)!=null&&e.includes(De.ListItemNode))}function ua(t){return I4(t.type)}function Xs(t){return RJ(t.type)}function W5(t,e){return n=>{const{dispatch:r,tr:i}=n,o=s5(i,n.state),{$from:s,$to:a}=i.selection,l=s.blockRange(a);if(!l)return!1;const u=y0({predicate:c=>I4(c.type),selection:i.selection});if(u&&l.depth-u.depth<=1&&l.startIndex===0){if(u.node.type===t)return TA(e)(n);if(I4(u.node.type))return t.validContent(u.node.content)?(r==null||r(i.setNodeMarkup(u.pos,t)),!0):DJ(i,u,t,e)?(r==null||r(i.scrollIntoView()),!0):!1}return EJ(t)(o,r)}}function EA(t,e=["checked"]){return function({tr:n,dispatch:r,state:i}){var o,s;const a=bV(t,i.schema),{$from:l,$to:u}=n.selection;if(w0(n.selection)&&n.selection.node.isBlock||l.depth<2||!l.sameParent(u))return!1;const c=l.node(-1);if(c.type!==a)return!1;if(l.parent.content.size===0&&l.node(-1).childCount===l.indexAfter(-1)){if(l.depth===2||l.node(-3).type!==a||l.index(-2)!==l.node(-2).childCount-1)return!1;if(r){const y=l.index(-1)>0;let S=Y.empty;for(let p=l.depth-(y?1:2);p>=l.depth-3;p--)S=Y.from(l.node(p).copy(S));const v=((o=a.contentMatch.defaultType)==null?void 0:o.createAndFill())||void 0;S=S.append(Y.from(a.createAndFill(null,v)||void 0));const m=l.indexAfter(-1)<l.node(-2).childCount?1:l.indexAfter(-2)<l.node(-3).childCount?2:3;n.replace(l.before(y?void 0:-1),l.after(-m),new fe(S,y?3:2,2)),n.setSelection(n.selection.constructor.near(n.doc.resolve(l.pos+(y?3:2)))),r(n.scrollIntoView())}return!0}if(c.attrs.closed&&l.sameParent(u)&&u.pos===u.end()){if(r){const y=l.after(-1),S=((s=a.contentMatch.defaultType)==null?void 0:s.createAndFill())||void 0,v=a.createAndFill(null,S);v&&(n.insert(y,v),n.setSelection(Ce.near(n.doc.resolve(y+1)))),n.delete(l.pos,u.pos),r(n.scrollIntoView())}return!0}const f=Object.fromEntries(Object.entries(c.attrs).filter(([y])=>!e.includes(y))),d=u.pos===l.end()?c.contentMatchAt(0).defaultType:null,h={...l.node().attrs};n.delete(l.pos,u.pos);const g=d?[{type:a,attrs:f},{type:d,attrs:h}]:[{type:a,attrs:f}];return Ru(n.doc,l.pos,2)?(r&&r(n.split(l.pos,2,g).scrollIntoView()),!0):!1}}function DJ(t,e,n,r){const i=e.node,o=t.doc.resolve(e.start),s=o.node(-1),a=o.index(-1);if(!s||!s.canReplace(a,a+1,Y.from(n.create())))return!1;const l=[];for(let h=0;h<i.childCount;h++){const g=i.child(h);if(!r.validContent(g.content))return!1;const y=r.createChecked(null,g.content);l.push(y)}const u=n.createChecked(null,l),c=e.pos,f=c+i.nodeSize,d=t.selection.from;return t.replaceRangeWith(c,f,u),t.setSelection(t.selection.constructor.near(t.doc.resolve(d))),!0}function IJ({listType:t,itemType:e,tr:n,range:r}){var i;const o=r.parent,s=n.doc.slice(r.start,r.end);if(o.type===t&&((i=s.content.firstChild)==null?void 0:i.type)===e)return!1;const a=[];for(let u=0;u<s.content.childCount;u++){const c=s.content.child(u);if(!e.validContent(c.content))return!1;const f=e.createChecked(null,c.content);a.push(f)}const l=t.createChecked(null,a);return n.replaceRange(r.start,r.end,new fe(Y.from(l),0,0)),!0}function ac({listType:t,itemType:e,tr:n}){const r=mm(n.selection);if(!r)return!1;const i=r.startIndex===0,{from:o,to:s}=n.selection;return IJ({listType:t,itemType:e,tr:n,range:r})?(n.setSelection(Ce.between(n.doc.resolve(i?o:o+2),n.doc.resolve(i?s:s+2))),n.scrollIntoView(),!0):!1}function PJ(t,e,n){const r=t.tr,i=n.parent,o=r.mapping.maps.length;for(let g=n.end,y=n.endIndex-1,S=n.startIndex;y>S;y--)g-=i.child(y).nodeSize,r.delete(g-1,g+1);const s=r.doc.resolve(n.start),a=s.nodeAfter;if(!a||r.mapping.slice(o).map(n.end)!==n.start+a.nodeSize)return!1;const l=n.startIndex===0,u=n.endIndex===i.childCount,c=s.node(-1),f=s.index(-1);if(!c.canReplace(f+(l?0:1),f+1,a.content.append(u?Y.empty:Y.from(i))))return!1;const d=s.pos,h=d+a.nodeSize;return r.step(new Ut(d-(l?1:0),h+(u?1:0),d+1,h-1,new fe((l?Y.empty:Y.from(i.copy(Y.empty))).append(u?Y.empty:Y.from(i.copy(Y.empty))),l?0:1,u?0:1),l?0:1)),e(r.scrollIntoView()),!0}function CA(t,e){const n=e||t.selection.$from;let r=[],i,o,s,a;for(let u=n.depth;u>=0;u--){if(o=n.node(u),i=n.index(u),s=o.maybeChild(i-1),a=o.maybeChild(i),s&&a&&s.type.name===a.type.name&&ua(s)){const c=n.before(u+1);r.push(c)}if(i=n.indexAfter(u),s=o.maybeChild(i-1),a=o.maybeChild(i),s&&a&&s.type.name===a.type.name&&ua(s)){const c=n.after(u+1);r.push(c)}}r=[...new Set(r)].sort((u,c)=>c-u);let l=!1;for(const u of r)g0(t.doc,u)&&(t.join(u),l=!0);return l}function TA(t){return e=>{const{dispatch:n,tr:r}=e,i=s5(r,e.state),o=LJ(t,r.selection);return o?(n&&PJ(i,n,o),!0):!1}}function LJ(t,e){const{$from:n,$to:r}=e;return n.blockRange(r,o=>{var s;return((s=o.firstChild)==null?void 0:s.type)===t})}function mm(t){const{$from:e,$to:n}=t;return e.blockRange(n,ua)}function zJ(t){const e=t.selection.$from,n=e.blockRange();if(!n||!Xs(n.parent)||n.startIndex!==0)return!1;const r=e.node(n.depth-2),i=e.index(n.depth),o=e.index(n.depth-1),s=e.index(n.depth-2),a=r.maybeChild(s-1),l=a==null?void 0:a.lastChild;if(i!==0||o!==0)return!1;if(a&&ua(a)&&l&&Xs(l))return ac({listType:a.type,itemType:l.type,tr:t});if(Xs(r)){const u=r,c=e.node(n.depth-3);if(ua(c))return ac({listType:c.type,itemType:u.type,tr:t})}return!1}function K7({view:t}){if(!t)return!1;{const e=t.state.selection.$cursor;if(!e||e.parentOffset>0)return!1;const n=e.blockRange();if(!n||!Xs(n.parent)||n.startIndex!==0)return!1}{const e=t.state.tr;zJ(e)&&t.dispatch(e)}{const e=t.state.selection.$cursor;if(!e||e.parentOffset>0)return!1;const n=e.blockRange();if(!n||!Xs(n.parent)||n.startIndex!==0)return!1;const r=e.index(n.depth),i=e.index(n.depth-1),o=e.index(n.depth-2),s=n.depth-2>=1&&Xs(e.node(n.depth-2));r===0&&i===0&&o<=1&&s&&TJ(n.parent.type)(t.state,t.dispatch)}return h5(t.state,t.dispatch,t),!0}function AA({node:t,mark:e,updateDOM:n,updateMark:r}){const i=document.createElement("label");i.contentEditable="false",i.classList.add(la.LIST_ITEM_MARKER_CONTAINER),i.append(e);const o=document.createElement("div"),s=document.createElement("li");s.classList.add(la.LIST_ITEM_WITH_CUSTOM_MARKER),s.append(i),s.append(o);const a=l=>l.type!==t.type?!1:(t=l,n(t,s),r(t,e),!0);return a(t),{dom:s,contentDOM:o,update:a}}function BJ(t,e){const n=t.node(e.depth-1),r=t.node(e.depth-2);return!Xs(n)||!ua(r)?!1:{parentItem:n,parentList:r}}function $J(t,e){const n=e.parent,r=e.parent.child(e.endIndex-1),i=e.end,o=e.$to.end(e.depth);return i<o?(t.step(new Ut(i-1,o,i,o,new fe(Y.from(r.type.create(null,n.copy())),1,0),1,!0)),new gl(t.doc.resolve(e.$from.pos),t.doc.resolve(o),e.depth)):e}function FJ(t,e){const n=e.parent,r=e.parent.child(e.endIndex-1),i=e.end,o=e.$to.end(e.depth-1);return i+1<o?(t.step(new Ut(i-1,o,i+1,o,new fe(Y.from(n.type.create(null,r.type.create(null))),2,0),0,!0)),new gl(t.selection.$from,t.selection.$to,e.depth)):e}function VJ(t,e,n,r){return ac({listType:n.type,itemType:r.type,tr:t})?new gl(t.selection.$from,t.selection.$to,e.depth):e}function UJ(t){let e=mm(t.selection);if(!e)return!1;const n=BJ(t.selection.$from,e);if(!n)return!1;const{parentItem:r,parentList:i}=n;e=$J(t,e),e=FJ(t,e),e=VJ(t,e,i,r);const o=Sc(e);return typeof o!="number"||(t.lift(e,o),e=mm(t.selection),e&&CA(t,t.doc.resolve(e.end-2))),!0}var HJ=({tr:t,dispatch:e})=>UJ(t)?(e==null||e(t.scrollIntoView()),!0):!1;function jJ(t,e,n){let r,i,o,s;const a=e.doc;if(n.startIndex>=1){r=t.child(n.startIndex-1),i=t,s=a.resolve(n.start).start(n.depth),o=s+1;for(let l=0;l<n.startIndex-1;l++)o+=i.child(l).nodeSize}else{const l=e.index(n.depth-1);if(l>=1){const u=e.node(n.depth-1),c=e.start(n.depth-1);if(i=u.child(l-1),!ua(i))return!1;s=c+1;for(let f=0;f<l-1;f++)s+=u.child(f).nodeSize;if(r=i.child(i.childCount-1),o=s+i.nodeSize-r.nodeSize-1,!Xs(r))return!1}else return!1}return{previousItem:r,previousList:i,previousItemStart:o,previousListStart:s}}function qJ(t,e,n){let r,i;const o=n.start,s=e.depth>=n.depth+2?e.end(n.depth+2):n.end-1,a=n.end;return s+1>=a?(r=t.slice(o,a),i=null):(r=t.slice(o,s),i=t.slice(s+1,a-1)),{selectedSlice:r,unselectedSlice:i}}function WJ(t){const{$from:e,$to:n}=t.selection,r=mm(t.selection);if(!r)return!1;const i=t.doc.resolve(r.start).node();if(!ua(i))return!1;const o=jJ(i,e,r);if(!o)return!1;const{previousItem:s,previousList:a,previousItemStart:l}=o,{selectedSlice:u,unselectedSlice:c}=qJ(t.doc,n,r),f=s.content.append(Y.fromArray([i.copy(u.content)])).append(c?c.content:Y.empty);t.deleteRange(r.start,r.end);const d=l+s.nodeSize-2,h=s.copy(f);return h.check(),t.replaceRangeWith(l-1,d+1,h),t.setSelection(a===i?Ce.between(t.doc.resolve(e.pos),t.doc.resolve(n.pos)):Ce.between(t.doc.resolve(e.pos-2),t.doc.resolve(n.pos-2))),!0}var KJ=({tr:t,dispatch:e})=>WJ(t)?(e==null||e(t.scrollIntoView()),!0):!1,OA=class extends _t{get name(){return"listItemShared"}createKeymap(){const t={Tab:KJ,"Shift-Tab":HJ,Backspace:K7,"Mod-Backspace":K7};if(gi.isMac){const e={"Ctrl-h":t.Backspace,"Alt-Backspace":t["Mod-Backspace"]};return{...t,...e}}return t}createPlugin(){return{appendTransaction:(t,e,n)=>{const r=n.tr;return CA(r)?r:null}}}},lc=class extends Xn{get name(){return"listItem"}createTags(){return[De.ListItemNode]}createNodeSpec(t,e){var n;return{content:"paragraph block*",defining:!0,draggable:!1,...e,attrs:{...t.defaults(),closed:{default:!1},nested:{default:!1}},parseDOM:[{tag:"li",getAttrs:t.parse,priority:lt.Lowest},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>{const i=t.dom(r);return["li",i,0]}}}createNodeViews(){return this.options.enableCollapsible?(t,e,n)=>{const r=document.createElement("div");return r.classList.add(la.COLLAPSIBLE_LIST_ITEM_BUTTON),r.contentEditable="false",r.addEventListener("click",()=>{if(r.classList.contains("disabled"))return;const i=n(),o=Te.create(e.state.doc,i);return e.dispatch(e.state.tr.setSelection(o)),this.store.commands.toggleListItemClosed(),!0}),AA({mark:r,node:t,updateDOM:GJ,updateMark:YJ})}:{}}createKeymap(){return{Enter:EA(this.type)}}createExtensions(){return[new OA]}toggleListItemClosed(t){return({state:{tr:e,selection:n},dispatch:r})=>{if(!w0(n)||n.node.type.name!==this.name)return!1;const{node:i,from:o}=n;return t=nz(t)?t:!i.attrs.closed,r==null||r(e.setNodeMarkup(o,void 0,{...i.attrs,closed:t})),!0}}liftListItemOutOfList(t){return TA(t!=null?t:this.type)}};ti([pe()],lc.prototype,"toggleListItemClosed",1);ti([pe()],lc.prototype,"liftListItemOutOfList",1);lc=ti([Xe({defaultOptions:{enableCollapsible:!1},staticKeys:["enableCollapsible"]})],lc);function GJ(t,e){t.attrs.closed?e.classList.add(la.COLLAPSIBLE_LIST_ITEM_CLOSED):e.classList.remove(la.COLLAPSIBLE_LIST_ITEM_CLOSED)}function YJ(t,e){t.childCount<=1?e.classList.add("disabled"):e.classList.remove("disabled")}var Hd=class extends Xn{get name(){return"bulletList"}createTags(){return[De.Block,De.ListContainerNode]}createNodeSpec(t,e){var n;return{content:"listItem+",...e,attrs:t.defaults(),parseDOM:[{tag:"ul",getAttrs:t.parse},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>["ul",t.dom(r),0]}}createNodeViews(){return this.options.enableSpine?(t,e,n)=>{var r;const i=document.createElement("ul");i.style.position="relative";const o=n(),s=e.state.doc.resolve(o+1),a=s.node(s.depth-1);if(!(((r=a==null?void 0:a.type)==null?void 0:r.name)!=="listItem")){const c=document.createElement("div");c.contentEditable="false",c.classList.add(la.LIST_SPINE),c.addEventListener("click",f=>{const d=n(),h=e.state.doc.resolve(d+1),g=h.start(h.depth-1),y=Te.create(e.state.doc,g-1);e.dispatch(e.state.tr.setSelection(y)),this.store.commands.toggleListItemClosed(),f.preventDefault(),f.stopPropagation()}),i.append(c)}const u=document.createElement("div");return u.classList.add(la.UL_LIST_CONTENT),i.append(u),{dom:i,contentDOM:u}}:{}}createExtensions(){return[new lc({priority:lt.Low,enableCollapsible:this.options.enableSpine})]}toggleBulletList(){return W5(this.type,kt(this.store.schema.nodes,"listItem"))}listShortcut(t){return this.toggleBulletList()(t)}createInputRules(){const t=/^\s*([*+-])\s$/;return[S1(t,this.type),new hr(t,(e,n,r,i)=>{const o=e.tr;return o.deleteRange(r,i),ac({listType:this.type,itemType:kt(this.store.schema.nodes,"listItem"),tr:o})?o:null})]}};ti([pe({icon:"listUnordered",label:({t})=>t(Y3.BULLET_LIST_LABEL)})],Hd.prototype,"toggleBulletList",1);ti([an({shortcut:ie.BulletList,command:"toggleBulletList"})],Hd.prototype,"listShortcut",1);Hd=ti([Xe({defaultOptions:{enableSpine:!1},staticKeys:["enableSpine"]})],Hd);var jd=class extends Xn{get name(){return"orderedList"}createTags(){return[De.Block,De.ListContainerNode]}createNodeSpec(t,e){var n;return{content:"listItem+",...e,attrs:{...t.defaults(),order:{default:1}},parseDOM:[{tag:"ol",getAttrs:r=>{var i;return Ft(r)?{...t.parse(r),order:+((i=r.getAttribute("start"))!=null?i:1)}:{}}},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>{const i=t.dom(r);return r.attrs.order===1?["ol",i,0]:["ol",{...i,start:r.attrs.order},0]}}}createExtensions(){return[new lc({priority:lt.Low})]}toggleOrderedList(){return W5(this.type,kt(this.store.schema.nodes,"listItem"))}listShortcut(t){return this.toggleOrderedList()(t)}createInputRules(){const t=/^(\d+)\.\s$/;return[S1(t,this.type,e=>({order:+kt(e,1)}),(e,n)=>n.childCount+n.attrs.order===+kt(e,1)),new hr(t,(e,n,r,i)=>{const o=e.tr;if(o.deleteRange(r,i),!ac({listType:this.type,itemType:kt(this.store.schema.nodes,"listItem"),tr:o}))return null;const a=+kt(n,1);if(a!==1){const l=sa({selection:o.selection,types:this.type});l&&o.setNodeMarkup(l.pos,void 0,{order:a})}return o})]}};ti([pe({icon:"listOrdered",label:({t})=>t(Y3.ORDERED_LIST_LABEL)})],jd.prototype,"toggleOrderedList",1);ti([an({shortcut:ie.OrderedList,command:"toggleOrderedList"})],jd.prototype,"listShortcut",1);jd=ti([Xe({})],jd);var MA=class extends Xn{get name(){return"taskListItem"}createTags(){return[De.ListItemNode]}createNodeSpec(t,e){var n;return{content:"paragraph block*",defining:!0,draggable:!1,...e,attrs:{...t.defaults(),checked:{default:!1}},parseDOM:[{tag:"li[data-task-list-item]",getAttrs:r=>{let i=!1;return Ft(r)&&r.getAttribute("data-checked")!==null&&(i=!0),{checked:i,...t.parse(r)}},priority:lt.Medium},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>["li",{...t.dom(r),"data-task-list-item":"","data-checked":r.attrs.checked?"":void 0},0]}}createNodeViews(){return(t,e,n)=>{const r=document.createElement("input");return r.type="checkbox",r.classList.add(la.LIST_ITEM_CHECKBOX),r.contentEditable="false",r.addEventListener("click",i=>{e.editable||i.preventDefault()}),r.addEventListener("change",()=>{const i=n(),o=e.state.doc.resolve(i+1);this.store.commands.toggleCheckboxChecked({$pos:o})}),r.checked=t.attrs.checked,AA({node:t,mark:r,updateDOM:XJ,updateMark:JJ})}}createKeymap(){return{Enter:EA(this.type)}}createExtensions(){return[new OA]}toggleCheckboxChecked(t){let e,n;return typeof t=="boolean"?e=t:t&&(e=t.checked,n=t.$pos),({tr:r,dispatch:i})=>{const o=sa({selection:n!=null?n:r.selection.$from,types:this.type});if(!o)return!1;const{node:s,pos:a}=o,l={...s.attrs,checked:e!=null?e:!s.attrs.checked};return i==null||i(r.setNodeMarkup(a,void 0,l)),!0}}createInputRules(){const t=/^\s*(\[( ?|x|X)]\s)$/;return[S1(t,this.type,e=>({checked:["x","X"].includes(Pu(e,2))})),new hr(t,(e,n,r,i)=>{const o=e.tr;if(o.deleteRange(r,i),!ac({listType:kt(this.store.schema.nodes,"taskList"),itemType:this.type,tr:o}))return null;const a=["x","X"].includes(Pu(n,2));if(a){const l=sa({selection:o.selection,types:this.type});l&&o.setNodeMarkup(l.pos,void 0,{checked:a})}return o})]}};ti([pe()],MA.prototype,"toggleCheckboxChecked",1);function XJ(t,e){t.attrs.checked?e.setAttribute("data-checked",""):e.removeAttribute("data-checked"),e.setAttribute("data-task-list-item","")}function JJ(t,e){e.checked=!!t.attrs.checked}var K5=class extends Xn{get name(){return"taskList"}createTags(){return[De.Block,De.ListContainerNode]}createNodeSpec(t,e){var n;return{content:"taskListItem+",...e,attrs:t.defaults(),parseDOM:[{tag:"ul[data-task-list]",getAttrs:t.parse,priority:lt.Medium},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>["ul",{...t.dom(r),"data-task-list":""},0]}}createExtensions(){return[new MA({})]}toggleTaskList(){return W5(this.type,kt(this.store.schema.nodes,"taskListItem"))}listShortcut(t){return this.toggleTaskList()(t)}};ti([pe({icon:"checkboxMultipleLine",label:({t})=>t(Y3.TASK_LIST_LABEL)})],K5.prototype,"toggleTaskList",1);ti([an({shortcut:ie.TaskList,command:"toggleTaskList"})],K5.prototype,"listShortcut",1);function QJ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r])}return t}function P4(t,e){return Array(e+1).join(t)}function ZJ(t){return t.replace(/^\n*/,"")}function eQ(t){for(var e=t.length;e>0&&t[e-1]===`
`;)e--;return t.substring(0,e)}var tQ=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","BODY","CANVAS","CENTER","DD","DIR","DIV","DL","DT","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","FRAMESET","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","HTML","ISINDEX","LI","MAIN","MENU","NAV","NOFRAMES","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TBODY","TD","TFOOT","TH","THEAD","TR","UL"];function G5(t){return Y5(t,tQ)}var NA=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];function RA(t){return Y5(t,NA)}function nQ(t){return IA(t,NA)}var DA=["A","TABLE","THEAD","TBODY","TFOOT","TH","TD","IFRAME","SCRIPT","AUDIO","VIDEO"];function rQ(t){return Y5(t,DA)}function iQ(t){return IA(t,DA)}function Y5(t,e){return e.indexOf(t.nodeName)>=0}function IA(t,e){return t.getElementsByTagName&&e.some(function(n){return t.getElementsByTagName(n).length})}var Ln={};Ln.paragraph={filter:"p",replacement:function(t){return`

`+t+`

`}};Ln.lineBreak={filter:"br",replacement:function(t,e,n){return n.br+`
`}};Ln.heading={filter:["h1","h2","h3","h4","h5","h6"],replacement:function(t,e,n){var r=Number(e.nodeName.charAt(1));if(n.headingStyle==="setext"&&r<3){var i=P4(r===1?"=":"-",t.length);return`

`+t+`
`+i+`

`}else return`

`+P4("#",r)+" "+t+`

`}};Ln.blockquote={filter:"blockquote",replacement:function(t){return t=t.replace(/^\n+|\n+$/g,""),t=t.replace(/^/gm,"> "),`

`+t+`

`}};Ln.list={filter:["ul","ol"],replacement:function(t,e){var n=e.parentNode;return n.nodeName==="LI"&&n.lastElementChild===e?`
`+t:`

`+t+`

`}};Ln.listItem={filter:"li",replacement:function(t,e,n){t=t.replace(/^\n+/,"").replace(/\n+$/,`
`).replace(/\n/gm,`
    `);var r=n.bulletListMarker+"   ",i=e.parentNode;if(i.nodeName==="OL"){var o=i.getAttribute("start"),s=Array.prototype.indexOf.call(i.children,e);r=(o?Number(o)+s:s+1)+".  "}return r+t+(e.nextSibling&&!/\n$/.test(t)?`
`:"")}};Ln.indentedCodeBlock={filter:function(t,e){return e.codeBlockStyle==="indented"&&t.nodeName==="PRE"&&t.firstChild&&t.firstChild.nodeName==="CODE"},replacement:function(t,e,n){return`

    `+e.firstChild.textContent.replace(/\n/g,`
    `)+`

`}};Ln.fencedCodeBlock={filter:function(t,e){return e.codeBlockStyle==="fenced"&&t.nodeName==="PRE"&&t.firstChild&&t.firstChild.nodeName==="CODE"},replacement:function(t,e,n){for(var r=e.firstChild.getAttribute("class")||"",i=(r.match(/language-(\S+)/)||[null,""])[1],o=e.firstChild.textContent,s=n.fence.charAt(0),a=3,l=new RegExp("^"+s+"{3,}","gm"),u;u=l.exec(o);)u[0].length>=a&&(a=u[0].length+1);var c=P4(s,a);return`

`+c+i+`
`+o.replace(/\n$/,"")+`
`+c+`

`}};Ln.horizontalRule={filter:"hr",replacement:function(t,e,n){return`

`+n.hr+`

`}};Ln.inlineLink={filter:function(t,e){return e.linkStyle==="inlined"&&t.nodeName==="A"&&t.getAttribute("href")},replacement:function(t,e){var n=e.getAttribute("href"),r=gm(e.getAttribute("title"));return r&&(r=' "'+r+'"'),"["+t+"]("+n+r+")"}};Ln.referenceLink={filter:function(t,e){return e.linkStyle==="referenced"&&t.nodeName==="A"&&t.getAttribute("href")},replacement:function(t,e,n){var r=e.getAttribute("href"),i=gm(e.getAttribute("title"));i&&(i=' "'+i+'"');var o,s;switch(n.linkReferenceStyle){case"collapsed":o="["+t+"][]",s="["+t+"]: "+r+i;break;case"shortcut":o="["+t+"]",s="["+t+"]: "+r+i;break;default:var a=this.references.length+1;o="["+t+"]["+a+"]",s="["+a+"]: "+r+i}return this.references.push(s),o},references:[],append:function(t){var e="";return this.references.length&&(e=`

`+this.references.join(`
`)+`

`,this.references=[]),e}};Ln.emphasis={filter:["em","i"],replacement:function(t,e,n){return t.trim()?n.emDelimiter+t+n.emDelimiter:""}};Ln.strong={filter:["strong","b"],replacement:function(t,e,n){return t.trim()?n.strongDelimiter+t+n.strongDelimiter:""}};Ln.code={filter:function(t){var e=t.previousSibling||t.nextSibling,n=t.parentNode.nodeName==="PRE"&&!e;return t.nodeName==="CODE"&&!n},replacement:function(t){if(!t)return"";t=t.replace(/\r?\n|\r/g," ");for(var e=/^`|^ .*?[^ ].* $|`$/.test(t)?" ":"",n="`",r=t.match(/`+/gm)||[];r.indexOf(n)!==-1;)n=n+"`";return n+e+t+e+n}};Ln.image={filter:"img",replacement:function(t,e){var n=gm(e.getAttribute("alt")),r=e.getAttribute("src")||"",i=gm(e.getAttribute("title")),o=i?' "'+i+'"':"";return r?"!["+n+"]("+r+o+")":""}};function gm(t){return t?t.replace(/(\n+\s*)+/g,`
`):""}function PA(t){this.options=t,this._keep=[],this._remove=[],this.blankRule={replacement:t.blankReplacement},this.keepReplacement=t.keepReplacement,this.defaultRule={replacement:t.defaultReplacement},this.array=[];for(var e in t.rules)this.array.push(t.rules[e])}PA.prototype={add:function(t,e){this.array.unshift(e)},keep:function(t){this._keep.unshift({filter:t,replacement:this.keepReplacement})},remove:function(t){this._remove.unshift({filter:t,replacement:function(){return""}})},forNode:function(t){if(t.isBlank)return this.blankRule;var e;return(e=xv(this.array,t,this.options))||(e=xv(this._keep,t,this.options))||(e=xv(this._remove,t,this.options))?e:this.defaultRule},forEach:function(t){for(var e=0;e<this.array.length;e++)t(this.array[e],e)}};function xv(t,e,n){for(var r=0;r<t.length;r++){var i=t[r];if(oQ(i,e,n))return i}}function oQ(t,e,n){var r=t.filter;if(typeof r=="string"){if(r===e.nodeName.toLowerCase())return!0}else if(Array.isArray(r)){if(r.indexOf(e.nodeName.toLowerCase())>-1)return!0}else if(typeof r=="function"){if(r.call(t,e,n))return!0}else throw new TypeError("`filter` needs to be a string, array, or function")}function sQ(t){var e=t.element,n=t.isBlock,r=t.isVoid,i=t.isPre||function(f){return f.nodeName==="PRE"};if(!(!e.firstChild||i(e))){for(var o=null,s=!1,a=null,l=G7(a,e,i);l!==e;){if(l.nodeType===3||l.nodeType===4){var u=l.data.replace(/[ \r\n\t]+/g," ");if((!o||/ $/.test(o.data))&&!s&&u[0]===" "&&(u=u.substr(1)),!u){l=wv(l);continue}l.data=u,o=l}else if(l.nodeType===1)n(l)||l.nodeName==="BR"?(o&&(o.data=o.data.replace(/ $/,"")),o=null,s=!1):r(l)||i(l)?(o=null,s=!0):o&&(s=!1);else{l=wv(l);continue}var c=G7(a,l,i);a=l,l=c}o&&(o.data=o.data.replace(/ $/,""),o.data||wv(o))}}function wv(t){var e=t.nextSibling||t.parentNode;return t.parentNode.removeChild(t),e}function G7(t,e,n){return t&&t.parentNode===e||n(e)?e.nextSibling||e.parentNode:e.firstChild||e.nextSibling||e.parentNode}var LA=typeof window<"u"?window:{};function aQ(){var t=LA.DOMParser,e=!1;try{new t().parseFromString("","text/html")&&(e=!0)}catch{}return e}function lQ(){var t=function(){};return uQ()?t.prototype.parseFromString=function(e){var n=new window.ActiveXObject("htmlfile");return n.designMode="on",n.open(),n.write(e),n.close(),n}:t.prototype.parseFromString=function(e){var n=document.implementation.createHTMLDocument("");return n.open(),n.write(e),n.close(),n},t}function uQ(){var t=!1;try{document.implementation.createHTMLDocument("").open()}catch{window.ActiveXObject&&(t=!0)}return t}var cQ=aQ()?LA.DOMParser:lQ();function fQ(t,e){var n;if(typeof t=="string"){var r=dQ().parseFromString('<x-turndown id="turndown-root">'+t+"</x-turndown>","text/html");n=r.getElementById("turndown-root")}else n=t.cloneNode(!0);return sQ({element:n,isBlock:G5,isVoid:RA,isPre:e.preformattedCode?hQ:null}),n}var bv;function dQ(){return bv=bv||new cQ,bv}function hQ(t){return t.nodeName==="PRE"||t.nodeName==="CODE"}function pQ(t,e){return t.isBlock=G5(t),t.isCode=t.nodeName==="CODE"||t.parentNode.isCode,t.isBlank=mQ(t),t.flankingWhitespace=gQ(t,e),t}function mQ(t){return!RA(t)&&!rQ(t)&&/^\s*$/i.test(t.textContent)&&!nQ(t)&&!iQ(t)}function gQ(t,e){if(t.isBlock||e.preformattedCode&&t.isCode)return{leading:"",trailing:""};var n=vQ(t.textContent);return n.leadingAscii&&Y7("left",t,e)&&(n.leading=n.leadingNonAscii),n.trailingAscii&&Y7("right",t,e)&&(n.trailing=n.trailingNonAscii),{leading:n.leading,trailing:n.trailing}}function vQ(t){var e=t.match(/^(([ \t\r\n]*)(\s*))[\s\S]*?((\s*?)([ \t\r\n]*))$/);return{leading:e[1],leadingAscii:e[2],leadingNonAscii:e[3],trailing:e[4],trailingNonAscii:e[5],trailingAscii:e[6]}}function Y7(t,e,n){var r,i,o;return t==="left"?(r=e.previousSibling,i=/ $/):(r=e.nextSibling,i=/^ /),r&&(r.nodeType===3?o=i.test(r.nodeValue):n.preformattedCode&&r.nodeName==="CODE"?o=!1:r.nodeType===1&&!G5(r)&&(o=i.test(r.textContent))),o}var yQ=Array.prototype.reduce,xQ=[[/\\/g,"\\\\"],[/\*/g,"\\*"],[/^-/g,"\\-"],[/^\+ /g,"\\+ "],[/^(=+)/g,"\\$1"],[/^(#{1,6}) /g,"\\$1 "],[/`/g,"\\`"],[/^~~~/g,"\\~~~"],[/\[/g,"\\["],[/\]/g,"\\]"],[/^>/g,"\\>"],[/_/g,"\\_"],[/^(\d+)\. /g,"$1\\. "]];function vm(t){if(!(this instanceof vm))return new vm(t);var e={rules:Ln,headingStyle:"setext",hr:"* * *",bulletListMarker:"*",codeBlockStyle:"indented",fence:"```",emDelimiter:"_",strongDelimiter:"**",linkStyle:"inlined",linkReferenceStyle:"full",br:"  ",preformattedCode:!1,blankReplacement:function(n,r){return r.isBlock?`

`:""},keepReplacement:function(n,r){return r.isBlock?`

`+r.outerHTML+`

`:r.outerHTML},defaultReplacement:function(n,r){return r.isBlock?`

`+n+`

`:n}};this.options=QJ({},e,t),this.rules=new PA(this.options)}vm.prototype={turndown:function(t){if(!SQ(t))throw new TypeError(t+" is not a string, or an element/document/fragment node.");if(t==="")return"";var e=zA.call(this,new fQ(t,this.options));return wQ.call(this,e)},use:function(t){if(Array.isArray(t))for(var e=0;e<t.length;e++)this.use(t[e]);else if(typeof t=="function")t(this);else throw new TypeError("plugin must be a Function or an Array of Functions");return this},addRule:function(t,e){return this.rules.add(t,e),this},keep:function(t){return this.rules.keep(t),this},remove:function(t){return this.rules.remove(t),this},escape:function(t){return xQ.reduce(function(e,n){return e.replace(n[0],n[1])},t)}};function zA(t){var e=this;return yQ.call(t.childNodes,function(n,r){r=new pQ(r,e.options);var i="";return r.nodeType===3?i=r.isCode?r.nodeValue:e.escape(r.nodeValue):r.nodeType===1&&(i=bQ.call(e,r)),BA(n,i)},"")}function wQ(t){var e=this;return this.rules.forEach(function(n){typeof n.append=="function"&&(t=BA(t,n.append(e.options)))}),t.replace(/^[\t\r\n]+/,"").replace(/[\t\r\n\s]+$/,"")}function bQ(t){var e=this.rules.forNode(t),n=zA.call(this,t),r=t.flankingWhitespace;return(r.leading||r.trailing)&&(n=n.trim()),r.leading+e.replacement(n,t,this.options)+r.trailing}function BA(t,e){var n=eQ(t),r=ZJ(e),i=Math.max(t.length-n.length,e.length-r.length),o=`

`.substring(0,i);return n+o+r}function SQ(t){return t!=null&&(typeof t=="string"||t.nodeType&&(t.nodeType===1||t.nodeType===9||t.nodeType===11))}function $A(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let Ac=$A();function kQ(t){Ac=t}const _Q=/[&<>"']/,EQ=/[&<>"']/g,CQ=/[<>"']|&(?!#?\w+;)/,TQ=/[<>"']|&(?!#?\w+;)/g,AQ={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},X7=t=>AQ[t];function cn(t,e){if(e){if(_Q.test(t))return t.replace(EQ,X7)}else if(CQ.test(t))return t.replace(TQ,X7);return t}const OQ=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function FA(t){return t.replace(OQ,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const MQ=/(^|[^\[])\^/g;function ct(t,e){t=typeof t=="string"?t:t.source,e=e||"";const n={replace:(r,i)=>(i=i.source||i,i=i.replace(MQ,"$1"),t=t.replace(r,i),n),getRegex:()=>new RegExp(t,e)};return n}const NQ=/[^\w:]/g,RQ=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function J7(t,e,n){if(t){let r;try{r=decodeURIComponent(FA(n)).replace(NQ,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}e&&!RQ.test(n)&&(n=LQ(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const mh={},DQ=/^[^:]+:\/*[^/]*$/,IQ=/^([^:]+:)[\s\S]*$/,PQ=/^([^:]+:\/*[^/]*)[\s\S]*$/;function LQ(t,e){mh[" "+t]||(DQ.test(t)?mh[" "+t]=t+"/":mh[" "+t]=fp(t,"/",!0)),t=mh[" "+t];const n=t.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:t.replace(IQ,"$1")+e:e.charAt(0)==="/"?n?e:t.replace(PQ,"$1")+e:t+e}const ym={exec:function(){}};function Di(t){let e=1,n,r;for(;e<arguments.length;e++){n=arguments[e];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}function Q7(t,e){const n=t.replace(/\|/g,(o,s,a)=>{let l=!1,u=s;for(;--u>=0&&a[u]==="\\";)l=!l;return l?"|":" |"}),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function fp(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r;){const o=t.charAt(r-i-1);if(o===e&&!n)i++;else if(o!==e&&n)i++;else break}return t.slice(0,r-i)}function zQ(t,e){if(t.indexOf(e[1])===-1)return-1;const n=t.length;let r=0,i=0;for(;i<n;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return-1}function VA(t){t&&t.sanitize&&!t.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function Z7(t,e){if(e<1)return"";let n="";for(;e>1;)e&1&&(n+=t),e>>=1,t+=t;return n+t}function e8(t,e,n,r){const i=e.href,o=e.title?cn(e.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const a={type:"link",raw:n,href:i,title:o,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,a}return{type:"image",raw:n,href:i,title:o,text:cn(s)}}function BQ(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const r=n[1];return e.split(`
`).map(i=>{const o=i.match(/^\s+/);if(o===null)return i;const[s]=o;return s.length>=r.length?i.slice(r.length):i}).join(`
`)}class X5{constructor(e){this.options=e||Ac}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:fp(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],i=BQ(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim():n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const i=fp(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const r=n[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:n[0],tokens:this.lexer.blockTokens(r,[]),text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r,i,o,s,a,l,u,c,f,d,h,g,y=n[1].trim();const S=y.length>1,v={type:"list",raw:"",ordered:S,start:S?+y.slice(0,-1):"",loose:!1,items:[]};y=S?`\\d{1,9}\\${y.slice(-1)}`:`\\${y}`,this.options.pedantic&&(y=S?y:"[*+-]");const m=new RegExp(`^( {0,3}${y})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(g=!1,!(!(n=m.exec(e))||this.rules.block.hr.test(e)));){if(r=n[0],e=e.substring(r.length),c=n[2].split(`
`,1)[0],f=e.split(`
`,1)[0],this.options.pedantic?(s=2,h=c.trimLeft()):(s=n[2].search(/[^ ]/),s=s>4?1:s,h=c.slice(s),s+=n[1].length),l=!1,!c&&/^ *$/.test(f)&&(r+=f+`
`,e=e.substring(f.length+1),g=!0),!g){const x=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))`),b=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),_=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),T=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(d=e.split(`
`,1)[0],c=d,this.options.pedantic&&(c=c.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(_.test(c)||T.test(c)||x.test(c)||b.test(e)));){if(c.search(/[^ ]/)>=s||!c.trim())h+=`
`+c.slice(s);else if(!l)h+=`
`+c;else break;!l&&!c.trim()&&(l=!0),r+=d+`
`,e=e.substring(d.length+1)}}v.loose||(u?v.loose=!0:/\n *\n *$/.test(r)&&(u=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(h),i&&(o=i[0]!=="[ ] ",h=h.replace(/^\[[ xX]\] +/,""))),v.items.push({type:"list_item",raw:r,task:!!i,checked:o,loose:!1,text:h}),v.raw+=r}v.items[v.items.length-1].raw=r.trimRight(),v.items[v.items.length-1].text=h.trimRight(),v.raw=v.raw.trimRight();const p=v.items.length;for(a=0;a<p;a++){this.lexer.state.top=!1,v.items[a].tokens=this.lexer.blockTokens(v.items[a].text,[]);const x=v.items[a].tokens.filter(_=>_.type==="space"),b=x.every(_=>{const T=_.raw.split("");let M=0;for(const N of T)if(N===`
`&&(M+=1),M>1)return!0;return!1});!v.loose&&x.length&&b&&(v.loose=!0,v.items[a].loose=!0)}return v}}html(e){const n=this.rules.block.html.exec(e);if(n){const r={type:"html",raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(n[0]):cn(n[0]);r.type="paragraph",r.text=i,r.tokens=this.lexer.inline(i)}return r}}def(e){const n=this.rules.block.def.exec(e);if(n){n[3]&&(n[3]=n[3].substring(1,n[3].length-1));const r=n[1].toLowerCase().replace(/\s+/g," ");return{type:"def",tag:r,raw:n[0],href:n[2],title:n[3]}}}table(e){const n=this.rules.block.table.exec(e);if(n){const r={type:"table",header:Q7(n[1]).map(i=>({text:i})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=n[0];let i=r.align.length,o,s,a,l;for(o=0;o<i;o++)/^ *-+: *$/.test(r.align[o])?r.align[o]="right":/^ *:-+: *$/.test(r.align[o])?r.align[o]="center":/^ *:-+ *$/.test(r.align[o])?r.align[o]="left":r.align[o]=null;for(i=r.rows.length,o=0;o<i;o++)r.rows[o]=Q7(r.rows[o],r.header.length).map(u=>({text:u}));for(i=r.header.length,s=0;s<i;s++)r.header[s].tokens=this.lexer.inline(r.header[s].text);for(i=r.rows.length,s=0;s<i;s++)for(l=r.rows[s],a=0;a<l.length;a++)l[a].tokens=this.lexer.inline(l[a].text);return r}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:cn(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):cn(n[0]):n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=fp(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{const s=zQ(n[2],"()");if(s>-1){const l=(n[0].indexOf("!")===0?5:4)+n[1].length+s;n[2]=n[2].substring(0,s),n[0]=n[0].substring(0,l).trim(),n[3]=""}}let i=n[2],o="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);s&&(i=s[1],o=s[3])}else o=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),e8(n,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:o&&o.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=n[i.toLowerCase()],!i||!i.href){const o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return e8(r,i,r[0],this.lexer)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;const o=i[1]||i[2]||"";if(!o||o&&(r===""||this.rules.inline.punctuation.exec(r))){const s=i[0].length-1;let a,l,u=s,c=0;const f=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(f.lastIndex=0,n=n.slice(-1*e.length+s);(i=f.exec(n))!=null;){if(a=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!a)continue;if(l=a.length,i[3]||i[4]){u+=l;continue}else if((i[5]||i[6])&&s%3&&!((s+l)%3)){c+=l;continue}if(u-=l,u>0)continue;if(l=Math.min(l,l+u+c),Math.min(s,l)%2){const h=e.slice(1,s+i.index+l);return{type:"em",raw:e.slice(0,s+i.index+l+1),text:h,tokens:this.lexer.inlineTokens(h)}}const d=e.slice(2,s+i.index+l-1);return{type:"strong",raw:e.slice(0,s+i.index+l+1),text:d,tokens:this.lexer.inlineTokens(d)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const i=/[^ ]/.test(r),o=/^ /.test(r)&&/ $/.test(r);return i&&o&&(r=r.substring(1,r.length-1)),r=cn(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e,n){const r=this.rules.inline.autolink.exec(e);if(r){let i,o;return r[2]==="@"?(i=cn(this.options.mangle?n(r[1]):r[1]),o="mailto:"+i):(i=cn(r[1]),o=i),{type:"link",raw:r[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}url(e,n){let r;if(r=this.rules.inline.url.exec(e)){let i,o;if(r[2]==="@")i=cn(this.options.mangle?n(r[0]):r[0]),o="mailto:"+i;else{let s;do s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(s!==r[0]);i=cn(r[0]),r[1]==="www."?o="http://"+i:o=i}return{type:"link",raw:r[0],text:i,href:o,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,n){const r=this.rules.inline.text.exec(e);if(r){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):cn(r[0]):r[0]:i=cn(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}}const _e={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:ym,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};_e._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;_e._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;_e.def=ct(_e.def).replace("label",_e._label).replace("title",_e._title).getRegex();_e.bullet=/(?:[*+-]|\d{1,9}[.)])/;_e.listItemStart=ct(/^( *)(bull) */).replace("bull",_e.bullet).getRegex();_e.list=ct(_e.list).replace(/bull/g,_e.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+_e.def.source+")").getRegex();_e._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";_e._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;_e.html=ct(_e.html,"i").replace("comment",_e._comment).replace("tag",_e._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();_e.paragraph=ct(_e._paragraph).replace("hr",_e.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_e._tag).getRegex();_e.blockquote=ct(_e.blockquote).replace("paragraph",_e.paragraph).getRegex();_e.normal=Di({},_e);_e.gfm=Di({},_e.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"});_e.gfm.table=ct(_e.gfm.table).replace("hr",_e.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_e._tag).getRegex();_e.gfm.paragraph=ct(_e._paragraph).replace("hr",_e.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",_e.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",_e._tag).getRegex();_e.pedantic=Di({},_e.normal,{html:ct(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",_e._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ym,paragraph:ct(_e.normal._paragraph).replace("hr",_e.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",_e.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()});const ge={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:ym,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:ym,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/};ge._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~";ge.punctuation=ct(ge.punctuation).replace(/punctuation/g,ge._punctuation).getRegex();ge.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g;ge.escapedEmSt=/\\\*|\\_/g;ge._comment=ct(_e._comment).replace("(?:-->|$)","-->").getRegex();ge.emStrong.lDelim=ct(ge.emStrong.lDelim).replace(/punct/g,ge._punctuation).getRegex();ge.emStrong.rDelimAst=ct(ge.emStrong.rDelimAst,"g").replace(/punct/g,ge._punctuation).getRegex();ge.emStrong.rDelimUnd=ct(ge.emStrong.rDelimUnd,"g").replace(/punct/g,ge._punctuation).getRegex();ge._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g;ge._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;ge._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;ge.autolink=ct(ge.autolink).replace("scheme",ge._scheme).replace("email",ge._email).getRegex();ge._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;ge.tag=ct(ge.tag).replace("comment",ge._comment).replace("attribute",ge._attribute).getRegex();ge._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;ge._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;ge._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;ge.link=ct(ge.link).replace("label",ge._label).replace("href",ge._href).replace("title",ge._title).getRegex();ge.reflink=ct(ge.reflink).replace("label",ge._label).replace("ref",_e._label).getRegex();ge.nolink=ct(ge.nolink).replace("ref",_e._label).getRegex();ge.reflinkSearch=ct(ge.reflinkSearch,"g").replace("reflink",ge.reflink).replace("nolink",ge.nolink).getRegex();ge.normal=Di({},ge);ge.pedantic=Di({},ge.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ct(/^!?\[(label)\]\((.*?)\)/).replace("label",ge._label).getRegex(),reflink:ct(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ge._label).getRegex()});ge.gfm=Di({},ge.normal,{escape:ct(ge.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/});ge.gfm.url=ct(ge.gfm.url,"i").replace("email",ge.gfm._extended_email).getRegex();ge.breaks=Di({},ge.gfm,{br:ct(ge.br).replace("{2,}","*").getRegex(),text:ct(ge.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()});function $Q(t){return t.replace(/---/g,"\u2014").replace(/--/g,"\u2013").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1\u2018").replace(/'/g,"\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1\u201C").replace(/"/g,"\u201D").replace(/\.{3}/g,"\u2026")}function t8(t){let e="",n,r;const i=t.length;for(n=0;n<i;n++)r=t.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}class Ko{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||Ac,this.options.tokenizer=this.options.tokenizer||new X5,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:_e.normal,inline:ge.normal};this.options.pedantic?(n.block=_e.pedantic,n.inline=ge.pedantic):this.options.gfm&&(n.block=_e.gfm,this.options.breaks?n.inline=ge.breaks:n.inline=ge.gfm),this.tokenizer.rules=n}static get rules(){return{block:_e,inline:ge}}static lex(e,n){return new Ko(n).lex(e)}static lexInline(e,n){return new Ko(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(a,l,u)=>l+"    ".repeat(u.length));let r,i,o,s;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(a=>(r=a.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(o=e,this.options.extensions&&this.options.extensions.startBlock){let a=1/0;const l=e.slice(1);let u;this.options.extensions.startBlock.forEach(function(c){u=c.call({lexer:this},l),typeof u=="number"&&u>=0&&(a=Math.min(a,u))}),a<1/0&&a>=0&&(o=e.substring(0,a+1))}if(this.state.top&&(r=this.tokenizer.paragraph(o))){i=n[n.length-1],s&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),s=o.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(e){const a="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(a);break}else throw new Error(a)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,i,o,s=e,a,l,u;if(this.tokens.links){const c=Object.keys(this.tokens.links);if(c.length>0)for(;(a=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)c.includes(a[0].slice(a[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,a.index)+"["+Z7("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(a=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,a.index)+"["+Z7("a",a[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(a=this.tokenizer.rules.inline.escapedEmSt.exec(s))!=null;)s=s.slice(0,a.index)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;e;)if(l||(u=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(c=>(r=c.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,s,u)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e,t8)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,t8))){e=e.substring(r.raw.length),n.push(r);continue}if(o=e,this.options.extensions&&this.options.extensions.startInline){let c=1/0;const f=e.slice(1);let d;this.options.extensions.startInline.forEach(function(h){d=h.call({lexer:this},f),typeof d=="number"&&d>=0&&(c=Math.min(c,d))}),c<1/0&&c>=0&&(o=e.substring(0,c+1))}if(r=this.tokenizer.inlineText(o,$Q)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(u=r.raw.slice(-1)),l=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(e){const c="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(c);break}else throw new Error(c)}}return n}}class J5{constructor(e){this.options=e||Ac}code(e,n,r){const i=(n||"").match(/\S*/)[0];if(this.options.highlight){const o=this.options.highlight(e,i);o!=null&&o!==e&&(r=!0,e=o)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+cn(i,!0)+'">'+(r?e:cn(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:cn(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e){return e}heading(e,n,r,i){if(this.options.headerIds){const o=this.options.headerPrefix+i.slug(r);return`<h${n} id="${o}">${e}</h${n}>
`}return`<h${n}>${e}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,n,r){const i=n?"ol":"ul",o=n&&r!==1?' start="'+r+'"':"";return"<"+i+o+`>
`+e+"</"+i+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,n,r){if(e=J7(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i='<a href="'+cn(e)+'"';return n&&(i+=' title="'+n+'"'),i+=">"+r+"</a>",i}image(e,n,r){if(e=J7(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i=`<img src="${e}" alt="${r}"`;return n&&(i+=` title="${n}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class UA{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}}class HA{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let r=e,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[e];do i++,r=e+"-"+i;while(this.seen.hasOwnProperty(r))}return n||(this.seen[e]=i,this.seen[r]=0),r}slug(e,n={}){const r=this.serialize(e);return this.getNextSafeSlug(r,n.dryrun)}}class oo{constructor(e){this.options=e||Ac,this.options.renderer=this.options.renderer||new J5,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new UA,this.slugger=new HA}static parse(e,n){return new oo(n).parse(e)}static parseInline(e,n){return new oo(n).parseInline(e)}parse(e,n=!0){let r="",i,o,s,a,l,u,c,f,d,h,g,y,S,v,m,p,x,b,_;const T=e.length;for(i=0;i<T;i++){if(h=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(_=this.options.extensions.renderers[h.type].call({parser:this},h),_!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))){r+=_||"";continue}switch(h.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(h.tokens),h.depth,FA(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(h.text,h.lang,h.escaped);continue}case"table":{for(f="",c="",a=h.header.length,o=0;o<a;o++)c+=this.renderer.tablecell(this.parseInline(h.header[o].tokens),{header:!0,align:h.align[o]});for(f+=this.renderer.tablerow(c),d="",a=h.rows.length,o=0;o<a;o++){for(u=h.rows[o],c="",l=u.length,s=0;s<l;s++)c+=this.renderer.tablecell(this.parseInline(u[s].tokens),{header:!1,align:h.align[s]});d+=this.renderer.tablerow(c)}r+=this.renderer.table(f,d);continue}case"blockquote":{d=this.parse(h.tokens),r+=this.renderer.blockquote(d);continue}case"list":{for(g=h.ordered,y=h.start,S=h.loose,a=h.items.length,d="",o=0;o<a;o++)m=h.items[o],p=m.checked,x=m.task,v="",m.task&&(b=this.renderer.checkbox(p),S?m.tokens.length>0&&m.tokens[0].type==="paragraph"?(m.tokens[0].text=b+" "+m.tokens[0].text,m.tokens[0].tokens&&m.tokens[0].tokens.length>0&&m.tokens[0].tokens[0].type==="text"&&(m.tokens[0].tokens[0].text=b+" "+m.tokens[0].tokens[0].text)):m.tokens.unshift({type:"text",text:b}):v+=b),v+=this.parse(m.tokens,S),d+=this.renderer.listitem(v,x,p);r+=this.renderer.list(d,g,y);continue}case"html":{r+=this.renderer.html(h.text);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(h.tokens));continue}case"text":{for(d=h.tokens?this.parseInline(h.tokens):h.text;i+1<T&&e[i+1].type==="text";)h=e[++i],d+=`
`+(h.tokens?this.parseInline(h.tokens):h.text);r+=n?this.renderer.paragraph(d):d;continue}default:{const M='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(M);return}else throw new Error(M)}}}return r}parseInline(e,n){n=n||this.renderer;let r="",i,o,s;const a=e.length;for(i=0;i<a;i++){if(o=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[o.type]&&(s=this.options.extensions.renderers[o.type].call({parser:this},o),s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(o.type))){r+=s||"";continue}switch(o.type){case"escape":{r+=n.text(o.text);break}case"html":{r+=n.html(o.text);break}case"link":{r+=n.link(o.href,o.title,this.parseInline(o.tokens,n));break}case"image":{r+=n.image(o.href,o.title,o.text);break}case"strong":{r+=n.strong(this.parseInline(o.tokens,n));break}case"em":{r+=n.em(this.parseInline(o.tokens,n));break}case"codespan":{r+=n.codespan(o.text);break}case"br":{r+=n.br();break}case"del":{r+=n.del(this.parseInline(o.tokens,n));break}case"text":{r+=n.text(o.text);break}default:{const l='Token with "'+o.type+'" type was not found.';if(this.options.silent){console.error(l);return}else throw new Error(l)}}}return r}}function Me(t,e,n){if(typeof t>"u"||t===null)throw new Error("marked(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");if(typeof e=="function"&&(n=e,e=null),e=Di({},Me.defaults,e||{}),VA(e),n){const i=e.highlight;let o;try{o=Ko.lex(t,e)}catch(l){return n(l)}const s=function(l){let u;if(!l)try{e.walkTokens&&Me.walkTokens(o,e.walkTokens),u=oo.parse(o,e)}catch(c){l=c}return e.highlight=i,l?n(l):n(null,u)};if(!i||i.length<3||(delete e.highlight,!o.length))return s();let a=0;Me.walkTokens(o,function(l){l.type==="code"&&(a++,setTimeout(()=>{i(l.text,l.lang,function(u,c){if(u)return s(u);c!=null&&c!==l.text&&(l.text=c,l.escaped=!0),a--,a===0&&s()})},0))}),a===0&&s();return}function r(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+cn(i.message+"",!0)+"</pre>";throw i}try{const i=Ko.lex(t,e);if(e.walkTokens){if(e.async)return Promise.all(Me.walkTokens(i,e.walkTokens)).then(()=>oo.parse(i,e)).catch(r);Me.walkTokens(i,e.walkTokens)}return oo.parse(i,e)}catch(i){r(i)}}Me.options=Me.setOptions=function(t){return Di(Me.defaults,t),kQ(Me.defaults),Me};Me.getDefaults=$A;Me.defaults=Ac;Me.use=function(...t){const e=Di({},...t),n=Me.defaults.extensions||{renderers:{},childTokens:{}};let r;t.forEach(i=>{if(i.extensions&&(r=!0,i.extensions.forEach(o=>{if(!o.name)throw new Error("extension name required");if(o.renderer){const s=n.renderers?n.renderers[o.name]:null;s?n.renderers[o.name]=function(...a){let l=o.renderer.apply(this,a);return l===!1&&(l=s.apply(this,a)),l}:n.renderers[o.name]=o.renderer}if(o.tokenizer){if(!o.level||o.level!=="block"&&o.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");n[o.level]?n[o.level].unshift(o.tokenizer):n[o.level]=[o.tokenizer],o.start&&(o.level==="block"?n.startBlock?n.startBlock.push(o.start):n.startBlock=[o.start]:o.level==="inline"&&(n.startInline?n.startInline.push(o.start):n.startInline=[o.start]))}o.childTokens&&(n.childTokens[o.name]=o.childTokens)})),i.renderer){const o=Me.defaults.renderer||new J5;for(const s in i.renderer){const a=o[s];o[s]=(...l)=>{let u=i.renderer[s].apply(o,l);return u===!1&&(u=a.apply(o,l)),u}}e.renderer=o}if(i.tokenizer){const o=Me.defaults.tokenizer||new X5;for(const s in i.tokenizer){const a=o[s];o[s]=(...l)=>{let u=i.tokenizer[s].apply(o,l);return u===!1&&(u=a.apply(o,l)),u}}e.tokenizer=o}if(i.walkTokens){const o=Me.defaults.walkTokens;e.walkTokens=function(s){let a=[];return a.push(i.walkTokens.call(this,s)),o&&(a=a.concat(o.call(this,s))),a}}r&&(e.extensions=n),Me.setOptions(e)})};Me.walkTokens=function(t,e){let n=[];for(const r of t)switch(n=n.concat(e.call(Me,r)),r.type){case"table":{for(const i of r.header)n=n.concat(Me.walkTokens(i.tokens,e));for(const i of r.rows)for(const o of i)n=n.concat(Me.walkTokens(o.tokens,e));break}case"list":{n=n.concat(Me.walkTokens(r.items,e));break}default:Me.defaults.extensions&&Me.defaults.extensions.childTokens&&Me.defaults.extensions.childTokens[r.type]?Me.defaults.extensions.childTokens[r.type].forEach(function(i){n=n.concat(Me.walkTokens(r[i],e))}):r.tokens&&(n=n.concat(Me.walkTokens(r.tokens,e)))}return n};Me.parseInline=function(t,e){if(typeof t>"u"||t===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof t!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(t)+", string expected");e=Di({},Me.defaults,e||{}),VA(e);try{const n=Ko.lexInline(t,e);return e.walkTokens&&Me.walkTokens(n,e.walkTokens),oo.parseInline(n,e)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,e.silent)return"<p>An error occurred:</p><pre>"+cn(n.message+"",!0)+"</pre>";throw n}};Me.Parser=oo;Me.parser=oo.parse;Me.Renderer=J5;Me.TextRenderer=UA;Me.Lexer=Ko;Me.lexer=Ko.lex;Me.Tokenizer=X5;Me.Slugger=HA;Me.parse=Me;Me.options;Me.setOptions;Me.use;Me.walkTokens;Me.parseInline;oo.parse;Ko.lex;var FQ=Object.defineProperty,VQ=Object.getOwnPropertyDescriptor,z1=(t,e,n,r)=>{for(var i=r>1?void 0:r?VQ(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&FQ(e,n,i),i},UQ=xz(vm);function HQ(t){return qQ.turndown(t)}function Sv(t){const e=t.parentNode;if(!Ft(e))return!1;if(e.nodeName==="THEAD")return!0;if(e.nodeName!=="TABLE"&&!jA(e))return!1;const n=[...t.childNodes];return n.every(r=>r.nodeName==="TH")&&n.some(r=>!!r.textContent)}function xm(t){return Ft(t)&&t.matches("th[data-controller-cell]")}function jQ(t){const e=t.parentNode;return!Ft(e)||e.nodeName!=="TABLE"&&!jA(e)?!1:[...t.childNodes].every(r=>xm(r))}function jA(t){var e;if(t.nodeName!=="TBODY")return!1;const n=t.previousSibling;return n?Ft(n)&&n.nodeName==="THEAD"&&!((e=n.textContent)!=null&&e.trim()):!0}function n8(t){const e=t.closest("table");if(!e)return!1;const{parentNode:n}=e;return n?!!n.closest("table"):!0}function r8(t,e){var n,r;const i=[];for(const a of(r=(n=e.parentNode)==null?void 0:n.childNodes)!=null?r:[])xm(a)||i.push(a);return`${(i.indexOf(e)===0?"| ":" ")+t.trim()} |`}var qQ=new UQ({codeBlockStyle:"fenced",headingStyle:"atx"}).addRule("taskListItems",{filter:t=>t.nodeName==="LI"&&t.hasAttribute("data-task-list-item"),replacement:(t,e)=>`- ${e.hasAttribute("data-checked")?"[x]":"[ ]"} ${t.trimStart()}`}).addRule("tableCell",{filter:["th","td"],replacement:(t,e)=>xm(e)?"":r8(t,e)}).addRule("tableRow",{filter:"tr",replacement:(t,e)=>{var n;let r="";const i={left:":--",right:"--:",center:":-:"},o=[...e.childNodes].filter(s=>!xm(s));if(Sv(e))for(const s of o){if(!Ft(s))continue;let a="---";const l=((n=s.getAttribute("align"))!=null?n:"").toLowerCase();l&&(a=i[l]||a),r+=r8(a,s)}return`
${t}${r?`
${r}`:""}`}}).addRule("table",{filter:t=>{if(t.nodeName!=="TABLE"||n8(t))return!1;const e=[...t.rows].filter(n=>!jQ(n));return Sv(e[0])},replacement:t=>(t=t.replace(`

`,`
`),`

${t}

`)}).addRule("tableSection",{filter:["thead","tbody","tfoot"],replacement:function(t){return t}}).keep(t=>t.nodeName==="TABLE"&&!Sv(t.rows[0])).keep(t=>t.nodeName==="TABLE"&&n8(t)).addRule("strikethrough",{filter:["del","s","strike"],replacement:function(t){return`~${t}~`}}).addRule("fencedCodeBlock",{filter:(t,e)=>!!(e.codeBlockStyle==="fenced"&&t.nodeName==="PRE"&&t.firstChild&&t.firstChild.nodeName==="CODE"),replacement:(t,e,n)=>{var r,i,o,s,a;be(Ft(e.firstChild),{code:re.EXTENSION,message:`Invalid node \`${(r=e.firstChild)==null?void 0:r.nodeName}\` encountered for codeblock when converting html to markdown.`});const u=(a=(s=(o=((i=e.firstChild.getAttribute("class"))!=null?i:"").match(/(?:lang|language)-(\S+)/))==null?void 0:o[1])!=null?s:e.firstChild.getAttribute("data-code-block-language"))!=null?a:"";return`

${n.fence}${u}
${e.firstChild.textContent}
${n.fence}

`}});Me.use({renderer:{list(t,e,n){return e?`<ol ${n!==1?`start="${n}"`:""}>
${t}</ol>
`:`<ul ${t.startsWith("<li data-task-list-item ")?"data-task-list":""}>
${t}</ul>
`},listitem(t,e,n){return e?`<li data-task-list-item ${n?"data-checked":""}>${t}</li>
`:`<li>${t}</li>
`}}});function WQ(t,e){return Me(t,{gfm:!0,smartLists:!0,xhtml:!0,sanitizer:e})}function KQ(t){be(typeof document,{code:re.EXTENSION,message:"Attempting to sanitize html within a non-browser environment. Please provide your own `sanitizeHtml` method to the `MarkdownExtension`."});const e=new DOMParser().parseFromString(`<!DOCTYPE html><html><body>${t}</body>`,"text/html");return e.normalize(),qA(e.body),e.body.innerHTML}function qA(t){if(!uV(t)){if(!Ft(t)||/^(script|iframe|object|embed|svg)$/i.test(t.tagName))return t==null?void 0:t.remove();for(const{name:e}of t.attributes)/^(class|id|name|href|src|alt|align|valign)$/i.test(e)||t.attributes.removeNamedItem(e);for(const e of t.childNodes)qA(e)}}var uc=class extends _t{get name(){return"markdown"}onCreate(){this.store.setStringHandler("markdown",this.markdownToProsemirrorNode.bind(this))}createPlugin(){return{props:{clipboardTextSerializer:this.options.copyAsMarkdown?e=>{const n=document.createElement("div"),r=Ur.fromSchema(this.store.schema);return n.append(r.serializeFragment(e.content)),this.options.htmlToMarkdown(n.innerHTML)}:void 0}}}markdownToProsemirrorNode(t){return this.store.stringHandlers.html({...t,content:this.options.markdownToHtml(t.content,this.options.htmlSanitizer)})}insertMarkdown(t,e){return n=>{const{state:r}=n;let i=this.options.markdownToHtml(t,this.options.htmlSanitizer);i=!(e!=null&&e.alwaysWrapInBlock)&&i.startsWith("<p><")&&i.endsWith(`</p>
`)?i.slice(3,-5):`<div>${i}</div>`;const o=this.store.stringHandlers.html({content:i,schema:r.schema,fragment:!0});return this.store.commands.insertNode.original(o,{...e,replaceEmptyParentBlock:!0})(n)}}getMarkdown(t){return this.options.htmlToMarkdown(this.store.helpers.getHTML(t))}toggleBoldMarkdown(){return t=>!1}};z1([pe()],uc.prototype,"insertMarkdown",1);z1([Lt()],uc.prototype,"getMarkdown",1);z1([pe()],uc.prototype,"toggleBoldMarkdown",1);uc=z1([Xe({defaultOptions:{htmlToMarkdown:HQ,markdownToHtml:WQ,htmlSanitizer:KQ,activeNodes:[De.Code],copyAsMarkdown:!1},staticKeys:["htmlToMarkdown","markdownToHtml","htmlSanitizer"]})],uc);var GQ=Object.defineProperty,YQ=Object.getOwnPropertyDescriptor,B1=(t,e,n,r)=>{for(var i=r>1?void 0:r?YQ(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&GQ(e,n,i),i},XQ={icon:"paragraph",label:({t})=>t(nm.INSERT_LABEL),description:({t})=>t(nm.INSERT_DESCRIPTION)},JQ={icon:"paragraph",label:({t})=>t(nm.CONVERT_LABEL),description:({t})=>t(nm.CONVERT_DESCRIPTION)},_l=class extends Xn{get name(){return"paragraph"}createTags(){return[De.LastNodeCompatible,De.TextBlock,De.Block,De.FormattingNode]}createNodeSpec(t,e){var n;return{content:"inline*",draggable:!1,...e,attrs:{...t.defaults()},parseDOM:[{tag:"p",getAttrs:r=>({...t.parse(r)})},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>["p",t.dom(r),0]}}convertParagraph(t={}){const{attrs:e,selection:n,preserveAttrs:r}=t;return this.store.commands.setBlockNodeType.original(this.type,e,n,r)}insertParagraph(t,e={}){const{selection:n,attrs:r}=e;return this.store.commands.insertNode.original(this.type,{content:t,selection:n,attrs:r})}shortcut(t){return this.convertParagraph()(t)}};B1([pe(JQ)],_l.prototype,"convertParagraph",1);B1([pe(XQ)],_l.prototype,"insertParagraph",1);B1([an({shortcut:ie.Paragraph,command:"convertParagraph"})],_l.prototype,"shortcut",1);_l=B1([Xe({defaultPriority:lt.Medium})],_l);var QQ=Object.defineProperty,ZQ=Object.getOwnPropertyDescriptor,eZ=(t,e,n,r)=>{for(var i=r>1?void 0:r?ZQ(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&QQ(e,n,i),i},El=class extends _t{get name(){return"placeholder"}createAttributes(){return{"aria-placeholder":this.options.placeholder}}createPlugin(){return{state:{init:(t,e)=>({...this.options,empty:JC(e.doc,{ignoreAttributes:!0})}),apply:(t,e,n,r)=>tZ({pluginState:e,tr:t,extension:this,state:r})},props:{decorations:t=>nZ({state:t,extension:this})}}}onSetOptions(t){const{changes:e}=t;e.placeholder.changed&&this.store.phase>=nr.EditorView&&this.store.updateAttributes()}};El=eZ([Xe({defaultOptions:{emptyNodeClass:xq.IS_EMPTY,placeholder:""}})],El);function tZ(t){const{pluginState:e,extension:n,tr:r,state:i}=t;return r.docChanged?{...n.options,empty:JC(i.doc)}:e}function nZ(t){const{extension:e,state:n}=t,{empty:r}=e.pluginKey.getState(n),{emptyNodeClass:i,placeholder:o}=e.options;if(!r)return null;const s=[];return n.doc.descendants((a,l)=>{const u=mt.node(l,l+a.nodeSize,{class:i,"data-placeholder":o});s.push(u)}),rt.create(n.doc,s)}var rZ=Object.defineProperty,iZ=Object.getOwnPropertyDescriptor,oZ=(t,e,n,r)=>{for(var i=r>1?void 0:r?iZ(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&rZ(e,n,i),i},L4=class extends Xn{get name(){return"text"}createTags(){return[De.InlineNode]}createNodeSpec(){return{}}};L4=oZ([Xe({disableExtraAttributes:!0,defaultPriority:lt.Medium})],L4);var sZ=Object.defineProperty,aZ=Object.getOwnPropertyDescriptor,Q5=(t,e,n,r)=>{for(var i=r>1?void 0:r?aZ(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&sZ(e,n,i),i},lZ={icon:"underline",label:({t})=>t(kb.LABEL),description:({t})=>t(kb.DESCRIPTION)},qd=class extends Cc{get name(){return"underline"}createTags(){return[De.FontStyle,De.FormattingMark]}createMarkSpec(t,e){var n;return{...e,attrs:t.defaults(),parseDOM:[{tag:"u",getAttrs:t.parse},{style:"text-decoration",getAttrs:r=>r==="underline"?{}:!1},...(n=e.parseDOM)!=null?n:[]],toDOM:r=>["u",t.dom(r),0]}}toggleUnderline(t){return bl({type:this.type,selection:t})}shortcut(t){return this.toggleUnderline()(t)}};Q5([pe(lZ)],qd.prototype,"toggleUnderline",1);Q5([an({shortcut:ie.Underline,command:"toggleUnderline"})],qd.prototype,"shortcut",1);qd=Q5([Xe({})],qd);var uZ={...Bd.defaultOptions,..._l.defaultOptions,...lo.defaultOptions,excludeExtensions:[]};function cZ(t={}){t={...uZ,...t};const{content:e,depth:n,getDispatch:r,getState:i,newGroupDelay:o,excludeExtensions:s}=t,a={};for(const u of s!=null?s:[])a[u]=!0;const l=[];if(!a.history){const u=new lo({depth:n,getDispatch:r,getState:i,newGroupDelay:o});l.push(u)}return a.doc||l.push(new Bd({content:e})),a.text||l.push(new L4),a.paragraph||l.push(new _l),a.positioner||l.push(new Ld),a.gapCursor||l.push(new D4),a.events||l.push(new Fd),l}function fZ(t){const e=z.exports.createContext(null),n=dZ(e);return[i=>{const o=t(i);return Zs.createElement(e.Provider,{value:o},i.children)},n,e]}function dZ(t){return(e,n)=>{const r=z.exports.useContext(t),i=hZ(r);if(!r)throw new Error("`useContextHook` must be placed inside the `Provider` returned by the `createContextState` method");if(!e)return r;if(typeof e!="function")throw new TypeError("invalid arguments passed to `useContextHook`. This hook must be called with zero arguments, a getter function or a path string.");const o=e(r);if(!i||!n)return o;const s=e(i);return n(s,o)?s:o}}function hZ(t){const e=z.exports.useRef();return pZ(()=>{e.current=t}),e.current}var pZ=typeof document<"u"?z.exports.useLayoutEffect:z.exports.useEffect;function mZ(t,e){return fZ(n=>{const r=z.exports.useRef(null),i=z.exports.useRef(),o=e==null?void 0:e(n),[s,a]=z.exports.useState(()=>t({get:i8(r),set:o8(i),previousContext:void 0,props:n,state:o})),l=[...Object.values(n),o];return z.exports.useEffect(()=>{l.length!==0&&a(u=>t({get:i8(r),set:o8(i),previousContext:u,props:n,state:o}))},l),r.current=s,i.current=a,s})}function i8(t){return e=>{if(!t.current)throw new Error("`get` called outside of function scope. `get` can only be called within a function.");if(!e)return t.current;if(typeof e!="function")throw new TypeError("Invalid arguments passed to `useContextHook`. The hook must be called with zero arguments, a getter function or a path string.");return e(t.current)}}function o8(t){return e=>{if(!t.current)throw new Error("`set` called outside of function scope. `set` can only be called within a function.");t.current(n=>({...n,...typeof e=="function"?e(n):e}))}}function WA(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s8(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function KA(t,e,n){return e&&s8(t.prototype,e),n&&s8(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function z4(t,e){return z4=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},z4(t,e)}function gZ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&z4(t,e)}function B4(t){return B4=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B4(t)}function vZ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yZ(t,e){if(e&&(B4(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vZ(t)}function wm(t){return wm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wm(t)}function xZ(t){if(Array.isArray(t))return t}function wZ(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r=[],i=!0,o=!1,s,a;try{for(n=n.call(t);!(i=(s=n.next()).done)&&(r.push(s.value),!(e&&r.length===e));i=!0);}catch(l){o=!0,a=l}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw a}}return r}}function a8(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bZ(t,e){if(!!t){if(typeof t=="string")return a8(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a8(t,e)}}function SZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kZ(t,e){return xZ(t)||wZ(t,e)||bZ(t,e)||SZ()}var Qi=function(t){return typeof t=="string"},$4=function(t){return typeof t=="function"},l8=new Map,u8=new Map;function Z5(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return function(r){if(Qi(r)&&(r=new Date(r)),n){var i=GA(t,e),o=u8.get(i);if(o)return o.format(r);var s=new Intl.DateTimeFormat(t,e);return u8.set(i,s),s.format(r)}var a=new Intl.DateTimeFormat(t,e);return a.format(r)}}function bm(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return function(r){if(n){var i=GA(t,e),o=l8.get(i);if(o)return o.format(r);var s=new Intl.NumberFormat(t,e);return l8.set(i,s),s.format(r)}var a=new Intl.NumberFormat(t,e);return a.format(r)}}function GA(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=Array.isArray(t)?t.sort().join("-"):t;return"".concat(n,"-").concat(JSON.stringify(e))}Object.freeze({__proto__:null,date:Z5,number:bm});var YA=/\\u[a-fA-F0-9]{4}|\\x[a-fA-F0-9]{2}/g;function _Z(t){var e=t.locale,n=t.locales,r=t.values,i=t.formats,o=t.localeData,s=function(a,l){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{plurals:void 0},c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};l=l||a;var f=u.plurals,d=function(g){return Qi(g)?c[g]||{style:g}:g},h=function(g,y){return function(S){var v=$4(y)?y(S):y,m=Array.isArray(v)?v:[v],p=bm(l)(g);return m.map(function(x){return Qi(x)?x.replace("#",p):x})}};return f||console.error("Plurals for locale ".concat(a," aren't loaded. Use i18n.loadLocaleData method to load plurals for specific locale. Using other plural rule as a fallback.")),{plural:function(g,y){var S=y.offset,v=S===void 0?0:S,m=q7(y,["offset"]),p=m[g]||m[f==null?void 0:f(g-v)]||m.other;return h(g-v,p)},selectordinal:function(g,y){var S=y.offset,v=S===void 0?0:S,m=q7(y,["offset"]),p=m[g]||m[f==null?void 0:f(g-v,!0)]||m.other;return h(g-v,p)},select:function(g,y){return y[g]||y.other},number:function(g,y){return bm(l,d(y))(g)},date:function(g,y){return Z5(l,d(y))(g)},undefined:function(g){return g}}}(e,n,o,i);return function a(l,u,c){var f=r[l],d=s[u](f,c),h=$4(d)?d(a):d;return Array.isArray(h)?h.join(""):h}}function EZ(t,e,n,r){return function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=_Z({locale:e,locales:n,localeData:r,formats:o,values:i}),a=function u(c){return Array.isArray(c)?c.reduce(function(f,d){if(Qi(d))return f+d;var h=kZ(d,3),g=h[0],y=h[1],S=h[2],v={};S==null||Qi(S)?v=S:Object.keys(S).forEach(function(p){v[p]=u(S[p])});var m=s(g,y,v);return m==null?f:f+m},""):c},l=a(t);return Qi(l)&&YA.test(l)?JSON.parse('"'.concat(l.trim(),'"')):Qi(l)?l.trim():l}}var CZ=function(){function t(){WA(this,t),this._events={}}return KA(t,[{key:"on",value:function(e,n){var r=this;return this._hasEvent(e)||(this._events[e]=[]),this._events[e].push(n),function(){return r.removeListener(e,n)}}},{key:"removeListener",value:function(e,n){if(this._hasEvent(e)){var r=this._events[e].indexOf(n);~r&&this._events[e].splice(r,1)}}},{key:"emit",value:function(e){for(var n=this,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];this._hasEvent(e)&&this._events[e].map(function(s){return s.apply(n,i)})}},{key:"_hasEvent",value:function(e){return Array.isArray(this._events[e])}}]),t}();function TZ(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var n,r=wm(t);if(e){var i=wm(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return yZ(this,n)}}var AZ=function(t){gZ(n,t);var e=TZ(n);function n(r){var i;return WA(this,n),i=e.call(this),i._messages={},i._localeData={},r.missing!=null&&(i._missing=r.missing),r.messages!=null&&i.load(r.messages),r.localeData!=null&&i.loadLocaleData(r.localeData),r.locale==null&&r.locales==null||i.activate(r.locale,r.locales),i}return KA(n,[{key:"_loadLocaleData",value:function(r,i){this._localeData[r]==null?this._localeData[r]=i:Object.assign(this._localeData[r],i)}},{key:"loadLocaleData",value:function(r,i){var o=this;i!=null?this._loadLocaleData(r,i):Object.keys(r).forEach(function(s){return o._loadLocaleData(s,r[s])}),this.emit("change")}},{key:"_load",value:function(r,i){this._messages[r]==null?this._messages[r]=i:Object.assign(this._messages[r],i)}},{key:"load",value:function(r,i){var o=this;i!=null?this._load(r,i):Object.keys(r).forEach(function(s){return o._load(s,r[s])}),this.emit("change")}},{key:"activate",value:function(r,i){this._locale=r,this._locales=i,this.emit("change")}},{key:"_",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=o.message,a=o.formats,l=o.context;Qi(r)||(i=r.values||i,s=r.message,l=r.context,r=r.id);var u,c=!l&&!this.messages[r],f=l&&!this.messages[l][r],d=f||c,h=this._missing;return h&&d?$4(h)?h(this._locale,r,l):h:(d&&this.emit("missing",{id:r,context:l,locale:this._locale}),u=l&&!f?this.messages[l][r]||s||r:this.messages[r]||s||r,Qi(u)&&YA.test(u)?JSON.parse('"'.concat(u,'"')):Qi(u)?u:EZ(u,this._locale,this._locales,this.localeData)(i,a))}},{key:"date",value:function(r,i){return Z5(this._locales||this._locale,i)(r)}},{key:"number",value:function(r,i){return bm(this._locales||this._locale,i)(r)}},{key:"locale",get:function(){return this._locale}},{key:"locales",get:function(){return this._locales}},{key:"messages",get:function(){var r;return(r=this._messages[this._locale])!==null&&r!==void 0?r:{}}},{key:"localeData",get:function(){var r;return(r=this._localeData[this._locale])!==null&&r!==void 0?r:{}}}]),n}(CZ);function OZ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new AZ(t)}var MZ=OZ();const $1=MZ;function le(t,e){return e?"other":t==1?"one":"other"}function ts(t,e){return e?"other":t==0||t==1?"one":"other"}function pr(t,e){var n=String(t).split("."),r=!n[1];return e?"other":t==1&&r?"one":"other"}function ot(t,e){return"other"}function wa(t,e){return e?"other":t==1?"one":t==2?"two":"other"}const NZ=ot,RZ=le,DZ=ts;function IZ(t,e){return e?"other":t>=0&&t<=1?"one":"other"}const PZ=le;function LZ(t,e){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-2);return e?"other":t==0?"zero":t==1?"one":t==2?"two":i>=3&&i<=10?"few":i>=11&&i<=99?"many":"other"}function zZ(t,e){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-2);return e?"other":t==0?"zero":t==1?"one":t==2?"two":i>=3&&i<=10?"few":i>=11&&i<=99?"many":"other"}function BZ(t,e){return e?t==1||t==5||t==7||t==8||t==9||t==10?"one":t==2||t==3?"two":t==4?"few":t==6?"many":"other":t>=0&&t<=1?"one":"other"}const $Z=le,FZ=pr;function VZ(t,e){var n=String(t).split("."),r=n[0],i=r.slice(-1),o=r.slice(-2),s=r.slice(-3);return e?i==1||i==2||i==5||i==7||i==8||o==20||o==50||o==70||o==80?"one":i==3||i==4||s==100||s==200||s==300||s==400||s==500||s==600||s==700||s==800||s==900?"few":r==0||i==6||o==40||o==60||o==90?"many":"other":t==1?"one":"other"}function UZ(t,e){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1),o=r&&n[0].slice(-2);return e?(i==2||i==3)&&o!=12&&o!=13?"few":"other":i==1&&o!=11?"one":i>=2&&i<=4&&(o<12||o>14)?"few":r&&i==0||i>=5&&i<=9||o>=11&&o<=14?"many":"other"}const HZ=le,jZ=le,qZ=le,WZ=ts,KZ=ot;function GZ(t,e){return e?t==1||t==5||t==7||t==8||t==9||t==10?"one":t==2||t==3?"two":t==4?"few":t==6?"many":"other":t>=0&&t<=1?"one":"other"}const YZ=ot;function XZ(t,e){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1),o=r&&n[0].slice(-2),s=r&&n[0].slice(-6);return e?"other":i==1&&o!=11&&o!=71&&o!=91?"one":i==2&&o!=12&&o!=72&&o!=92?"two":(i==3||i==4||i==9)&&(o<10||o>19)&&(o<70||o>79)&&(o<90||o>99)?"few":t!=0&&r&&s==0?"many":"other"}const JZ=le;function QZ(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",o=!n[1],s=r.slice(-1),a=r.slice(-2),l=i.slice(-1),u=i.slice(-2);return e?"other":o&&s==1&&a!=11||l==1&&u!=11?"one":o&&s>=2&&s<=4&&(a<12||a>14)||l>=2&&l<=4&&(u<12||u>14)?"few":"other"}function ZZ(t,e){var n=String(t).split("."),r=!n[1];return e?t==1||t==3?"one":t==2?"two":t==4?"few":"other":t==1&&r?"one":"other"}const eee=le;function tee(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",o=!n[1],s=r.slice(-1),a=i.slice(-1);return e?"other":o&&(r==1||r==2||r==3)||o&&s!=4&&s!=6&&s!=9||!o&&a!=4&&a!=6&&a!=9?"one":"other"}const nee=le,ree=le,iee=le;function oee(t,e){var n=String(t).split("."),r=n[0],i=!n[1];return e?"other":t==1&&i?"one":r>=2&&r<=4&&i?"few":i?"other":"many"}function see(t,e){return e?t==0||t==7||t==8||t==9?"zero":t==1?"one":t==2?"two":t==3||t==4?"few":t==5||t==6?"many":"other":t==0?"zero":t==1?"one":t==2?"two":t==3?"few":t==6?"many":"other"}function aee(t,e){var n=String(t).split("."),r=n[0],i=Number(n[0])==t;return e?"other":t==1||!i&&(r==0||r==1)?"one":"other"}const lee=pr;function uee(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",o=!n[1],s=r.slice(-2),a=i.slice(-2);return e?"other":o&&s==1||a==1?"one":o&&s==2||a==2?"two":o&&(s==3||s==4)||a==3||a==4?"few":"other"}const cee=le,fee=ot,dee=le,hee=le;function pee(t,e){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,o=i&&n[0].slice(-1),s=i&&n[0].slice(-2);return e?o==1&&s!=11?"one":o==2&&s!=12?"two":o==3&&s!=13?"few":"other":t==1&&r?"one":"other"}const mee=le,gee=le,vee=pr,yee=le;function xee(t,e){return e?"other":t>=0&&t<=1?"one":"other"}function wee(t,e){return e?"other":t>=0&&t<2?"one":"other"}const bee=pr;function See(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",o=!n[1],s=r.slice(-1),a=i.slice(-1);return e?t==1?"one":"other":o&&(r==1||r==2||r==3)||o&&s!=4&&s!=6&&s!=9||!o&&a!=4&&a!=6&&a!=9?"one":"other"}const kee=le;function _ee(t,e){return e?t==1?"one":"other":t>=0&&t<2?"one":"other"}const Eee=le,Cee=pr;function Tee(t,e){var n=String(t).split("."),r=Number(n[0])==t;return e?t==1?"one":"other":t==1?"one":t==2?"two":r&&t>=3&&t<=6?"few":r&&t>=7&&t<=10?"many":"other"}function Aee(t,e){var n=String(t).split("."),r=Number(n[0])==t;return e?t==1||t==11?"one":t==2||t==12?"two":t==3||t==13?"few":"other":t==1||t==11?"one":t==2||t==12?"two":r&&t>=3&&t<=10||r&&t>=13&&t<=19?"few":"other"}const Oee=pr,Mee=le;function Nee(t,e){return e?t==1?"one":t==2||t==3?"two":t==4?"few":t==6?"many":"other":t>=0&&t<=1?"one":"other"}const Ree=ts;function Dee(t,e){var n=String(t).split("."),r=n[0],i=!n[1],o=r.slice(-1),s=r.slice(-2);return e?"other":i&&o==1?"one":i&&o==2?"two":i&&(s==0||s==20||s==40||s==60||s==80)?"few":i?"other":"many"}const Iee=le,Pee=le;function Lee(t,e){var n=String(t).split("."),r=n[0],i=!n[1],o=Number(n[0])==t,s=o&&n[0].slice(-1);return e?"other":t==1&&i?"one":r==2&&i?"two":i&&(t<0||t>10)&&o&&s==0?"many":"other"}function zee(t,e){return e?t==1?"one":t==2||t==3?"two":t==4?"few":t==6?"many":"other":t>=0&&t<=1?"one":"other"}function Bee(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",o=!n[1],s=r.slice(-1),a=r.slice(-2),l=i.slice(-1),u=i.slice(-2);return e?"other":o&&s==1&&a!=11||l==1&&u!=11?"one":o&&s>=2&&s<=4&&(a<12||a>14)||l>=2&&l<=4&&(u<12||u>14)?"few":"other"}function $ee(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",o=!n[1],s=r.slice(-2),a=i.slice(-2);return e?"other":o&&s==1||a==1?"one":o&&s==2||a==2?"two":o&&(s==3||s==4)||a==3||a==4?"few":"other"}function Fee(t,e){return e?t==1||t==5?"one":"other":t==1?"one":"other"}function Vee(t,e){return e?t==1?"one":"other":t>=0&&t<2?"one":"other"}const Uee=pr,Hee=ot,jee=ot,qee=ot,Wee=pr;function Kee(t,e){var n=String(t).split("."),r=n[0],i=Number(n[0])==t,o=r.slice(-1),s=r.slice(-2);return e?"other":i&&o==1&&s!=11||!i?"one":"other"}function Gee(t,e){var n=String(t).split("."),r=!n[1];return e?t==11||t==8||t==80||t==800?"many":"other":t==1&&r?"one":"other"}const Yee=wa;function Xee(t,e){var n=String(t).split("."),r=n[0],i=!n[1],o=Number(n[0])==t,s=o&&n[0].slice(-1);return e?"other":t==1&&i?"one":r==2&&i?"two":i&&(t<0||t>10)&&o&&s==0?"many":"other"}const Jee=ot,Qee=ot,Zee=le,ete=pr,tte=le,nte=ot,rte=ot;function ite(t,e){var n=String(t).split("."),r=n[0],i=r.slice(-2);return e?r==1?"one":r==0||i>=2&&i<=20||i==40||i==60||i==80?"many":"other":t==1?"one":"other"}function ote(t,e){return e?"other":t>=0&&t<2?"one":"other"}const ste=le,ate=le,lte=ot,ute=ot;function cte(t,e){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1);return e?i==6||i==9||r&&i==0&&t!=0?"many":"other":t==1?"one":"other"}const fte=le,dte=le,hte=ot;function pte(t,e){return e?"other":t>=0&&t<=1?"one":"other"}const mte=ot,gte=le,vte=le;function yte(t,e){return e?"other":t==0?"zero":t==1?"one":"other"}const xte=le;function wte(t,e){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-2),o=r&&n[0].slice(-3),s=r&&n[0].slice(-5),a=r&&n[0].slice(-6);return e?r&&t>=1&&t<=4||i>=1&&i<=4||i>=21&&i<=24||i>=41&&i<=44||i>=61&&i<=64||i>=81&&i<=84?"one":t==5||i==5?"many":"other":t==0?"zero":t==1?"one":i==2||i==22||i==42||i==62||i==82||r&&o==0&&(s>=1e3&&s<=2e4||s==4e4||s==6e4||s==8e4)||t!=0&&a==1e5?"two":i==3||i==23||i==43||i==63||i==83?"few":t!=1&&(i==1||i==21||i==41||i==61||i==81)?"many":"other"}const bte=le;function Ste(t,e){var n=String(t).split("."),r=n[0];return e?"other":t==0?"zero":(r==0||r==1)&&t!=0?"one":"other"}const kte=le,_te=le,Ete=ot,Cte=ts;function Tte(t,e){return e&&t==1?"one":"other"}function Ate(t,e){var n=String(t).split("."),r=n[1]||"",i=Number(n[0])==t,o=i&&n[0].slice(-1),s=i&&n[0].slice(-2);return e?"other":o==1&&(s<11||s>19)?"one":o>=2&&o<=9&&(s<11||s>19)?"few":r!=0?"many":"other"}function Ote(t,e){var n=String(t).split("."),r=n[1]||"",i=r.length,o=Number(n[0])==t,s=o&&n[0].slice(-1),a=o&&n[0].slice(-2),l=r.slice(-2),u=r.slice(-1);return e?"other":o&&s==0||a>=11&&a<=19||i==2&&l>=11&&l<=19?"zero":s==1&&a!=11||i==2&&u==1&&l!=11||i!=2&&u==1?"one":"other"}const Mte=le,Nte=ts,Rte=le;function Dte(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",o=!n[1],s=r.slice(-1),a=r.slice(-2),l=i.slice(-1),u=i.slice(-2);return e?s==1&&a!=11?"one":s==2&&a!=12?"two":(s==7||s==8)&&a!=17&&a!=18?"many":"other":o&&s==1&&a!=11||l==1&&u!=11?"one":"other"}const Ite=le,Pte=le;function Lte(t,e){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,o=i&&n[0].slice(-2);return e?t==1?"one":"other":t==1&&r?"one":!r||t==0||o>=2&&o<=19?"few":"other"}function zte(t,e){return e?t==1?"one":t==2||t==3?"two":t==4?"few":"other":t==1?"one":"other"}function Bte(t,e){return e&&t==1?"one":"other"}function $te(t,e){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-2);return e?"other":t==1?"one":t==0||i>=2&&i<=10?"few":i>=11&&i<=19?"many":"other"}const Fte=ot,Vte=le,Ute=wa,Hte=le,jte=le;function qte(t,e){var n=String(t).split("."),r=Number(n[0])==t;return e?r&&t>=1&&t<=4?"one":"other":t==1?"one":"other"}const Wte=pr,Kte=le,Gte=le,Yte=le,Xte=ot,Jte=le,Qte=ts,Zte=le,ene=le,tne=le;function nne(t,e){var n=String(t).split("."),r=Number(n[0])==t;return e?t==1||t==5||r&&t>=7&&t<=9?"one":t==2||t==3?"two":t==4?"few":t==6?"many":"other":t==1?"one":"other"}const rne=le,ine=ot,one=ts,sne=le;function ane(t,e){var n=String(t).split("."),r=n[0],i=!n[1],o=r.slice(-1),s=r.slice(-2);return e?"other":t==1&&i?"one":i&&o>=2&&o<=4&&(s<12||s>14)?"few":i&&r!=1&&(o==0||o==1)||i&&o>=5&&o<=9||i&&s>=12&&s<=14?"many":"other"}function lne(t,e){var n=String(t).split("."),r=n[1]||"",i=r.length,o=Number(n[0])==t,s=o&&n[0].slice(-1),a=o&&n[0].slice(-2),l=r.slice(-2),u=r.slice(-1);return e?"other":o&&s==0||a>=11&&a<=19||i==2&&l>=11&&l<=19?"zero":s==1&&a!=11||i==2&&u==1&&l!=11||i!=2&&u==1?"one":"other"}const une=le;function cne(t,e){var n=String(t).split("."),r=n[0];return e?"other":r==0||r==1?"one":"other"}const fne=pr,dne=le;function hne(t,e){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,o=i&&n[0].slice(-2);return e?t==1?"one":"other":t==1&&r?"one":!r||t==0||o>=2&&o<=19?"few":"other"}const pne=le,mne=ot;function gne(t,e){var n=String(t).split("."),r=n[0],i=!n[1],o=r.slice(-1),s=r.slice(-2);return e?"other":i&&o==1&&s!=11?"one":i&&o>=2&&o<=4&&(s<12||s>14)?"few":i&&o==0||i&&o>=5&&o<=9||i&&s>=11&&s<=14?"many":"other"}const vne=le,yne=ot,xne=le;function wne(t,e){var n=String(t).split("."),r=!n[1];return e?t==11||t==8||t==80||t==800?"many":"other":t==1&&r?"one":"other"}function bne(t,e){var n=String(t).split("."),r=!n[1];return e?t==11||t==8||t==80||t==800?"many":"other":t==1&&r?"one":"other"}const Sne=le,kne=le,_ne=wa,Ene=le,Cne=ot,Tne=ot;function Ane(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",o=!n[1],s=r.slice(-1),a=r.slice(-2),l=i.slice(-1),u=i.slice(-2);return e?"other":o&&s==1&&a!=11||l==1&&u!=11?"one":o&&s>=2&&s<=4&&(a<12||a>14)||l>=2&&l<=4&&(u<12||u>14)?"few":"other"}function One(t,e){var n=String(t).split("."),r=Number(n[0])==t;return e?"other":t>=0&&t<=1?"one":r&&t>=2&&t<=10?"few":"other"}function Mne(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"";return e?"other":t==0||t==1||r==0&&i==1?"one":"other"}function Nne(t,e){var n=String(t).split("."),r=n[0],i=!n[1];return e?"other":t==1&&i?"one":r>=2&&r<=4&&i?"few":i?"other":"many"}function Rne(t,e){var n=String(t).split("."),r=n[0],i=!n[1],o=r.slice(-2);return e?"other":i&&o==1?"one":i&&o==2?"two":i&&(o==3||o==4)||!i?"few":"other"}const Dne=wa,Ine=wa,Pne=wa,Lne=wa,zne=wa,Bne=le,$ne=le;function Fne(t,e){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1),o=r&&n[0].slice(-2);return e?t==1?"one":i==4&&o!=14?"many":"other":t==1?"one":"other"}function Vne(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",o=!n[1],s=r.slice(-1),a=r.slice(-2),l=i.slice(-1),u=i.slice(-2);return e?"other":o&&s==1&&a!=11||l==1&&u!=11?"one":o&&s>=2&&s<=4&&(a<12||a>14)||l>=2&&l<=4&&(u<12||u>14)?"few":"other"}const Une=le,Hne=le,jne=le,qne=ot;function Wne(t,e){var n=String(t).split("."),r=!n[1],i=Number(n[0])==t,o=i&&n[0].slice(-1),s=i&&n[0].slice(-2);return e?(o==1||o==2)&&s!=11&&s!=12?"one":"other":t==1&&r?"one":"other"}const Kne=pr,Gne=le,Yne=le,Xne=le,Jne=le,Qne=ot,Zne=ts,ere=le;function tre(t,e){var n=String(t).split("."),r=Number(n[0])==t,i=r&&n[0].slice(-1);return e?i==6||i==9||t==10?"few":"other":t==1?"one":"other"}function nre(t,e){var n=String(t).split("."),r=n[0],i=n[1]||"",o=!n[1],s=r.slice(-1),a=i.slice(-1);return e?t==1?"one":"other":o&&(r==1||r==2||r==3)||o&&s!=4&&s!=6&&s!=9||!o&&a!=4&&a!=6&&a!=9?"one":"other"}const rre=le,ire=ot,ore=le,sre=le;function are(t,e){var n=String(t).split("."),r=Number(n[0])==t;return e?"other":t==0||t==1||r&&t>=11&&t<=99?"one":"other"}const lre=le;function ure(t,e){var n=String(t).split("."),r=n[0],i=!n[1],o=Number(n[0])==t,s=o&&n[0].slice(-1),a=o&&n[0].slice(-2),l=r.slice(-1),u=r.slice(-2);return e?s==3&&a!=13?"few":"other":i&&l==1&&u!=11?"one":i&&l>=2&&l<=4&&(u<12||u>14)?"few":i&&l==0||i&&l>=5&&l<=9||i&&u>=11&&u<=14?"many":"other"}const cre=pr,fre=le,dre=le;function hre(t,e){return e&&t==1?"one":"other"}const pre=le,mre=le,gre=ts,vre=le,yre=ot,xre=le,wre=le,bre=pr,Sre=ot,kre=ot,_re=ot;function Ere(t,e){return e?"other":t>=0&&t<=1?"one":"other"}const Cre=Object.freeze(Object.defineProperty({__proto__:null,_in:NZ,af:RZ,ak:DZ,am:IZ,an:PZ,ar:LZ,ars:zZ,as:BZ,asa:$Z,ast:FZ,az:VZ,be:UZ,bem:HZ,bez:jZ,bg:qZ,bho:WZ,bm:KZ,bn:GZ,bo:YZ,br:XZ,brx:JZ,bs:QZ,ca:ZZ,ce:eee,ceb:tee,cgg:nee,chr:ree,ckb:iee,cs:oee,cy:see,da:aee,de:lee,dsb:uee,dv:cee,dz:fee,ee:dee,el:hee,en:pee,eo:mee,es:gee,et:vee,eu:yee,fa:xee,ff:wee,fi:bee,fil:See,fo:kee,fr:_ee,fur:Eee,fy:Cee,ga:Tee,gd:Aee,gl:Oee,gsw:Mee,gu:Nee,guw:Ree,gv:Dee,ha:Iee,haw:Pee,he:Lee,hi:zee,hr:Bee,hsb:$ee,hu:Fee,hy:Vee,ia:Uee,id:Hee,ig:jee,ii:qee,io:Wee,is:Kee,it:Gee,iu:Yee,iw:Xee,ja:Jee,jbo:Qee,jgo:Zee,ji:ete,jmc:tte,jv:nte,jw:rte,ka:ite,kab:ote,kaj:ste,kcg:ate,kde:lte,kea:ute,kk:cte,kkj:fte,kl:dte,km:hte,kn:pte,ko:mte,ks:gte,ksb:vte,ksh:yte,ku:xte,kw:wte,ky:bte,lag:Ste,lb:kte,lg:_te,lkt:Ete,ln:Cte,lo:Tte,lt:Ate,lv:Ote,mas:Mte,mg:Nte,mgo:Rte,mk:Dte,ml:Ite,mn:Pte,mo:Lte,mr:zte,ms:Bte,mt:$te,my:Fte,nah:Vte,naq:Ute,nb:Hte,nd:jte,ne:qte,nl:Wte,nn:Kte,nnh:Gte,no:Yte,nqo:Xte,nr:Jte,nso:Qte,ny:Zte,nyn:ene,om:tne,or:nne,os:rne,osa:ine,pa:one,pap:sne,pl:ane,prg:lne,ps:une,pt:cne,pt_PT:fne,rm:dne,ro:hne,rof:pne,root:mne,ru:gne,rwk:vne,sah:yne,saq:xne,sc:wne,scn:bne,sd:Sne,sdh:kne,se:_ne,seh:Ene,ses:Cne,sg:Tne,sh:Ane,shi:One,si:Mne,sk:Nne,sl:Rne,sma:Dne,smi:Ine,smj:Pne,smn:Lne,sms:zne,sn:Bne,so:$ne,sq:Fne,sr:Vne,ss:Une,ssy:Hne,st:jne,su:qne,sv:Wne,sw:Kne,syr:Gne,ta:Yne,te:Xne,teo:Jne,th:Qne,ti:Zne,tig:ere,tk:tre,tl:nre,tn:rre,to:ire,tr:ore,ts:sre,tzm:are,ug:lre,uk:ure,ur:cre,uz:fre,ve:dre,vi:hre,vo:pre,vun:mre,wa:gre,wae:vre,wo:yre,xh:xre,xog:wre,yi:bre,yo:Sre,yue:kre,zh:_re,zu:Ere},Symbol.toStringTag,{value:"Module"}));var Tre=Object.defineProperty,Are=Object.getOwnPropertyDescriptor,Ore=Object.getOwnPropertyNames,Mre=Object.prototype.hasOwnProperty,c8=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of Ore(e))!Mre.call(t,i)&&i!==n&&Tre(t,i,{get:()=>e[i],enumerable:!(r=Are(e,i))||r.enumerable});return t},Nre=(t,e,n)=>(c8(t,e,"default"),n&&c8(n,e,"default")),Rre={"components.image.dialog.description.label":"Image description","components.image.dialog.description.placeholder":"Add a short description here.","components.image.dialog.label":"Image","components.image.dialog.source.label":"Image source","components.image.menu.icon.label":"Image","components.italic.menu.icon.label":"Italic","components.underline.menu.icon.label":"Underline","extension.command.add-annotation.label":"Add annotation","extension.command.center-align.label":"Center align","extension.command.convert-paragraph.description":"Convert current block into a paragraph block.","extension.command.convert-paragraph.label":"Convert Paragraph","extension.command.copy.description":"Copy the selected text","extension.command.copy.label":"Copy","extension.command.create-table.description":"Create a table with set number of rows and columns.","extension.command.create-table.label":"Create table","extension.command.cut.description":"Cut the selected text","extension.command.cut.label":"Cut","extension.command.decrease-font-size.description":"Decrease the font size.","extension.command.decrease-font-size.label":"Decrease","extension.command.decrease-indent.label":"Decrease indentation","extension.command.increase-font-size.description":"Increase the font size","extension.command.increase-font-size.label":"Increase","extension.command.increase-indent.label":"Increase indentation","extension.command.insert-emoji.label":"Insert Emoji","extension.command.insert-horizontal-rule.description":"Separate content with a diving horizontal line","extension.command.insert-horizontal-rule.label":"Divider","extension.command.insert-paragraph.description":"Insert a new paragraph","extension.command.insert-paragraph.label":"Insert Paragraph","extension.command.justify-align.label":"Justify","extension.command.left-align.label":"Left align","extension.command.paste.description":"Paste content into the editor","extension.command.paste.label":"Paste","extension.command.redo.description":"Redo the most recent action","extension.command.redo.label":"Redo","extension.command.remove-annotation.label":"Remove annotation","extension.command.right-align.label":"Right align","extension.command.select-all.description":"Select all content within the editor","extension.command.select-all.label":"Select all","extension.command.set-casing.label":"Set text case","extension.command.set-font-size.description":"Set the font size for the selected text.","extension.command.set-font-size.label":"Font size","extension.command.set-text-color.description":"Set the text color for the selected text.","extension.command.set-text-color.label":"Text color","extension.command.set-text-direction.description":[["dir","select",{ltr:"Set the text direction from left to right",rtl:"Set the text direction from right to left",other:"Reset text direction"}]],"extension.command.set-text-direction.label":[["dir","select",{ltr:"Left-To-Right",rtl:"Right-To-Left",other:"Reset Direction"}]],"extension.command.set-text-highlight.description":"Set the text highlight color for the selected text.","extension.command.set-text-highlight.label":"Text highlight","extension.command.toggle-blockquote.description":"Add blockquote formatting to the selected text","extension.command.toggle-blockquote.label":"Blockquote","extension.command.toggle-bold.description":"Add bold formatting to the selected text","extension.command.toggle-bold.label":"Bold","extension.command.toggle-bullet-list.description":"Bulleted list","extension.command.toggle-callout.description":[["type","select",{info:"Create an information callout block",warning:"Create a warning callout block",error:"Create an error callout block",success:"Create a success callout block",other:"Create a callout block"}]],"extension.command.toggle-callout.label":[["type","select",{info:"Information Callout",warning:"Warning Callout",error:"Error Callout",success:"Success Callout",other:"Callout"}]],"extension.command.toggle-code-block.description":"Add a code block","extension.command.toggle-code-block.label":"Codeblock","extension.command.toggle-code.description":"Add inline code formatting to the selected text","extension.command.toggle-code.label":"Code","extension.command.toggle-columns.description":[["count","select",{2:"Split the block into two columns",3:"Split the current block into three columns",4:"Split the current block into four columns",other:"Split the current block into multiple columns"}]],"extension.command.toggle-columns.label":[["count","select",{2:"Two Column Block",3:"Three Column Block",4:"Four Column Block",other:"Multi Column Block"}]],"extension.command.toggle-heading.label":[["level","select",{1:"Heading 1",2:"Heading 2",3:"Heading 3",4:"Heading 4",5:"Heading 5",6:"Heading 6",other:"Heading"}]],"extension.command.toggle-italic.description":"Italicize the selected text","extension.command.toggle-italic.label":"Italic","extension.command.toggle-ordered-list.label":"Ordered list","extension.command.toggle-strike.description":"Strikethrough the selected text","extension.command.toggle-strike.label":"Strikethrough","extension.command.toggle-subscript.label":"Subscript","extension.command.toggle-superscript.label":"Superscript","extension.command.toggle-task-list.description":"Tasked list","extension.command.toggle-underline.description":"Underline the selected text","extension.command.toggle-underline.label":"Underline","extension.command.toggle-upper-case.label":[["case","select",{upper:"Uppercase",lower:"Lowercase",capitalize:"Sentence case",smallCaps:"Small caps",other:"Text case"}]],"extension.command.toggle-whitespace.description":"Show hidden whitespace characters in your editor.","extension.command.toggle-whitespace.label":"Toggle Whitespace","extension.command.undo.description":"Undo the most recent action","extension.command.undo.label":"Undo","extension.command.update-annotation.label":"Update annotation","extension.table.column_count":[["count","plural",{one:["#"," column"],other:["#"," columns"]}]],"extension.table.row_count":[["count","plural",{one:["#"," row"],other:["#"," rows"]}]],"keyboard.shortcut.alt":"Alt","keyboard.shortcut.arrowDown":"Arrow Down","keyboard.shortcut.arrowLeft":"Arrow Left","keyboard.shortcut.arrowRight":"Arrow Right","keyboard.shortcut.arrowUp":"Arrow Up","keyboard.shortcut.backspace":"Backspace","keyboard.shortcut.capsLock":"Caps Lock","keyboard.shortcut.command":"Command","keyboard.shortcut.control":"Control","keyboard.shortcut.delete":"Delete","keyboard.shortcut.end":"End","keyboard.shortcut.enter":"Enter","keyboard.shortcut.escape":"Enter","keyboard.shortcut.home":"Home","keyboard.shortcut.pageDown":"Page Down","keyboard.shortcut.pageUp":"Page Up","keyboard.shortcut.shift":"Shift","keyboard.shortcut.space":"Space","keyboard.shortcut.tab":"Tab","react-components.mention-atom-component.zero-items":"No items available","react-components.top-menu.label":"Static Menu","ui.text-color.black":"Black","ui.text-color.blue":"Blue","ui.text-color.blue.hue":["Blue ",["hue"]],"ui.text-color.cyan":"Cyan","ui.text-color.cyan.hue":["Cyan ",["hue"]],"ui.text-color.grape":"Grape","ui.text-color.grape.hue":["Grape ",["hue"]],"ui.text-color.gray":"Gray","ui.text-color.gray.hue":["Gray ",["hue"]],"ui.text-color.green":"Green","ui.text-color.green.hue":["Green ",["hue"]],"ui.text-color.indigo":"Indigo","ui.text-color.indigo.hue":["Indigo ",["hue"]],"ui.text-color.lime":"Lime","ui.text-color.lime.hue":["Lime ",["hue"]],"ui.text-color.orange":"Orange","ui.text-color.orange.hue":["Orange ",["hue"]],"ui.text-color.pink":"Pink","ui.text-color.pink.hue":["Pink ",["hue"]],"ui.text-color.red":"Red","ui.text-color.red.hue":["Red ",["hue"]],"ui.text-color.teal":"Teal","ui.text-color.teal.hue":["Teal ",["hue"]],"ui.text-color.transparent":"Transparent","ui.text-color.violet":"Violet","ui.text-color.violet.hue":["Violet ",["hue"]],"ui.text-color.white":"White","ui.text-color.yellow":"Yellow","ui.text-color.yellow.hue":["Yellow ",["hue"]]},XA={};Nre(XA,Cre);$1.loadLocaleData("en",{plurals:XA.en});$1.load("en",Rre);$1.activate("en");var JA=Object.defineProperty,Dre=Object.getOwnPropertyDescriptor,Ire=(t,e,n)=>e in t?JA(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Pre=(t,e,n,r)=>{for(var i=r>1?void 0:r?Dre(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&JA(e,n,i),i},zu=(t,e,n)=>(Ire(t,typeof e!="symbol"?e+"":e,n),n),QA=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Se=(t,e,n)=>(QA(t,e,"read from private field"),n?n.call(t):e.get(t)),xr=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},vr=(t,e,n,r)=>(QA(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Cf,Lre=class{constructor(){zu(this,"portals",new Map),xr(this,Cf,R1()),zu(this,"on",t=>Se(this,Cf).on("update",t)),zu(this,"once",t=>{const e=Se(this,Cf).on("update",n=>{e(),t(n)});return e})}update(){Se(this,Cf).emit("update",this.portals)}render({Component:t,container:e}){var n;const r=this.portals.get(e);this.portals.set(e,{Component:t,key:(n=r==null?void 0:r.key)!=null?n:Gp()}),this.update()}forceUpdate(){for(const[t,{Component:e}]of this.portals)this.portals.set(t,{Component:e,key:Gp()})}remove(t){this.portals.delete(t),this.update()}};Cf=new WeakMap;var zre=t=>{const{portals:e}=t;return j(qo,{children:e.map(([n,{Component:r,key:i}])=>Jm.exports.createPortal(j(r,{}),n,i))})};function Bre(t){const[e,n]=z.exports.useState(()=>Array.from(t.portals.entries()));return z.exports.useEffect(()=>t.on(r=>{n(Array.from(r.entries()))}),[t]),z.exports.useMemo(()=>e,[e])}var Tt,Tf,Va,Af,dp,Of,ou,Mf,hp,_o,Bn,F4,ZA=class{constructor({getPosition:t,node:e,portalContainer:n,view:r,ReactComponent:i,options:o}){xr(this,Tt,void 0),xr(this,Tf,[]),xr(this,Va,void 0),xr(this,Af,void 0),xr(this,dp,void 0),xr(this,Of,void 0),xr(this,ou,void 0),xr(this,Mf,!1),xr(this,hp,void 0),xr(this,_o,void 0),xr(this,Bn,void 0),xr(this,F4,u=>{!u||(be(Se(this,_o),{code:re.REACT_NODE_VIEW,message:`You have applied a ref to a node view provided for '${Se(this,Tt).type.name}' which doesn't support content.`}),u.append(Se(this,_o)))}),zu(this,"Component",()=>{const u=Se(this,dp);return be(u,{code:re.REACT_NODE_VIEW,message:`The custom react node view provided for ${Se(this,Tt).type.name} doesn't have a valid ReactComponent`}),Zs.createElement(u,{updateAttributes:this.updateAttributes,selected:this.selected,view:Se(this,Va),getPosition:Se(this,Of),node:Se(this,Tt),forwardRef:Se(this,F4),decorations:Se(this,Tf)})}),zu(this,"updateAttributes",u=>{if(!Se(this,Va).editable)return;const c=Se(this,Va).state.tr.setNodeMarkup(Se(this,Of).call(this),void 0,{...Se(this,Tt).attrs,...u});Se(this,Va).dispatch(c)});var s;be(at(t),{message:"You are attempting to use a node view for a mark type. This is not supported yet. Please check your configuration."}),vr(this,Tt,e),vr(this,Va,r),vr(this,Af,n),vr(this,dp,i),vr(this,Of,t),vr(this,ou,o),vr(this,Bn,this.createDom());const{contentDOM:a,wrapper:l}=(s=this.createContentDom())!=null?s:{};vr(this,hp,a!=null?a:void 0),vr(this,_o,l),Se(this,_o)&&Se(this,Bn).append(Se(this,_o)),this.setDomAttributes(Se(this,Tt),Se(this,Bn)),this.Component.displayName=kE(`${Se(this,Tt).type.name}NodeView`),this.renderComponent()}static create(t){const{portalContainer:e,ReactComponent:n,options:r}=t;return(i,o,s)=>new ZA({options:r,node:i,view:o,getPosition:s,portalContainer:e,ReactComponent:n})}get selected(){return Se(this,Mf)}get contentDOM(){return Se(this,hp)}get dom(){return Se(this,Bn)}renderComponent(){Se(this,Af).render({Component:this.Component,container:Se(this,Bn)})}createDom(){const{defaultBlockNode:t,defaultInlineNode:e}=Se(this,ou),n=Se(this,Tt).isInline?document.createElement(e):document.createElement(t);return n.classList.add(`${eb(Se(this,Tt).type.name)}-node-view-wrapper`),n}createContentDom(){var t,e;if(Se(this,Tt).isLeaf)return;const n=(e=(t=Se(this,Tt).type.spec).toDOM)==null?void 0:e.call(t,Se(this,Tt));if(!n)return;const{contentDOM:r,dom:i}=Ur.renderSpec(document,n);let o;if(!!Ft(i))return o=i,i===r&&(o=document.createElement("span"),o.classList.add(`${eb(Se(this,Tt).type.name)}-node-view-content-wrapper`),o.append(r)),Ft(r),{wrapper:o,contentDOM:r}}update(t,e){return T1({types:Se(this,Tt).type,node:t})?(Se(this,Tt)===t&&Se(this,Tf)===e||(Se(this,Tt).sameMarkup(t)||this.setDomAttributes(t,Se(this,Bn)),vr(this,Tt,t),vr(this,Tf,e),this.renderComponent()),!0):!1}setDomAttributes(t,e){const{toDOM:n}=Se(this,Tt).type.spec;let r=t.attrs;if(n){const i=n(t);if(Ne(i)||$re(i))return;Il(i[1])&&(r=i[1])}for(const[i,o]of on(r))e.setAttribute(i,o)}selectNode(){vr(this,Mf,!0),Se(this,Bn)&&Se(this,Bn).classList.add(Xw),this.renderComponent()}deselectNode(){vr(this,Mf,!1),Se(this,Bn)&&Se(this,Bn).classList.remove(Xw),this.renderComponent()}destroy(){Se(this,Af).remove(Se(this,Bn))}ignoreMutation(t){return t.type==="selection"?!Se(this,Tt).type.spec.selectable:Se(this,_o)?!Se(this,_o).contains(t.target):!0}stopEvent(t){var e;if(!Se(this,Bn))return!1;if(at(Se(this,ou).stopEvent))return Se(this,ou).stopEvent({event:t});const n=t.target;if(!(Se(this,Bn).contains(n)&&!((e=this.contentDOM)!=null&&e.contains(n))))return!1;const i=t.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(n.tagName)||n.isContentEditable)&&!i)return!0;const s=!!Se(this,Tt).type.spec.draggable,a=Te.isSelectable(Se(this,Tt)),l=t.type==="copy",u=t.type==="paste",c=t.type==="cut",f=t.type==="mousedown",d=t.type.startsWith("drag");return!s&&a&&d&&t.preventDefault(),!(d||i||l||u||c||f&&a)}},f8=ZA;Tt=new WeakMap;Tf=new WeakMap;Va=new WeakMap;Af=new WeakMap;dp=new WeakMap;Of=new WeakMap;ou=new WeakMap;Mf=new WeakMap;hp=new WeakMap;_o=new WeakMap;Bn=new WeakMap;F4=new WeakMap;function $re(t){return sm(t)||Il(t)&&sm(t.dom)}var Wd=class extends _t{constructor(){super(...arguments),zu(this,"portalContainer",new Lre)}get name(){return"reactComponent"}onCreate(){this.store.setStoreKey("portalContainer",this.portalContainer)}createNodeViews(){var t;const e=we(),n=(t=this.store.managerSettings.nodeViewComponents)!=null?t:{};for(const i of this.store.extensions)!i.ReactComponent||!b0(i)||i.reactComponentEnvironment==="ssr"||(e[i.name]=f8.create({options:this.options,ReactComponent:i.ReactComponent,portalContainer:this.portalContainer}));const r=on({...this.options.nodeViewComponents,...n});for(const[i,o]of r)e[i]=f8.create({options:this.options,ReactComponent:o,portalContainer:this.portalContainer});return e}};Wd=Pre([Xe({defaultOptions:{defaultBlockNode:"div",defaultInlineNode:"span",defaultContentNode:"span",defaultEnvironment:"both",nodeViewComponents:{},stopEvent:null},staticKeys:["defaultBlockNode","defaultInlineNode","defaultContentNode","defaultEnvironment"]})],Wd);var Fre=Object.defineProperty,Vre=Object.getOwnPropertyDescriptor,Ure=(t,e,n,r)=>{for(var i=r>1?void 0:r?Vre(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&Fre(e,n,i),i},Hre={...El.defaultOptions,...Wd.defaultOptions},jre=[...El.staticKeys,...Wd.staticKeys],Kd=class extends _t{get name(){return"react"}onSetOptions(t){const{pickChanged:e}=t;this.getExtension(El).setOptions(e(["placeholder"]))}createExtensions(){const{emptyNodeClass:t,placeholder:e,defaultBlockNode:n,defaultContentNode:r,defaultEnvironment:i,defaultInlineNode:o,nodeViewComponents:s}=this.options;return[new El({emptyNodeClass:t,placeholder:e,priority:lt.Low}),new Wd({defaultBlockNode:n,defaultContentNode:r,defaultEnvironment:i,defaultInlineNode:o,nodeViewComponents:s})]}};Kd=Ure([Xe({defaultOptions:Hre,staticKeys:jre})],Kd);var eO={};Object.defineProperty(eO,"__esModule",{value:!0});function qre(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(t.length===2)return h8(t[0],t[1])||null;var n=t.slice(1).reduce(function(r,i){return h8(r,i)},t[0]);return n||null}var Ji=eO.default=qre,d8=new WeakMap;function h8(t,e){if(t&&e){var n=d8.get(t)||new WeakMap;d8.set(t,n);var r=n.get(e)||function(i){p8(t,i),p8(e,i)};return n.set(e,r),r}return t||e}function p8(t,e){typeof t=="function"?t(e):t.current=e}var Wre=Object.defineProperty,Kre=(t,e,n)=>e in t?Wre(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gh=(t,e,n)=>(Kre(t,typeof e!="symbol"?e+"":e,n),n),tO=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},kv=(t,e,n)=>(tO(t,e,"read from private field"),n?n.call(t):e.get(t)),Gre=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},Yre=(t,e,n,r)=>(tO(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);function Xre(){const[,t]=z.exports.useState(we());return z.exports.useCallback(()=>{t(we())},[])}var F1=z.exports.createContext(null);function Oc(t){const e=z.exports.useContext(F1),n=z.exports.useRef(Xre());be(e,{code:re.REACT_PROVIDER_CONTEXT});const{addHandler:r}=e;return z.exports.useEffect(()=>{let i=t;if(!!i){if(Il(i)){const{autoUpdate:o}=i;i=o?()=>n.current():void 0}if(!!at(i))return r("updated",i)}},[r,t]),e}function Jre(t=!0){return Oc({autoUpdate:t}).active}function Qre(){return Oc().commands}function Zre(t,e=void 0,n){const{getExtension:r}=Oc(),i=z.exports.useMemo(()=>r(t),[t,r]);let o;if(at(e)?o=n?[i,...n]:[i,e]:o=e?[i,...Object.values(e)]:[],z.exports.useEffect(()=>{at(e)||!e||i.setOptions(e)},o),z.exports.useEffect(()=>{if(!!at(e))return e({addHandler:i.addHandler.bind(i),addCustomHandler:i.addCustomHandler.bind(i),extension:i})},o),!e)return i}function eie(t,e,n){const r=z.exports.useCallback(({addHandler:i})=>i(e,n),[n,e]);return Zre(t,r)}function tie(t=!1){return Oc(t?{autoUpdate:!0}:void 0).helpers}var[nie,X1e]=mZ(({props:t})=>{var e,n,r;const i=(e=t.locale)!=null?e:"en",o=(n=t.i18n)!=null?n:$1,s=(r=t.supportedLocales)!=null?r:[i];return{locale:i,i18n:o,supportedLocales:s,t:(...l)=>o._(...l)}});function m8(t,e={}){const{core:n,react:r,...i}=e;return wH(t)?t:xH.create(()=>[...NE(t),new Kd(r),...cZ(n)],i)}function rie(t,e={}){const n=z.exports.useRef(t),r=z.exports.useRef(e),[i,o]=z.exports.useState(()=>m8(t,e));return n.current=t,r.current=e,z.exports.useEffect(()=>i.addHandler("destroy",()=>{o(()=>m8(n.current,r.current))}),[i]),i}var iie=typeof Ji=="object"&&Ji.__esModule&&Ji.default?Ji.default:Ji,su,oie=class extends pH{constructor(t){var e;if(super(t),Gre(this,su,void 0),gh(this,"rootPropsConfig",{called:!1,count:0}),gh(this,"getRootProps",n=>this.internalGetRootProps(n,null)),gh(this,"internalGetRootProps",(n,r)=>{this.rootPropsConfig.called=!0;const{refKey:i="ref",ref:o,...s}=n!=null?n:we();return{[i]:iie(o,this.onRef),key:this.uid,...s,children:r}}),gh(this,"onRef",n=>{!n||(this.rootPropsConfig.count+=1,be(this.rootPropsConfig.count<=1,{code:re.REACT_GET_ROOT_PROPS,message:`Called ${this.rootPropsConfig.count} times`}),Yre(this,su,n),this.onRefLoad())}),this.manager.view){this.manager.view.setProps({state:this.manager.view.state,dispatchTransaction:this.dispatchTransaction,attributes:()=>this.getAttributes(),editable:()=>{var n;return(n=this.props.editable)!=null?n:!0}});return}this.manager.getExtension(El).setOptions({placeholder:(e=this.props.placeholder)!=null?e:""})}get name(){return"react"}update(t){return super.update(t),this}createView(t){return new $C(null,{state:t,dispatchTransaction:this.dispatchTransaction,attributes:()=>this.getAttributes(),editable:()=>{var e;return(e=this.props.editable)!=null?e:!0},plugins:[]})}updateState({state:t,...e}){const{triggerChange:n=!0,tr:r,transactions:i}=e;if(this.props.state){const{onChange:o}=this.props;be(o,{code:re.REACT_CONTROLLED,message:"You are required to provide the `onChange` handler when creating a controlled editor."}),be(n,{code:re.REACT_CONTROLLED,message:"Controlled editors do not support `clearContent` or `setContent` where `triggerChange` is `true`. Update the `state` prop instead."}),this.previousStateOverride||(this.previousStateOverride=this.getState()),this.onChange({state:t,tr:r,transactions:i});return}!r&&!i&&(t=t.apply(t.tr.setMeta(Jw,{}))),this.view.updateState(t),n&&(i==null?void 0:i.length)!==0&&this.onChange({state:t,tr:r,transactions:i}),this.manager.onStateUpdate({previousState:this.previousState,state:t,tr:r,transactions:i})}updateControlledState(t,e){this.previousStateOverride=e,t=t.apply(t.tr.setMeta(Jw,{})),this.view.updateState(t),this.manager.onStateUpdate({previousState:this.previousState,state:t}),this.previousStateOverride=void 0}addProsemirrorViewToDom(t,e){this.props.insertPosition==="start"?t.insertBefore(e,t.firstChild):t.append(e)}onRefLoad(){be(kv(this,su),{code:re.REACT_EDITOR_VIEW,message:"Something went wrong when initializing the text editor. Please check your setup."});const{autoFocus:t}=this.props;this.addProsemirrorViewToDom(kv(this,su),this.view.dom),t&&this.focus(t),this.onChange(),this.addFocusListeners()}onUpdate(){this.view&&kv(this,su)&&this.view.setProps({...this.view.props,editable:()=>{var t;return(t=this.props.editable)!=null?t:!0}})}get frameworkOutput(){return{...this.baseOutput,getRootProps:this.getRootProps,portalContainer:this.manager.store.portalContainer}}resetRender(){this.rootPropsConfig.called=!1,this.rootPropsConfig.count=0}};su=new WeakMap;var nO=typeof document<"u"?z.exports.useLayoutEffect:z.exports.useEffect;function sie(t){const e=z.exports.useRef();return nO(()=>{e.current=t}),e.current}function aie(t){const{manager:e,state:n}=t,{placeholder:r,editable:i}=t;z.exports.useRef(!0).current&&!na(r)&&e.getExtension(Kd).setOptions({placeholder:r}),z.exports.useEffect(()=>{r!=null&&e.getExtension(Kd).setOptions({placeholder:r})},[r,e]);const[s]=z.exports.useState(()=>{var l;if(n)return n;const u=e.createEmptyDoc(),[c,f]=Yt(t.initialContent)?t.initialContent:[(l=t.initialContent)!=null?l:u];return e.createState({content:c,selection:f})}),a=lie({initialEditorState:s,getProps:()=>t});return z.exports.useEffect(()=>()=>{a.destroy()},[a]),z.exports.useEffect(()=>{a.onUpdate()},[i,a]),uie(a),a.frameworkOutput}function lie(t){const e=z.exports.useRef(t);e.current=t;const n=z.exports.useMemo(()=>new oie(e.current),[]);return n.update(t),n}function uie(t){const{state:e}=t.props,n=z.exports.useRef(!!e),r=sie(e);nO(()=>{const i=e?n.current===!0:n.current===!1;be(i,{code:re.REACT_CONTROLLED,message:n.current?"You have attempted to switch from a controlled to an uncontrolled editor. Once you set up an editor as a controlled editor it must always provide a `state` prop.":"You have provided a `state` prop to an uncontrolled editor. In order to set up your editor as controlled you must provide the `state` prop from the very first render."}),!(!e||e===r)&&t.updateControlledState(e,r!=null?r:void 0)},[e,r,t])}function cie(t={}){const{content:e,document:n,selection:r,extensions:i,...o}=t,s=rie(i!=null?i:()=>[],o),[a,l]=z.exports.useState(()=>s.createState({selection:r,content:e!=null?e:s.createEmptyDoc()})),u=z.exports.useCallback(({state:f})=>{l(f)},[]),c=z.exports.useCallback(()=>s.output,[s]);return z.exports.useMemo(()=>({state:a,setState:l,manager:s,onChange:u,getContext:c}),[c,s,u,a])}var V4=()=>j("div",{className:Uj.EDITOR_WRAPPER,...Oc().getRootProps()}),fie=t=>(t.hook(),null);function die(t){const{children:e,autoRender:n,i18n:r,locale:i,supportedLocales:o,hooks:s=[],...a}=t,l=aie(a),u=Bre(l.portalContainer),c=n==="start"||n===!0||!e&&na(n),f=n==="end";return j(nie,{i18n:r,locale:i,supportedLocales:o,children:He(F1.Provider,{value:l,children:[j(zre,{portals:u}),s.map((d,h)=>j(fie,{hook:d},h)),c&&j(V4,{}),e,f&&j(V4,{})]})})}var e6={exports:{}},hie="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",pie=hie,mie=pie;function rO(){}function iO(){}iO.resetWarningCache=rO;var gie=function(){function t(r,i,o,s,a,l){if(l!==mie){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:iO,resetWarningCache:rO};return n.PropTypes=n,n};e6.exports=gie();var Bi,vie=(t=document)=>Bi||(Bi=t.createElement("div"),Bi.setAttribute("id","a11y-status-message"),Bi.setAttribute("role","status"),Bi.setAttribute("aria-live","polite"),Bi.setAttribute("aria-relevant","additions text"),Object.assign(Bi.style,{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px"}),t.body.append(Bi),Bi);_E(500,()=>{vie().textContent=""});var yie=Object.create,oO=Object.defineProperty,xie=Object.getOwnPropertyDescriptor,sO=Object.getOwnPropertyNames,wie=Object.getPrototypeOf,bie=Object.prototype.hasOwnProperty,Sie=(t,e)=>function(){return e||(0,t[sO(t)[0]])((e={exports:{}}).exports,e),e.exports},kie=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of sO(e))!bie.call(t,i)&&i!==n&&oO(t,i,{get:()=>e[i],enumerable:!(r=xie(e,i))||r.enumerable});return t},_ie=(t,e,n)=>(n=t!=null?yie(wie(t)):{},kie(e||!t||!t.__esModule?oO(n,"default",{value:t,enumerable:!0}):n,t)),Eie=Sie({"node_modules/.pnpm/fast-shallow-equal@1.0.0/node_modules/fast-shallow-equal/index.js"(t){var e=Object.keys;t.equal=function(r,i){if(r===i)return!0;if(!(r instanceof Object)||!(i instanceof Object))return!1;for(var o=e(r),s=o.length,a=0;a<s;a++)if(!(o[a]in i))return!1;for(var a=0;a<s;a++)if(r[o[a]]!==i[o[a]])return!1;return s===e(i).length}}});_ie(Eie());typeof Ji=="object"&&Ji.__esModule&&Ji.default&&Ji.default;function g8(t,e){eie(Fd,t,e)}class Cie extends kl{constructor(e){super(e),this.addHandler("onClick",(n,r)=>(window.open(r.href),!0))}createInputRules(){return[Id({regexp:(()=>{try{return new RegExp("?<!!)[(.*?)]((.*?))")}catch{return/[^!]\[(.+?)\]\((.+?)\)/}})(),type:this.type,getAttributes:e=>{const[n,r,i]=e;return{text:r,href:i}}})]}createPasteRules(){return[]}}class Tie extends Vd{createInputRules(){return[d5({regexp:/!\[(.+?)\]\((.+?)\)/,type:this.type,getAttributes:e=>{const[n,r,i]=e;return{src:i,alt:r}}})]}}class br{constructor(e,n,r){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=e,this.start=n,this.end=r}static range(e,n){return n?!e||!e.loc||!n.loc||e.loc.lexer!==n.loc.lexer?null:new br(e.loc.lexer,e.loc.start,n.loc.end):e&&e.loc}}class Hr{constructor(e,n){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=e,this.loc=n}range(e,n){return new Hr(n,br.range(this,e))}}class ne{constructor(e,n){this.position=void 0;var r="KaTeX parse error: "+e,i,o=n&&n.loc;if(o&&o.start<=o.end){var s=o.lexer.input;i=o.start;var a=o.end;i===s.length?r+=" at end of input: ":r+=" at position "+(i+1)+": ";var l=s.slice(i,a).replace(/[^]/g,"$&\u0332"),u;i>15?u="\u2026"+s.slice(i-15,i):u=s.slice(0,i);var c;a+15<s.length?c=s.slice(a,a+15)+"\u2026":c=s.slice(a),r+=u+l+c}var f=new Error(r);return f.name="ParseError",f.__proto__=ne.prototype,f.position=i,f}}ne.prototype.__proto__=Error.prototype;var Aie=function(e,n){return e.indexOf(n)!==-1},Oie=function(e,n){return e===void 0?n:e},Mie=/([A-Z])/g,Nie=function(e){return e.replace(Mie,"-$1").toLowerCase()},Rie={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Die=/[&><"']/g;function Iie(t){return String(t).replace(Die,e=>Rie[e])}var aO=function t(e){return e.type==="ordgroup"||e.type==="color"?e.body.length===1?t(e.body[0]):e:e.type==="font"?t(e.body):e},Pie=function(e){var n=aO(e);return n.type==="mathord"||n.type==="textord"||n.type==="atom"},Lie=function(e){if(!e)throw new Error("Expected non-null, but got "+String(e));return e},zie=function(e){var n=/^\s*([^\\/#]*?)(?::|&#0*58|&#x0*3a)/i.exec(e);return n!=null?n[1]:"_relative"},Re={contains:Aie,deflt:Oie,escape:Iie,hyphenate:Nie,getBaseElem:aO,isCharacterBox:Pie,protocolFromUrl:zie},pp={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:t=>"#"+t},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(t,e)=>(e.push(t),e)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:t=>Math.max(0,t),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:t=>Math.max(0,t),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:t=>Math.max(0,t),cli:"-e, --max-expand <n>",cliProcessor:t=>t==="Infinity"?1/0:parseInt(t)},globalGroup:{type:"boolean",cli:!1}};function Bie(t){if(t.default)return t.default;var e=t.type,n=Array.isArray(e)?e[0]:e;if(typeof n!="string")return n.enum[0];switch(n){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class t6{constructor(e){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,e=e||{};for(var n in pp)if(pp.hasOwnProperty(n)){var r=pp[n];this[n]=e[n]!==void 0?r.processor?r.processor(e[n]):e[n]:Bie(r)}}reportNonstrict(e,n,r){var i=this.strict;if(typeof i=="function"&&(i=i(e,n,r)),!(!i||i==="ignore")){if(i===!0||i==="error")throw new ne("LaTeX-incompatible input and strict mode is set to 'error': "+(n+" ["+e+"]"),r);i==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]"))}}useStrictBehavior(e,n,r){var i=this.strict;if(typeof i=="function")try{i=i(e,n,r)}catch{i="error"}return!i||i==="ignore"?!1:i===!0||i==="error"?!0:i==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(n+" ["+e+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+i+"': "+n+" ["+e+"]")),!1)}isTrusted(e){e.url&&!e.protocol&&(e.protocol=Re.protocolFromUrl(e.url));var n=typeof this.trust=="function"?this.trust(e):this.trust;return Boolean(n)}}class cs{constructor(e,n,r){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=e,this.size=n,this.cramped=r}sup(){return Wi[$ie[this.id]]}sub(){return Wi[Fie[this.id]]}fracNum(){return Wi[Vie[this.id]]}fracDen(){return Wi[Uie[this.id]]}cramp(){return Wi[Hie[this.id]]}text(){return Wi[jie[this.id]]}isTight(){return this.size>=2}}var n6=0,Sm=1,Bu=2,$o=3,Gd=4,jr=5,cc=6,Un=7,Wi=[new cs(n6,0,!1),new cs(Sm,0,!0),new cs(Bu,1,!1),new cs($o,1,!0),new cs(Gd,2,!1),new cs(jr,2,!0),new cs(cc,3,!1),new cs(Un,3,!0)],$ie=[Gd,jr,Gd,jr,cc,Un,cc,Un],Fie=[jr,jr,jr,jr,Un,Un,Un,Un],Vie=[Bu,$o,Gd,jr,cc,Un,cc,Un],Uie=[$o,$o,jr,jr,Un,Un,Un,Un],Hie=[Sm,Sm,$o,$o,jr,jr,Un,Un],jie=[n6,Sm,Bu,$o,Bu,$o,Bu,$o],ke={DISPLAY:Wi[n6],TEXT:Wi[Bu],SCRIPT:Wi[Gd],SCRIPTSCRIPT:Wi[cc]},U4=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function qie(t){for(var e=0;e<U4.length;e++)for(var n=U4[e],r=0;r<n.blocks.length;r++){var i=n.blocks[r];if(t>=i[0]&&t<=i[1])return n.name}return null}var mp=[];U4.forEach(t=>t.blocks.forEach(e=>mp.push(...e)));function lO(t){for(var e=0;e<mp.length;e+=2)if(t>=mp[e]&&t<=mp[e+1])return!0;return!1}var Kl=80,Wie=function(e,n){return"M95,"+(622+e+n)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+e/2.075+" -"+e+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+e)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},Kie=function(e,n){return"M263,"+(601+e+n)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+e/2.084+" -"+e+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+e)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},Gie=function(e,n){return"M983 "+(10+e+n)+`
l`+e/3.13+" -"+e+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+e)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+e)+" "+n+"h400000v"+(40+e)+"h-400000z"},Yie=function(e,n){return"M424,"+(2398+e+n)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+e/4.223+" -"+e+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+e)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+e)+" "+n+`
h400000v`+(40+e)+"h-400000z"},Xie=function(e,n){return"M473,"+(2713+e+n)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+e/5.298+" -"+e+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+e)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+e)+" "+n+"h400000v"+(40+e)+"H1017.7z"},Jie=function(e){var n=e/2;return"M400000 "+e+" H0 L"+n+" 0 l65 45 L145 "+(e-80)+" H400000z"},Qie=function(e,n,r){var i=r-54-n-e;return"M702 "+(e+n)+"H400000"+(40+e)+`
H742v`+i+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+n+"H400000v"+(40+e)+"H742z"},Zie=function(e,n,r){n=1e3*n;var i="";switch(e){case"sqrtMain":i=Wie(n,Kl);break;case"sqrtSize1":i=Kie(n,Kl);break;case"sqrtSize2":i=Gie(n,Kl);break;case"sqrtSize3":i=Yie(n,Kl);break;case"sqrtSize4":i=Xie(n,Kl);break;case"sqrtTall":i=Qie(n,Kl,r)}return i},eoe=function(e,n){switch(e){case"\u239C":return"M291 0 H417 V"+n+" H291z M291 0 H417 V"+n+" H291z";case"\u2223":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z";case"\u2225":return"M145 0 H188 V"+n+" H145z M145 0 H188 V"+n+" H145z"+("M367 0 H410 V"+n+" H367z M367 0 H410 V"+n+" H367z");case"\u239F":return"M457 0 H583 V"+n+" H457z M457 0 H583 V"+n+" H457z";case"\u23A2":return"M319 0 H403 V"+n+" H319z M319 0 H403 V"+n+" H319z";case"\u23A5":return"M263 0 H347 V"+n+" H263z M263 0 H347 V"+n+" H263z";case"\u23AA":return"M384 0 H504 V"+n+" H384z M384 0 H504 V"+n+" H384z";case"\u23D0":return"M312 0 H355 V"+n+" H312z M312 0 H355 V"+n+" H312z";case"\u2016":return"M257 0 H300 V"+n+" H257z M257 0 H300 V"+n+" H257z"+("M478 0 H521 V"+n+" H478z M478 0 H521 V"+n+" H478z");default:return""}},v8={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},toe=function(e,n){switch(e){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+n+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+n+" v1759 h84z";case"vert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+" v585 h43z";case"doublevert":return"M145 15 v585 v"+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+n+` v585 h43z
M367 15 v585 v`+n+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-n+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+n+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+n+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+n+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+n+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+n+` v602 h84z
M403 1759 V0 H319 V1759 v`+n+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+n+` v602 h84z
M347 1759 V0 h-84 V1759 v`+n+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(n+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(n+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(n+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(n+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class C0{constructor(e){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=e,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(e){return Re.contains(this.classes,e)}toNode(){for(var e=document.createDocumentFragment(),n=0;n<this.children.length;n++)e.appendChild(this.children[n].toNode());return e}toMarkup(){for(var e="",n=0;n<this.children.length;n++)e+=this.children[n].toMarkup();return e}toText(){var e=n=>n.toText();return this.children.map(e).join("")}}var Zi={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}},vh={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},y8={\u00C5:"A",\u00D0:"D",\u00DE:"o",\u00E5:"a",\u00F0:"d",\u00FE:"o",\u0410:"A",\u0411:"B",\u0412:"B",\u0413:"F",\u0414:"A",\u0415:"E",\u0416:"K",\u0417:"3",\u0418:"N",\u0419:"N",\u041A:"K",\u041B:"N",\u041C:"M",\u041D:"H",\u041E:"O",\u041F:"N",\u0420:"P",\u0421:"C",\u0422:"T",\u0423:"y",\u0424:"O",\u0425:"X",\u0426:"U",\u0427:"h",\u0428:"W",\u0429:"W",\u042A:"B",\u042B:"X",\u042C:"B",\u042D:"3",\u042E:"X",\u042F:"R",\u0430:"a",\u0431:"b",\u0432:"a",\u0433:"r",\u0434:"y",\u0435:"e",\u0436:"m",\u0437:"e",\u0438:"n",\u0439:"n",\u043A:"n",\u043B:"n",\u043C:"m",\u043D:"n",\u043E:"o",\u043F:"n",\u0440:"p",\u0441:"c",\u0442:"o",\u0443:"y",\u0444:"b",\u0445:"x",\u0446:"n",\u0447:"n",\u0448:"w",\u0449:"w",\u044A:"a",\u044B:"m",\u044C:"a",\u044D:"e",\u044E:"m",\u044F:"r"};function noe(t,e){Zi[t]=e}function r6(t,e,n){if(!Zi[e])throw new Error("Font metrics not found for font: "+e+".");var r=t.charCodeAt(0),i=Zi[e][r];if(!i&&t[0]in y8&&(r=y8[t[0]].charCodeAt(0),i=Zi[e][r]),!i&&n==="text"&&lO(r)&&(i=Zi[e][77]),i)return{depth:i[0],height:i[1],italic:i[2],skew:i[3],width:i[4]}}var _v={};function roe(t){var e;if(t>=5?e=0:t>=3?e=1:e=2,!_v[e]){var n=_v[e]={cssEmPerMu:vh.quad[e]/18};for(var r in vh)vh.hasOwnProperty(r)&&(n[r]=vh[r][e])}return _v[e]}var ioe=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],x8=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],w8=function(e,n){return n.size<2?e:ioe[e-1][n.size-1]};class Oo{constructor(e){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=e.style,this.color=e.color,this.size=e.size||Oo.BASESIZE,this.textSize=e.textSize||this.size,this.phantom=!!e.phantom,this.font=e.font||"",this.fontFamily=e.fontFamily||"",this.fontWeight=e.fontWeight||"",this.fontShape=e.fontShape||"",this.sizeMultiplier=x8[this.size-1],this.maxSize=e.maxSize,this.minRuleThickness=e.minRuleThickness,this._fontMetrics=void 0}extend(e){var n={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return new Oo(n)}havingStyle(e){return this.style===e?this:this.extend({style:e,size:w8(this.textSize,e)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(e){return this.size===e&&this.textSize===e?this:this.extend({style:this.style.text(),size:e,textSize:e,sizeMultiplier:x8[e-1]})}havingBaseStyle(e){e=e||this.style.text();var n=w8(Oo.BASESIZE,e);return this.size===n&&this.textSize===Oo.BASESIZE&&this.style===e?this:this.extend({style:e,size:n})}havingBaseSizing(){var e;switch(this.style.id){case 4:case 5:e=3;break;case 6:case 7:e=1;break;default:e=6}return this.extend({style:this.style.text(),size:e})}withColor(e){return this.extend({color:e})}withPhantom(){return this.extend({phantom:!0})}withFont(e){return this.extend({font:e})}withTextFontFamily(e){return this.extend({fontFamily:e,font:""})}withTextFontWeight(e){return this.extend({fontWeight:e,font:""})}withTextFontShape(e){return this.extend({fontShape:e,font:""})}sizingClasses(e){return e.size!==this.size?["sizing","reset-size"+e.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==Oo.BASESIZE?["sizing","reset-size"+this.size,"size"+Oo.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=roe(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}Oo.BASESIZE=6;var H4={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},ooe={ex:!0,em:!0,mu:!0},uO=function(e){return typeof e!="string"&&(e=e.unit),e in H4||e in ooe||e==="ex"},Nt=function(e,n){var r;if(e.unit in H4)r=H4[e.unit]/n.fontMetrics().ptPerEm/n.sizeMultiplier;else if(e.unit==="mu")r=n.fontMetrics().cssEmPerMu;else{var i;if(n.style.isTight()?i=n.havingStyle(n.style.text()):i=n,e.unit==="ex")r=i.fontMetrics().xHeight;else if(e.unit==="em")r=i.fontMetrics().quad;else throw new ne("Invalid unit: '"+e.unit+"'");i!==n&&(r*=i.sizeMultiplier/n.sizeMultiplier)}return Math.min(e.number*r,n.maxSize)},ae=function(e){return+e.toFixed(4)+"em"},ca=function(e){return e.filter(n=>n).join(" ")},cO=function(e,n,r){if(this.classes=e||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=r||{},n){n.style.isTight()&&this.classes.push("mtight");var i=n.getColor();i&&(this.style.color=i)}},fO=function(e){var n=document.createElement(e);n.className=ca(this.classes);for(var r in this.style)this.style.hasOwnProperty(r)&&(n.style[r]=this.style[r]);for(var i in this.attributes)this.attributes.hasOwnProperty(i)&&n.setAttribute(i,this.attributes[i]);for(var o=0;o<this.children.length;o++)n.appendChild(this.children[o].toNode());return n},dO=function(e){var n="<"+e;this.classes.length&&(n+=' class="'+Re.escape(ca(this.classes))+'"');var r="";for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Re.hyphenate(i)+":"+this.style[i]+";");r&&(n+=' style="'+Re.escape(r)+'"');for(var o in this.attributes)this.attributes.hasOwnProperty(o)&&(n+=" "+o+'="'+Re.escape(this.attributes[o])+'"');n+=">";for(var s=0;s<this.children.length;s++)n+=this.children[s].toMarkup();return n+="</"+e+">",n};class T0{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,cO.call(this,e,r,i),this.children=n||[]}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return Re.contains(this.classes,e)}toNode(){return fO.call(this,"span")}toMarkup(){return dO.call(this,"span")}}class i6{constructor(e,n,r,i){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,cO.call(this,n,i),this.children=r||[],this.setAttribute("href",e)}setAttribute(e,n){this.attributes[e]=n}hasClass(e){return Re.contains(this.classes,e)}toNode(){return fO.call(this,"a")}toMarkup(){return dO.call(this,"a")}}class soe{constructor(e,n,r){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=n,this.src=e,this.classes=["mord"],this.style=r}hasClass(e){return Re.contains(this.classes,e)}toNode(){var e=document.createElement("img");e.src=this.src,e.alt=this.alt,e.className="mord";for(var n in this.style)this.style.hasOwnProperty(n)&&(e.style[n]=this.style[n]);return e}toMarkup(){var e="<img  src='"+this.src+" 'alt='"+this.alt+"' ",n="";for(var r in this.style)this.style.hasOwnProperty(r)&&(n+=Re.hyphenate(r)+":"+this.style[r]+";");return n&&(e+=' style="'+Re.escape(n)+'"'),e+="'/>",e}}var aoe={\u00EE:"\u0131\u0302",\u00EF:"\u0131\u0308",\u00ED:"\u0131\u0301",\u00EC:"\u0131\u0300"};class Jr{constructor(e,n,r,i,o,s,a,l){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=e,this.height=n||0,this.depth=r||0,this.italic=i||0,this.skew=o||0,this.width=s||0,this.classes=a||[],this.style=l||{},this.maxFontSize=0;var u=qie(this.text.charCodeAt(0));u&&this.classes.push(u+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=aoe[this.text])}hasClass(e){return Re.contains(this.classes,e)}toNode(){var e=document.createTextNode(this.text),n=null;this.italic>0&&(n=document.createElement("span"),n.style.marginRight=ae(this.italic)),this.classes.length>0&&(n=n||document.createElement("span"),n.className=ca(this.classes));for(var r in this.style)this.style.hasOwnProperty(r)&&(n=n||document.createElement("span"),n.style[r]=this.style[r]);return n?(n.appendChild(e),n):e}toMarkup(){var e=!1,n="<span";this.classes.length&&(e=!0,n+=' class="',n+=Re.escape(ca(this.classes)),n+='"');var r="";this.italic>0&&(r+="margin-right:"+this.italic+"em;");for(var i in this.style)this.style.hasOwnProperty(i)&&(r+=Re.hyphenate(i)+":"+this.style[i]+";");r&&(e=!0,n+=' style="'+Re.escape(r)+'"');var o=Re.escape(this.text);return e?(n+=">",n+=o,n+="</span>",n):o}}class Go{constructor(e,n){this.children=void 0,this.attributes=void 0,this.children=e||[],this.attributes=n||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"svg");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);for(var i=0;i<this.children.length;i++)n.appendChild(this.children[i].toNode());return n}toMarkup(){var e='<svg xmlns="http://www.w3.org/2000/svg"';for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+"='"+this.attributes[n]+"'");e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</svg>",e}}class fa{constructor(e,n){this.pathName=void 0,this.alternate=void 0,this.pathName=e,this.alternate=n}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"path");return this.alternate?n.setAttribute("d",this.alternate):n.setAttribute("d",v8[this.pathName]),n}toMarkup(){return this.alternate?"<path d='"+this.alternate+"'/>":"<path d='"+v8[this.pathName]+"'/>"}}class j4{constructor(e){this.attributes=void 0,this.attributes=e||{}}toNode(){var e="http://www.w3.org/2000/svg",n=document.createElementNS(e,"line");for(var r in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,r)&&n.setAttribute(r,this.attributes[r]);return n}toMarkup(){var e="<line";for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+"='"+this.attributes[n]+"'");return e+="/>",e}}function b8(t){if(t instanceof Jr)return t;throw new Error("Expected symbolNode but got "+String(t)+".")}function loe(t){if(t instanceof T0)return t;throw new Error("Expected span<HtmlDomNode> but got "+String(t)+".")}var uoe={bin:1,close:1,inner:1,open:1,punct:1,rel:1},coe={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},gt={math:{},text:{}};function w(t,e,n,r,i,o){gt[t][i]={font:e,group:n,replace:r},o&&r&&(gt[t][r]=gt[t][i])}var k="math",Z="text",E="main",D="ams",Et="accent-token",he="bin",Qn="close",Mc="inner",Ee="mathord",Jt="op-token",Dr="open",V1="punct",I="rel",ns="spacing",B="textord";w(k,E,I,"\u2261","\\equiv",!0);w(k,E,I,"\u227A","\\prec",!0);w(k,E,I,"\u227B","\\succ",!0);w(k,E,I,"\u223C","\\sim",!0);w(k,E,I,"\u22A5","\\perp");w(k,E,I,"\u2AAF","\\preceq",!0);w(k,E,I,"\u2AB0","\\succeq",!0);w(k,E,I,"\u2243","\\simeq",!0);w(k,E,I,"\u2223","\\mid",!0);w(k,E,I,"\u226A","\\ll",!0);w(k,E,I,"\u226B","\\gg",!0);w(k,E,I,"\u224D","\\asymp",!0);w(k,E,I,"\u2225","\\parallel");w(k,E,I,"\u22C8","\\bowtie",!0);w(k,E,I,"\u2323","\\smile",!0);w(k,E,I,"\u2291","\\sqsubseteq",!0);w(k,E,I,"\u2292","\\sqsupseteq",!0);w(k,E,I,"\u2250","\\doteq",!0);w(k,E,I,"\u2322","\\frown",!0);w(k,E,I,"\u220B","\\ni",!0);w(k,E,I,"\u221D","\\propto",!0);w(k,E,I,"\u22A2","\\vdash",!0);w(k,E,I,"\u22A3","\\dashv",!0);w(k,E,I,"\u220B","\\owns");w(k,E,V1,".","\\ldotp");w(k,E,V1,"\u22C5","\\cdotp");w(k,E,B,"#","\\#");w(Z,E,B,"#","\\#");w(k,E,B,"&","\\&");w(Z,E,B,"&","\\&");w(k,E,B,"\u2135","\\aleph",!0);w(k,E,B,"\u2200","\\forall",!0);w(k,E,B,"\u210F","\\hbar",!0);w(k,E,B,"\u2203","\\exists",!0);w(k,E,B,"\u2207","\\nabla",!0);w(k,E,B,"\u266D","\\flat",!0);w(k,E,B,"\u2113","\\ell",!0);w(k,E,B,"\u266E","\\natural",!0);w(k,E,B,"\u2663","\\clubsuit",!0);w(k,E,B,"\u2118","\\wp",!0);w(k,E,B,"\u266F","\\sharp",!0);w(k,E,B,"\u2662","\\diamondsuit",!0);w(k,E,B,"\u211C","\\Re",!0);w(k,E,B,"\u2661","\\heartsuit",!0);w(k,E,B,"\u2111","\\Im",!0);w(k,E,B,"\u2660","\\spadesuit",!0);w(k,E,B,"\xA7","\\S",!0);w(Z,E,B,"\xA7","\\S");w(k,E,B,"\xB6","\\P",!0);w(Z,E,B,"\xB6","\\P");w(k,E,B,"\u2020","\\dag");w(Z,E,B,"\u2020","\\dag");w(Z,E,B,"\u2020","\\textdagger");w(k,E,B,"\u2021","\\ddag");w(Z,E,B,"\u2021","\\ddag");w(Z,E,B,"\u2021","\\textdaggerdbl");w(k,E,Qn,"\u23B1","\\rmoustache",!0);w(k,E,Dr,"\u23B0","\\lmoustache",!0);w(k,E,Qn,"\u27EF","\\rgroup",!0);w(k,E,Dr,"\u27EE","\\lgroup",!0);w(k,E,he,"\u2213","\\mp",!0);w(k,E,he,"\u2296","\\ominus",!0);w(k,E,he,"\u228E","\\uplus",!0);w(k,E,he,"\u2293","\\sqcap",!0);w(k,E,he,"\u2217","\\ast");w(k,E,he,"\u2294","\\sqcup",!0);w(k,E,he,"\u25EF","\\bigcirc",!0);w(k,E,he,"\u2219","\\bullet",!0);w(k,E,he,"\u2021","\\ddagger");w(k,E,he,"\u2240","\\wr",!0);w(k,E,he,"\u2A3F","\\amalg");w(k,E,he,"&","\\And");w(k,E,I,"\u27F5","\\longleftarrow",!0);w(k,E,I,"\u21D0","\\Leftarrow",!0);w(k,E,I,"\u27F8","\\Longleftarrow",!0);w(k,E,I,"\u27F6","\\longrightarrow",!0);w(k,E,I,"\u21D2","\\Rightarrow",!0);w(k,E,I,"\u27F9","\\Longrightarrow",!0);w(k,E,I,"\u2194","\\leftrightarrow",!0);w(k,E,I,"\u27F7","\\longleftrightarrow",!0);w(k,E,I,"\u21D4","\\Leftrightarrow",!0);w(k,E,I,"\u27FA","\\Longleftrightarrow",!0);w(k,E,I,"\u21A6","\\mapsto",!0);w(k,E,I,"\u27FC","\\longmapsto",!0);w(k,E,I,"\u2197","\\nearrow",!0);w(k,E,I,"\u21A9","\\hookleftarrow",!0);w(k,E,I,"\u21AA","\\hookrightarrow",!0);w(k,E,I,"\u2198","\\searrow",!0);w(k,E,I,"\u21BC","\\leftharpoonup",!0);w(k,E,I,"\u21C0","\\rightharpoonup",!0);w(k,E,I,"\u2199","\\swarrow",!0);w(k,E,I,"\u21BD","\\leftharpoondown",!0);w(k,E,I,"\u21C1","\\rightharpoondown",!0);w(k,E,I,"\u2196","\\nwarrow",!0);w(k,E,I,"\u21CC","\\rightleftharpoons",!0);w(k,D,I,"\u226E","\\nless",!0);w(k,D,I,"\uE010","\\@nleqslant");w(k,D,I,"\uE011","\\@nleqq");w(k,D,I,"\u2A87","\\lneq",!0);w(k,D,I,"\u2268","\\lneqq",!0);w(k,D,I,"\uE00C","\\@lvertneqq");w(k,D,I,"\u22E6","\\lnsim",!0);w(k,D,I,"\u2A89","\\lnapprox",!0);w(k,D,I,"\u2280","\\nprec",!0);w(k,D,I,"\u22E0","\\npreceq",!0);w(k,D,I,"\u22E8","\\precnsim",!0);w(k,D,I,"\u2AB9","\\precnapprox",!0);w(k,D,I,"\u2241","\\nsim",!0);w(k,D,I,"\uE006","\\@nshortmid");w(k,D,I,"\u2224","\\nmid",!0);w(k,D,I,"\u22AC","\\nvdash",!0);w(k,D,I,"\u22AD","\\nvDash",!0);w(k,D,I,"\u22EA","\\ntriangleleft");w(k,D,I,"\u22EC","\\ntrianglelefteq",!0);w(k,D,I,"\u228A","\\subsetneq",!0);w(k,D,I,"\uE01A","\\@varsubsetneq");w(k,D,I,"\u2ACB","\\subsetneqq",!0);w(k,D,I,"\uE017","\\@varsubsetneqq");w(k,D,I,"\u226F","\\ngtr",!0);w(k,D,I,"\uE00F","\\@ngeqslant");w(k,D,I,"\uE00E","\\@ngeqq");w(k,D,I,"\u2A88","\\gneq",!0);w(k,D,I,"\u2269","\\gneqq",!0);w(k,D,I,"\uE00D","\\@gvertneqq");w(k,D,I,"\u22E7","\\gnsim",!0);w(k,D,I,"\u2A8A","\\gnapprox",!0);w(k,D,I,"\u2281","\\nsucc",!0);w(k,D,I,"\u22E1","\\nsucceq",!0);w(k,D,I,"\u22E9","\\succnsim",!0);w(k,D,I,"\u2ABA","\\succnapprox",!0);w(k,D,I,"\u2246","\\ncong",!0);w(k,D,I,"\uE007","\\@nshortparallel");w(k,D,I,"\u2226","\\nparallel",!0);w(k,D,I,"\u22AF","\\nVDash",!0);w(k,D,I,"\u22EB","\\ntriangleright");w(k,D,I,"\u22ED","\\ntrianglerighteq",!0);w(k,D,I,"\uE018","\\@nsupseteqq");w(k,D,I,"\u228B","\\supsetneq",!0);w(k,D,I,"\uE01B","\\@varsupsetneq");w(k,D,I,"\u2ACC","\\supsetneqq",!0);w(k,D,I,"\uE019","\\@varsupsetneqq");w(k,D,I,"\u22AE","\\nVdash",!0);w(k,D,I,"\u2AB5","\\precneqq",!0);w(k,D,I,"\u2AB6","\\succneqq",!0);w(k,D,I,"\uE016","\\@nsubseteqq");w(k,D,he,"\u22B4","\\unlhd");w(k,D,he,"\u22B5","\\unrhd");w(k,D,I,"\u219A","\\nleftarrow",!0);w(k,D,I,"\u219B","\\nrightarrow",!0);w(k,D,I,"\u21CD","\\nLeftarrow",!0);w(k,D,I,"\u21CF","\\nRightarrow",!0);w(k,D,I,"\u21AE","\\nleftrightarrow",!0);w(k,D,I,"\u21CE","\\nLeftrightarrow",!0);w(k,D,I,"\u25B3","\\vartriangle");w(k,D,B,"\u210F","\\hslash");w(k,D,B,"\u25BD","\\triangledown");w(k,D,B,"\u25CA","\\lozenge");w(k,D,B,"\u24C8","\\circledS");w(k,D,B,"\xAE","\\circledR");w(Z,D,B,"\xAE","\\circledR");w(k,D,B,"\u2221","\\measuredangle",!0);w(k,D,B,"\u2204","\\nexists");w(k,D,B,"\u2127","\\mho");w(k,D,B,"\u2132","\\Finv",!0);w(k,D,B,"\u2141","\\Game",!0);w(k,D,B,"\u2035","\\backprime");w(k,D,B,"\u25B2","\\blacktriangle");w(k,D,B,"\u25BC","\\blacktriangledown");w(k,D,B,"\u25A0","\\blacksquare");w(k,D,B,"\u29EB","\\blacklozenge");w(k,D,B,"\u2605","\\bigstar");w(k,D,B,"\u2222","\\sphericalangle",!0);w(k,D,B,"\u2201","\\complement",!0);w(k,D,B,"\xF0","\\eth",!0);w(Z,E,B,"\xF0","\xF0");w(k,D,B,"\u2571","\\diagup");w(k,D,B,"\u2572","\\diagdown");w(k,D,B,"\u25A1","\\square");w(k,D,B,"\u25A1","\\Box");w(k,D,B,"\u25CA","\\Diamond");w(k,D,B,"\xA5","\\yen",!0);w(Z,D,B,"\xA5","\\yen",!0);w(k,D,B,"\u2713","\\checkmark",!0);w(Z,D,B,"\u2713","\\checkmark");w(k,D,B,"\u2136","\\beth",!0);w(k,D,B,"\u2138","\\daleth",!0);w(k,D,B,"\u2137","\\gimel",!0);w(k,D,B,"\u03DD","\\digamma",!0);w(k,D,B,"\u03F0","\\varkappa");w(k,D,Dr,"\u250C","\\@ulcorner",!0);w(k,D,Qn,"\u2510","\\@urcorner",!0);w(k,D,Dr,"\u2514","\\@llcorner",!0);w(k,D,Qn,"\u2518","\\@lrcorner",!0);w(k,D,I,"\u2266","\\leqq",!0);w(k,D,I,"\u2A7D","\\leqslant",!0);w(k,D,I,"\u2A95","\\eqslantless",!0);w(k,D,I,"\u2272","\\lesssim",!0);w(k,D,I,"\u2A85","\\lessapprox",!0);w(k,D,I,"\u224A","\\approxeq",!0);w(k,D,he,"\u22D6","\\lessdot");w(k,D,I,"\u22D8","\\lll",!0);w(k,D,I,"\u2276","\\lessgtr",!0);w(k,D,I,"\u22DA","\\lesseqgtr",!0);w(k,D,I,"\u2A8B","\\lesseqqgtr",!0);w(k,D,I,"\u2251","\\doteqdot");w(k,D,I,"\u2253","\\risingdotseq",!0);w(k,D,I,"\u2252","\\fallingdotseq",!0);w(k,D,I,"\u223D","\\backsim",!0);w(k,D,I,"\u22CD","\\backsimeq",!0);w(k,D,I,"\u2AC5","\\subseteqq",!0);w(k,D,I,"\u22D0","\\Subset",!0);w(k,D,I,"\u228F","\\sqsubset",!0);w(k,D,I,"\u227C","\\preccurlyeq",!0);w(k,D,I,"\u22DE","\\curlyeqprec",!0);w(k,D,I,"\u227E","\\precsim",!0);w(k,D,I,"\u2AB7","\\precapprox",!0);w(k,D,I,"\u22B2","\\vartriangleleft");w(k,D,I,"\u22B4","\\trianglelefteq");w(k,D,I,"\u22A8","\\vDash",!0);w(k,D,I,"\u22AA","\\Vvdash",!0);w(k,D,I,"\u2323","\\smallsmile");w(k,D,I,"\u2322","\\smallfrown");w(k,D,I,"\u224F","\\bumpeq",!0);w(k,D,I,"\u224E","\\Bumpeq",!0);w(k,D,I,"\u2267","\\geqq",!0);w(k,D,I,"\u2A7E","\\geqslant",!0);w(k,D,I,"\u2A96","\\eqslantgtr",!0);w(k,D,I,"\u2273","\\gtrsim",!0);w(k,D,I,"\u2A86","\\gtrapprox",!0);w(k,D,he,"\u22D7","\\gtrdot");w(k,D,I,"\u22D9","\\ggg",!0);w(k,D,I,"\u2277","\\gtrless",!0);w(k,D,I,"\u22DB","\\gtreqless",!0);w(k,D,I,"\u2A8C","\\gtreqqless",!0);w(k,D,I,"\u2256","\\eqcirc",!0);w(k,D,I,"\u2257","\\circeq",!0);w(k,D,I,"\u225C","\\triangleq",!0);w(k,D,I,"\u223C","\\thicksim");w(k,D,I,"\u2248","\\thickapprox");w(k,D,I,"\u2AC6","\\supseteqq",!0);w(k,D,I,"\u22D1","\\Supset",!0);w(k,D,I,"\u2290","\\sqsupset",!0);w(k,D,I,"\u227D","\\succcurlyeq",!0);w(k,D,I,"\u22DF","\\curlyeqsucc",!0);w(k,D,I,"\u227F","\\succsim",!0);w(k,D,I,"\u2AB8","\\succapprox",!0);w(k,D,I,"\u22B3","\\vartriangleright");w(k,D,I,"\u22B5","\\trianglerighteq");w(k,D,I,"\u22A9","\\Vdash",!0);w(k,D,I,"\u2223","\\shortmid");w(k,D,I,"\u2225","\\shortparallel");w(k,D,I,"\u226C","\\between",!0);w(k,D,I,"\u22D4","\\pitchfork",!0);w(k,D,I,"\u221D","\\varpropto");w(k,D,I,"\u25C0","\\blacktriangleleft");w(k,D,I,"\u2234","\\therefore",!0);w(k,D,I,"\u220D","\\backepsilon");w(k,D,I,"\u25B6","\\blacktriangleright");w(k,D,I,"\u2235","\\because",!0);w(k,D,I,"\u22D8","\\llless");w(k,D,I,"\u22D9","\\gggtr");w(k,D,he,"\u22B2","\\lhd");w(k,D,he,"\u22B3","\\rhd");w(k,D,I,"\u2242","\\eqsim",!0);w(k,E,I,"\u22C8","\\Join");w(k,D,I,"\u2251","\\Doteq",!0);w(k,D,he,"\u2214","\\dotplus",!0);w(k,D,he,"\u2216","\\smallsetminus");w(k,D,he,"\u22D2","\\Cap",!0);w(k,D,he,"\u22D3","\\Cup",!0);w(k,D,he,"\u2A5E","\\doublebarwedge",!0);w(k,D,he,"\u229F","\\boxminus",!0);w(k,D,he,"\u229E","\\boxplus",!0);w(k,D,he,"\u22C7","\\divideontimes",!0);w(k,D,he,"\u22C9","\\ltimes",!0);w(k,D,he,"\u22CA","\\rtimes",!0);w(k,D,he,"\u22CB","\\leftthreetimes",!0);w(k,D,he,"\u22CC","\\rightthreetimes",!0);w(k,D,he,"\u22CF","\\curlywedge",!0);w(k,D,he,"\u22CE","\\curlyvee",!0);w(k,D,he,"\u229D","\\circleddash",!0);w(k,D,he,"\u229B","\\circledast",!0);w(k,D,he,"\u22C5","\\centerdot");w(k,D,he,"\u22BA","\\intercal",!0);w(k,D,he,"\u22D2","\\doublecap");w(k,D,he,"\u22D3","\\doublecup");w(k,D,he,"\u22A0","\\boxtimes",!0);w(k,D,I,"\u21E2","\\dashrightarrow",!0);w(k,D,I,"\u21E0","\\dashleftarrow",!0);w(k,D,I,"\u21C7","\\leftleftarrows",!0);w(k,D,I,"\u21C6","\\leftrightarrows",!0);w(k,D,I,"\u21DA","\\Lleftarrow",!0);w(k,D,I,"\u219E","\\twoheadleftarrow",!0);w(k,D,I,"\u21A2","\\leftarrowtail",!0);w(k,D,I,"\u21AB","\\looparrowleft",!0);w(k,D,I,"\u21CB","\\leftrightharpoons",!0);w(k,D,I,"\u21B6","\\curvearrowleft",!0);w(k,D,I,"\u21BA","\\circlearrowleft",!0);w(k,D,I,"\u21B0","\\Lsh",!0);w(k,D,I,"\u21C8","\\upuparrows",!0);w(k,D,I,"\u21BF","\\upharpoonleft",!0);w(k,D,I,"\u21C3","\\downharpoonleft",!0);w(k,E,I,"\u22B6","\\origof",!0);w(k,E,I,"\u22B7","\\imageof",!0);w(k,D,I,"\u22B8","\\multimap",!0);w(k,D,I,"\u21AD","\\leftrightsquigarrow",!0);w(k,D,I,"\u21C9","\\rightrightarrows",!0);w(k,D,I,"\u21C4","\\rightleftarrows",!0);w(k,D,I,"\u21A0","\\twoheadrightarrow",!0);w(k,D,I,"\u21A3","\\rightarrowtail",!0);w(k,D,I,"\u21AC","\\looparrowright",!0);w(k,D,I,"\u21B7","\\curvearrowright",!0);w(k,D,I,"\u21BB","\\circlearrowright",!0);w(k,D,I,"\u21B1","\\Rsh",!0);w(k,D,I,"\u21CA","\\downdownarrows",!0);w(k,D,I,"\u21BE","\\upharpoonright",!0);w(k,D,I,"\u21C2","\\downharpoonright",!0);w(k,D,I,"\u21DD","\\rightsquigarrow",!0);w(k,D,I,"\u21DD","\\leadsto");w(k,D,I,"\u21DB","\\Rrightarrow",!0);w(k,D,I,"\u21BE","\\restriction");w(k,E,B,"\u2018","`");w(k,E,B,"$","\\$");w(Z,E,B,"$","\\$");w(Z,E,B,"$","\\textdollar");w(k,E,B,"%","\\%");w(Z,E,B,"%","\\%");w(k,E,B,"_","\\_");w(Z,E,B,"_","\\_");w(Z,E,B,"_","\\textunderscore");w(k,E,B,"\u2220","\\angle",!0);w(k,E,B,"\u221E","\\infty",!0);w(k,E,B,"\u2032","\\prime");w(k,E,B,"\u25B3","\\triangle");w(k,E,B,"\u0393","\\Gamma",!0);w(k,E,B,"\u0394","\\Delta",!0);w(k,E,B,"\u0398","\\Theta",!0);w(k,E,B,"\u039B","\\Lambda",!0);w(k,E,B,"\u039E","\\Xi",!0);w(k,E,B,"\u03A0","\\Pi",!0);w(k,E,B,"\u03A3","\\Sigma",!0);w(k,E,B,"\u03A5","\\Upsilon",!0);w(k,E,B,"\u03A6","\\Phi",!0);w(k,E,B,"\u03A8","\\Psi",!0);w(k,E,B,"\u03A9","\\Omega",!0);w(k,E,B,"A","\u0391");w(k,E,B,"B","\u0392");w(k,E,B,"E","\u0395");w(k,E,B,"Z","\u0396");w(k,E,B,"H","\u0397");w(k,E,B,"I","\u0399");w(k,E,B,"K","\u039A");w(k,E,B,"M","\u039C");w(k,E,B,"N","\u039D");w(k,E,B,"O","\u039F");w(k,E,B,"P","\u03A1");w(k,E,B,"T","\u03A4");w(k,E,B,"X","\u03A7");w(k,E,B,"\xAC","\\neg",!0);w(k,E,B,"\xAC","\\lnot");w(k,E,B,"\u22A4","\\top");w(k,E,B,"\u22A5","\\bot");w(k,E,B,"\u2205","\\emptyset");w(k,D,B,"\u2205","\\varnothing");w(k,E,Ee,"\u03B1","\\alpha",!0);w(k,E,Ee,"\u03B2","\\beta",!0);w(k,E,Ee,"\u03B3","\\gamma",!0);w(k,E,Ee,"\u03B4","\\delta",!0);w(k,E,Ee,"\u03F5","\\epsilon",!0);w(k,E,Ee,"\u03B6","\\zeta",!0);w(k,E,Ee,"\u03B7","\\eta",!0);w(k,E,Ee,"\u03B8","\\theta",!0);w(k,E,Ee,"\u03B9","\\iota",!0);w(k,E,Ee,"\u03BA","\\kappa",!0);w(k,E,Ee,"\u03BB","\\lambda",!0);w(k,E,Ee,"\u03BC","\\mu",!0);w(k,E,Ee,"\u03BD","\\nu",!0);w(k,E,Ee,"\u03BE","\\xi",!0);w(k,E,Ee,"\u03BF","\\omicron",!0);w(k,E,Ee,"\u03C0","\\pi",!0);w(k,E,Ee,"\u03C1","\\rho",!0);w(k,E,Ee,"\u03C3","\\sigma",!0);w(k,E,Ee,"\u03C4","\\tau",!0);w(k,E,Ee,"\u03C5","\\upsilon",!0);w(k,E,Ee,"\u03D5","\\phi",!0);w(k,E,Ee,"\u03C7","\\chi",!0);w(k,E,Ee,"\u03C8","\\psi",!0);w(k,E,Ee,"\u03C9","\\omega",!0);w(k,E,Ee,"\u03B5","\\varepsilon",!0);w(k,E,Ee,"\u03D1","\\vartheta",!0);w(k,E,Ee,"\u03D6","\\varpi",!0);w(k,E,Ee,"\u03F1","\\varrho",!0);w(k,E,Ee,"\u03C2","\\varsigma",!0);w(k,E,Ee,"\u03C6","\\varphi",!0);w(k,E,he,"\u2217","*",!0);w(k,E,he,"+","+");w(k,E,he,"\u2212","-",!0);w(k,E,he,"\u22C5","\\cdot",!0);w(k,E,he,"\u2218","\\circ",!0);w(k,E,he,"\xF7","\\div",!0);w(k,E,he,"\xB1","\\pm",!0);w(k,E,he,"\xD7","\\times",!0);w(k,E,he,"\u2229","\\cap",!0);w(k,E,he,"\u222A","\\cup",!0);w(k,E,he,"\u2216","\\setminus",!0);w(k,E,he,"\u2227","\\land");w(k,E,he,"\u2228","\\lor");w(k,E,he,"\u2227","\\wedge",!0);w(k,E,he,"\u2228","\\vee",!0);w(k,E,B,"\u221A","\\surd");w(k,E,Dr,"\u27E8","\\langle",!0);w(k,E,Dr,"\u2223","\\lvert");w(k,E,Dr,"\u2225","\\lVert");w(k,E,Qn,"?","?");w(k,E,Qn,"!","!");w(k,E,Qn,"\u27E9","\\rangle",!0);w(k,E,Qn,"\u2223","\\rvert");w(k,E,Qn,"\u2225","\\rVert");w(k,E,I,"=","=");w(k,E,I,":",":");w(k,E,I,"\u2248","\\approx",!0);w(k,E,I,"\u2245","\\cong",!0);w(k,E,I,"\u2265","\\ge");w(k,E,I,"\u2265","\\geq",!0);w(k,E,I,"\u2190","\\gets");w(k,E,I,">","\\gt",!0);w(k,E,I,"\u2208","\\in",!0);w(k,E,I,"\uE020","\\@not");w(k,E,I,"\u2282","\\subset",!0);w(k,E,I,"\u2283","\\supset",!0);w(k,E,I,"\u2286","\\subseteq",!0);w(k,E,I,"\u2287","\\supseteq",!0);w(k,D,I,"\u2288","\\nsubseteq",!0);w(k,D,I,"\u2289","\\nsupseteq",!0);w(k,E,I,"\u22A8","\\models");w(k,E,I,"\u2190","\\leftarrow",!0);w(k,E,I,"\u2264","\\le");w(k,E,I,"\u2264","\\leq",!0);w(k,E,I,"<","\\lt",!0);w(k,E,I,"\u2192","\\rightarrow",!0);w(k,E,I,"\u2192","\\to");w(k,D,I,"\u2271","\\ngeq",!0);w(k,D,I,"\u2270","\\nleq",!0);w(k,E,ns,"\xA0","\\ ");w(k,E,ns,"\xA0","\\space");w(k,E,ns,"\xA0","\\nobreakspace");w(Z,E,ns,"\xA0","\\ ");w(Z,E,ns,"\xA0"," ");w(Z,E,ns,"\xA0","\\space");w(Z,E,ns,"\xA0","\\nobreakspace");w(k,E,ns,null,"\\nobreak");w(k,E,ns,null,"\\allowbreak");w(k,E,V1,",",",");w(k,E,V1,";",";");w(k,D,he,"\u22BC","\\barwedge",!0);w(k,D,he,"\u22BB","\\veebar",!0);w(k,E,he,"\u2299","\\odot",!0);w(k,E,he,"\u2295","\\oplus",!0);w(k,E,he,"\u2297","\\otimes",!0);w(k,E,B,"\u2202","\\partial",!0);w(k,E,he,"\u2298","\\oslash",!0);w(k,D,he,"\u229A","\\circledcirc",!0);w(k,D,he,"\u22A1","\\boxdot",!0);w(k,E,he,"\u25B3","\\bigtriangleup");w(k,E,he,"\u25BD","\\bigtriangledown");w(k,E,he,"\u2020","\\dagger");w(k,E,he,"\u22C4","\\diamond");w(k,E,he,"\u22C6","\\star");w(k,E,he,"\u25C3","\\triangleleft");w(k,E,he,"\u25B9","\\triangleright");w(k,E,Dr,"{","\\{");w(Z,E,B,"{","\\{");w(Z,E,B,"{","\\textbraceleft");w(k,E,Qn,"}","\\}");w(Z,E,B,"}","\\}");w(Z,E,B,"}","\\textbraceright");w(k,E,Dr,"{","\\lbrace");w(k,E,Qn,"}","\\rbrace");w(k,E,Dr,"[","\\lbrack",!0);w(Z,E,B,"[","\\lbrack",!0);w(k,E,Qn,"]","\\rbrack",!0);w(Z,E,B,"]","\\rbrack",!0);w(k,E,Dr,"(","\\lparen",!0);w(k,E,Qn,")","\\rparen",!0);w(Z,E,B,"<","\\textless",!0);w(Z,E,B,">","\\textgreater",!0);w(k,E,Dr,"\u230A","\\lfloor",!0);w(k,E,Qn,"\u230B","\\rfloor",!0);w(k,E,Dr,"\u2308","\\lceil",!0);w(k,E,Qn,"\u2309","\\rceil",!0);w(k,E,B,"\\","\\backslash");w(k,E,B,"\u2223","|");w(k,E,B,"\u2223","\\vert");w(Z,E,B,"|","\\textbar",!0);w(k,E,B,"\u2225","\\|");w(k,E,B,"\u2225","\\Vert");w(Z,E,B,"\u2225","\\textbardbl");w(Z,E,B,"~","\\textasciitilde");w(Z,E,B,"\\","\\textbackslash");w(Z,E,B,"^","\\textasciicircum");w(k,E,I,"\u2191","\\uparrow",!0);w(k,E,I,"\u21D1","\\Uparrow",!0);w(k,E,I,"\u2193","\\downarrow",!0);w(k,E,I,"\u21D3","\\Downarrow",!0);w(k,E,I,"\u2195","\\updownarrow",!0);w(k,E,I,"\u21D5","\\Updownarrow",!0);w(k,E,Jt,"\u2210","\\coprod");w(k,E,Jt,"\u22C1","\\bigvee");w(k,E,Jt,"\u22C0","\\bigwedge");w(k,E,Jt,"\u2A04","\\biguplus");w(k,E,Jt,"\u22C2","\\bigcap");w(k,E,Jt,"\u22C3","\\bigcup");w(k,E,Jt,"\u222B","\\int");w(k,E,Jt,"\u222B","\\intop");w(k,E,Jt,"\u222C","\\iint");w(k,E,Jt,"\u222D","\\iiint");w(k,E,Jt,"\u220F","\\prod");w(k,E,Jt,"\u2211","\\sum");w(k,E,Jt,"\u2A02","\\bigotimes");w(k,E,Jt,"\u2A01","\\bigoplus");w(k,E,Jt,"\u2A00","\\bigodot");w(k,E,Jt,"\u222E","\\oint");w(k,E,Jt,"\u222F","\\oiint");w(k,E,Jt,"\u2230","\\oiiint");w(k,E,Jt,"\u2A06","\\bigsqcup");w(k,E,Jt,"\u222B","\\smallint");w(Z,E,Mc,"\u2026","\\textellipsis");w(k,E,Mc,"\u2026","\\mathellipsis");w(Z,E,Mc,"\u2026","\\ldots",!0);w(k,E,Mc,"\u2026","\\ldots",!0);w(k,E,Mc,"\u22EF","\\@cdots",!0);w(k,E,Mc,"\u22F1","\\ddots",!0);w(k,E,B,"\u22EE","\\varvdots");w(k,E,Et,"\u02CA","\\acute");w(k,E,Et,"\u02CB","\\grave");w(k,E,Et,"\xA8","\\ddot");w(k,E,Et,"~","\\tilde");w(k,E,Et,"\u02C9","\\bar");w(k,E,Et,"\u02D8","\\breve");w(k,E,Et,"\u02C7","\\check");w(k,E,Et,"^","\\hat");w(k,E,Et,"\u20D7","\\vec");w(k,E,Et,"\u02D9","\\dot");w(k,E,Et,"\u02DA","\\mathring");w(k,E,Ee,"\uE131","\\@imath");w(k,E,Ee,"\uE237","\\@jmath");w(k,E,B,"\u0131","\u0131");w(k,E,B,"\u0237","\u0237");w(Z,E,B,"\u0131","\\i",!0);w(Z,E,B,"\u0237","\\j",!0);w(Z,E,B,"\xDF","\\ss",!0);w(Z,E,B,"\xE6","\\ae",!0);w(Z,E,B,"\u0153","\\oe",!0);w(Z,E,B,"\xF8","\\o",!0);w(Z,E,B,"\xC6","\\AE",!0);w(Z,E,B,"\u0152","\\OE",!0);w(Z,E,B,"\xD8","\\O",!0);w(Z,E,Et,"\u02CA","\\'");w(Z,E,Et,"\u02CB","\\`");w(Z,E,Et,"\u02C6","\\^");w(Z,E,Et,"\u02DC","\\~");w(Z,E,Et,"\u02C9","\\=");w(Z,E,Et,"\u02D8","\\u");w(Z,E,Et,"\u02D9","\\.");w(Z,E,Et,"\xB8","\\c");w(Z,E,Et,"\u02DA","\\r");w(Z,E,Et,"\u02C7","\\v");w(Z,E,Et,"\xA8",'\\"');w(Z,E,Et,"\u02DD","\\H");w(Z,E,Et,"\u25EF","\\textcircled");var hO={"--":!0,"---":!0,"``":!0,"''":!0};w(Z,E,B,"\u2013","--",!0);w(Z,E,B,"\u2013","\\textendash");w(Z,E,B,"\u2014","---",!0);w(Z,E,B,"\u2014","\\textemdash");w(Z,E,B,"\u2018","`",!0);w(Z,E,B,"\u2018","\\textquoteleft");w(Z,E,B,"\u2019","'",!0);w(Z,E,B,"\u2019","\\textquoteright");w(Z,E,B,"\u201C","``",!0);w(Z,E,B,"\u201C","\\textquotedblleft");w(Z,E,B,"\u201D","''",!0);w(Z,E,B,"\u201D","\\textquotedblright");w(k,E,B,"\xB0","\\degree",!0);w(Z,E,B,"\xB0","\\degree");w(Z,E,B,"\xB0","\\textdegree",!0);w(k,E,B,"\xA3","\\pounds");w(k,E,B,"\xA3","\\mathsterling",!0);w(Z,E,B,"\xA3","\\pounds");w(Z,E,B,"\xA3","\\textsterling",!0);w(k,D,B,"\u2720","\\maltese");w(Z,D,B,"\u2720","\\maltese");var S8='0123456789/@."';for(var Ev=0;Ev<S8.length;Ev++){var k8=S8.charAt(Ev);w(k,E,B,k8,k8)}var _8='0123456789!@*()-=+";:?/.,';for(var Cv=0;Cv<_8.length;Cv++){var E8=_8.charAt(Cv);w(Z,E,B,E8,E8)}var km="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(var Tv=0;Tv<km.length;Tv++){var yh=km.charAt(Tv);w(k,E,Ee,yh,yh),w(Z,E,B,yh,yh)}w(k,D,B,"C","\u2102");w(Z,D,B,"C","\u2102");w(k,D,B,"H","\u210D");w(Z,D,B,"H","\u210D");w(k,D,B,"N","\u2115");w(Z,D,B,"N","\u2115");w(k,D,B,"P","\u2119");w(Z,D,B,"P","\u2119");w(k,D,B,"Q","\u211A");w(Z,D,B,"Q","\u211A");w(k,D,B,"R","\u211D");w(Z,D,B,"R","\u211D");w(k,D,B,"Z","\u2124");w(Z,D,B,"Z","\u2124");w(k,E,Ee,"h","\u210E");w(Z,E,Ee,"h","\u210E");var Ie="";for(var er=0;er<km.length;er++){var Ht=km.charAt(er);Ie=String.fromCharCode(55349,56320+er),w(k,E,Ee,Ht,Ie),w(Z,E,B,Ht,Ie),Ie=String.fromCharCode(55349,56372+er),w(k,E,Ee,Ht,Ie),w(Z,E,B,Ht,Ie),Ie=String.fromCharCode(55349,56424+er),w(k,E,Ee,Ht,Ie),w(Z,E,B,Ht,Ie),Ie=String.fromCharCode(55349,56580+er),w(k,E,Ee,Ht,Ie),w(Z,E,B,Ht,Ie),Ie=String.fromCharCode(55349,56736+er),w(k,E,Ee,Ht,Ie),w(Z,E,B,Ht,Ie),Ie=String.fromCharCode(55349,56788+er),w(k,E,Ee,Ht,Ie),w(Z,E,B,Ht,Ie),Ie=String.fromCharCode(55349,56840+er),w(k,E,Ee,Ht,Ie),w(Z,E,B,Ht,Ie),Ie=String.fromCharCode(55349,56944+er),w(k,E,Ee,Ht,Ie),w(Z,E,B,Ht,Ie),er<26&&(Ie=String.fromCharCode(55349,56632+er),w(k,E,Ee,Ht,Ie),w(Z,E,B,Ht,Ie),Ie=String.fromCharCode(55349,56476+er),w(k,E,Ee,Ht,Ie),w(Z,E,B,Ht,Ie))}Ie=String.fromCharCode(55349,56668);w(k,E,Ee,"k",Ie);w(Z,E,B,"k",Ie);for(var _a=0;_a<10;_a++){var fs=_a.toString();Ie=String.fromCharCode(55349,57294+_a),w(k,E,Ee,fs,Ie),w(Z,E,B,fs,Ie),Ie=String.fromCharCode(55349,57314+_a),w(k,E,Ee,fs,Ie),w(Z,E,B,fs,Ie),Ie=String.fromCharCode(55349,57324+_a),w(k,E,Ee,fs,Ie),w(Z,E,B,fs,Ie),Ie=String.fromCharCode(55349,57334+_a),w(k,E,Ee,fs,Ie),w(Z,E,B,fs,Ie)}var q4="\xD0\xDE\xFE";for(var Av=0;Av<q4.length;Av++){var xh=q4.charAt(Av);w(k,E,Ee,xh,xh),w(Z,E,B,xh,xh)}var wh=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["","",""],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],C8=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],foe=function(e,n){var r=e.charCodeAt(0),i=e.charCodeAt(1),o=(r-55296)*1024+(i-56320)+65536,s=n==="math"?0:1;if(119808<=o&&o<120484){var a=Math.floor((o-119808)/26);return[wh[a][2],wh[a][s]]}else if(120782<=o&&o<=120831){var l=Math.floor((o-120782)/10);return[C8[l][2],C8[l][s]]}else{if(o===120485||o===120486)return[wh[0][2],wh[0][s]];if(120486<o&&o<120782)return["",""];throw new ne("Unsupported character: "+e)}},U1=function(e,n,r){return gt[r][e]&&gt[r][e].replace&&(e=gt[r][e].replace),{value:e,metrics:r6(e,n,r)}},hi=function(e,n,r,i,o){var s=U1(e,n,r),a=s.metrics;e=s.value;var l;if(a){var u=a.italic;(r==="text"||i&&i.font==="mathit")&&(u=0),l=new Jr(e,a.height,a.depth,u,a.skew,a.width,o)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+e+"' in style '"+n+"' and mode '"+r+"'")),l=new Jr(e,0,0,0,0,0,o);if(i){l.maxFontSize=i.sizeMultiplier,i.style.isTight()&&l.classes.push("mtight");var c=i.getColor();c&&(l.style.color=c)}return l},doe=function(e,n,r,i){return i===void 0&&(i=[]),r.font==="boldsymbol"&&U1(e,"Main-Bold",n).metrics?hi(e,"Main-Bold",n,r,i.concat(["mathbf"])):e==="\\"||gt[n][e].font==="main"?hi(e,"Main-Regular",n,r,i):hi(e,"AMS-Regular",n,r,i.concat(["amsrm"]))},hoe=function(e,n,r,i,o){return o!=="textord"&&U1(e,"Math-BoldItalic",n).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},poe=function(e,n,r){var i=e.mode,o=e.text,s=["mord"],a=i==="math"||i==="text"&&n.font,l=a?n.font:n.fontFamily;if(o.charCodeAt(0)===55349){var[u,c]=foe(o,i);return hi(o,u,i,n,s.concat(c))}else if(l){var f,d;if(l==="boldsymbol"){var h=hoe(o,i,n,s,r);f=h.fontName,d=[h.fontClass]}else a?(f=gO[l].fontName,d=[l]):(f=bh(l,n.fontWeight,n.fontShape),d=[l,n.fontWeight,n.fontShape]);if(U1(o,f,i).metrics)return hi(o,f,i,n,s.concat(d));if(hO.hasOwnProperty(o)&&f.slice(0,10)==="Typewriter"){for(var g=[],y=0;y<o.length;y++)g.push(hi(o[y],f,i,n,s.concat(d)));return mO(g)}}if(r==="mathord")return hi(o,"Math-Italic",i,n,s.concat(["mathnormal"]));if(r==="textord"){var S=gt[i][o]&&gt[i][o].font;if(S==="ams"){var v=bh("amsrm",n.fontWeight,n.fontShape);return hi(o,v,i,n,s.concat("amsrm",n.fontWeight,n.fontShape))}else if(S==="main"||!S){var m=bh("textrm",n.fontWeight,n.fontShape);return hi(o,m,i,n,s.concat(n.fontWeight,n.fontShape))}else{var p=bh(S,n.fontWeight,n.fontShape);return hi(o,p,i,n,s.concat(p,n.fontWeight,n.fontShape))}}else throw new Error("unexpected type: "+r+" in makeOrd")},moe=(t,e)=>{if(ca(t.classes)!==ca(e.classes)||t.skew!==e.skew||t.maxFontSize!==e.maxFontSize)return!1;if(t.classes.length===1){var n=t.classes[0];if(n==="mbin"||n==="mord")return!1}for(var r in t.style)if(t.style.hasOwnProperty(r)&&t.style[r]!==e.style[r])return!1;for(var i in e.style)if(e.style.hasOwnProperty(i)&&t.style[i]!==e.style[i])return!1;return!0},goe=t=>{for(var e=0;e<t.length-1;e++){var n=t[e],r=t[e+1];n instanceof Jr&&r instanceof Jr&&moe(n,r)&&(n.text+=r.text,n.height=Math.max(n.height,r.height),n.depth=Math.max(n.depth,r.depth),n.italic=r.italic,t.splice(e+1,1),e--)}return t},o6=function(e){for(var n=0,r=0,i=0,o=0;o<e.children.length;o++){var s=e.children[o];s.height>n&&(n=s.height),s.depth>r&&(r=s.depth),s.maxFontSize>i&&(i=s.maxFontSize)}e.height=n,e.depth=r,e.maxFontSize=i},rr=function(e,n,r,i){var o=new T0(e,n,r,i);return o6(o),o},pO=(t,e,n,r)=>new T0(t,e,n,r),voe=function(e,n,r){var i=rr([e],[],n);return i.height=Math.max(r||n.fontMetrics().defaultRuleThickness,n.minRuleThickness),i.style.borderBottomWidth=ae(i.height),i.maxFontSize=1,i},yoe=function(e,n,r,i){var o=new i6(e,n,r,i);return o6(o),o},mO=function(e){var n=new C0(e);return o6(n),n},xoe=function(e,n){return e instanceof C0?rr([],[e],n):e},woe=function(e){if(e.positionType==="individualShift"){for(var n=e.children,r=[n[0]],i=-n[0].shift-n[0].elem.depth,o=i,s=1;s<n.length;s++){var a=-n[s].shift-o-n[s].elem.depth,l=a-(n[s-1].elem.height+n[s-1].elem.depth);o=o+a,r.push({type:"kern",size:l}),r.push(n[s])}return{children:r,depth:i}}var u;if(e.positionType==="top"){for(var c=e.positionData,f=0;f<e.children.length;f++){var d=e.children[f];c-=d.type==="kern"?d.size:d.elem.height+d.elem.depth}u=c}else if(e.positionType==="bottom")u=-e.positionData;else{var h=e.children[0];if(h.type!=="elem")throw new Error('First child must have type "elem".');if(e.positionType==="shift")u=-h.elem.depth-e.positionData;else if(e.positionType==="firstBaseline")u=-h.elem.depth;else throw new Error("Invalid positionType "+e.positionType+".")}return{children:e.children,depth:u}},boe=function(e,n){for(var{children:r,depth:i}=woe(e),o=0,s=0;s<r.length;s++){var a=r[s];if(a.type==="elem"){var l=a.elem;o=Math.max(o,l.maxFontSize,l.height)}}o+=2;var u=rr(["pstrut"],[]);u.style.height=ae(o);for(var c=[],f=i,d=i,h=i,g=0;g<r.length;g++){var y=r[g];if(y.type==="kern")h+=y.size;else{var S=y.elem,v=y.wrapperClasses||[],m=y.wrapperStyle||{},p=rr(v,[u,S],void 0,m);p.style.top=ae(-o-h-S.depth),y.marginLeft&&(p.style.marginLeft=y.marginLeft),y.marginRight&&(p.style.marginRight=y.marginRight),c.push(p),h+=S.height+S.depth}f=Math.min(f,h),d=Math.max(d,h)}var x=rr(["vlist"],c);x.style.height=ae(d);var b;if(f<0){var _=rr([],[]),T=rr(["vlist"],[_]);T.style.height=ae(-f);var M=rr(["vlist-s"],[new Jr("\u200B")]);b=[rr(["vlist-r"],[x,M]),rr(["vlist-r"],[T])]}else b=[rr(["vlist-r"],[x])];var N=rr(["vlist-t"],b);return b.length===2&&N.classes.push("vlist-t2"),N.height=d,N.depth=-f,N},Soe=(t,e)=>{var n=rr(["mspace"],[],e),r=Nt(t,e);return n.style.marginRight=ae(r),n},bh=function(e,n,r){var i="";switch(e){case"amsrm":i="AMS";break;case"textrm":i="Main";break;case"textsf":i="SansSerif";break;case"texttt":i="Typewriter";break;default:i=e}var o;return n==="textbf"&&r==="textit"?o="BoldItalic":n==="textbf"?o="Bold":n==="textit"?o="Italic":o="Regular",i+"-"+o},gO={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},vO={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]},koe=function(e,n){var[r,i,o]=vO[e],s=new fa(r),a=new Go([s],{width:ae(i),height:ae(o),style:"width:"+ae(i),viewBox:"0 0 "+1e3*i+" "+1e3*o,preserveAspectRatio:"xMinYMin"}),l=pO(["overlay"],[a],n);return l.height=o,l.style.height=ae(o),l.style.width=ae(i),l},U={fontMap:gO,makeSymbol:hi,mathsym:doe,makeSpan:rr,makeSvgSpan:pO,makeLineSpan:voe,makeAnchor:yoe,makeFragment:mO,wrapFragment:xoe,makeVList:boe,makeOrd:poe,makeGlue:Soe,staticSvg:koe,svgData:vO,tryCombineChars:goe},At={number:3,unit:"mu"},Ea={number:4,unit:"mu"},wo={number:5,unit:"mu"},_oe={mord:{mop:At,mbin:Ea,mrel:wo,minner:At},mop:{mord:At,mop:At,mrel:wo,minner:At},mbin:{mord:Ea,mop:Ea,mopen:Ea,minner:Ea},mrel:{mord:wo,mop:wo,mopen:wo,minner:wo},mopen:{},mclose:{mop:At,mbin:Ea,mrel:wo,minner:At},mpunct:{mord:At,mop:At,mrel:wo,mopen:At,mclose:At,mpunct:At,minner:At},minner:{mord:At,mop:At,mbin:Ea,mrel:wo,mopen:At,mpunct:At,minner:At}},Eoe={mord:{mop:At},mop:{mord:At,mop:At},mbin:{},mrel:{},mopen:{},mclose:{mop:At},mpunct:{},minner:{mop:At}},yO={},_m={},Em={};function de(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:s}=t,a={type:e,numArgs:r.numArgs,argTypes:r.argTypes,allowedInArgument:!!r.allowedInArgument,allowedInText:!!r.allowedInText,allowedInMath:r.allowedInMath===void 0?!0:r.allowedInMath,numOptionalArgs:r.numOptionalArgs||0,infix:!!r.infix,primitive:!!r.primitive,handler:i},l=0;l<n.length;++l)yO[n[l]]=a;e&&(o&&(_m[e]=o),s&&(Em[e]=s))}function Bl(t){var{type:e,htmlBuilder:n,mathmlBuilder:r}=t;de({type:e,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:n,mathmlBuilder:r})}var Cm=function(e){return e.type==="ordgroup"&&e.body.length===1?e.body[0]:e},Vt=function(e){return e.type==="ordgroup"?e.body:[e]},Yo=U.makeSpan,Coe=["leftmost","mbin","mopen","mrel","mop","mpunct"],Toe=["rightmost","mrel","mclose","mpunct"],Aoe={display:ke.DISPLAY,text:ke.TEXT,script:ke.SCRIPT,scriptscript:ke.SCRIPTSCRIPT},Ooe={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},sn=function(e,n,r,i){i===void 0&&(i=[null,null]);for(var o=[],s=0;s<e.length;s++){var a=Ze(e[s],n);if(a instanceof C0){var l=a.children;o.push(...l)}else o.push(a)}if(U.tryCombineChars(o),!r)return o;var u=n;if(e.length===1){var c=e[0];c.type==="sizing"?u=n.havingSize(c.size):c.type==="styling"&&(u=n.havingStyle(Aoe[c.style]))}var f=Yo([i[0]||"leftmost"],[],n),d=Yo([i[1]||"rightmost"],[],n),h=r==="root";return T8(o,(g,y)=>{var S=y.classes[0],v=g.classes[0];S==="mbin"&&Re.contains(Toe,v)?y.classes[0]="mord":v==="mbin"&&Re.contains(Coe,S)&&(g.classes[0]="mord")},{node:f},d,h),T8(o,(g,y)=>{var S=W4(y),v=W4(g),m=S&&v?g.hasClass("mtight")?Eoe[S][v]:_oe[S][v]:null;if(m)return U.makeGlue(m,u)},{node:f},d,h),o},T8=function t(e,n,r,i,o){i&&e.push(i);for(var s=0;s<e.length;s++){var a=e[s],l=xO(a);if(l){t(l.children,n,r,null,o);continue}var u=!a.hasClass("mspace");if(u){var c=n(a,r.node);c&&(r.insertAfter?r.insertAfter(c):(e.unshift(c),s++))}u?r.node=a:o&&a.hasClass("newline")&&(r.node=Yo(["leftmost"])),r.insertAfter=(f=>d=>{e.splice(f+1,0,d),s++})(s)}i&&e.pop()},xO=function(e){return e instanceof C0||e instanceof i6||e instanceof T0&&e.hasClass("enclosing")?e:null},Moe=function t(e,n){var r=xO(e);if(r){var i=r.children;if(i.length){if(n==="right")return t(i[i.length-1],"right");if(n==="left")return t(i[0],"left")}}return e},W4=function(e,n){return e?(n&&(e=Moe(e,n)),Ooe[e.classes[0]]||null):null},Yd=function(e,n){var r=["nulldelimiter"].concat(e.baseSizingClasses());return Yo(n.concat(r))},Ze=function(e,n,r){if(!e)return Yo();if(_m[e.type]){var i=_m[e.type](e,n);if(r&&n.size!==r.size){i=Yo(n.sizingClasses(r),[i],n);var o=n.sizeMultiplier/r.sizeMultiplier;i.height*=o,i.depth*=o}return i}else throw new ne("Got group of unknown type: '"+e.type+"'")};function Sh(t,e){var n=Yo(["base"],t,e),r=Yo(["strut"]);return r.style.height=ae(n.height+n.depth),n.depth&&(r.style.verticalAlign=ae(-n.depth)),n.children.unshift(r),n}function K4(t,e){var n=null;t.length===1&&t[0].type==="tag"&&(n=t[0].tag,t=t[0].body);var r=sn(t,e,"root"),i;r.length===2&&r[1].hasClass("tag")&&(i=r.pop());for(var o=[],s=[],a=0;a<r.length;a++)if(s.push(r[a]),r[a].hasClass("mbin")||r[a].hasClass("mrel")||r[a].hasClass("allowbreak")){for(var l=!1;a<r.length-1&&r[a+1].hasClass("mspace")&&!r[a+1].hasClass("newline");)a++,s.push(r[a]),r[a].hasClass("nobreak")&&(l=!0);l||(o.push(Sh(s,e)),s=[])}else r[a].hasClass("newline")&&(s.pop(),s.length>0&&(o.push(Sh(s,e)),s=[]),o.push(r[a]));s.length>0&&o.push(Sh(s,e));var u;n?(u=Sh(sn(n,e,!0)),u.classes=["tag"],o.push(u)):i&&o.push(i);var c=Yo(["katex-html"],o);if(c.setAttribute("aria-hidden","true"),u){var f=u.children[0];f.style.height=ae(c.height+c.depth),c.depth&&(f.style.verticalAlign=ae(-c.depth))}return c}function wO(t){return new C0(t)}class Fr{constructor(e,n,r){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=e,this.attributes={},this.children=n||[],this.classes=r||[]}setAttribute(e,n){this.attributes[e]=n}getAttribute(e){return this.attributes[e]}toNode(){var e=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&e.setAttribute(n,this.attributes[n]);this.classes.length>0&&(e.className=ca(this.classes));for(var r=0;r<this.children.length;r++)e.appendChild(this.children[r].toNode());return e}toMarkup(){var e="<"+this.type;for(var n in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,n)&&(e+=" "+n+'="',e+=Re.escape(this.attributes[n]),e+='"');this.classes.length>0&&(e+=' class ="'+Re.escape(ca(this.classes))+'"'),e+=">";for(var r=0;r<this.children.length;r++)e+=this.children[r].toMarkup();return e+="</"+this.type+">",e}toText(){return this.children.map(e=>e.toText()).join("")}}class Yf{constructor(e){this.text=void 0,this.text=e}toNode(){return document.createTextNode(this.text)}toMarkup(){return Re.escape(this.toText())}toText(){return this.text}}class Noe{constructor(e){this.width=void 0,this.character=void 0,this.width=e,e>=.05555&&e<=.05556?this.character="\u200A":e>=.1666&&e<=.1667?this.character="\u2009":e>=.2222&&e<=.2223?this.character="\u2005":e>=.2777&&e<=.2778?this.character="\u2005\u200A":e>=-.05556&&e<=-.05555?this.character="\u200A\u2063":e>=-.1667&&e<=-.1666?this.character="\u2009\u2063":e>=-.2223&&e<=-.2222?this.character="\u205F\u2063":e>=-.2778&&e<=-.2777?this.character="\u2005\u2063":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);var e=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return e.setAttribute("width",ae(this.width)),e}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+ae(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ee={MathNode:Fr,TextNode:Yf,SpaceNode:Noe,newDocumentFragment:wO},Qr=function(e,n,r){return gt[n][e]&&gt[n][e].replace&&e.charCodeAt(0)!==55349&&!(hO.hasOwnProperty(e)&&r&&(r.fontFamily&&r.fontFamily.slice(4,6)==="tt"||r.font&&r.font.slice(4,6)==="tt"))&&(e=gt[n][e].replace),new ee.TextNode(e)},s6=function(e){return e.length===1?e[0]:new ee.MathNode("mrow",e)},a6=function(e,n){if(n.fontFamily==="texttt")return"monospace";if(n.fontFamily==="textsf")return n.fontShape==="textit"&&n.fontWeight==="textbf"?"sans-serif-bold-italic":n.fontShape==="textit"?"sans-serif-italic":n.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(n.fontShape==="textit"&&n.fontWeight==="textbf")return"bold-italic";if(n.fontShape==="textit")return"italic";if(n.fontWeight==="textbf")return"bold";var r=n.font;if(!r||r==="mathnormal")return null;var i=e.mode;if(r==="mathit")return"italic";if(r==="boldsymbol")return e.type==="textord"?"bold":"bold-italic";if(r==="mathbf")return"bold";if(r==="mathbb")return"double-struck";if(r==="mathfrak")return"fraktur";if(r==="mathscr"||r==="mathcal")return"script";if(r==="mathsf")return"sans-serif";if(r==="mathtt")return"monospace";var o=e.text;if(Re.contains(["\\imath","\\jmath"],o))return null;gt[i][o]&&gt[i][o].replace&&(o=gt[i][o].replace);var s=U.fontMap[r].fontName;return r6(o,s,i)?U.fontMap[r].variant:null},mr=function(e,n,r){if(e.length===1){var i=ut(e[0],n);return r&&i instanceof Fr&&i.type==="mo"&&(i.setAttribute("lspace","0em"),i.setAttribute("rspace","0em")),[i]}for(var o=[],s,a=0;a<e.length;a++){var l=ut(e[a],n);if(l instanceof Fr&&s instanceof Fr){if(l.type==="mtext"&&s.type==="mtext"&&l.getAttribute("mathvariant")===s.getAttribute("mathvariant")){s.children.push(...l.children);continue}else if(l.type==="mn"&&s.type==="mn"){s.children.push(...l.children);continue}else if(l.type==="mi"&&l.children.length===1&&s.type==="mn"){var u=l.children[0];if(u instanceof Yf&&u.text==="."){s.children.push(...l.children);continue}}else if(s.type==="mi"&&s.children.length===1){var c=s.children[0];if(c instanceof Yf&&c.text==="\u0338"&&(l.type==="mo"||l.type==="mi"||l.type==="mn")){var f=l.children[0];f instanceof Yf&&f.text.length>0&&(f.text=f.text.slice(0,1)+"\u0338"+f.text.slice(1),o.pop())}}}o.push(l),s=l}return o},da=function(e,n,r){return s6(mr(e,n,r))},ut=function(e,n){if(!e)return new ee.MathNode("mrow");if(Em[e.type]){var r=Em[e.type](e,n);return r}else throw new ne("Got group of unknown type: '"+e.type+"'")};function A8(t,e,n,r,i){var o=mr(t,n),s;o.length===1&&o[0]instanceof Fr&&Re.contains(["mrow","mtable"],o[0].type)?s=o[0]:s=new ee.MathNode("mrow",o);var a=new ee.MathNode("annotation",[new ee.TextNode(e)]);a.setAttribute("encoding","application/x-tex");var l=new ee.MathNode("semantics",[s,a]),u=new ee.MathNode("math",[l]);u.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),r&&u.setAttribute("display","block");var c=i?"katex":"katex-mathml";return U.makeSpan([c],[u])}var bO=function(e){return new Oo({style:e.displayMode?ke.DISPLAY:ke.TEXT,maxSize:e.maxSize,minRuleThickness:e.minRuleThickness})},SO=function(e,n){if(n.displayMode){var r=["katex-display"];n.leqno&&r.push("leqno"),n.fleqn&&r.push("fleqn"),e=U.makeSpan(r,[e])}return e},Roe=function(e,n,r){var i=bO(r),o;if(r.output==="mathml")return A8(e,n,i,r.displayMode,!0);if(r.output==="html"){var s=K4(e,i);o=U.makeSpan(["katex"],[s])}else{var a=A8(e,n,i,r.displayMode,!1),l=K4(e,i);o=U.makeSpan(["katex"],[a,l])}return SO(o,r)},Doe=function(e,n,r){var i=bO(r),o=K4(e,i),s=U.makeSpan(["katex"],[o]);return SO(s,r)},Ioe={widehat:"^",widecheck:"\u02C7",widetilde:"~",utilde:"~",overleftarrow:"\u2190",underleftarrow:"\u2190",xleftarrow:"\u2190",overrightarrow:"\u2192",underrightarrow:"\u2192",xrightarrow:"\u2192",underbrace:"\u23DF",overbrace:"\u23DE",overgroup:"\u23E0",undergroup:"\u23E1",overleftrightarrow:"\u2194",underleftrightarrow:"\u2194",xleftrightarrow:"\u2194",Overrightarrow:"\u21D2",xRightarrow:"\u21D2",overleftharpoon:"\u21BC",xleftharpoonup:"\u21BC",overrightharpoon:"\u21C0",xrightharpoonup:"\u21C0",xLeftarrow:"\u21D0",xLeftrightarrow:"\u21D4",xhookleftarrow:"\u21A9",xhookrightarrow:"\u21AA",xmapsto:"\u21A6",xrightharpoondown:"\u21C1",xleftharpoondown:"\u21BD",xrightleftharpoons:"\u21CC",xleftrightharpoons:"\u21CB",xtwoheadleftarrow:"\u219E",xtwoheadrightarrow:"\u21A0",xlongequal:"=",xtofrom:"\u21C4",xrightleftarrows:"\u21C4",xrightequilibrium:"\u21CC",xleftequilibrium:"\u21CB","\\cdrightarrow":"\u2192","\\cdleftarrow":"\u2190","\\cdlongequal":"="},Poe=function(e){var n=new ee.MathNode("mo",[new ee.TextNode(Ioe[e.replace(/^\\/,"")])]);return n.setAttribute("stretchy","true"),n},Loe={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},zoe=function(e){return e.type==="ordgroup"?e.body.length:1},Boe=function(e,n){function r(){var a=4e5,l=e.label.slice(1);if(Re.contains(["widehat","widecheck","widetilde","utilde"],l)){var u=e,c=zoe(u.base),f,d,h;if(c>5)l==="widehat"||l==="widecheck"?(f=420,a=2364,h=.42,d=l+"4"):(f=312,a=2340,h=.34,d="tilde4");else{var g=[1,1,2,2,3,3][c];l==="widehat"||l==="widecheck"?(a=[0,1062,2364,2364,2364][g],f=[0,239,300,360,420][g],h=[0,.24,.3,.3,.36,.42][g],d=l+g):(a=[0,600,1033,2339,2340][g],f=[0,260,286,306,312][g],h=[0,.26,.286,.3,.306,.34][g],d="tilde"+g)}var y=new fa(d),S=new Go([y],{width:"100%",height:ae(h),viewBox:"0 0 "+a+" "+f,preserveAspectRatio:"none"});return{span:U.makeSvgSpan([],[S],n),minWidth:0,height:h}}else{var v=[],m=Loe[l],[p,x,b]=m,_=b/1e3,T=p.length,M,N;if(T===1){var $=m[3];M=["hide-tail"],N=[$]}else if(T===2)M=["halfarrow-left","halfarrow-right"],N=["xMinYMin","xMaxYMin"];else if(T===3)M=["brace-left","brace-center","brace-right"],N=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+T+" children.");for(var W=0;W<T;W++){var X=new fa(p[W]),oe=new Go([X],{width:"400em",height:ae(_),viewBox:"0 0 "+a+" "+b,preserveAspectRatio:N[W]+" slice"}),H=U.makeSvgSpan([M[W]],[oe],n);if(T===1)return{span:H,minWidth:x,height:_};H.style.height=ae(_),v.push(H)}return{span:U.makeSpan(["stretchy"],v,n),minWidth:x,height:_}}}var{span:i,minWidth:o,height:s}=r();return i.height=s,i.style.height=ae(s),o>0&&(i.style.minWidth=ae(o)),i},$oe=function(e,n,r,i,o){var s,a=e.height+e.depth+r+i;if(/fbox|color|angl/.test(n)){if(s=U.makeSpan(["stretchy",n],[],o),n==="fbox"){var l=o.color&&o.getColor();l&&(s.style.borderColor=l)}}else{var u=[];/^[bx]cancel$/.test(n)&&u.push(new j4({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(n)&&u.push(new j4({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));var c=new Go(u,{width:"100%",height:ae(a)});s=U.makeSvgSpan([],[c],o)}return s.height=a,s.style.height=ae(a),s},Xo={encloseSpan:$oe,mathMLnode:Poe,svgSpan:Boe};function Fe(t,e){if(!t||t.type!==e)throw new Error("Expected node of type "+e+", but got "+(t?"node of type "+t.type:String(t)));return t}function l6(t){var e=H1(t);if(!e)throw new Error("Expected node of symbol group type, but got "+(t?"node of type "+t.type:String(t)));return e}function H1(t){return t&&(t.type==="atom"||coe.hasOwnProperty(t.type))?t:null}var u6=(t,e)=>{var n,r,i;t&&t.type==="supsub"?(r=Fe(t.base,"accent"),n=r.base,t.base=n,i=loe(Ze(t,e)),t.base=r):(r=Fe(t,"accent"),n=r.base);var o=Ze(n,e.havingCrampedStyle()),s=r.isShifty&&Re.isCharacterBox(n),a=0;if(s){var l=Re.getBaseElem(n),u=Ze(l,e.havingCrampedStyle());a=b8(u).skew}var c=r.label==="\\c",f=c?o.height+o.depth:Math.min(o.height,e.fontMetrics().xHeight),d;if(r.isStretchy)d=Xo.svgSpan(r,e),d=U.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"elem",elem:d,wrapperClasses:["svg-align"],wrapperStyle:a>0?{width:"calc(100% - "+ae(2*a)+")",marginLeft:ae(2*a)}:void 0}]},e);else{var h,g;r.label==="\\vec"?(h=U.staticSvg("vec",e),g=U.svgData.vec[1]):(h=U.makeOrd({mode:r.mode,text:r.label},e,"textord"),h=b8(h),h.italic=0,g=h.width,c&&(f+=h.depth)),d=U.makeSpan(["accent-body"],[h]);var y=r.label==="\\textcircled";y&&(d.classes.push("accent-full"),f=o.height);var S=a;y||(S-=g/2),d.style.left=ae(S),r.label==="\\textcircled"&&(d.style.top=".2em"),d=U.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:-f},{type:"elem",elem:d}]},e)}var v=U.makeSpan(["mord","accent"],[d],e);return i?(i.children[0]=v,i.height=Math.max(v.height,i.height),i.classes[0]="mord",i):v},kO=(t,e)=>{var n=t.isStretchy?Xo.mathMLnode(t.label):new ee.MathNode("mo",[Qr(t.label,t.mode)]),r=new ee.MathNode("mover",[ut(t.base,e),n]);return r.setAttribute("accent","true"),r},Foe=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(t=>"\\"+t).join("|"));de({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(t,e)=>{var n=Cm(e[0]),r=!Foe.test(t.funcName),i=!r||t.funcName==="\\widehat"||t.funcName==="\\widetilde"||t.funcName==="\\widecheck";return{type:"accent",mode:t.parser.mode,label:t.funcName,isStretchy:r,isShifty:i,base:n}},htmlBuilder:u6,mathmlBuilder:kO});de({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(t,e)=>{var n=e[0],r=t.parser.mode;return r==="math"&&(t.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+t.funcName+" works only in text mode"),r="text"),{type:"accent",mode:r,label:t.funcName,isStretchy:!1,isShifty:!0,base:n}},htmlBuilder:u6,mathmlBuilder:kO});de({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"accentUnder",mode:n.mode,label:r,base:i}},htmlBuilder:(t,e)=>{var n=Ze(t.base,e),r=Xo.svgSpan(t,e),i=t.label==="\\utilde"?.12:0,o=U.makeVList({positionType:"top",positionData:n.height,children:[{type:"elem",elem:r,wrapperClasses:["svg-align"]},{type:"kern",size:i},{type:"elem",elem:n}]},e);return U.makeSpan(["mord","accentunder"],[o],e)},mathmlBuilder:(t,e)=>{var n=Xo.mathMLnode(t.label),r=new ee.MathNode("munder",[ut(t.base,e),n]);return r.setAttribute("accentunder","true"),r}});var kh=t=>{var e=new ee.MathNode("mpadded",t?[t]:[]);return e.setAttribute("width","+0.6em"),e.setAttribute("lspace","0.3em"),e};de({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r,funcName:i}=t;return{type:"xArrow",mode:r.mode,label:i,body:e[0],below:n[0]}},htmlBuilder(t,e){var n=e.style,r=e.havingStyle(n.sup()),i=U.wrapFragment(Ze(t.body,r,e),e),o=t.label.slice(0,2)==="\\x"?"x":"cd";i.classes.push(o+"-arrow-pad");var s;t.below&&(r=e.havingStyle(n.sub()),s=U.wrapFragment(Ze(t.below,r,e),e),s.classes.push(o+"-arrow-pad"));var a=Xo.svgSpan(t,e),l=-e.fontMetrics().axisHeight+.5*a.height,u=-e.fontMetrics().axisHeight-.5*a.height-.111;(i.depth>.25||t.label==="\\xleftequilibrium")&&(u-=i.depth);var c;if(s){var f=-e.fontMetrics().axisHeight+s.height+.5*a.height+.111;c=U.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:a,shift:l},{type:"elem",elem:s,shift:f}]},e)}else c=U.makeVList({positionType:"individualShift",children:[{type:"elem",elem:i,shift:u},{type:"elem",elem:a,shift:l}]},e);return c.children[0].children[0].children[1].classes.push("svg-align"),U.makeSpan(["mrel","x-arrow"],[c],e)},mathmlBuilder(t,e){var n=Xo.mathMLnode(t.label);n.setAttribute("minsize",t.label.charAt(0)==="x"?"1.75em":"3.0em");var r;if(t.body){var i=kh(ut(t.body,e));if(t.below){var o=kh(ut(t.below,e));r=new ee.MathNode("munderover",[n,o,i])}else r=new ee.MathNode("mover",[n,i])}else if(t.below){var s=kh(ut(t.below,e));r=new ee.MathNode("munder",[n,s])}else r=kh(),r=new ee.MathNode("mover",[n,r]);return r}});var Voe=U.makeSpan;function _O(t,e){var n=sn(t.body,e,!0);return Voe([t.mclass],n,e)}function EO(t,e){var n,r=mr(t.body,e);return t.mclass==="minner"?n=new ee.MathNode("mpadded",r):t.mclass==="mord"?t.isCharacterBox?(n=r[0],n.type="mi"):n=new ee.MathNode("mi",r):(t.isCharacterBox?(n=r[0],n.type="mo"):n=new ee.MathNode("mo",r),t.mclass==="mbin"?(n.attributes.lspace="0.22em",n.attributes.rspace="0.22em"):t.mclass==="mpunct"?(n.attributes.lspace="0em",n.attributes.rspace="0.17em"):t.mclass==="mopen"||t.mclass==="mclose"?(n.attributes.lspace="0em",n.attributes.rspace="0em"):t.mclass==="minner"&&(n.attributes.lspace="0.0556em",n.attributes.width="+0.1111em")),n}de({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"mclass",mode:n.mode,mclass:"m"+r.slice(5),body:Vt(i),isCharacterBox:Re.isCharacterBox(i)}},htmlBuilder:_O,mathmlBuilder:EO});var j1=t=>{var e=t.type==="ordgroup"&&t.body.length?t.body[0]:t;return e.type==="atom"&&(e.family==="bin"||e.family==="rel")?"m"+e.family:"mord"};de({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(t,e){var{parser:n}=t;return{type:"mclass",mode:n.mode,mclass:j1(e[0]),body:Vt(e[1]),isCharacterBox:Re.isCharacterBox(e[1])}}});de({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(t,e){var{parser:n,funcName:r}=t,i=e[1],o=e[0],s;r!=="\\stackrel"?s=j1(i):s="mrel";var a={type:"op",mode:i.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:r!=="\\stackrel",body:Vt(i)},l={type:"supsub",mode:o.mode,base:a,sup:r==="\\underset"?null:o,sub:r==="\\underset"?o:null};return{type:"mclass",mode:n.mode,mclass:s,body:[l],isCharacterBox:Re.isCharacterBox(l)}},htmlBuilder:_O,mathmlBuilder:EO});de({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"pmb",mode:n.mode,mclass:j1(e[0]),body:Vt(e[0])}},htmlBuilder(t,e){var n=sn(t.body,e,!0),r=U.makeSpan([t.mclass],n,e);return r.style.textShadow="0.02em 0.01em 0.04px",r},mathmlBuilder(t,e){var n=mr(t.body,e),r=new ee.MathNode("mstyle",n);return r.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),r}});var Uoe={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},O8=()=>({type:"styling",body:[],mode:"math",style:"display"}),M8=t=>t.type==="textord"&&t.text==="@",Hoe=(t,e)=>(t.type==="mathord"||t.type==="atom")&&t.text===e;function joe(t,e,n){var r=Uoe[t];switch(r){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return n.callFunction(r,[e[0]],[e[1]]);case"\\uparrow":case"\\downarrow":{var i=n.callFunction("\\\\cdleft",[e[0]],[]),o={type:"atom",text:r,mode:"math",family:"rel"},s=n.callFunction("\\Big",[o],[]),a=n.callFunction("\\\\cdright",[e[1]],[]),l={type:"ordgroup",mode:"math",body:[i,s,a]};return n.callFunction("\\\\cdparent",[l],[])}case"\\\\cdlongequal":return n.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{var u={type:"textord",text:"\\Vert",mode:"math"};return n.callFunction("\\Big",[u],[])}default:return{type:"textord",text:" ",mode:"math"}}}function qoe(t){var e=[];for(t.gullet.beginGroup(),t.gullet.macros.set("\\cr","\\\\\\relax"),t.gullet.beginGroup();;){e.push(t.parseExpression(!1,"\\\\")),t.gullet.endGroup(),t.gullet.beginGroup();var n=t.fetch().text;if(n==="&"||n==="\\\\")t.consume();else if(n==="\\end"){e[e.length-1].length===0&&e.pop();break}else throw new ne("Expected \\\\ or \\cr or \\end",t.nextToken)}for(var r=[],i=[r],o=0;o<e.length;o++){for(var s=e[o],a=O8(),l=0;l<s.length;l++)if(!M8(s[l]))a.body.push(s[l]);else{r.push(a),l+=1;var u=l6(s[l]).text,c=new Array(2);if(c[0]={type:"ordgroup",mode:"math",body:[]},c[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(u)>-1))if("<>AV".indexOf(u)>-1)for(var f=0;f<2;f++){for(var d=!0,h=l+1;h<s.length;h++){if(Hoe(s[h],u)){d=!1,l=h;break}if(M8(s[h]))throw new ne("Missing a "+u+" character to complete a CD arrow.",s[h]);c[f].body.push(s[h])}if(d)throw new ne("Missing a "+u+" character to complete a CD arrow.",s[l])}else throw new ne('Expected one of "<>AV=|." after @',s[l]);var g=joe(u,c,t),y={type:"styling",body:[g],mode:"math",style:"display"};r.push(y),a=O8()}o%2===0?r.push(a):r.shift(),r=[],i.push(r)}t.gullet.endGroup(),t.gullet.endGroup();var S=new Array(i[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:i,arraystretch:1,addJot:!0,rowGaps:[null],cols:S,colSeparationType:"CD",hLinesBeforeRow:new Array(i.length+1).fill([])}}de({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"cdlabel",mode:n.mode,side:r.slice(4),label:e[0]}},htmlBuilder(t,e){var n=e.havingStyle(e.style.sup()),r=U.wrapFragment(Ze(t.label,n,e),e);return r.classes.push("cd-label-"+t.side),r.style.bottom=ae(.8-r.depth),r.height=0,r.depth=0,r},mathmlBuilder(t,e){var n=new ee.MathNode("mrow",[ut(t.label,e)]);return n=new ee.MathNode("mpadded",[n]),n.setAttribute("width","0"),t.side==="left"&&n.setAttribute("lspace","-1width"),n.setAttribute("voffset","0.7em"),n=new ee.MathNode("mstyle",[n]),n.setAttribute("displaystyle","false"),n.setAttribute("scriptlevel","1"),n}});de({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(t,e){var{parser:n}=t;return{type:"cdlabelparent",mode:n.mode,fragment:e[0]}},htmlBuilder(t,e){var n=U.wrapFragment(Ze(t.fragment,e),e);return n.classes.push("cd-vert-arrow"),n},mathmlBuilder(t,e){return new ee.MathNode("mrow",[ut(t.fragment,e)])}});de({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(t,e){for(var{parser:n}=t,r=Fe(e[0],"ordgroup"),i=r.body,o="",s=0;s<i.length;s++){var a=Fe(i[s],"textord");o+=a.text}var l=parseInt(o),u;if(isNaN(l))throw new ne("\\@char has non-numeric argument "+o);if(l<0||l>=1114111)throw new ne("\\@char with invalid code point "+o);return l<=65535?u=String.fromCharCode(l):(l-=65536,u=String.fromCharCode((l>>10)+55296,(l&1023)+56320)),{type:"textord",mode:n.mode,text:u}}});var CO=(t,e)=>{var n=sn(t.body,e.withColor(t.color),!1);return U.makeFragment(n)},TO=(t,e)=>{var n=mr(t.body,e.withColor(t.color)),r=new ee.MathNode("mstyle",n);return r.setAttribute("mathcolor",t.color),r};de({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(t,e){var{parser:n}=t,r=Fe(e[0],"color-token").color,i=e[1];return{type:"color",mode:n.mode,color:r,body:Vt(i)}},htmlBuilder:CO,mathmlBuilder:TO});de({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(t,e){var{parser:n,breakOnTokenText:r}=t,i=Fe(e[0],"color-token").color;n.gullet.macros.set("\\current@color",i);var o=n.parseExpression(!0,r);return{type:"color",mode:n.mode,color:i,body:o}},htmlBuilder:CO,mathmlBuilder:TO});de({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:1,argTypes:["size"],allowedInText:!0},handler(t,e,n){var{parser:r}=t,i=n[0],o=!r.settings.displayMode||!r.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:r.mode,newLine:o,size:i&&Fe(i,"size").value}},htmlBuilder(t,e){var n=U.makeSpan(["mspace"],[],e);return t.newLine&&(n.classes.push("newline"),t.size&&(n.style.marginTop=ae(Nt(t.size,e)))),n},mathmlBuilder(t,e){var n=new ee.MathNode("mspace");return t.newLine&&(n.setAttribute("linebreak","newline"),t.size&&n.setAttribute("height",ae(Nt(t.size,e)))),n}});var G4={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},AO=t=>{var e=t.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(e))throw new ne("Expected a control sequence",t);return e},Woe=t=>{var e=t.gullet.popToken();return e.text==="="&&(e=t.gullet.popToken(),e.text===" "&&(e=t.gullet.popToken())),e},OO=(t,e,n,r)=>{var i=t.gullet.macros.get(n.text);i==null&&(n.noexpand=!0,i={tokens:[n],numArgs:0,unexpandable:!t.gullet.isExpandable(n.text)}),t.gullet.macros.set(e,i,r)};de({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e,funcName:n}=t;e.consumeSpaces();var r=e.fetch();if(G4[r.text])return(n==="\\global"||n==="\\\\globallong")&&(r.text=G4[r.text]),Fe(e.parseFunction(),"internal");throw new ne("Invalid token after macro prefix",r)}});de({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=e.gullet.popToken(),i=r.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(i))throw new ne("Expected a control sequence",r);for(var o=0,s,a=[[]];e.gullet.future().text!=="{";)if(r=e.gullet.popToken(),r.text==="#"){if(e.gullet.future().text==="{"){s=e.gullet.future(),a[o].push("{");break}if(r=e.gullet.popToken(),!/^[1-9]$/.test(r.text))throw new ne('Invalid argument number "'+r.text+'"');if(parseInt(r.text)!==o+1)throw new ne('Argument number "'+r.text+'" out of order');o++,a.push([])}else{if(r.text==="EOF")throw new ne("Expected a macro definition");a[o].push(r.text)}var{tokens:l}=e.gullet.consumeArg();return s&&l.unshift(s),(n==="\\edef"||n==="\\xdef")&&(l=e.gullet.expandTokens(l),l.reverse()),e.gullet.macros.set(i,{tokens:l,numArgs:o,delimiters:a},n===G4[n]),{type:"internal",mode:e.mode}}});de({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=AO(e.gullet.popToken());e.gullet.consumeSpaces();var i=Woe(e);return OO(e,r,i,n==="\\\\globallet"),{type:"internal",mode:e.mode}}});de({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t){var{parser:e,funcName:n}=t,r=AO(e.gullet.popToken()),i=e.gullet.popToken(),o=e.gullet.popToken();return OO(e,r,o,n==="\\\\globalfuture"),e.gullet.pushToken(o),e.gullet.pushToken(i),{type:"internal",mode:e.mode}}});var Nf=function(e,n,r){var i=gt.math[e]&&gt.math[e].replace,o=r6(i||e,n,r);if(!o)throw new Error("Unsupported symbol "+e+" and font size "+n+".");return o},c6=function(e,n,r,i){var o=r.havingBaseStyle(n),s=U.makeSpan(i.concat(o.sizingClasses(r)),[e],r),a=o.sizeMultiplier/r.sizeMultiplier;return s.height*=a,s.depth*=a,s.maxFontSize=o.sizeMultiplier,s},MO=function(e,n,r){var i=n.havingBaseStyle(r),o=(1-n.sizeMultiplier/i.sizeMultiplier)*n.fontMetrics().axisHeight;e.classes.push("delimcenter"),e.style.top=ae(o),e.height-=o,e.depth+=o},Koe=function(e,n,r,i,o,s){var a=U.makeSymbol(e,"Main-Regular",o,i),l=c6(a,n,i,s);return r&&MO(l,i,n),l},Goe=function(e,n,r,i){return U.makeSymbol(e,"Size"+n+"-Regular",r,i)},NO=function(e,n,r,i,o,s){var a=Goe(e,n,o,i),l=c6(U.makeSpan(["delimsizing","size"+n],[a],i),ke.TEXT,i,s);return r&&MO(l,i,ke.TEXT),l},Ov=function(e,n,r){var i;n==="Size1-Regular"?i="delim-size1":i="delim-size4";var o=U.makeSpan(["delimsizinginner",i],[U.makeSpan([],[U.makeSymbol(e,n,r)])]);return{type:"elem",elem:o}},Mv=function(e,n,r){var i=Zi["Size4-Regular"][e.charCodeAt(0)]?Zi["Size4-Regular"][e.charCodeAt(0)][4]:Zi["Size1-Regular"][e.charCodeAt(0)][4],o=new fa("inner",eoe(e,Math.round(1e3*n))),s=new Go([o],{width:ae(i),height:ae(n),style:"width:"+ae(i),viewBox:"0 0 "+1e3*i+" "+Math.round(1e3*n),preserveAspectRatio:"xMinYMin"}),a=U.makeSvgSpan([],[s],r);return a.height=n,a.style.height=ae(n),a.style.width=ae(i),{type:"elem",elem:a}},Y4=.008,_h={type:"kern",size:-1*Y4},Yoe=["|","\\lvert","\\rvert","\\vert"],Xoe=["\\|","\\lVert","\\rVert","\\Vert"],RO=function(e,n,r,i,o,s){var a,l,u,c,f="",d=0;a=u=c=e,l=null;var h="Size1-Regular";e==="\\uparrow"?u=c="\u23D0":e==="\\Uparrow"?u=c="\u2016":e==="\\downarrow"?a=u="\u23D0":e==="\\Downarrow"?a=u="\u2016":e==="\\updownarrow"?(a="\\uparrow",u="\u23D0",c="\\downarrow"):e==="\\Updownarrow"?(a="\\Uparrow",u="\u2016",c="\\Downarrow"):Re.contains(Yoe,e)?(u="\u2223",f="vert",d=333):Re.contains(Xoe,e)?(u="\u2225",f="doublevert",d=556):e==="["||e==="\\lbrack"?(a="\u23A1",u="\u23A2",c="\u23A3",h="Size4-Regular",f="lbrack",d=667):e==="]"||e==="\\rbrack"?(a="\u23A4",u="\u23A5",c="\u23A6",h="Size4-Regular",f="rbrack",d=667):e==="\\lfloor"||e==="\u230A"?(u=a="\u23A2",c="\u23A3",h="Size4-Regular",f="lfloor",d=667):e==="\\lceil"||e==="\u2308"?(a="\u23A1",u=c="\u23A2",h="Size4-Regular",f="lceil",d=667):e==="\\rfloor"||e==="\u230B"?(u=a="\u23A5",c="\u23A6",h="Size4-Regular",f="rfloor",d=667):e==="\\rceil"||e==="\u2309"?(a="\u23A4",u=c="\u23A5",h="Size4-Regular",f="rceil",d=667):e==="("||e==="\\lparen"?(a="\u239B",u="\u239C",c="\u239D",h="Size4-Regular",f="lparen",d=875):e===")"||e==="\\rparen"?(a="\u239E",u="\u239F",c="\u23A0",h="Size4-Regular",f="rparen",d=875):e==="\\{"||e==="\\lbrace"?(a="\u23A7",l="\u23A8",c="\u23A9",u="\u23AA",h="Size4-Regular"):e==="\\}"||e==="\\rbrace"?(a="\u23AB",l="\u23AC",c="\u23AD",u="\u23AA",h="Size4-Regular"):e==="\\lgroup"||e==="\u27EE"?(a="\u23A7",c="\u23A9",u="\u23AA",h="Size4-Regular"):e==="\\rgroup"||e==="\u27EF"?(a="\u23AB",c="\u23AD",u="\u23AA",h="Size4-Regular"):e==="\\lmoustache"||e==="\u23B0"?(a="\u23A7",c="\u23AD",u="\u23AA",h="Size4-Regular"):(e==="\\rmoustache"||e==="\u23B1")&&(a="\u23AB",c="\u23A9",u="\u23AA",h="Size4-Regular");var g=Nf(a,h,o),y=g.height+g.depth,S=Nf(u,h,o),v=S.height+S.depth,m=Nf(c,h,o),p=m.height+m.depth,x=0,b=1;if(l!==null){var _=Nf(l,h,o);x=_.height+_.depth,b=2}var T=y+p+x,M=Math.max(0,Math.ceil((n-T)/(b*v))),N=T+M*b*v,$=i.fontMetrics().axisHeight;r&&($*=i.sizeMultiplier);var W=N/2-$,X=[];if(f.length>0){var oe=N-y-p,H=Math.round(N*1e3),K=toe(f,Math.round(oe*1e3)),q=new fa(f,K),A=(d/1e3).toFixed(3)+"em",O=(H/1e3).toFixed(3)+"em",L=new Go([q],{width:A,height:O,viewBox:"0 0 "+d+" "+H}),P=U.makeSvgSpan([],[L],i);P.height=H/1e3,P.style.width=A,P.style.height=O,X.push({type:"elem",elem:P})}else{if(X.push(Ov(c,h,o)),X.push(_h),l===null){var R=N-y-p+2*Y4;X.push(Mv(u,R,i))}else{var F=(N-y-p-x)/2+2*Y4;X.push(Mv(u,F,i)),X.push(_h),X.push(Ov(l,h,o)),X.push(_h),X.push(Mv(u,F,i))}X.push(_h),X.push(Ov(a,h,o))}var V=i.havingBaseStyle(ke.TEXT),G=U.makeVList({positionType:"bottom",positionData:W,children:X},V);return c6(U.makeSpan(["delimsizing","mult"],[G],V),ke.TEXT,i,s)},Nv=80,Rv=.08,Dv=function(e,n,r,i,o){var s=Zie(e,i,r),a=new fa(e,s),l=new Go([a],{width:"400em",height:ae(n),viewBox:"0 0 400000 "+r,preserveAspectRatio:"xMinYMin slice"});return U.makeSvgSpan(["hide-tail"],[l],o)},Joe=function(e,n){var r=n.havingBaseSizing(),i=LO("\\surd",e*r.sizeMultiplier,PO,r),o=r.sizeMultiplier,s=Math.max(0,n.minRuleThickness-n.fontMetrics().sqrtRuleThickness),a,l=0,u=0,c=0,f;return i.type==="small"?(c=1e3+1e3*s+Nv,e<1?o=1:e<1.4&&(o=.7),l=(1+s+Rv)/o,u=(1+s)/o,a=Dv("sqrtMain",l,c,s,n),a.style.minWidth="0.853em",f=.833/o):i.type==="large"?(c=(1e3+Nv)*Xf[i.size],u=(Xf[i.size]+s)/o,l=(Xf[i.size]+s+Rv)/o,a=Dv("sqrtSize"+i.size,l,c,s,n),a.style.minWidth="1.02em",f=1/o):(l=e+s+Rv,u=e+s,c=Math.floor(1e3*e+s)+Nv,a=Dv("sqrtTall",l,c,s,n),a.style.minWidth="0.742em",f=1.056),a.height=u,a.style.height=ae(l),{span:a,advanceWidth:f,ruleWidth:(n.fontMetrics().sqrtRuleThickness+s)*o}},DO=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","\\surd"],Qoe=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1"],IO=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Xf=[0,1.2,1.8,2.4,3],Zoe=function(e,n,r,i,o){if(e==="<"||e==="\\lt"||e==="\u27E8"?e="\\langle":(e===">"||e==="\\gt"||e==="\u27E9")&&(e="\\rangle"),Re.contains(DO,e)||Re.contains(IO,e))return NO(e,n,!1,r,i,o);if(Re.contains(Qoe,e))return RO(e,Xf[n],!1,r,i,o);throw new ne("Illegal delimiter: '"+e+"'")},ese=[{type:"small",style:ke.SCRIPTSCRIPT},{type:"small",style:ke.SCRIPT},{type:"small",style:ke.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],tse=[{type:"small",style:ke.SCRIPTSCRIPT},{type:"small",style:ke.SCRIPT},{type:"small",style:ke.TEXT},{type:"stack"}],PO=[{type:"small",style:ke.SCRIPTSCRIPT},{type:"small",style:ke.SCRIPT},{type:"small",style:ke.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],nse=function(e){if(e.type==="small")return"Main-Regular";if(e.type==="large")return"Size"+e.size+"-Regular";if(e.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+e.type+"' here.")},LO=function(e,n,r,i){for(var o=Math.min(2,3-i.style.size),s=o;s<r.length&&r[s].type!=="stack";s++){var a=Nf(e,nse(r[s]),"math"),l=a.height+a.depth;if(r[s].type==="small"){var u=i.havingBaseStyle(r[s].style);l*=u.sizeMultiplier}if(l>n)return r[s]}return r[r.length-1]},zO=function(e,n,r,i,o,s){e==="<"||e==="\\lt"||e==="\u27E8"?e="\\langle":(e===">"||e==="\\gt"||e==="\u27E9")&&(e="\\rangle");var a;Re.contains(IO,e)?a=ese:Re.contains(DO,e)?a=PO:a=tse;var l=LO(e,n,a,i);return l.type==="small"?Koe(e,l.style,r,i,o,s):l.type==="large"?NO(e,l.size,r,i,o,s):RO(e,n,r,i,o,s)},rse=function(e,n,r,i,o,s){var a=i.fontMetrics().axisHeight*i.sizeMultiplier,l=901,u=5/i.fontMetrics().ptPerEm,c=Math.max(n-a,r+a),f=Math.max(c/500*l,2*c-u);return zO(e,f,!0,i,o,s)},Fo={sqrtImage:Joe,sizedDelim:Zoe,sizeToMaxHeight:Xf,customSizedDelim:zO,leftRightDelim:rse},N8={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},ise=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","\u230A","\u230B","\\lceil","\\rceil","\u2308","\u2309","<",">","\\langle","\u27E8","\\rangle","\u27E9","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","\u27EE","\u27EF","\\lmoustache","\\rmoustache","\u23B0","\u23B1","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function q1(t,e){var n=H1(t);if(n&&Re.contains(ise,n.text))return n;throw n?new ne("Invalid delimiter '"+n.text+"' after '"+e.funcName+"'",t):new ne("Invalid delimiter type '"+t.type+"'",t)}de({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(t,e)=>{var n=q1(e[0],t);return{type:"delimsizing",mode:t.parser.mode,size:N8[t.funcName].size,mclass:N8[t.funcName].mclass,delim:n.text}},htmlBuilder:(t,e)=>t.delim==="."?U.makeSpan([t.mclass]):Fo.sizedDelim(t.delim,t.size,e,t.mode,[t.mclass]),mathmlBuilder:t=>{var e=[];t.delim!=="."&&e.push(Qr(t.delim,t.mode));var n=new ee.MathNode("mo",e);t.mclass==="mopen"||t.mclass==="mclose"?n.setAttribute("fence","true"):n.setAttribute("fence","false"),n.setAttribute("stretchy","true");var r=ae(Fo.sizeToMaxHeight[t.size]);return n.setAttribute("minsize",r),n.setAttribute("maxsize",r),n}});function R8(t){if(!t.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}de({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=t.parser.gullet.macros.get("\\current@color");if(n&&typeof n!="string")throw new ne("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:t.parser.mode,delim:q1(e[0],t).text,color:n}}});de({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=q1(e[0],t),r=t.parser;++r.leftrightDepth;var i=r.parseExpression(!1);--r.leftrightDepth,r.expect("\\right",!1);var o=Fe(r.parseFunction(),"leftright-right");return{type:"leftright",mode:r.mode,body:i,left:n.text,right:o.delim,rightColor:o.color}},htmlBuilder:(t,e)=>{R8(t);for(var n=sn(t.body,e,!0,["mopen","mclose"]),r=0,i=0,o=!1,s=0;s<n.length;s++)n[s].isMiddle?o=!0:(r=Math.max(n[s].height,r),i=Math.max(n[s].depth,i));r*=e.sizeMultiplier,i*=e.sizeMultiplier;var a;if(t.left==="."?a=Yd(e,["mopen"]):a=Fo.leftRightDelim(t.left,r,i,e,t.mode,["mopen"]),n.unshift(a),o)for(var l=1;l<n.length;l++){var u=n[l],c=u.isMiddle;c&&(n[l]=Fo.leftRightDelim(c.delim,r,i,c.options,t.mode,[]))}var f;if(t.right===".")f=Yd(e,["mclose"]);else{var d=t.rightColor?e.withColor(t.rightColor):e;f=Fo.leftRightDelim(t.right,r,i,d,t.mode,["mclose"])}return n.push(f),U.makeSpan(["minner"],n,e)},mathmlBuilder:(t,e)=>{R8(t);var n=mr(t.body,e);if(t.left!=="."){var r=new ee.MathNode("mo",[Qr(t.left,t.mode)]);r.setAttribute("fence","true"),n.unshift(r)}if(t.right!=="."){var i=new ee.MathNode("mo",[Qr(t.right,t.mode)]);i.setAttribute("fence","true"),t.rightColor&&i.setAttribute("mathcolor",t.rightColor),n.push(i)}return s6(n)}});de({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var n=q1(e[0],t);if(!t.parser.leftrightDepth)throw new ne("\\middle without preceding \\left",n);return{type:"middle",mode:t.parser.mode,delim:n.text}},htmlBuilder:(t,e)=>{var n;if(t.delim===".")n=Yd(e,[]);else{n=Fo.sizedDelim(t.delim,1,e,t.mode,[]);var r={delim:t.delim,options:e};n.isMiddle=r}return n},mathmlBuilder:(t,e)=>{var n=t.delim==="\\vert"||t.delim==="|"?Qr("|","text"):Qr(t.delim,t.mode),r=new ee.MathNode("mo",[n]);return r.setAttribute("fence","true"),r.setAttribute("lspace","0.05em"),r.setAttribute("rspace","0.05em"),r}});var f6=(t,e)=>{var n=U.wrapFragment(Ze(t.body,e),e),r=t.label.slice(1),i=e.sizeMultiplier,o,s=0,a=Re.isCharacterBox(t.body);if(r==="sout")o=U.makeSpan(["stretchy","sout"]),o.height=e.fontMetrics().defaultRuleThickness/i,s=-.5*e.fontMetrics().xHeight;else if(r==="phase"){var l=Nt({number:.6,unit:"pt"},e),u=Nt({number:.35,unit:"ex"},e),c=e.havingBaseSizing();i=i/c.sizeMultiplier;var f=n.height+n.depth+l+u;n.style.paddingLeft=ae(f/2+l);var d=Math.floor(1e3*f*i),h=Jie(d),g=new Go([new fa("phase",h)],{width:"400em",height:ae(d/1e3),viewBox:"0 0 400000 "+d,preserveAspectRatio:"xMinYMin slice"});o=U.makeSvgSpan(["hide-tail"],[g],e),o.style.height=ae(f),s=n.depth+l+u}else{/cancel/.test(r)?a||n.classes.push("cancel-pad"):r==="angl"?n.classes.push("anglpad"):n.classes.push("boxpad");var y=0,S=0,v=0;/box/.test(r)?(v=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness),y=e.fontMetrics().fboxsep+(r==="colorbox"?0:v),S=y):r==="angl"?(v=Math.max(e.fontMetrics().defaultRuleThickness,e.minRuleThickness),y=4*v,S=Math.max(0,.25-n.depth)):(y=a?.2:0,S=y),o=Xo.encloseSpan(n,r,y,S,e),/fbox|boxed|fcolorbox/.test(r)?(o.style.borderStyle="solid",o.style.borderWidth=ae(v)):r==="angl"&&v!==.049&&(o.style.borderTopWidth=ae(v),o.style.borderRightWidth=ae(v)),s=n.depth+S,t.backgroundColor&&(o.style.backgroundColor=t.backgroundColor,t.borderColor&&(o.style.borderColor=t.borderColor))}var m;if(t.backgroundColor)m=U.makeVList({positionType:"individualShift",children:[{type:"elem",elem:o,shift:s},{type:"elem",elem:n,shift:0}]},e);else{var p=/cancel|phase/.test(r)?["svg-align"]:[];m=U.makeVList({positionType:"individualShift",children:[{type:"elem",elem:n,shift:0},{type:"elem",elem:o,shift:s,wrapperClasses:p}]},e)}return/cancel/.test(r)&&(m.height=n.height,m.depth=n.depth),/cancel/.test(r)&&!a?U.makeSpan(["mord","cancel-lap"],[m],e):U.makeSpan(["mord"],[m],e)},d6=(t,e)=>{var n=0,r=new ee.MathNode(t.label.indexOf("colorbox")>-1?"mpadded":"menclose",[ut(t.body,e)]);switch(t.label){case"\\cancel":r.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":r.setAttribute("notation","downdiagonalstrike");break;case"\\phase":r.setAttribute("notation","phasorangle");break;case"\\sout":r.setAttribute("notation","horizontalstrike");break;case"\\fbox":r.setAttribute("notation","box");break;case"\\angl":r.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(n=e.fontMetrics().fboxsep*e.fontMetrics().ptPerEm,r.setAttribute("width","+"+2*n+"pt"),r.setAttribute("height","+"+2*n+"pt"),r.setAttribute("lspace",n+"pt"),r.setAttribute("voffset",n+"pt"),t.label==="\\fcolorbox"){var i=Math.max(e.fontMetrics().fboxrule,e.minRuleThickness);r.setAttribute("style","border: "+i+"em solid "+String(t.borderColor))}break;case"\\xcancel":r.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return t.backgroundColor&&r.setAttribute("mathbackground",t.backgroundColor),r};de({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,o=Fe(e[0],"color-token").color,s=e[1];return{type:"enclose",mode:r.mode,label:i,backgroundColor:o,body:s}},htmlBuilder:f6,mathmlBuilder:d6});de({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(t,e,n){var{parser:r,funcName:i}=t,o=Fe(e[0],"color-token").color,s=Fe(e[1],"color-token").color,a=e[2];return{type:"enclose",mode:r.mode,label:i,backgroundColor:s,borderColor:o,body:a}},htmlBuilder:f6,mathmlBuilder:d6});de({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\fbox",body:e[0]}}});de({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"enclose",mode:n.mode,label:r,body:i}},htmlBuilder:f6,mathmlBuilder:d6});de({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"enclose",mode:n.mode,label:"\\angl",body:e[0]}}});var BO={};function po(t){for(var{type:e,names:n,props:r,handler:i,htmlBuilder:o,mathmlBuilder:s}=t,a={type:e,numArgs:r.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:i},l=0;l<n.length;++l)BO[n[l]]=a;o&&(_m[e]=o),s&&(Em[e]=s)}var $O={};function C(t,e){$O[t]=e}function D8(t){var e=[];t.consumeSpaces();for(var n=t.fetch().text;n==="\\hline"||n==="\\hdashline";)t.consume(),e.push(n==="\\hdashline"),t.consumeSpaces(),n=t.fetch().text;return e}var W1=t=>{var e=t.parser.settings;if(!e.displayMode)throw new ne("{"+t.envName+"} can be used only in display mode.")};function h6(t){if(t.indexOf("ed")===-1)return t.indexOf("*")===-1}function ba(t,e,n){var{hskipBeforeAndAfter:r,addJot:i,cols:o,arraystretch:s,colSeparationType:a,autoTag:l,singleRow:u,emptySingleRow:c,maxNumCols:f,leqno:d}=e;if(t.gullet.beginGroup(),u||t.gullet.macros.set("\\cr","\\\\\\relax"),!s){var h=t.gullet.expandMacroAsText("\\arraystretch");if(h==null)s=1;else if(s=parseFloat(h),!s||s<0)throw new ne("Invalid \\arraystretch: "+h)}t.gullet.beginGroup();var g=[],y=[g],S=[],v=[],m=l!=null?[]:void 0;function p(){l&&t.gullet.macros.set("\\@eqnsw","1",!0)}function x(){m&&(t.gullet.macros.get("\\df@tag")?(m.push(t.subparse([new Hr("\\df@tag")])),t.gullet.macros.set("\\df@tag",void 0,!0)):m.push(Boolean(l)&&t.gullet.macros.get("\\@eqnsw")==="1"))}for(p(),v.push(D8(t));;){var b=t.parseExpression(!1,u?"\\end":"\\\\");t.gullet.endGroup(),t.gullet.beginGroup(),b={type:"ordgroup",mode:t.mode,body:b},n&&(b={type:"styling",mode:t.mode,style:n,body:[b]}),g.push(b);var _=t.fetch().text;if(_==="&"){if(f&&g.length===f){if(u||a)throw new ne("Too many tab characters: &",t.nextToken);t.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}t.consume()}else if(_==="\\end"){x(),g.length===1&&b.type==="styling"&&b.body[0].body.length===0&&(y.length>1||!c)&&y.pop(),v.length<y.length+1&&v.push([]);break}else if(_==="\\\\"){t.consume();var T=void 0;t.gullet.future().text!==" "&&(T=t.parseSizeGroup(!0)),S.push(T?T.value:null),x(),v.push(D8(t)),g=[],y.push(g),p()}else throw new ne("Expected & or \\\\ or \\cr or \\end",t.nextToken)}return t.gullet.endGroup(),t.gullet.endGroup(),{type:"array",mode:t.mode,addJot:i,arraystretch:s,body:y,cols:o,rowGaps:S,hskipBeforeAndAfter:r,hLinesBeforeRow:v,colSeparationType:a,tags:m,leqno:d}}function p6(t){return t.slice(0,1)==="d"?"display":"text"}var mo=function(e,n){var r,i,o=e.body.length,s=e.hLinesBeforeRow,a=0,l=new Array(o),u=[],c=Math.max(n.fontMetrics().arrayRuleWidth,n.minRuleThickness),f=1/n.fontMetrics().ptPerEm,d=5*f;if(e.colSeparationType&&e.colSeparationType==="small"){var h=n.havingStyle(ke.SCRIPT).sizeMultiplier;d=.2778*(h/n.sizeMultiplier)}var g=e.colSeparationType==="CD"?Nt({number:3,unit:"ex"},n):12*f,y=3*f,S=e.arraystretch*g,v=.7*S,m=.3*S,p=0;function x(gr){for(var Li=0;Li<gr.length;++Li)Li>0&&(p+=.25),u.push({pos:p,isDashed:gr[Li]})}for(x(s[0]),r=0;r<e.body.length;++r){var b=e.body[r],_=v,T=m;a<b.length&&(a=b.length);var M=new Array(b.length);for(i=0;i<b.length;++i){var N=Ze(b[i],n);T<N.depth&&(T=N.depth),_<N.height&&(_=N.height),M[i]=N}var $=e.rowGaps[r],W=0;$&&(W=Nt($,n),W>0&&(W+=m,T<W&&(T=W),W=0)),e.addJot&&(T+=y),M.height=_,M.depth=T,p+=_,M.pos=p,p+=T+W,l[r]=M,x(s[r+1])}var X=p/2+n.fontMetrics().axisHeight,oe=e.cols||[],H=[],K,q,A=[];if(e.tags&&e.tags.some(gr=>gr))for(r=0;r<o;++r){var O=l[r],L=O.pos-X,P=e.tags[r],R=void 0;P===!0?R=U.makeSpan(["eqn-num"],[],n):P===!1?R=U.makeSpan([],[],n):R=U.makeSpan([],sn(P,n,!0),n),R.depth=O.depth,R.height=O.height,A.push({type:"elem",elem:R,shift:L})}for(i=0,q=0;i<a||q<oe.length;++i,++q){for(var F=oe[q]||{},V=!0;F.type==="separator";){if(V||(K=U.makeSpan(["arraycolsep"],[]),K.style.width=ae(n.fontMetrics().doubleRuleSep),H.push(K)),F.separator==="|"||F.separator===":"){var G=F.separator==="|"?"solid":"dashed",Q=U.makeSpan(["vertical-separator"],[],n);Q.style.height=ae(p),Q.style.borderRightWidth=ae(c),Q.style.borderRightStyle=G,Q.style.margin="0 "+ae(-c/2);var se=p-X;se&&(Q.style.verticalAlign=ae(-se)),H.push(Q)}else throw new ne("Invalid separator type: "+F.separator);q++,F=oe[q]||{},V=!1}if(!(i>=a)){var ue=void 0;(i>0||e.hskipBeforeAndAfter)&&(ue=Re.deflt(F.pregap,d),ue!==0&&(K=U.makeSpan(["arraycolsep"],[]),K.style.width=ae(ue),H.push(K)));var J=[];for(r=0;r<o;++r){var xe=l[r],Be=xe[i];if(!!Be){var it=xe.pos-X;Be.depth=xe.depth,Be.height=xe.height,J.push({type:"elem",elem:Be,shift:it})}}J=U.makeVList({positionType:"individualShift",children:J},n),J=U.makeSpan(["col-align-"+(F.align||"c")],[J]),H.push(J),(i<a-1||e.hskipBeforeAndAfter)&&(ue=Re.deflt(F.postgap,d),ue!==0&&(K=U.makeSpan(["arraycolsep"],[]),K.style.width=ae(ue),H.push(K)))}}if(l=U.makeSpan(["mtable"],H),u.length>0){for(var $e=U.makeLineSpan("hline",n,c),Ae=U.makeLineSpan("hdashline",n,c),qe=[{type:"elem",elem:l,shift:0}];u.length>0;){var et=u.pop(),Ct=et.pos-X;et.isDashed?qe.push({type:"elem",elem:Ae,shift:Ct}):qe.push({type:"elem",elem:$e,shift:Ct})}l=U.makeVList({positionType:"individualShift",children:qe},n)}if(A.length===0)return U.makeSpan(["mord"],[l],n);var vt=U.makeVList({positionType:"individualShift",children:A},n);return vt=U.makeSpan(["tag"],[vt],n),U.makeFragment([l,vt])},ose={c:"center ",l:"left ",r:"right "},go=function(e,n){for(var r=[],i=new ee.MathNode("mtd",[],["mtr-glue"]),o=new ee.MathNode("mtd",[],["mml-eqn-num"]),s=0;s<e.body.length;s++){for(var a=e.body[s],l=[],u=0;u<a.length;u++)l.push(new ee.MathNode("mtd",[ut(a[u],n)]));e.tags&&e.tags[s]&&(l.unshift(i),l.push(i),e.leqno?l.unshift(o):l.push(o)),r.push(new ee.MathNode("mtr",l))}var c=new ee.MathNode("mtable",r),f=e.arraystretch===.5?.1:.16+e.arraystretch-1+(e.addJot?.09:0);c.setAttribute("rowspacing",ae(f));var d="",h="";if(e.cols&&e.cols.length>0){var g=e.cols,y="",S=!1,v=0,m=g.length;g[0].type==="separator"&&(d+="top ",v=1),g[g.length-1].type==="separator"&&(d+="bottom ",m-=1);for(var p=v;p<m;p++)g[p].type==="align"?(h+=ose[g[p].align],S&&(y+="none "),S=!0):g[p].type==="separator"&&S&&(y+=g[p].separator==="|"?"solid ":"dashed ",S=!1);c.setAttribute("columnalign",h.trim()),/[sd]/.test(y)&&c.setAttribute("columnlines",y.trim())}if(e.colSeparationType==="align"){for(var x=e.cols||[],b="",_=1;_<x.length;_++)b+=_%2?"0em ":"1em ";c.setAttribute("columnspacing",b.trim())}else e.colSeparationType==="alignat"||e.colSeparationType==="gather"?c.setAttribute("columnspacing","0em"):e.colSeparationType==="small"?c.setAttribute("columnspacing","0.2778em"):e.colSeparationType==="CD"?c.setAttribute("columnspacing","0.5em"):c.setAttribute("columnspacing","1em");var T="",M=e.hLinesBeforeRow;d+=M[0].length>0?"left ":"",d+=M[M.length-1].length>0?"right ":"";for(var N=1;N<M.length-1;N++)T+=M[N].length===0?"none ":M[N][0]?"dashed ":"solid ";return/[sd]/.test(T)&&c.setAttribute("rowlines",T.trim()),d!==""&&(c=new ee.MathNode("menclose",[c]),c.setAttribute("notation",d.trim())),e.arraystretch&&e.arraystretch<1&&(c=new ee.MathNode("mstyle",[c]),c.setAttribute("scriptlevel","1")),c},FO=function(e,n){e.envName.indexOf("ed")===-1&&W1(e);var r=[],i=e.envName.indexOf("at")>-1?"alignat":"align",o=e.envName==="split",s=ba(e.parser,{cols:r,addJot:!0,autoTag:o?void 0:h6(e.envName),emptySingleRow:!0,colSeparationType:i,maxNumCols:o?2:void 0,leqno:e.parser.settings.leqno},"display"),a,l=0,u={type:"ordgroup",mode:e.mode,body:[]};if(n[0]&&n[0].type==="ordgroup"){for(var c="",f=0;f<n[0].body.length;f++){var d=Fe(n[0].body[f],"textord");c+=d.text}a=Number(c),l=a*2}var h=!l;s.body.forEach(function(v){for(var m=1;m<v.length;m+=2){var p=Fe(v[m],"styling"),x=Fe(p.body[0],"ordgroup");x.body.unshift(u)}if(h)l<v.length&&(l=v.length);else{var b=v.length/2;if(a<b)throw new ne("Too many math in a row: "+("expected "+a+", but got "+b),v[0])}});for(var g=0;g<l;++g){var y="r",S=0;g%2===1?y="l":g>0&&h&&(S=1),r[g]={type:"align",align:y,pregap:S,postgap:0}}return s.colSeparationType=h?"align":"alignat",s};po({type:"array",names:["array","darray"],props:{numArgs:1},handler(t,e){var n=H1(e[0]),r=n?[e[0]]:Fe(e[0],"ordgroup").body,i=r.map(function(s){var a=l6(s),l=a.text;if("lcr".indexOf(l)!==-1)return{type:"align",align:l};if(l==="|")return{type:"separator",separator:"|"};if(l===":")return{type:"separator",separator:":"};throw new ne("Unknown column alignment: "+l,s)}),o={cols:i,hskipBeforeAndAfter:!0,maxNumCols:i.length};return ba(t.parser,o,p6(t.envName))},htmlBuilder:mo,mathmlBuilder:go});po({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(t){var e={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[t.envName.replace("*","")],n="c",r={hskipBeforeAndAfter:!1,cols:[{type:"align",align:n}]};if(t.envName.charAt(t.envName.length-1)==="*"){var i=t.parser;if(i.consumeSpaces(),i.fetch().text==="["){if(i.consume(),i.consumeSpaces(),n=i.fetch().text,"lcr".indexOf(n)===-1)throw new ne("Expected l or c or r",i.nextToken);i.consume(),i.consumeSpaces(),i.expect("]"),i.consume(),r.cols=[{type:"align",align:n}]}}var o=ba(t.parser,r,p6(t.envName)),s=Math.max(0,...o.body.map(a=>a.length));return o.cols=new Array(s).fill({type:"align",align:n}),e?{type:"leftright",mode:t.mode,body:[o],left:e[0],right:e[1],rightColor:void 0}:o},htmlBuilder:mo,mathmlBuilder:go});po({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(t){var e={arraystretch:.5},n=ba(t.parser,e,"script");return n.colSeparationType="small",n},htmlBuilder:mo,mathmlBuilder:go});po({type:"array",names:["subarray"],props:{numArgs:1},handler(t,e){var n=H1(e[0]),r=n?[e[0]]:Fe(e[0],"ordgroup").body,i=r.map(function(s){var a=l6(s),l=a.text;if("lc".indexOf(l)!==-1)return{type:"align",align:l};throw new ne("Unknown column alignment: "+l,s)});if(i.length>1)throw new ne("{subarray} can contain only one column");var o={cols:i,hskipBeforeAndAfter:!1,arraystretch:.5};if(o=ba(t.parser,o,"script"),o.body.length>0&&o.body[0].length>1)throw new ne("{subarray} can contain only one column");return o},htmlBuilder:mo,mathmlBuilder:go});po({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(t){var e={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},n=ba(t.parser,e,p6(t.envName));return{type:"leftright",mode:t.mode,body:[n],left:t.envName.indexOf("r")>-1?".":"\\{",right:t.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:mo,mathmlBuilder:go});po({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:FO,htmlBuilder:mo,mathmlBuilder:go});po({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(t){Re.contains(["gather","gather*"],t.envName)&&W1(t);var e={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:h6(t.envName),emptySingleRow:!0,leqno:t.parser.settings.leqno};return ba(t.parser,e,"display")},htmlBuilder:mo,mathmlBuilder:go});po({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:FO,htmlBuilder:mo,mathmlBuilder:go});po({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(t){W1(t);var e={autoTag:h6(t.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:t.parser.settings.leqno};return ba(t.parser,e,"display")},htmlBuilder:mo,mathmlBuilder:go});po({type:"array",names:["CD"],props:{numArgs:0},handler(t){return W1(t),qoe(t.parser)},htmlBuilder:mo,mathmlBuilder:go});C("\\nonumber","\\gdef\\@eqnsw{0}");C("\\notag","\\nonumber");de({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(t,e){throw new ne(t.funcName+" valid only within array environment")}});var I8=BO;de({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];if(i.type!=="ordgroup")throw new ne("Invalid environment name",i);for(var o="",s=0;s<i.body.length;++s)o+=Fe(i.body[s],"textord").text;if(r==="\\begin"){if(!I8.hasOwnProperty(o))throw new ne("No such environment: "+o,i);var a=I8[o],{args:l,optArgs:u}=n.parseArguments("\\begin{"+o+"}",a),c={mode:n.mode,envName:o,parser:n},f=a.handler(c,l,u);n.expect("\\end",!1);var d=n.nextToken,h=Fe(n.parseFunction(),"environment");if(h.name!==o)throw new ne("Mismatch: \\begin{"+o+"} matched by \\end{"+h.name+"}",d);return f}return{type:"environment",mode:n.mode,name:o,nameGroup:i}}});var VO=(t,e)=>{var n=t.font,r=e.withFont(n);return Ze(t.body,r)},UO=(t,e)=>{var n=t.font,r=e.withFont(n);return ut(t.body,r)},P8={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};de({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=Cm(e[0]),o=r;return o in P8&&(o=P8[o]),{type:"font",mode:n.mode,font:o.slice(1),body:i}},htmlBuilder:VO,mathmlBuilder:UO});de({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(t,e)=>{var{parser:n}=t,r=e[0],i=Re.isCharacterBox(r);return{type:"mclass",mode:n.mode,mclass:j1(r),body:[{type:"font",mode:n.mode,font:"boldsymbol",body:r}],isCharacterBox:i}}});de({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,breakOnTokenText:i}=t,{mode:o}=n,s=n.parseExpression(!0,i),a="math"+r.slice(1);return{type:"font",mode:o,font:a,body:{type:"ordgroup",mode:n.mode,body:s}}},htmlBuilder:VO,mathmlBuilder:UO});var HO=(t,e)=>{var n=e;return t==="display"?n=n.id>=ke.SCRIPT.id?n.text():ke.DISPLAY:t==="text"&&n.size===ke.DISPLAY.size?n=ke.TEXT:t==="script"?n=ke.SCRIPT:t==="scriptscript"&&(n=ke.SCRIPTSCRIPT),n},m6=(t,e)=>{var n=HO(t.size,e.style),r=n.fracNum(),i=n.fracDen(),o;o=e.havingStyle(r);var s=Ze(t.numer,o,e);if(t.continued){var a=8.5/e.fontMetrics().ptPerEm,l=3.5/e.fontMetrics().ptPerEm;s.height=s.height<a?a:s.height,s.depth=s.depth<l?l:s.depth}o=e.havingStyle(i);var u=Ze(t.denom,o,e),c,f,d;t.hasBarLine?(t.barSize?(f=Nt(t.barSize,e),c=U.makeLineSpan("frac-line",e,f)):c=U.makeLineSpan("frac-line",e),f=c.height,d=c.height):(c=null,f=0,d=e.fontMetrics().defaultRuleThickness);var h,g,y;n.size===ke.DISPLAY.size||t.size==="display"?(h=e.fontMetrics().num1,f>0?g=3*d:g=7*d,y=e.fontMetrics().denom1):(f>0?(h=e.fontMetrics().num2,g=d):(h=e.fontMetrics().num3,g=3*d),y=e.fontMetrics().denom2);var S;if(c){var m=e.fontMetrics().axisHeight;h-s.depth-(m+.5*f)<g&&(h+=g-(h-s.depth-(m+.5*f))),m-.5*f-(u.height-y)<g&&(y+=g-(m-.5*f-(u.height-y)));var p=-(m-.5*f);S=U.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:y},{type:"elem",elem:c,shift:p},{type:"elem",elem:s,shift:-h}]},e)}else{var v=h-s.depth-(u.height-y);v<g&&(h+=.5*(g-v),y+=.5*(g-v)),S=U.makeVList({positionType:"individualShift",children:[{type:"elem",elem:u,shift:y},{type:"elem",elem:s,shift:-h}]},e)}o=e.havingStyle(n),S.height*=o.sizeMultiplier/e.sizeMultiplier,S.depth*=o.sizeMultiplier/e.sizeMultiplier;var x;n.size===ke.DISPLAY.size?x=e.fontMetrics().delim1:n.size===ke.SCRIPTSCRIPT.size?x=e.havingStyle(ke.SCRIPT).fontMetrics().delim2:x=e.fontMetrics().delim2;var b,_;return t.leftDelim==null?b=Yd(e,["mopen"]):b=Fo.customSizedDelim(t.leftDelim,x,!0,e.havingStyle(n),t.mode,["mopen"]),t.continued?_=U.makeSpan([]):t.rightDelim==null?_=Yd(e,["mclose"]):_=Fo.customSizedDelim(t.rightDelim,x,!0,e.havingStyle(n),t.mode,["mclose"]),U.makeSpan(["mord"].concat(o.sizingClasses(e)),[b,U.makeSpan(["mfrac"],[S]),_],e)},g6=(t,e)=>{var n=new ee.MathNode("mfrac",[ut(t.numer,e),ut(t.denom,e)]);if(!t.hasBarLine)n.setAttribute("linethickness","0px");else if(t.barSize){var r=Nt(t.barSize,e);n.setAttribute("linethickness",ae(r))}var i=HO(t.size,e.style);if(i.size!==e.style.size){n=new ee.MathNode("mstyle",[n]);var o=i.size===ke.DISPLAY.size?"true":"false";n.setAttribute("displaystyle",o),n.setAttribute("scriptlevel","0")}if(t.leftDelim!=null||t.rightDelim!=null){var s=[];if(t.leftDelim!=null){var a=new ee.MathNode("mo",[new ee.TextNode(t.leftDelim.replace("\\",""))]);a.setAttribute("fence","true"),s.push(a)}if(s.push(n),t.rightDelim!=null){var l=new ee.MathNode("mo",[new ee.TextNode(t.rightDelim.replace("\\",""))]);l.setAttribute("fence","true"),s.push(l)}return s6(s)}return n};de({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=e[1],s,a=null,l=null,u="auto";switch(r){case"\\dfrac":case"\\frac":case"\\tfrac":s=!0;break;case"\\\\atopfrac":s=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":s=!1,a="(",l=")";break;case"\\\\bracefrac":s=!1,a="\\{",l="\\}";break;case"\\\\brackfrac":s=!1,a="[",l="]";break;default:throw new Error("Unrecognized genfrac command")}switch(r){case"\\dfrac":case"\\dbinom":u="display";break;case"\\tfrac":case"\\tbinom":u="text";break}return{type:"genfrac",mode:n.mode,continued:!1,numer:i,denom:o,hasBarLine:s,leftDelim:a,rightDelim:l,size:u,barSize:null}},htmlBuilder:m6,mathmlBuilder:g6});de({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=e[1];return{type:"genfrac",mode:n.mode,continued:!0,numer:i,denom:o,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}});de({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(t){var{parser:e,funcName:n,token:r}=t,i;switch(n){case"\\over":i="\\frac";break;case"\\choose":i="\\binom";break;case"\\atop":i="\\\\atopfrac";break;case"\\brace":i="\\\\bracefrac";break;case"\\brack":i="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:e.mode,replaceWith:i,token:r}}});var L8=["display","text","script","scriptscript"],z8=function(e){var n=null;return e.length>0&&(n=e,n=n==="."?null:n),n};de({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(t,e){var{parser:n}=t,r=e[4],i=e[5],o=Cm(e[0]),s=o.type==="atom"&&o.family==="open"?z8(o.text):null,a=Cm(e[1]),l=a.type==="atom"&&a.family==="close"?z8(a.text):null,u=Fe(e[2],"size"),c,f=null;u.isBlank?c=!0:(f=u.value,c=f.number>0);var d="auto",h=e[3];if(h.type==="ordgroup"){if(h.body.length>0){var g=Fe(h.body[0],"textord");d=L8[Number(g.text)]}}else h=Fe(h,"textord"),d=L8[Number(h.text)];return{type:"genfrac",mode:n.mode,numer:r,denom:i,continued:!1,hasBarLine:c,barSize:f,leftDelim:s,rightDelim:l,size:d}},htmlBuilder:m6,mathmlBuilder:g6});de({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(t,e){var{parser:n,funcName:r,token:i}=t;return{type:"infix",mode:n.mode,replaceWith:"\\\\abovefrac",size:Fe(e[0],"size").value,token:i}}});de({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0],o=Lie(Fe(e[1],"infix").size),s=e[2],a=o.number>0;return{type:"genfrac",mode:n.mode,numer:i,denom:s,continued:!1,hasBarLine:a,barSize:o,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:m6,mathmlBuilder:g6});var jO=(t,e)=>{var n=e.style,r,i;t.type==="supsub"?(r=t.sup?Ze(t.sup,e.havingStyle(n.sup()),e):Ze(t.sub,e.havingStyle(n.sub()),e),i=Fe(t.base,"horizBrace")):i=Fe(t,"horizBrace");var o=Ze(i.base,e.havingBaseStyle(ke.DISPLAY)),s=Xo.svgSpan(i,e),a;if(i.isOver?(a=U.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:o},{type:"kern",size:.1},{type:"elem",elem:s}]},e),a.children[0].children[0].children[1].classes.push("svg-align")):(a=U.makeVList({positionType:"bottom",positionData:o.depth+.1+s.height,children:[{type:"elem",elem:s},{type:"kern",size:.1},{type:"elem",elem:o}]},e),a.children[0].children[0].children[0].classes.push("svg-align")),r){var l=U.makeSpan(["mord",i.isOver?"mover":"munder"],[a],e);i.isOver?a=U.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:.2},{type:"elem",elem:r}]},e):a=U.makeVList({positionType:"bottom",positionData:l.depth+.2+r.height+r.depth,children:[{type:"elem",elem:r},{type:"kern",size:.2},{type:"elem",elem:l}]},e)}return U.makeSpan(["mord",i.isOver?"mover":"munder"],[a],e)},sse=(t,e)=>{var n=Xo.mathMLnode(t.label);return new ee.MathNode(t.isOver?"mover":"munder",[ut(t.base,e),n])};de({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(t,e){var{parser:n,funcName:r}=t;return{type:"horizBrace",mode:n.mode,label:r,isOver:/^\\over/.test(r),base:e[0]}},htmlBuilder:jO,mathmlBuilder:sse});de({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[1],i=Fe(e[0],"url").url;return n.settings.isTrusted({command:"\\href",url:i})?{type:"href",mode:n.mode,href:i,body:Vt(r)}:n.formatUnsupportedCmd("\\href")},htmlBuilder:(t,e)=>{var n=sn(t.body,e,!1);return U.makeAnchor(t.href,[],n,e)},mathmlBuilder:(t,e)=>{var n=da(t.body,e);return n instanceof Fr||(n=new Fr("mrow",[n])),n.setAttribute("href",t.href),n}});de({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=Fe(e[0],"url").url;if(!n.settings.isTrusted({command:"\\url",url:r}))return n.formatUnsupportedCmd("\\url");for(var i=[],o=0;o<r.length;o++){var s=r[o];s==="~"&&(s="\\textasciitilde"),i.push({type:"textord",mode:"text",text:s})}var a={type:"text",mode:n.mode,font:"\\texttt",body:i};return{type:"href",mode:n.mode,href:r,body:Vt(a)}}});de({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(t,e){var{parser:n}=t;return{type:"hbox",mode:n.mode,body:Vt(e[0])}},htmlBuilder(t,e){var n=sn(t.body,e,!1);return U.makeFragment(n)},mathmlBuilder(t,e){return new ee.MathNode("mrow",mr(t.body,e))}});de({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r,token:i}=t,o=Fe(e[0],"raw").string,s=e[1];n.settings.strict&&n.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");var a,l={};switch(r){case"\\htmlClass":l.class=o,a={command:"\\htmlClass",class:o};break;case"\\htmlId":l.id=o,a={command:"\\htmlId",id:o};break;case"\\htmlStyle":l.style=o,a={command:"\\htmlStyle",style:o};break;case"\\htmlData":{for(var u=o.split(","),c=0;c<u.length;c++){var f=u[c].split("=");if(f.length!==2)throw new ne("Error parsing key-value for \\htmlData");l["data-"+f[0].trim()]=f[1].trim()}a={command:"\\htmlData",attributes:l};break}default:throw new Error("Unrecognized html command")}return n.settings.isTrusted(a)?{type:"html",mode:n.mode,attributes:l,body:Vt(s)}:n.formatUnsupportedCmd(r)},htmlBuilder:(t,e)=>{var n=sn(t.body,e,!1),r=["enclosing"];t.attributes.class&&r.push(...t.attributes.class.trim().split(/\s+/));var i=U.makeSpan(r,n,e);for(var o in t.attributes)o!=="class"&&t.attributes.hasOwnProperty(o)&&i.setAttribute(o,t.attributes[o]);return i},mathmlBuilder:(t,e)=>da(t.body,e)});de({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"htmlmathml",mode:n.mode,html:Vt(e[0]),mathml:Vt(e[1])}},htmlBuilder:(t,e)=>{var n=sn(t.html,e,!1);return U.makeFragment(n)},mathmlBuilder:(t,e)=>da(t.mathml,e)});var Iv=function(e){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(e))return{number:+e,unit:"bp"};var n=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(e);if(!n)throw new ne("Invalid size: '"+e+"' in \\includegraphics");var r={number:+(n[1]+n[2]),unit:n[3]};if(!uO(r))throw new ne("Invalid unit: '"+r.unit+"' in \\includegraphics.");return r};de({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(t,e,n)=>{var{parser:r}=t,i={number:0,unit:"em"},o={number:.9,unit:"em"},s={number:0,unit:"em"},a="";if(n[0])for(var l=Fe(n[0],"raw").string,u=l.split(","),c=0;c<u.length;c++){var f=u[c].split("=");if(f.length===2){var d=f[1].trim();switch(f[0].trim()){case"alt":a=d;break;case"width":i=Iv(d);break;case"height":o=Iv(d);break;case"totalheight":s=Iv(d);break;default:throw new ne("Invalid key: '"+f[0]+"' in \\includegraphics.")}}}var h=Fe(e[0],"url").url;return a===""&&(a=h,a=a.replace(/^.*[\\/]/,""),a=a.substring(0,a.lastIndexOf("."))),r.settings.isTrusted({command:"\\includegraphics",url:h})?{type:"includegraphics",mode:r.mode,alt:a,width:i,height:o,totalheight:s,src:h}:r.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(t,e)=>{var n=Nt(t.height,e),r=0;t.totalheight.number>0&&(r=Nt(t.totalheight,e)-n);var i=0;t.width.number>0&&(i=Nt(t.width,e));var o={height:ae(n+r)};i>0&&(o.width=ae(i)),r>0&&(o.verticalAlign=ae(-r));var s=new soe(t.src,t.alt,o);return s.height=n,s.depth=r,s},mathmlBuilder:(t,e)=>{var n=new ee.MathNode("mglyph",[]);n.setAttribute("alt",t.alt);var r=Nt(t.height,e),i=0;if(t.totalheight.number>0&&(i=Nt(t.totalheight,e)-r,n.setAttribute("valign",ae(-i))),n.setAttribute("height",ae(r+i)),t.width.number>0){var o=Nt(t.width,e);n.setAttribute("width",ae(o))}return n.setAttribute("src",t.src),n}});de({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=Fe(e[0],"size");if(n.settings.strict){var o=r[1]==="m",s=i.value.unit==="mu";o?(s||n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" supports only mu units, "+("not "+i.value.unit+" units")),n.mode!=="math"&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" works only in math mode")):s&&n.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+r+" doesn't support mu units")}return{type:"kern",mode:n.mode,dimension:i.value}},htmlBuilder(t,e){return U.makeGlue(t.dimension,e)},mathmlBuilder(t,e){var n=Nt(t.dimension,e);return new ee.SpaceNode(n)}});de({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"lap",mode:n.mode,alignment:r.slice(5),body:i}},htmlBuilder:(t,e)=>{var n;t.alignment==="clap"?(n=U.makeSpan([],[Ze(t.body,e)]),n=U.makeSpan(["inner"],[n],e)):n=U.makeSpan(["inner"],[Ze(t.body,e)]);var r=U.makeSpan(["fix"],[]),i=U.makeSpan([t.alignment],[n,r],e),o=U.makeSpan(["strut"]);return o.style.height=ae(i.height+i.depth),i.depth&&(o.style.verticalAlign=ae(-i.depth)),i.children.unshift(o),i=U.makeSpan(["thinbox"],[i],e),U.makeSpan(["mord","vbox"],[i],e)},mathmlBuilder:(t,e)=>{var n=new ee.MathNode("mpadded",[ut(t.body,e)]);if(t.alignment!=="rlap"){var r=t.alignment==="llap"?"-1":"-0.5";n.setAttribute("lspace",r+"width")}return n.setAttribute("width","0px"),n}});de({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){var{funcName:n,parser:r}=t,i=r.mode;r.switchMode("math");var o=n==="\\("?"\\)":"$",s=r.parseExpression(!1,o);return r.expect(o),r.switchMode(i),{type:"styling",mode:r.mode,style:"text",body:s}}});de({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(t,e){throw new ne("Mismatched "+t.funcName)}});var B8=(t,e)=>{switch(e.style.size){case ke.DISPLAY.size:return t.display;case ke.TEXT.size:return t.text;case ke.SCRIPT.size:return t.script;case ke.SCRIPTSCRIPT.size:return t.scriptscript;default:return t.text}};de({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(t,e)=>{var{parser:n}=t;return{type:"mathchoice",mode:n.mode,display:Vt(e[0]),text:Vt(e[1]),script:Vt(e[2]),scriptscript:Vt(e[3])}},htmlBuilder:(t,e)=>{var n=B8(t,e),r=sn(n,e,!1);return U.makeFragment(r)},mathmlBuilder:(t,e)=>{var n=B8(t,e);return da(n,e)}});var qO=(t,e,n,r,i,o,s)=>{t=U.makeSpan([],[t]);var a=n&&Re.isCharacterBox(n),l,u;if(e){var c=Ze(e,r.havingStyle(i.sup()),r);u={elem:c,kern:Math.max(r.fontMetrics().bigOpSpacing1,r.fontMetrics().bigOpSpacing3-c.depth)}}if(n){var f=Ze(n,r.havingStyle(i.sub()),r);l={elem:f,kern:Math.max(r.fontMetrics().bigOpSpacing2,r.fontMetrics().bigOpSpacing4-f.height)}}var d;if(u&&l){var h=r.fontMetrics().bigOpSpacing5+l.elem.height+l.elem.depth+l.kern+t.depth+s;d=U.makeVList({positionType:"bottom",positionData:h,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:ae(-o)},{type:"kern",size:l.kern},{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:ae(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else if(l){var g=t.height-s;d=U.makeVList({positionType:"top",positionData:g,children:[{type:"kern",size:r.fontMetrics().bigOpSpacing5},{type:"elem",elem:l.elem,marginLeft:ae(-o)},{type:"kern",size:l.kern},{type:"elem",elem:t}]},r)}else if(u){var y=t.depth+s;d=U.makeVList({positionType:"bottom",positionData:y,children:[{type:"elem",elem:t},{type:"kern",size:u.kern},{type:"elem",elem:u.elem,marginLeft:ae(o)},{type:"kern",size:r.fontMetrics().bigOpSpacing5}]},r)}else return t;var S=[d];if(l&&o!==0&&!a){var v=U.makeSpan(["mspace"],[],r);v.style.marginRight=ae(o),S.unshift(v)}return U.makeSpan(["mop","op-limits"],S,r)},WO=["\\smallint"],Nc=(t,e)=>{var n,r,i=!1,o;t.type==="supsub"?(n=t.sup,r=t.sub,o=Fe(t.base,"op"),i=!0):o=Fe(t,"op");var s=e.style,a=!1;s.size===ke.DISPLAY.size&&o.symbol&&!Re.contains(WO,o.name)&&(a=!0);var l;if(o.symbol){var u=a?"Size2-Regular":"Size1-Regular",c="";if((o.name==="\\oiint"||o.name==="\\oiiint")&&(c=o.name.slice(1),o.name=c==="oiint"?"\\iint":"\\iiint"),l=U.makeSymbol(o.name,u,"math",e,["mop","op-symbol",a?"large-op":"small-op"]),c.length>0){var f=l.italic,d=U.staticSvg(c+"Size"+(a?"2":"1"),e);l=U.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:d,shift:a?.08:0}]},e),o.name="\\"+c,l.classes.unshift("mop"),l.italic=f}}else if(o.body){var h=sn(o.body,e,!0);h.length===1&&h[0]instanceof Jr?(l=h[0],l.classes[0]="mop"):l=U.makeSpan(["mop"],h,e)}else{for(var g=[],y=1;y<o.name.length;y++)g.push(U.mathsym(o.name[y],o.mode,e));l=U.makeSpan(["mop"],g,e)}var S=0,v=0;return(l instanceof Jr||o.name==="\\oiint"||o.name==="\\oiiint")&&!o.suppressBaseShift&&(S=(l.height-l.depth)/2-e.fontMetrics().axisHeight,v=l.italic),i?qO(l,n,r,e,s,v,S):(S&&(l.style.position="relative",l.style.top=ae(S)),l)},A0=(t,e)=>{var n;if(t.symbol)n=new Fr("mo",[Qr(t.name,t.mode)]),Re.contains(WO,t.name)&&n.setAttribute("largeop","false");else if(t.body)n=new Fr("mo",mr(t.body,e));else{n=new Fr("mi",[new Yf(t.name.slice(1))]);var r=new Fr("mo",[Qr("\u2061","text")]);t.parentIsSupSub?n=new Fr("mrow",[n,r]):n=wO([n,r])}return n},ase={"\u220F":"\\prod","\u2210":"\\coprod","\u2211":"\\sum","\u22C0":"\\bigwedge","\u22C1":"\\bigvee","\u22C2":"\\bigcap","\u22C3":"\\bigcup","\u2A00":"\\bigodot","\u2A01":"\\bigoplus","\u2A02":"\\bigotimes","\u2A04":"\\biguplus","\u2A06":"\\bigsqcup"};de({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","\u220F","\u2210","\u2211","\u22C0","\u22C1","\u22C2","\u22C3","\u2A00","\u2A01","\u2A02","\u2A04","\u2A06"],props:{numArgs:0},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=r;return i.length===1&&(i=ase[i]),{type:"op",mode:n.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:i}},htmlBuilder:Nc,mathmlBuilder:A0});de({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"op",mode:n.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:Vt(r)}},htmlBuilder:Nc,mathmlBuilder:A0});var lse={"\u222B":"\\int","\u222C":"\\iint","\u222D":"\\iiint","\u222E":"\\oint","\u222F":"\\oiint","\u2230":"\\oiiint"};de({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Nc,mathmlBuilder:A0});de({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t;return{type:"op",mode:e.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:n}},htmlBuilder:Nc,mathmlBuilder:A0});de({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","\u222B","\u222C","\u222D","\u222E","\u222F","\u2230"],props:{numArgs:0},handler(t){var{parser:e,funcName:n}=t,r=n;return r.length===1&&(r=lse[r]),{type:"op",mode:e.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:r}},htmlBuilder:Nc,mathmlBuilder:A0});var KO=(t,e)=>{var n,r,i=!1,o;t.type==="supsub"?(n=t.sup,r=t.sub,o=Fe(t.base,"operatorname"),i=!0):o=Fe(t,"operatorname");var s;if(o.body.length>0){for(var a=o.body.map(f=>{var d=f.text;return typeof d=="string"?{type:"textord",mode:f.mode,text:d}:f}),l=sn(a,e.withFont("mathrm"),!0),u=0;u<l.length;u++){var c=l[u];c instanceof Jr&&(c.text=c.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}s=U.makeSpan(["mop"],l,e)}else s=U.makeSpan(["mop"],[],e);return i?qO(s,n,r,e,e.style,0,0):s},use=(t,e)=>{for(var n=mr(t.body,e.withFont("mathrm")),r=!0,i=0;i<n.length;i++){var o=n[i];if(!(o instanceof ee.SpaceNode))if(o instanceof ee.MathNode)switch(o.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{var s=o.children[0];o.children.length===1&&s instanceof ee.TextNode?s.text=s.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):r=!1;break}default:r=!1}else r=!1}if(r){var a=n.map(c=>c.toText()).join("");n=[new ee.TextNode(a)]}var l=new ee.MathNode("mi",n);l.setAttribute("mathvariant","normal");var u=new ee.MathNode("mo",[Qr("\u2061","text")]);return t.parentIsSupSub?new ee.MathNode("mrow",[l,u]):ee.newDocumentFragment([l,u])};de({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(t,e)=>{var{parser:n,funcName:r}=t,i=e[0];return{type:"operatorname",mode:n.mode,body:Vt(i),alwaysHandleSupSub:r==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:KO,mathmlBuilder:use});C("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@");Bl({type:"ordgroup",htmlBuilder(t,e){return t.semisimple?U.makeFragment(sn(t.body,e,!1)):U.makeSpan(["mord"],sn(t.body,e,!0),e)},mathmlBuilder(t,e){return da(t.body,e,!0)}});de({type:"overline",names:["\\overline"],props:{numArgs:1},handler(t,e){var{parser:n}=t,r=e[0];return{type:"overline",mode:n.mode,body:r}},htmlBuilder(t,e){var n=Ze(t.body,e.havingCrampedStyle()),r=U.makeLineSpan("overline-line",e),i=e.fontMetrics().defaultRuleThickness,o=U.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n},{type:"kern",size:3*i},{type:"elem",elem:r},{type:"kern",size:i}]},e);return U.makeSpan(["mord","overline"],[o],e)},mathmlBuilder(t,e){var n=new ee.MathNode("mo",[new ee.TextNode("\u203E")]);n.setAttribute("stretchy","true");var r=new ee.MathNode("mover",[ut(t.body,e),n]);return r.setAttribute("accent","true"),r}});de({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"phantom",mode:n.mode,body:Vt(r)}},htmlBuilder:(t,e)=>{var n=sn(t.body,e.withPhantom(),!1);return U.makeFragment(n)},mathmlBuilder:(t,e)=>{var n=mr(t.body,e);return new ee.MathNode("mphantom",n)}});de({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"hphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=U.makeSpan([],[Ze(t.body,e.withPhantom())]);if(n.height=0,n.depth=0,n.children)for(var r=0;r<n.children.length;r++)n.children[r].height=0,n.children[r].depth=0;return n=U.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e),U.makeSpan(["mord"],[n],e)},mathmlBuilder:(t,e)=>{var n=mr(Vt(t.body),e),r=new ee.MathNode("mphantom",n),i=new ee.MathNode("mpadded",[r]);return i.setAttribute("height","0px"),i.setAttribute("depth","0px"),i}});de({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(t,e)=>{var{parser:n}=t,r=e[0];return{type:"vphantom",mode:n.mode,body:r}},htmlBuilder:(t,e)=>{var n=U.makeSpan(["inner"],[Ze(t.body,e.withPhantom())]),r=U.makeSpan(["fix"],[]);return U.makeSpan(["mord","rlap"],[n,r],e)},mathmlBuilder:(t,e)=>{var n=mr(Vt(t.body),e),r=new ee.MathNode("mphantom",n),i=new ee.MathNode("mpadded",[r]);return i.setAttribute("width","0px"),i}});de({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(t,e){var{parser:n}=t,r=Fe(e[0],"size").value,i=e[1];return{type:"raisebox",mode:n.mode,dy:r,body:i}},htmlBuilder(t,e){var n=Ze(t.body,e),r=Nt(t.dy,e);return U.makeVList({positionType:"shift",positionData:-r,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){var n=new ee.MathNode("mpadded",[ut(t.body,e)]),r=t.dy.number+t.dy.unit;return n.setAttribute("voffset",r),n}});de({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0},handler(t){var{parser:e}=t;return{type:"internal",mode:e.mode}}});de({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,argTypes:["size","size","size"]},handler(t,e,n){var{parser:r}=t,i=n[0],o=Fe(e[0],"size"),s=Fe(e[1],"size");return{type:"rule",mode:r.mode,shift:i&&Fe(i,"size").value,width:o.value,height:s.value}},htmlBuilder(t,e){var n=U.makeSpan(["mord","rule"],[],e),r=Nt(t.width,e),i=Nt(t.height,e),o=t.shift?Nt(t.shift,e):0;return n.style.borderRightWidth=ae(r),n.style.borderTopWidth=ae(i),n.style.bottom=ae(o),n.width=r,n.height=i+o,n.depth=-o,n.maxFontSize=i*1.125*e.sizeMultiplier,n},mathmlBuilder(t,e){var n=Nt(t.width,e),r=Nt(t.height,e),i=t.shift?Nt(t.shift,e):0,o=e.color&&e.getColor()||"black",s=new ee.MathNode("mspace");s.setAttribute("mathbackground",o),s.setAttribute("width",ae(n)),s.setAttribute("height",ae(r));var a=new ee.MathNode("mpadded",[s]);return i>=0?a.setAttribute("height",ae(i)):(a.setAttribute("height",ae(i)),a.setAttribute("depth",ae(-i))),a.setAttribute("voffset",ae(i)),a}});function GO(t,e,n){for(var r=sn(t,e,!1),i=e.sizeMultiplier/n.sizeMultiplier,o=0;o<r.length;o++){var s=r[o].classes.indexOf("sizing");s<0?Array.prototype.push.apply(r[o].classes,e.sizingClasses(n)):r[o].classes[s+1]==="reset-size"+e.size&&(r[o].classes[s+1]="reset-size"+n.size),r[o].height*=i,r[o].depth*=i}return U.makeFragment(r)}var $8=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"],cse=(t,e)=>{var n=e.havingSize(t.size);return GO(t.body,n,e)};de({type:"sizing",names:$8,props:{numArgs:0,allowedInText:!0},handler:(t,e)=>{var{breakOnTokenText:n,funcName:r,parser:i}=t,o=i.parseExpression(!1,n);return{type:"sizing",mode:i.mode,size:$8.indexOf(r)+1,body:o}},htmlBuilder:cse,mathmlBuilder:(t,e)=>{var n=e.havingSize(t.size),r=mr(t.body,n),i=new ee.MathNode("mstyle",r);return i.setAttribute("mathsize",ae(n.sizeMultiplier)),i}});de({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(t,e,n)=>{var{parser:r}=t,i=!1,o=!1,s=n[0]&&Fe(n[0],"ordgroup");if(s)for(var a="",l=0;l<s.body.length;++l){var u=s.body[l];if(a=u.text,a==="t")i=!0;else if(a==="b")o=!0;else{i=!1,o=!1;break}}else i=!0,o=!0;var c=e[0];return{type:"smash",mode:r.mode,body:c,smashHeight:i,smashDepth:o}},htmlBuilder:(t,e)=>{var n=U.makeSpan([],[Ze(t.body,e)]);if(!t.smashHeight&&!t.smashDepth)return n;if(t.smashHeight&&(n.height=0,n.children))for(var r=0;r<n.children.length;r++)n.children[r].height=0;if(t.smashDepth&&(n.depth=0,n.children))for(var i=0;i<n.children.length;i++)n.children[i].depth=0;var o=U.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n}]},e);return U.makeSpan(["mord"],[o],e)},mathmlBuilder:(t,e)=>{var n=new ee.MathNode("mpadded",[ut(t.body,e)]);return t.smashHeight&&n.setAttribute("height","0px"),t.smashDepth&&n.setAttribute("depth","0px"),n}});de({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(t,e,n){var{parser:r}=t,i=n[0],o=e[0];return{type:"sqrt",mode:r.mode,body:o,index:i}},htmlBuilder(t,e){var n=Ze(t.body,e.havingCrampedStyle());n.height===0&&(n.height=e.fontMetrics().xHeight),n=U.wrapFragment(n,e);var r=e.fontMetrics(),i=r.defaultRuleThickness,o=i;e.style.id<ke.TEXT.id&&(o=e.fontMetrics().xHeight);var s=i+o/4,a=n.height+n.depth+s+i,{span:l,ruleWidth:u,advanceWidth:c}=Fo.sqrtImage(a,e),f=l.height-u;f>n.height+n.depth+s&&(s=(s+f-n.height-n.depth)/2);var d=l.height-n.height-s-u;n.style.paddingLeft=ae(c);var h=U.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:n,wrapperClasses:["svg-align"]},{type:"kern",size:-(n.height+d)},{type:"elem",elem:l},{type:"kern",size:u}]},e);if(t.index){var g=e.havingStyle(ke.SCRIPTSCRIPT),y=Ze(t.index,g,e),S=.6*(h.height-h.depth),v=U.makeVList({positionType:"shift",positionData:-S,children:[{type:"elem",elem:y}]},e),m=U.makeSpan(["root"],[v]);return U.makeSpan(["mord","sqrt"],[m,h],e)}else return U.makeSpan(["mord","sqrt"],[h],e)},mathmlBuilder(t,e){var{body:n,index:r}=t;return r?new ee.MathNode("mroot",[ut(n,e),ut(r,e)]):new ee.MathNode("msqrt",[ut(n,e)])}});var F8={display:ke.DISPLAY,text:ke.TEXT,script:ke.SCRIPT,scriptscript:ke.SCRIPTSCRIPT};de({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(t,e){var{breakOnTokenText:n,funcName:r,parser:i}=t,o=i.parseExpression(!0,n),s=r.slice(1,r.length-5);return{type:"styling",mode:i.mode,style:s,body:o}},htmlBuilder(t,e){var n=F8[t.style],r=e.havingStyle(n).withFont("");return GO(t.body,r,e)},mathmlBuilder(t,e){var n=F8[t.style],r=e.havingStyle(n),i=mr(t.body,r),o=new ee.MathNode("mstyle",i),s={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]},a=s[t.style];return o.setAttribute("scriptlevel",a[0]),o.setAttribute("displaystyle",a[1]),o}});var fse=function(e,n){var r=e.base;if(r)if(r.type==="op"){var i=r.limits&&(n.style.size===ke.DISPLAY.size||r.alwaysHandleSupSub);return i?Nc:null}else if(r.type==="operatorname"){var o=r.alwaysHandleSupSub&&(n.style.size===ke.DISPLAY.size||r.limits);return o?KO:null}else{if(r.type==="accent")return Re.isCharacterBox(r.base)?u6:null;if(r.type==="horizBrace"){var s=!e.sub;return s===r.isOver?jO:null}else return null}else return null};Bl({type:"supsub",htmlBuilder(t,e){var n=fse(t,e);if(n)return n(t,e);var{base:r,sup:i,sub:o}=t,s=Ze(r,e),a,l,u=e.fontMetrics(),c=0,f=0,d=r&&Re.isCharacterBox(r);if(i){var h=e.havingStyle(e.style.sup());a=Ze(i,h,e),d||(c=s.height-h.fontMetrics().supDrop*h.sizeMultiplier/e.sizeMultiplier)}if(o){var g=e.havingStyle(e.style.sub());l=Ze(o,g,e),d||(f=s.depth+g.fontMetrics().subDrop*g.sizeMultiplier/e.sizeMultiplier)}var y;e.style===ke.DISPLAY?y=u.sup1:e.style.cramped?y=u.sup3:y=u.sup2;var S=e.sizeMultiplier,v=ae(.5/u.ptPerEm/S),m=null;if(l){var p=t.base&&t.base.type==="op"&&t.base.name&&(t.base.name==="\\oiint"||t.base.name==="\\oiiint");(s instanceof Jr||p)&&(m=ae(-s.italic))}var x;if(a&&l){c=Math.max(c,y,a.depth+.25*u.xHeight),f=Math.max(f,u.sub2);var b=u.defaultRuleThickness,_=4*b;if(c-a.depth-(l.height-f)<_){f=_-(c-a.depth)+l.height;var T=.8*u.xHeight-(c-a.depth);T>0&&(c+=T,f-=T)}var M=[{type:"elem",elem:l,shift:f,marginRight:v,marginLeft:m},{type:"elem",elem:a,shift:-c,marginRight:v}];x=U.makeVList({positionType:"individualShift",children:M},e)}else if(l){f=Math.max(f,u.sub1,l.height-.8*u.xHeight);var N=[{type:"elem",elem:l,marginLeft:m,marginRight:v}];x=U.makeVList({positionType:"shift",positionData:f,children:N},e)}else if(a)c=Math.max(c,y,a.depth+.25*u.xHeight),x=U.makeVList({positionType:"shift",positionData:-c,children:[{type:"elem",elem:a,marginRight:v}]},e);else throw new Error("supsub must have either sup or sub.");var $=W4(s,"right")||"mord";return U.makeSpan([$],[s,U.makeSpan(["msupsub"],[x])],e)},mathmlBuilder(t,e){var n=!1,r,i;t.base&&t.base.type==="horizBrace"&&(i=!!t.sup,i===t.base.isOver&&(n=!0,r=t.base.isOver)),t.base&&(t.base.type==="op"||t.base.type==="operatorname")&&(t.base.parentIsSupSub=!0);var o=[ut(t.base,e)];t.sub&&o.push(ut(t.sub,e)),t.sup&&o.push(ut(t.sup,e));var s;if(n)s=r?"mover":"munder";else if(t.sub)if(t.sup){var u=t.base;u&&u.type==="op"&&u.limits&&e.style===ke.DISPLAY||u&&u.type==="operatorname"&&u.alwaysHandleSupSub&&(e.style===ke.DISPLAY||u.limits)?s="munderover":s="msubsup"}else{var l=t.base;l&&l.type==="op"&&l.limits&&(e.style===ke.DISPLAY||l.alwaysHandleSupSub)||l&&l.type==="operatorname"&&l.alwaysHandleSupSub&&(l.limits||e.style===ke.DISPLAY)?s="munder":s="msub"}else{var a=t.base;a&&a.type==="op"&&a.limits&&(e.style===ke.DISPLAY||a.alwaysHandleSupSub)||a&&a.type==="operatorname"&&a.alwaysHandleSupSub&&(a.limits||e.style===ke.DISPLAY)?s="mover":s="msup"}return new ee.MathNode(s,o)}});Bl({type:"atom",htmlBuilder(t,e){return U.mathsym(t.text,t.mode,e,["m"+t.family])},mathmlBuilder(t,e){var n=new ee.MathNode("mo",[Qr(t.text,t.mode)]);if(t.family==="bin"){var r=a6(t,e);r==="bold-italic"&&n.setAttribute("mathvariant",r)}else t.family==="punct"?n.setAttribute("separator","true"):(t.family==="open"||t.family==="close")&&n.setAttribute("stretchy","false");return n}});var YO={mi:"italic",mn:"normal",mtext:"normal"};Bl({type:"mathord",htmlBuilder(t,e){return U.makeOrd(t,e,"mathord")},mathmlBuilder(t,e){var n=new ee.MathNode("mi",[Qr(t.text,t.mode,e)]),r=a6(t,e)||"italic";return r!==YO[n.type]&&n.setAttribute("mathvariant",r),n}});Bl({type:"textord",htmlBuilder(t,e){return U.makeOrd(t,e,"textord")},mathmlBuilder(t,e){var n=Qr(t.text,t.mode,e),r=a6(t,e)||"normal",i;return t.mode==="text"?i=new ee.MathNode("mtext",[n]):/[0-9]/.test(t.text)?i=new ee.MathNode("mn",[n]):t.text==="\\prime"?i=new ee.MathNode("mo",[n]):i=new ee.MathNode("mi",[n]),r!==YO[i.type]&&i.setAttribute("mathvariant",r),i}});var Pv={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},Lv={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Bl({type:"spacing",htmlBuilder(t,e){if(Lv.hasOwnProperty(t.text)){var n=Lv[t.text].className||"";if(t.mode==="text"){var r=U.makeOrd(t,e,"textord");return r.classes.push(n),r}else return U.makeSpan(["mspace",n],[U.mathsym(t.text,t.mode,e)],e)}else{if(Pv.hasOwnProperty(t.text))return U.makeSpan(["mspace",Pv[t.text]],[],e);throw new ne('Unknown type of space "'+t.text+'"')}},mathmlBuilder(t,e){var n;if(Lv.hasOwnProperty(t.text))n=new ee.MathNode("mtext",[new ee.TextNode("\xA0")]);else{if(Pv.hasOwnProperty(t.text))return new ee.MathNode("mspace");throw new ne('Unknown type of space "'+t.text+'"')}return n}});var V8=()=>{var t=new ee.MathNode("mtd",[]);return t.setAttribute("width","50%"),t};Bl({type:"tag",mathmlBuilder(t,e){var n=new ee.MathNode("mtable",[new ee.MathNode("mtr",[V8(),new ee.MathNode("mtd",[da(t.body,e)]),V8(),new ee.MathNode("mtd",[da(t.tag,e)])])]);return n.setAttribute("width","100%"),n}});var U8={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},H8={"\\textbf":"textbf","\\textmd":"textmd"},dse={"\\textit":"textit","\\textup":"textup"},j8=(t,e)=>{var n=t.font;return n?U8[n]?e.withTextFontFamily(U8[n]):H8[n]?e.withTextFontWeight(H8[n]):e.withTextFontShape(dse[n]):e};de({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(t,e){var{parser:n,funcName:r}=t,i=e[0];return{type:"text",mode:n.mode,body:Vt(i),font:r}},htmlBuilder(t,e){var n=j8(t,e),r=sn(t.body,n,!0);return U.makeSpan(["mord","text"],r,n)},mathmlBuilder(t,e){var n=j8(t,e);return da(t.body,n)}});de({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(t,e){var{parser:n}=t;return{type:"underline",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Ze(t.body,e),r=U.makeLineSpan("underline-line",e),i=e.fontMetrics().defaultRuleThickness,o=U.makeVList({positionType:"top",positionData:n.height,children:[{type:"kern",size:i},{type:"elem",elem:r},{type:"kern",size:3*i},{type:"elem",elem:n}]},e);return U.makeSpan(["mord","underline"],[o],e)},mathmlBuilder(t,e){var n=new ee.MathNode("mo",[new ee.TextNode("\u203E")]);n.setAttribute("stretchy","true");var r=new ee.MathNode("munder",[ut(t.body,e),n]);return r.setAttribute("accentunder","true"),r}});de({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(t,e){var{parser:n}=t;return{type:"vcenter",mode:n.mode,body:e[0]}},htmlBuilder(t,e){var n=Ze(t.body,e),r=e.fontMetrics().axisHeight,i=.5*(n.height-r-(n.depth+r));return U.makeVList({positionType:"shift",positionData:i,children:[{type:"elem",elem:n}]},e)},mathmlBuilder(t,e){return new ee.MathNode("mpadded",[ut(t.body,e)],["vcenter"])}});de({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(t,e,n){throw new ne("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(t,e){for(var n=q8(t),r=[],i=e.havingStyle(e.style.text()),o=0;o<n.length;o++){var s=n[o];s==="~"&&(s="\\textasciitilde"),r.push(U.makeSymbol(s,"Typewriter-Regular",t.mode,i,["mord","texttt"]))}return U.makeSpan(["mord","text"].concat(i.sizingClasses(e)),U.tryCombineChars(r),i)},mathmlBuilder(t,e){var n=new ee.TextNode(q8(t)),r=new ee.MathNode("mtext",[n]);return r.setAttribute("mathvariant","monospace"),r}});var q8=t=>t.body.replace(/ /g,t.star?"\u2423":"\xA0"),Ps=yO,XO=`[ \r
	]`,hse="\\\\[a-zA-Z@]+",pse="\\\\[^\uD800-\uDFFF]",mse="("+hse+")"+XO+"*",gse=`\\\\(
|[ \r	]+
?)[ \r	]*`,X4="[\u0300-\u036F]",vse=new RegExp(X4+"+$"),yse="("+XO+"+)|"+(gse+"|")+"([!-\\[\\]-\u2027\u202A-\uD7FF\uF900-\uFFFF]"+(X4+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(X4+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+mse)+("|"+pse+")");class W8{constructor(e,n){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=e,this.settings=n,this.tokenRegex=new RegExp(yse,"g"),this.catcodes={"%":14,"~":13}}setCatcode(e,n){this.catcodes[e]=n}lex(){var e=this.input,n=this.tokenRegex.lastIndex;if(n===e.length)return new Hr("EOF",new br(this,n,n));var r=this.tokenRegex.exec(e);if(r===null||r.index!==n)throw new ne("Unexpected character: '"+e[n]+"'",new Hr(e[n],new br(this,n,n+1)));var i=r[6]||r[3]||(r[2]?"\\ ":" ");if(this.catcodes[i]===14){var o=e.indexOf(`
`,this.tokenRegex.lastIndex);return o===-1?(this.tokenRegex.lastIndex=e.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=o+1,this.lex()}return new Hr(i,new br(this,n,this.tokenRegex.lastIndex))}}class xse{constructor(e,n){e===void 0&&(e={}),n===void 0&&(n={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=n,this.builtins=e,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new ne("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");var e=this.undefStack.pop();for(var n in e)e.hasOwnProperty(n)&&(e[n]==null?delete this.current[n]:this.current[n]=e[n])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(e){return this.current.hasOwnProperty(e)||this.builtins.hasOwnProperty(e)}get(e){return this.current.hasOwnProperty(e)?this.current[e]:this.builtins[e]}set(e,n,r){if(r===void 0&&(r=!1),r){for(var i=0;i<this.undefStack.length;i++)delete this.undefStack[i][e];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][e]=n)}else{var o=this.undefStack[this.undefStack.length-1];o&&!o.hasOwnProperty(e)&&(o[e]=this.current[e])}n==null?delete this.current[e]:this.current[e]=n}}var wse=$O;C("\\noexpand",function(t){var e=t.popToken();return t.isExpandable(e.text)&&(e.noexpand=!0,e.treatAsRelax=!0),{tokens:[e],numArgs:0}});C("\\expandafter",function(t){var e=t.popToken();return t.expandOnce(!0),{tokens:[e],numArgs:0}});C("\\@firstoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[0],numArgs:0}});C("\\@secondoftwo",function(t){var e=t.consumeArgs(2);return{tokens:e[1],numArgs:0}});C("\\@ifnextchar",function(t){var e=t.consumeArgs(3);t.consumeSpaces();var n=t.future();return e[0].length===1&&e[0][0].text===n.text?{tokens:e[1],numArgs:0}:{tokens:e[2],numArgs:0}});C("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}");C("\\TextOrMath",function(t){var e=t.consumeArgs(2);return t.mode==="text"?{tokens:e[0],numArgs:0}:{tokens:e[1],numArgs:0}});var K8={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};C("\\char",function(t){var e=t.popToken(),n,r="";if(e.text==="'")n=8,e=t.popToken();else if(e.text==='"')n=16,e=t.popToken();else if(e.text==="`")if(e=t.popToken(),e.text[0]==="\\")r=e.text.charCodeAt(1);else{if(e.text==="EOF")throw new ne("\\char` missing argument");r=e.text.charCodeAt(0)}else n=10;if(n){if(r=K8[e.text],r==null||r>=n)throw new ne("Invalid base-"+n+" digit "+e.text);for(var i;(i=K8[t.future().text])!=null&&i<n;)r*=n,r+=i,t.popToken()}return"\\@char{"+r+"}"});var v6=(t,e,n)=>{var r=t.consumeArg().tokens;if(r.length!==1)throw new ne("\\newcommand's first argument must be a macro name");var i=r[0].text,o=t.isDefined(i);if(o&&!e)throw new ne("\\newcommand{"+i+"} attempting to redefine "+(i+"; use \\renewcommand"));if(!o&&!n)throw new ne("\\renewcommand{"+i+"} when command "+i+" does not yet exist; use \\newcommand");var s=0;if(r=t.consumeArg().tokens,r.length===1&&r[0].text==="["){for(var a="",l=t.expandNextToken();l.text!=="]"&&l.text!=="EOF";)a+=l.text,l=t.expandNextToken();if(!a.match(/^\s*[0-9]+\s*$/))throw new ne("Invalid number of arguments: "+a);s=parseInt(a),r=t.consumeArg().tokens}return t.macros.set(i,{tokens:r,numArgs:s}),""};C("\\newcommand",t=>v6(t,!1,!0));C("\\renewcommand",t=>v6(t,!0,!1));C("\\providecommand",t=>v6(t,!0,!0));C("\\message",t=>{var e=t.consumeArgs(1)[0];return console.log(e.reverse().map(n=>n.text).join("")),""});C("\\errmessage",t=>{var e=t.consumeArgs(1)[0];return console.error(e.reverse().map(n=>n.text).join("")),""});C("\\show",t=>{var e=t.popToken(),n=e.text;return console.log(e,t.macros.get(n),Ps[n],gt.math[n],gt.text[n]),""});C("\\bgroup","{");C("\\egroup","}");C("~","\\nobreakspace");C("\\lq","`");C("\\rq","'");C("\\aa","\\r a");C("\\AA","\\r A");C("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`\xA9}");C("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}");C("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`\xAE}");C("\u212C","\\mathscr{B}");C("\u2130","\\mathscr{E}");C("\u2131","\\mathscr{F}");C("\u210B","\\mathscr{H}");C("\u2110","\\mathscr{I}");C("\u2112","\\mathscr{L}");C("\u2133","\\mathscr{M}");C("\u211B","\\mathscr{R}");C("\u212D","\\mathfrak{C}");C("\u210C","\\mathfrak{H}");C("\u2128","\\mathfrak{Z}");C("\\Bbbk","\\Bbb{k}");C("\xB7","\\cdotp");C("\\llap","\\mathllap{\\textrm{#1}}");C("\\rlap","\\mathrlap{\\textrm{#1}}");C("\\clap","\\mathclap{\\textrm{#1}}");C("\\mathstrut","\\vphantom{(}");C("\\underbar","\\underline{\\text{#1}}");C("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}');C("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`\u2260}}");C("\\ne","\\neq");C("\u2260","\\neq");C("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`\u2209}}");C("\u2209","\\notin");C("\u2258","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`\u2258}}");C("\u2259","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`\u2258}}");C("\u225A","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`\u225A}}");C("\u225B","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`\u225B}}");C("\u225D","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`\u225D}}");C("\u225E","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`\u225E}}");C("\u225F","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`\u225F}}");C("\u27C2","\\perp");C("\u203C","\\mathclose{!\\mkern-0.8mu!}");C("\u220C","\\notni");C("\u231C","\\ulcorner");C("\u231D","\\urcorner");C("\u231E","\\llcorner");C("\u231F","\\lrcorner");C("\xA9","\\copyright");C("\xAE","\\textregistered");C("\uFE0F","\\textregistered");C("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}');C("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}');C("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}');C("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}');C("\\vdots","\\mathord{\\varvdots\\rule{0pt}{15pt}}");C("\u22EE","\\vdots");C("\\varGamma","\\mathit{\\Gamma}");C("\\varDelta","\\mathit{\\Delta}");C("\\varTheta","\\mathit{\\Theta}");C("\\varLambda","\\mathit{\\Lambda}");C("\\varXi","\\mathit{\\Xi}");C("\\varPi","\\mathit{\\Pi}");C("\\varSigma","\\mathit{\\Sigma}");C("\\varUpsilon","\\mathit{\\Upsilon}");C("\\varPhi","\\mathit{\\Phi}");C("\\varPsi","\\mathit{\\Psi}");C("\\varOmega","\\mathit{\\Omega}");C("\\substack","\\begin{subarray}{c}#1\\end{subarray}");C("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax");C("\\boxed","\\fbox{$\\displaystyle{#1}$}");C("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;");C("\\implies","\\DOTSB\\;\\Longrightarrow\\;");C("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;");var G8={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};C("\\dots",function(t){var e="\\dotso",n=t.expandAfterFuture().text;return n in G8?e=G8[n]:(n.slice(0,4)==="\\not"||n in gt.math&&Re.contains(["bin","rel"],gt.math[n].group))&&(e="\\dotsb"),e});var y6={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};C("\\dotso",function(t){var e=t.future().text;return e in y6?"\\ldots\\,":"\\ldots"});C("\\dotsc",function(t){var e=t.future().text;return e in y6&&e!==","?"\\ldots\\,":"\\ldots"});C("\\cdots",function(t){var e=t.future().text;return e in y6?"\\@cdots\\,":"\\@cdots"});C("\\dotsb","\\cdots");C("\\dotsm","\\cdots");C("\\dotsi","\\!\\cdots");C("\\dotsx","\\ldots\\,");C("\\DOTSI","\\relax");C("\\DOTSB","\\relax");C("\\DOTSX","\\relax");C("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax");C("\\,","\\tmspace+{3mu}{.1667em}");C("\\thinspace","\\,");C("\\>","\\mskip{4mu}");C("\\:","\\tmspace+{4mu}{.2222em}");C("\\medspace","\\:");C("\\;","\\tmspace+{5mu}{.2777em}");C("\\thickspace","\\;");C("\\!","\\tmspace-{3mu}{.1667em}");C("\\negthinspace","\\!");C("\\negmedspace","\\tmspace-{4mu}{.2222em}");C("\\negthickspace","\\tmspace-{5mu}{.277em}");C("\\enspace","\\kern.5em ");C("\\enskip","\\hskip.5em\\relax");C("\\quad","\\hskip1em\\relax");C("\\qquad","\\hskip2em\\relax");C("\\tag","\\@ifstar\\tag@literal\\tag@paren");C("\\tag@paren","\\tag@literal{({#1})}");C("\\tag@literal",t=>{if(t.macros.get("\\df@tag"))throw new ne("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"});C("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}");C("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)");C("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}");C("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1");C("\\newline","\\\\\\relax");C("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");var JO=ae(Zi["Main-Regular"]["T".charCodeAt(0)][1]-.7*Zi["Main-Regular"]["A".charCodeAt(0)][1]);C("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+JO+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}");C("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+JO+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}");C("\\hspace","\\@ifstar\\@hspacer\\@hspace");C("\\@hspace","\\hskip #1\\relax");C("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax");C("\\ordinarycolon",":");C("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}");C("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}');C("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}');C("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}');C("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}');C("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}');C("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}');C("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}');C("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}');C("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}');C("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}');C("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}');C("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}');C("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}');C("\u2237","\\dblcolon");C("\u2239","\\eqcolon");C("\u2254","\\coloneqq");C("\u2255","\\eqqcolon");C("\u2A74","\\Coloneqq");C("\\ratio","\\vcentcolon");C("\\coloncolon","\\dblcolon");C("\\colonequals","\\coloneqq");C("\\coloncolonequals","\\Coloneqq");C("\\equalscolon","\\eqqcolon");C("\\equalscoloncolon","\\Eqqcolon");C("\\colonminus","\\coloneq");C("\\coloncolonminus","\\Coloneq");C("\\minuscolon","\\eqcolon");C("\\minuscoloncolon","\\Eqcolon");C("\\coloncolonapprox","\\Colonapprox");C("\\coloncolonsim","\\Colonsim");C("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}");C("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}");C("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}");C("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}");C("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`\u220C}}");C("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}");C("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}");C("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}");C("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}");C("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}");C("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}");C("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}");C("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}");C("\\gvertneqq","\\html@mathml{\\@gvertneqq}{\u2269}");C("\\lvertneqq","\\html@mathml{\\@lvertneqq}{\u2268}");C("\\ngeqq","\\html@mathml{\\@ngeqq}{\u2271}");C("\\ngeqslant","\\html@mathml{\\@ngeqslant}{\u2271}");C("\\nleqq","\\html@mathml{\\@nleqq}{\u2270}");C("\\nleqslant","\\html@mathml{\\@nleqslant}{\u2270}");C("\\nshortmid","\\html@mathml{\\@nshortmid}{\u2224}");C("\\nshortparallel","\\html@mathml{\\@nshortparallel}{\u2226}");C("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{\u2288}");C("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{\u2289}");C("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{\u228A}");C("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{\u2ACB}");C("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{\u228B}");C("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{\u2ACC}");C("\\imath","\\html@mathml{\\@imath}{\u0131}");C("\\jmath","\\html@mathml{\\@jmath}{\u0237}");C("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`\u27E6}}");C("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`\u27E7}}");C("\u27E6","\\llbracket");C("\u27E7","\\rrbracket");C("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`\u2983}}");C("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`\u2984}}");C("\u2983","\\lBrace");C("\u2984","\\rBrace");C("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`\u29B5}}");C("\u29B5","\\minuso");C("\\darr","\\downarrow");C("\\dArr","\\Downarrow");C("\\Darr","\\Downarrow");C("\\lang","\\langle");C("\\rang","\\rangle");C("\\uarr","\\uparrow");C("\\uArr","\\Uparrow");C("\\Uarr","\\Uparrow");C("\\N","\\mathbb{N}");C("\\R","\\mathbb{R}");C("\\Z","\\mathbb{Z}");C("\\alef","\\aleph");C("\\alefsym","\\aleph");C("\\Alpha","\\mathrm{A}");C("\\Beta","\\mathrm{B}");C("\\bull","\\bullet");C("\\Chi","\\mathrm{X}");C("\\clubs","\\clubsuit");C("\\cnums","\\mathbb{C}");C("\\Complex","\\mathbb{C}");C("\\Dagger","\\ddagger");C("\\diamonds","\\diamondsuit");C("\\empty","\\emptyset");C("\\Epsilon","\\mathrm{E}");C("\\Eta","\\mathrm{H}");C("\\exist","\\exists");C("\\harr","\\leftrightarrow");C("\\hArr","\\Leftrightarrow");C("\\Harr","\\Leftrightarrow");C("\\hearts","\\heartsuit");C("\\image","\\Im");C("\\infin","\\infty");C("\\Iota","\\mathrm{I}");C("\\isin","\\in");C("\\Kappa","\\mathrm{K}");C("\\larr","\\leftarrow");C("\\lArr","\\Leftarrow");C("\\Larr","\\Leftarrow");C("\\lrarr","\\leftrightarrow");C("\\lrArr","\\Leftrightarrow");C("\\Lrarr","\\Leftrightarrow");C("\\Mu","\\mathrm{M}");C("\\natnums","\\mathbb{N}");C("\\Nu","\\mathrm{N}");C("\\Omicron","\\mathrm{O}");C("\\plusmn","\\pm");C("\\rarr","\\rightarrow");C("\\rArr","\\Rightarrow");C("\\Rarr","\\Rightarrow");C("\\real","\\Re");C("\\reals","\\mathbb{R}");C("\\Reals","\\mathbb{R}");C("\\Rho","\\mathrm{P}");C("\\sdot","\\cdot");C("\\sect","\\S");C("\\spades","\\spadesuit");C("\\sub","\\subset");C("\\sube","\\subseteq");C("\\supe","\\supseteq");C("\\Tau","\\mathrm{T}");C("\\thetasym","\\vartheta");C("\\weierp","\\wp");C("\\Zeta","\\mathrm{Z}");C("\\argmin","\\DOTSB\\operatorname*{arg\\,min}");C("\\argmax","\\DOTSB\\operatorname*{arg\\,max}");C("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits");C("\\bra","\\mathinner{\\langle{#1}|}");C("\\ket","\\mathinner{|{#1}\\rangle}");C("\\braket","\\mathinner{\\langle{#1}\\rangle}");C("\\Bra","\\left\\langle#1\\right|");C("\\Ket","\\left|#1\\right\\rangle");var QO=t=>e=>{var n=e.consumeArg().tokens,r=e.consumeArg().tokens,i=e.consumeArg().tokens,o=e.consumeArg().tokens,s=e.macros.get("|"),a=e.macros.get("\\|");e.macros.beginGroup();var l=f=>d=>{t&&(d.macros.set("|",s),i.length&&d.macros.set("\\|",a));var h=f;if(!f&&i.length){var g=d.future();g.text==="|"&&(d.popToken(),h=!0)}return{tokens:h?i:r,numArgs:0}};e.macros.set("|",l(!1)),i.length&&e.macros.set("\\|",l(!0));var u=e.consumeArg().tokens,c=e.expandTokens([...o,...u,...n]);return e.macros.endGroup(),{tokens:c.reverse(),numArgs:0}};C("\\bra@ket",QO(!1));C("\\bra@set",QO(!0));C("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}");C("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}");C("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}");C("\\angln","{\\angl n}");C("\\blue","\\textcolor{##6495ed}{#1}");C("\\orange","\\textcolor{##ffa500}{#1}");C("\\pink","\\textcolor{##ff00af}{#1}");C("\\red","\\textcolor{##df0030}{#1}");C("\\green","\\textcolor{##28ae7b}{#1}");C("\\gray","\\textcolor{gray}{#1}");C("\\purple","\\textcolor{##9d38bd}{#1}");C("\\blueA","\\textcolor{##ccfaff}{#1}");C("\\blueB","\\textcolor{##80f6ff}{#1}");C("\\blueC","\\textcolor{##63d9ea}{#1}");C("\\blueD","\\textcolor{##11accd}{#1}");C("\\blueE","\\textcolor{##0c7f99}{#1}");C("\\tealA","\\textcolor{##94fff5}{#1}");C("\\tealB","\\textcolor{##26edd5}{#1}");C("\\tealC","\\textcolor{##01d1c1}{#1}");C("\\tealD","\\textcolor{##01a995}{#1}");C("\\tealE","\\textcolor{##208170}{#1}");C("\\greenA","\\textcolor{##b6ffb0}{#1}");C("\\greenB","\\textcolor{##8af281}{#1}");C("\\greenC","\\textcolor{##74cf70}{#1}");C("\\greenD","\\textcolor{##1fab54}{#1}");C("\\greenE","\\textcolor{##0d923f}{#1}");C("\\goldA","\\textcolor{##ffd0a9}{#1}");C("\\goldB","\\textcolor{##ffbb71}{#1}");C("\\goldC","\\textcolor{##ff9c39}{#1}");C("\\goldD","\\textcolor{##e07d10}{#1}");C("\\goldE","\\textcolor{##a75a05}{#1}");C("\\redA","\\textcolor{##fca9a9}{#1}");C("\\redB","\\textcolor{##ff8482}{#1}");C("\\redC","\\textcolor{##f9685d}{#1}");C("\\redD","\\textcolor{##e84d39}{#1}");C("\\redE","\\textcolor{##bc2612}{#1}");C("\\maroonA","\\textcolor{##ffbde0}{#1}");C("\\maroonB","\\textcolor{##ff92c6}{#1}");C("\\maroonC","\\textcolor{##ed5fa6}{#1}");C("\\maroonD","\\textcolor{##ca337c}{#1}");C("\\maroonE","\\textcolor{##9e034e}{#1}");C("\\purpleA","\\textcolor{##ddd7ff}{#1}");C("\\purpleB","\\textcolor{##c6b9fc}{#1}");C("\\purpleC","\\textcolor{##aa87ff}{#1}");C("\\purpleD","\\textcolor{##7854ab}{#1}");C("\\purpleE","\\textcolor{##543b78}{#1}");C("\\mintA","\\textcolor{##f5f9e8}{#1}");C("\\mintB","\\textcolor{##edf2df}{#1}");C("\\mintC","\\textcolor{##e0e5cc}{#1}");C("\\grayA","\\textcolor{##f6f7f7}{#1}");C("\\grayB","\\textcolor{##f0f1f2}{#1}");C("\\grayC","\\textcolor{##e3e5e6}{#1}");C("\\grayD","\\textcolor{##d6d8da}{#1}");C("\\grayE","\\textcolor{##babec2}{#1}");C("\\grayF","\\textcolor{##888d93}{#1}");C("\\grayG","\\textcolor{##626569}{#1}");C("\\grayH","\\textcolor{##3b3e40}{#1}");C("\\grayI","\\textcolor{##21242c}{#1}");C("\\kaBlue","\\textcolor{##314453}{#1}");C("\\kaGreen","\\textcolor{##71B307}{#1}");var ZO={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class bse{constructor(e,n,r){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=n,this.expansionCount=0,this.feed(e),this.macros=new xse(wse,n.macros),this.mode=r,this.stack=[]}feed(e){this.lexer=new W8(e,this.settings)}switchMode(e){this.mode=e}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(e){this.stack.push(e)}pushTokens(e){this.stack.push(...e)}scanArgument(e){var n,r,i;if(e){if(this.consumeSpaces(),this.future().text!=="[")return null;n=this.popToken(),{tokens:i,end:r}=this.consumeArg(["]"])}else({tokens:i,start:n,end:r}=this.consumeArg());return this.pushToken(new Hr("EOF",r.loc)),this.pushTokens(i),n.range(r,"")}consumeSpaces(){for(;;){var e=this.future();if(e.text===" ")this.stack.pop();else break}}consumeArg(e){var n=[],r=e&&e.length>0;r||this.consumeSpaces();var i=this.future(),o,s=0,a=0;do{if(o=this.popToken(),n.push(o),o.text==="{")++s;else if(o.text==="}"){if(--s,s===-1)throw new ne("Extra }",o)}else if(o.text==="EOF")throw new ne("Unexpected end of input in a macro argument, expected '"+(e&&r?e[a]:"}")+"'",o);if(e&&r)if((s===0||s===1&&e[a]==="{")&&o.text===e[a]){if(++a,a===e.length){n.splice(-a,a);break}}else a=0}while(s!==0||r);return i.text==="{"&&n[n.length-1].text==="}"&&(n.pop(),n.shift()),n.reverse(),{tokens:n,start:i,end:o}}consumeArgs(e,n){if(n){if(n.length!==e+1)throw new ne("The length of delimiters doesn't match the number of args!");for(var r=n[0],i=0;i<r.length;i++){var o=this.popToken();if(r[i]!==o.text)throw new ne("Use of the macro doesn't match its definition",o)}}for(var s=[],a=0;a<e;a++)s.push(this.consumeArg(n&&n[a+1]).tokens);return s}expandOnce(e){var n=this.popToken(),r=n.text,i=n.noexpand?null:this._getExpansion(r);if(i==null||e&&i.unexpandable){if(e&&i==null&&r[0]==="\\"&&!this.isDefined(r))throw new ne("Undefined control sequence: "+r);return this.pushToken(n),n}if(this.expansionCount++,this.expansionCount>this.settings.maxExpand)throw new ne("Too many expansions: infinite loop or need to increase maxExpand setting");var o=i.tokens,s=this.consumeArgs(i.numArgs,i.delimiters);if(i.numArgs){o=o.slice();for(var a=o.length-1;a>=0;--a){var l=o[a];if(l.text==="#"){if(a===0)throw new ne("Incomplete placeholder at end of macro body",l);if(l=o[--a],l.text==="#")o.splice(a+1,1);else if(/^[1-9]$/.test(l.text))o.splice(a,2,...s[+l.text-1]);else throw new ne("Not a valid argument number",l)}}}return this.pushTokens(o),o}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;){var e=this.expandOnce();if(e instanceof Hr)return e.treatAsRelax&&(e.text="\\relax"),this.stack.pop()}throw new Error}expandMacro(e){return this.macros.has(e)?this.expandTokens([new Hr(e)]):void 0}expandTokens(e){var n=[],r=this.stack.length;for(this.pushTokens(e);this.stack.length>r;){var i=this.expandOnce(!0);i instanceof Hr&&(i.treatAsRelax&&(i.noexpand=!1,i.treatAsRelax=!1),n.push(this.stack.pop()))}return n}expandMacroAsText(e){var n=this.expandMacro(e);return n&&n.map(r=>r.text).join("")}_getExpansion(e){var n=this.macros.get(e);if(n==null)return n;if(e.length===1){var r=this.lexer.catcodes[e];if(r!=null&&r!==13)return}var i=typeof n=="function"?n(this):n;if(typeof i=="string"){var o=0;if(i.indexOf("#")!==-1)for(var s=i.replace(/##/g,"");s.indexOf("#"+(o+1))!==-1;)++o;for(var a=new W8(i,this.settings),l=[],u=a.lex();u.text!=="EOF";)l.push(u),u=a.lex();l.reverse();var c={tokens:l,numArgs:o};return c}return i}isDefined(e){return this.macros.has(e)||Ps.hasOwnProperty(e)||gt.math.hasOwnProperty(e)||gt.text.hasOwnProperty(e)||ZO.hasOwnProperty(e)}isExpandable(e){var n=this.macros.get(e);return n!=null?typeof n=="string"||typeof n=="function"||!n.unexpandable:Ps.hasOwnProperty(e)&&!Ps[e].primitive}}var Y8=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,Eh=Object.freeze({"\u208A":"+","\u208B":"-","\u208C":"=","\u208D":"(","\u208E":")","\u2080":"0","\u2081":"1","\u2082":"2","\u2083":"3","\u2084":"4","\u2085":"5","\u2086":"6","\u2087":"7","\u2088":"8","\u2089":"9","\u2090":"a","\u2091":"e","\u2095":"h","\u1D62":"i","\u2C7C":"j","\u2096":"k","\u2097":"l","\u2098":"m","\u2099":"n","\u2092":"o","\u209A":"p","\u1D63":"r","\u209B":"s","\u209C":"t","\u1D64":"u","\u1D65":"v","\u2093":"x","\u1D66":"\u03B2","\u1D67":"\u03B3","\u1D68":"\u03C1","\u1D69":"\u03D5","\u1D6A":"\u03C7","\u207A":"+","\u207B":"-","\u207C":"=","\u207D":"(","\u207E":")","\u2070":"0","\xB9":"1","\xB2":"2","\xB3":"3","\u2074":"4","\u2075":"5","\u2076":"6","\u2077":"7","\u2078":"8","\u2079":"9","\u1D2C":"A","\u1D2E":"B","\u1D30":"D","\u1D31":"E","\u1D33":"G","\u1D34":"H","\u1D35":"I","\u1D36":"J","\u1D37":"K","\u1D38":"L","\u1D39":"M","\u1D3A":"N","\u1D3C":"O","\u1D3E":"P","\u1D3F":"R","\u1D40":"T","\u1D41":"U","\u2C7D":"V","\u1D42":"W","\u1D43":"a","\u1D47":"b","\u1D9C":"c","\u1D48":"d","\u1D49":"e","\u1DA0":"f","\u1D4D":"g",\u02B0:"h","\u2071":"i",\u02B2:"j","\u1D4F":"k",\u02E1:"l","\u1D50":"m",\u207F:"n","\u1D52":"o","\u1D56":"p",\u02B3:"r",\u02E2:"s","\u1D57":"t","\u1D58":"u","\u1D5B":"v",\u02B7:"w",\u02E3:"x",\u02B8:"y","\u1DBB":"z","\u1D5D":"\u03B2","\u1D5E":"\u03B3","\u1D5F":"\u03B4","\u1D60":"\u03D5","\u1D61":"\u03C7","\u1DBF":"\u03B8"}),zv={"\u0301":{text:"\\'",math:"\\acute"},"\u0300":{text:"\\`",math:"\\grave"},"\u0308":{text:'\\"',math:"\\ddot"},"\u0303":{text:"\\~",math:"\\tilde"},"\u0304":{text:"\\=",math:"\\bar"},"\u0306":{text:"\\u",math:"\\breve"},"\u030C":{text:"\\v",math:"\\check"},"\u0302":{text:"\\^",math:"\\hat"},"\u0307":{text:"\\.",math:"\\dot"},"\u030A":{text:"\\r",math:"\\mathring"},"\u030B":{text:"\\H"},"\u0327":{text:"\\c"}},X8={\u00E1:"a\u0301",\u00E0:"a\u0300",\u00E4:"a\u0308",\u01DF:"a\u0308\u0304",\u00E3:"a\u0303",\u0101:"a\u0304",\u0103:"a\u0306",\u1EAF:"a\u0306\u0301",\u1EB1:"a\u0306\u0300",\u1EB5:"a\u0306\u0303",\u01CE:"a\u030C",\u00E2:"a\u0302",\u1EA5:"a\u0302\u0301",\u1EA7:"a\u0302\u0300",\u1EAB:"a\u0302\u0303",\u0227:"a\u0307",\u01E1:"a\u0307\u0304",\u00E5:"a\u030A",\u01FB:"a\u030A\u0301",\u1E03:"b\u0307",\u0107:"c\u0301",\u1E09:"c\u0327\u0301",\u010D:"c\u030C",\u0109:"c\u0302",\u010B:"c\u0307",\u00E7:"c\u0327",\u010F:"d\u030C",\u1E0B:"d\u0307",\u1E11:"d\u0327",\u00E9:"e\u0301",\u00E8:"e\u0300",\u00EB:"e\u0308",\u1EBD:"e\u0303",\u0113:"e\u0304",\u1E17:"e\u0304\u0301",\u1E15:"e\u0304\u0300",\u0115:"e\u0306",\u1E1D:"e\u0327\u0306",\u011B:"e\u030C",\u00EA:"e\u0302",\u1EBF:"e\u0302\u0301",\u1EC1:"e\u0302\u0300",\u1EC5:"e\u0302\u0303",\u0117:"e\u0307",\u0229:"e\u0327",\u1E1F:"f\u0307",\u01F5:"g\u0301",\u1E21:"g\u0304",\u011F:"g\u0306",\u01E7:"g\u030C",\u011D:"g\u0302",\u0121:"g\u0307",\u0123:"g\u0327",\u1E27:"h\u0308",\u021F:"h\u030C",\u0125:"h\u0302",\u1E23:"h\u0307",\u1E29:"h\u0327",\u00ED:"i\u0301",\u00EC:"i\u0300",\u00EF:"i\u0308",\u1E2F:"i\u0308\u0301",\u0129:"i\u0303",\u012B:"i\u0304",\u012D:"i\u0306",\u01D0:"i\u030C",\u00EE:"i\u0302",\u01F0:"j\u030C",\u0135:"j\u0302",\u1E31:"k\u0301",\u01E9:"k\u030C",\u0137:"k\u0327",\u013A:"l\u0301",\u013E:"l\u030C",\u013C:"l\u0327",\u1E3F:"m\u0301",\u1E41:"m\u0307",\u0144:"n\u0301",\u01F9:"n\u0300",\u00F1:"n\u0303",\u0148:"n\u030C",\u1E45:"n\u0307",\u0146:"n\u0327",\u00F3:"o\u0301",\u00F2:"o\u0300",\u00F6:"o\u0308",\u022B:"o\u0308\u0304",\u00F5:"o\u0303",\u1E4D:"o\u0303\u0301",\u1E4F:"o\u0303\u0308",\u022D:"o\u0303\u0304",\u014D:"o\u0304",\u1E53:"o\u0304\u0301",\u1E51:"o\u0304\u0300",\u014F:"o\u0306",\u01D2:"o\u030C",\u00F4:"o\u0302",\u1ED1:"o\u0302\u0301",\u1ED3:"o\u0302\u0300",\u1ED7:"o\u0302\u0303",\u022F:"o\u0307",\u0231:"o\u0307\u0304",\u0151:"o\u030B",\u1E55:"p\u0301",\u1E57:"p\u0307",\u0155:"r\u0301",\u0159:"r\u030C",\u1E59:"r\u0307",\u0157:"r\u0327",\u015B:"s\u0301",\u1E65:"s\u0301\u0307",\u0161:"s\u030C",\u1E67:"s\u030C\u0307",\u015D:"s\u0302",\u1E61:"s\u0307",\u015F:"s\u0327",\u1E97:"t\u0308",\u0165:"t\u030C",\u1E6B:"t\u0307",\u0163:"t\u0327",\u00FA:"u\u0301",\u00F9:"u\u0300",\u00FC:"u\u0308",\u01D8:"u\u0308\u0301",\u01DC:"u\u0308\u0300",\u01D6:"u\u0308\u0304",\u01DA:"u\u0308\u030C",\u0169:"u\u0303",\u1E79:"u\u0303\u0301",\u016B:"u\u0304",\u1E7B:"u\u0304\u0308",\u016D:"u\u0306",\u01D4:"u\u030C",\u00FB:"u\u0302",\u016F:"u\u030A",\u0171:"u\u030B",\u1E7D:"v\u0303",\u1E83:"w\u0301",\u1E81:"w\u0300",\u1E85:"w\u0308",\u0175:"w\u0302",\u1E87:"w\u0307",\u1E98:"w\u030A",\u1E8D:"x\u0308",\u1E8B:"x\u0307",\u00FD:"y\u0301",\u1EF3:"y\u0300",\u00FF:"y\u0308",\u1EF9:"y\u0303",\u0233:"y\u0304",\u0177:"y\u0302",\u1E8F:"y\u0307",\u1E99:"y\u030A",\u017A:"z\u0301",\u017E:"z\u030C",\u1E91:"z\u0302",\u017C:"z\u0307",\u00C1:"A\u0301",\u00C0:"A\u0300",\u00C4:"A\u0308",\u01DE:"A\u0308\u0304",\u00C3:"A\u0303",\u0100:"A\u0304",\u0102:"A\u0306",\u1EAE:"A\u0306\u0301",\u1EB0:"A\u0306\u0300",\u1EB4:"A\u0306\u0303",\u01CD:"A\u030C",\u00C2:"A\u0302",\u1EA4:"A\u0302\u0301",\u1EA6:"A\u0302\u0300",\u1EAA:"A\u0302\u0303",\u0226:"A\u0307",\u01E0:"A\u0307\u0304",\u00C5:"A\u030A",\u01FA:"A\u030A\u0301",\u1E02:"B\u0307",\u0106:"C\u0301",\u1E08:"C\u0327\u0301",\u010C:"C\u030C",\u0108:"C\u0302",\u010A:"C\u0307",\u00C7:"C\u0327",\u010E:"D\u030C",\u1E0A:"D\u0307",\u1E10:"D\u0327",\u00C9:"E\u0301",\u00C8:"E\u0300",\u00CB:"E\u0308",\u1EBC:"E\u0303",\u0112:"E\u0304",\u1E16:"E\u0304\u0301",\u1E14:"E\u0304\u0300",\u0114:"E\u0306",\u1E1C:"E\u0327\u0306",\u011A:"E\u030C",\u00CA:"E\u0302",\u1EBE:"E\u0302\u0301",\u1EC0:"E\u0302\u0300",\u1EC4:"E\u0302\u0303",\u0116:"E\u0307",\u0228:"E\u0327",\u1E1E:"F\u0307",\u01F4:"G\u0301",\u1E20:"G\u0304",\u011E:"G\u0306",\u01E6:"G\u030C",\u011C:"G\u0302",\u0120:"G\u0307",\u0122:"G\u0327",\u1E26:"H\u0308",\u021E:"H\u030C",\u0124:"H\u0302",\u1E22:"H\u0307",\u1E28:"H\u0327",\u00CD:"I\u0301",\u00CC:"I\u0300",\u00CF:"I\u0308",\u1E2E:"I\u0308\u0301",\u0128:"I\u0303",\u012A:"I\u0304",\u012C:"I\u0306",\u01CF:"I\u030C",\u00CE:"I\u0302",\u0130:"I\u0307",\u0134:"J\u0302",\u1E30:"K\u0301",\u01E8:"K\u030C",\u0136:"K\u0327",\u0139:"L\u0301",\u013D:"L\u030C",\u013B:"L\u0327",\u1E3E:"M\u0301",\u1E40:"M\u0307",\u0143:"N\u0301",\u01F8:"N\u0300",\u00D1:"N\u0303",\u0147:"N\u030C",\u1E44:"N\u0307",\u0145:"N\u0327",\u00D3:"O\u0301",\u00D2:"O\u0300",\u00D6:"O\u0308",\u022A:"O\u0308\u0304",\u00D5:"O\u0303",\u1E4C:"O\u0303\u0301",\u1E4E:"O\u0303\u0308",\u022C:"O\u0303\u0304",\u014C:"O\u0304",\u1E52:"O\u0304\u0301",\u1E50:"O\u0304\u0300",\u014E:"O\u0306",\u01D1:"O\u030C",\u00D4:"O\u0302",\u1ED0:"O\u0302\u0301",\u1ED2:"O\u0302\u0300",\u1ED6:"O\u0302\u0303",\u022E:"O\u0307",\u0230:"O\u0307\u0304",\u0150:"O\u030B",\u1E54:"P\u0301",\u1E56:"P\u0307",\u0154:"R\u0301",\u0158:"R\u030C",\u1E58:"R\u0307",\u0156:"R\u0327",\u015A:"S\u0301",\u1E64:"S\u0301\u0307",\u0160:"S\u030C",\u1E66:"S\u030C\u0307",\u015C:"S\u0302",\u1E60:"S\u0307",\u015E:"S\u0327",\u0164:"T\u030C",\u1E6A:"T\u0307",\u0162:"T\u0327",\u00DA:"U\u0301",\u00D9:"U\u0300",\u00DC:"U\u0308",\u01D7:"U\u0308\u0301",\u01DB:"U\u0308\u0300",\u01D5:"U\u0308\u0304",\u01D9:"U\u0308\u030C",\u0168:"U\u0303",\u1E78:"U\u0303\u0301",\u016A:"U\u0304",\u1E7A:"U\u0304\u0308",\u016C:"U\u0306",\u01D3:"U\u030C",\u00DB:"U\u0302",\u016E:"U\u030A",\u0170:"U\u030B",\u1E7C:"V\u0303",\u1E82:"W\u0301",\u1E80:"W\u0300",\u1E84:"W\u0308",\u0174:"W\u0302",\u1E86:"W\u0307",\u1E8C:"X\u0308",\u1E8A:"X\u0307",\u00DD:"Y\u0301",\u1EF2:"Y\u0300",\u0178:"Y\u0308",\u1EF8:"Y\u0303",\u0232:"Y\u0304",\u0176:"Y\u0302",\u1E8E:"Y\u0307",\u0179:"Z\u0301",\u017D:"Z\u030C",\u1E90:"Z\u0302",\u017B:"Z\u0307",\u03AC:"\u03B1\u0301",\u1F70:"\u03B1\u0300",\u1FB1:"\u03B1\u0304",\u1FB0:"\u03B1\u0306",\u03AD:"\u03B5\u0301",\u1F72:"\u03B5\u0300",\u03AE:"\u03B7\u0301",\u1F74:"\u03B7\u0300",\u03AF:"\u03B9\u0301",\u1F76:"\u03B9\u0300",\u03CA:"\u03B9\u0308",\u0390:"\u03B9\u0308\u0301",\u1FD2:"\u03B9\u0308\u0300",\u1FD1:"\u03B9\u0304",\u1FD0:"\u03B9\u0306",\u03CC:"\u03BF\u0301",\u1F78:"\u03BF\u0300",\u03CD:"\u03C5\u0301",\u1F7A:"\u03C5\u0300",\u03CB:"\u03C5\u0308",\u03B0:"\u03C5\u0308\u0301",\u1FE2:"\u03C5\u0308\u0300",\u1FE1:"\u03C5\u0304",\u1FE0:"\u03C5\u0306",\u03CE:"\u03C9\u0301",\u1F7C:"\u03C9\u0300",\u038E:"\u03A5\u0301",\u1FEA:"\u03A5\u0300",\u03AB:"\u03A5\u0308",\u1FE9:"\u03A5\u0304",\u1FE8:"\u03A5\u0306",\u038F:"\u03A9\u0301",\u1FFA:"\u03A9\u0300"};class Xd{constructor(e,n){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new bse(e,n,this.mode),this.settings=n,this.leftrightDepth=0}expect(e,n){if(n===void 0&&(n=!0),this.fetch().text!==e)throw new ne("Expected '"+e+"', got '"+this.fetch().text+"'",this.fetch());n&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(e){this.mode=e,this.gullet.switchMode(e)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{var e=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),e}finally{this.gullet.endGroups()}}subparse(e){var n=this.nextToken;this.consume(),this.gullet.pushToken(new Hr("}")),this.gullet.pushTokens(e);var r=this.parseExpression(!1);return this.expect("}"),this.nextToken=n,r}parseExpression(e,n){for(var r=[];;){this.mode==="math"&&this.consumeSpaces();var i=this.fetch();if(Xd.endOfExpression.indexOf(i.text)!==-1||n&&i.text===n||e&&Ps[i.text]&&Ps[i.text].infix)break;var o=this.parseAtom(n);if(o){if(o.type==="internal")continue}else break;r.push(o)}return this.mode==="text"&&this.formLigatures(r),this.handleInfixNodes(r)}handleInfixNodes(e){for(var n=-1,r,i=0;i<e.length;i++)if(e[i].type==="infix"){if(n!==-1)throw new ne("only one infix operator per group",e[i].token);n=i,r=e[i].replaceWith}if(n!==-1&&r){var o,s,a=e.slice(0,n),l=e.slice(n+1);a.length===1&&a[0].type==="ordgroup"?o=a[0]:o={type:"ordgroup",mode:this.mode,body:a},l.length===1&&l[0].type==="ordgroup"?s=l[0]:s={type:"ordgroup",mode:this.mode,body:l};var u;return r==="\\\\abovefrac"?u=this.callFunction(r,[o,e[n],s],[]):u=this.callFunction(r,[o,s],[]),[u]}else return e}handleSupSubscript(e){var n=this.fetch(),r=n.text;this.consume(),this.consumeSpaces();var i=this.parseGroup(e);if(!i)throw new ne("Expected group after '"+r+"'",n);return i}formatUnsupportedCmd(e){for(var n=[],r=0;r<e.length;r++)n.push({type:"textord",mode:"text",text:e[r]});var i={type:"text",mode:this.mode,body:n},o={type:"color",mode:this.mode,color:this.settings.errorColor,body:[i]};return o}parseAtom(e){var n=this.parseGroup("atom",e);if(this.mode==="text")return n;for(var r,i;;){this.consumeSpaces();var o=this.fetch();if(o.text==="\\limits"||o.text==="\\nolimits"){if(n&&n.type==="op"){var s=o.text==="\\limits";n.limits=s,n.alwaysHandleSupSub=!0}else if(n&&n.type==="operatorname")n.alwaysHandleSupSub&&(n.limits=o.text==="\\limits");else throw new ne("Limit controls must follow a math operator",o);this.consume()}else if(o.text==="^"){if(r)throw new ne("Double superscript",o);r=this.handleSupSubscript("superscript")}else if(o.text==="_"){if(i)throw new ne("Double subscript",o);i=this.handleSupSubscript("subscript")}else if(o.text==="'"){if(r)throw new ne("Double superscript",o);var a={type:"textord",mode:this.mode,text:"\\prime"},l=[a];for(this.consume();this.fetch().text==="'";)l.push(a),this.consume();this.fetch().text==="^"&&l.push(this.handleSupSubscript("superscript")),r={type:"ordgroup",mode:this.mode,body:l}}else if(Eh[o.text]){var u=Eh[o.text],c=Y8.test(o.text);for(this.consume();;){var f=this.fetch().text;if(!Eh[f]||Y8.test(f)!==c)break;this.consume(),u+=Eh[f]}var d=new Xd(u,this.settings).parse();c?i={type:"ordgroup",mode:"math",body:d}:r={type:"ordgroup",mode:"math",body:d}}else break}return r||i?{type:"supsub",mode:this.mode,base:n,sup:r,sub:i}:n}parseFunction(e,n){var r=this.fetch(),i=r.text,o=Ps[i];if(!o)return null;if(this.consume(),n&&n!=="atom"&&!o.allowedInArgument)throw new ne("Got function '"+i+"' with no arguments"+(n?" as "+n:""),r);if(this.mode==="text"&&!o.allowedInText)throw new ne("Can't use function '"+i+"' in text mode",r);if(this.mode==="math"&&o.allowedInMath===!1)throw new ne("Can't use function '"+i+"' in math mode",r);var{args:s,optArgs:a}=this.parseArguments(i,o);return this.callFunction(i,s,a,r,e)}callFunction(e,n,r,i,o){var s={funcName:e,parser:this,token:i,breakOnTokenText:o},a=Ps[e];if(a&&a.handler)return a.handler(s,n,r);throw new ne("No function handler for "+e)}parseArguments(e,n){var r=n.numArgs+n.numOptionalArgs;if(r===0)return{args:[],optArgs:[]};for(var i=[],o=[],s=0;s<r;s++){var a=n.argTypes&&n.argTypes[s],l=s<n.numOptionalArgs;(n.primitive&&a==null||n.type==="sqrt"&&s===1&&o[0]==null)&&(a="primitive");var u=this.parseGroupOfType("argument to '"+e+"'",a,l);if(l)o.push(u);else if(u!=null)i.push(u);else throw new ne("Null argument, please report this as a bug")}return{args:i,optArgs:o}}parseGroupOfType(e,n,r){switch(n){case"color":return this.parseColorGroup(r);case"size":return this.parseSizeGroup(r);case"url":return this.parseUrlGroup(r);case"math":case"text":return this.parseArgumentGroup(r,n);case"hbox":{var i=this.parseArgumentGroup(r,"text");return i!=null?{type:"styling",mode:i.mode,body:[i],style:"text"}:null}case"raw":{var o=this.parseStringGroup("raw",r);return o!=null?{type:"raw",mode:"text",string:o.text}:null}case"primitive":{if(r)throw new ne("A primitive argument cannot be optional");var s=this.parseGroup(e);if(s==null)throw new ne("Expected group as "+e,this.fetch());return s}case"original":case null:case void 0:return this.parseArgumentGroup(r);default:throw new ne("Unknown group type as "+e,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(e,n){var r=this.gullet.scanArgument(n);if(r==null)return null;for(var i="",o;(o=this.fetch()).text!=="EOF";)i+=o.text,this.consume();return this.consume(),r.text=i,r}parseRegexGroup(e,n){for(var r=this.fetch(),i=r,o="",s;(s=this.fetch()).text!=="EOF"&&e.test(o+s.text);)i=s,o+=i.text,this.consume();if(o==="")throw new ne("Invalid "+n+": '"+r.text+"'",r);return r.range(i,o)}parseColorGroup(e){var n=this.parseStringGroup("color",e);if(n==null)return null;var r=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(n.text);if(!r)throw new ne("Invalid color: '"+n.text+"'",n);var i=r[0];return/^[0-9a-f]{6}$/i.test(i)&&(i="#"+i),{type:"color-token",mode:this.mode,color:i}}parseSizeGroup(e){var n,r=!1;if(this.gullet.consumeSpaces(),!e&&this.gullet.future().text!=="{"?n=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):n=this.parseStringGroup("size",e),!n)return null;!e&&n.text.length===0&&(n.text="0pt",r=!0);var i=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(n.text);if(!i)throw new ne("Invalid size: '"+n.text+"'",n);var o={number:+(i[1]+i[2]),unit:i[3]};if(!uO(o))throw new ne("Invalid unit: '"+o.unit+"'",n);return{type:"size",mode:this.mode,value:o,isBlank:r}}parseUrlGroup(e){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);var n=this.parseStringGroup("url",e);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),n==null)return null;var r=n.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:r}}parseArgumentGroup(e,n){var r=this.gullet.scanArgument(e);if(r==null)return null;var i=this.mode;n&&this.switchMode(n),this.gullet.beginGroup();var o=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();var s={type:"ordgroup",mode:this.mode,loc:r.loc,body:o};return n&&this.switchMode(i),s}parseGroup(e,n){var r=this.fetch(),i=r.text,o;if(i==="{"||i==="\\begingroup"){this.consume();var s=i==="{"?"}":"\\endgroup";this.gullet.beginGroup();var a=this.parseExpression(!1,s),l=this.fetch();this.expect(s),this.gullet.endGroup(),o={type:"ordgroup",mode:this.mode,loc:br.range(r,l),body:a,semisimple:i==="\\begingroup"||void 0}}else if(o=this.parseFunction(n,e)||this.parseSymbol(),o==null&&i[0]==="\\"&&!ZO.hasOwnProperty(i)){if(this.settings.throwOnError)throw new ne("Undefined control sequence: "+i,r);o=this.formatUnsupportedCmd(i),this.consume()}return o}formLigatures(e){for(var n=e.length-1,r=0;r<n;++r){var i=e[r],o=i.text;o==="-"&&e[r+1].text==="-"&&(r+1<n&&e[r+2].text==="-"?(e.splice(r,3,{type:"textord",mode:"text",loc:br.range(i,e[r+2]),text:"---"}),n-=2):(e.splice(r,2,{type:"textord",mode:"text",loc:br.range(i,e[r+1]),text:"--"}),n-=1)),(o==="'"||o==="`")&&e[r+1].text===o&&(e.splice(r,2,{type:"textord",mode:"text",loc:br.range(i,e[r+1]),text:o+o}),n-=1)}}parseSymbol(){var e=this.fetch(),n=e.text;if(/^\\verb[^a-zA-Z]/.test(n)){this.consume();var r=n.slice(5),i=r.charAt(0)==="*";if(i&&(r=r.slice(1)),r.length<2||r.charAt(0)!==r.slice(-1))throw new ne(`\\verb assertion failed --
                    please report what input caused this bug`);return r=r.slice(1,-1),{type:"verb",mode:"text",body:r,star:i}}X8.hasOwnProperty(n[0])&&!gt[this.mode][n[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+n[0]+'" used in math mode',e),n=X8[n[0]]+n.slice(1));var o=vse.exec(n);o&&(n=n.substring(0,o.index),n==="i"?n="\u0131":n==="j"&&(n="\u0237"));var s;if(gt[this.mode][n]){this.settings.strict&&this.mode==="math"&&q4.indexOf(n)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+n[0]+'" used in math mode',e);var a=gt[this.mode][n].group,l=br.range(e),u;if(uoe.hasOwnProperty(a)){var c=a;u={type:"atom",mode:this.mode,family:c,loc:l,text:n}}else u={type:a,mode:this.mode,loc:l,text:n};s=u}else if(n.charCodeAt(0)>=128)this.settings.strict&&(lO(n.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+n[0]+'" used in math mode',e):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+n[0]+'"'+(" ("+n.charCodeAt(0)+")"),e)),s={type:"textord",mode:"text",loc:br.range(e),text:n};else return null;if(this.consume(),o)for(var f=0;f<o[0].length;f++){var d=o[0][f];if(!zv[d])throw new ne("Unknown accent ' "+d+"'",e);var h=zv[d][this.mode]||zv[d].text;if(!h)throw new ne("Accent "+d+" unsupported in "+this.mode+" mode",e);s={type:"accent",mode:this.mode,loc:br.range(e),label:h,isStretchy:!1,isShifty:!0,base:s}}return s}}Xd.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var x6=function(e,n){if(!(typeof e=="string"||e instanceof String))throw new TypeError("KaTeX can only parse string typed expression");var r=new Xd(e,n);delete r.gullet.macros.current["\\df@tag"];var i=r.parse();if(delete r.gullet.macros.current["\\current@color"],delete r.gullet.macros.current["\\color"],r.gullet.macros.get("\\df@tag")){if(!n.displayMode)throw new ne("\\tag works only in display equations");i=[{type:"tag",mode:"text",body:i,tag:r.subparse([new Hr("\\df@tag")])}]}return i},eM=function(e,n,r){n.textContent="";var i=w6(e,r).toNode();n.appendChild(i)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),eM=function(){throw new ne("KaTeX doesn't work in quirks mode.")});var Sse=function(e,n){var r=w6(e,n).toMarkup();return r},kse=function(e,n){var r=new t6(n);return x6(e,r)},tM=function(e,n,r){if(r.throwOnError||!(e instanceof ne))throw e;var i=U.makeSpan(["katex-error"],[new Jr(n)]);return i.setAttribute("title",e.toString()),i.setAttribute("style","color:"+r.errorColor),i},w6=function(e,n){var r=new t6(n);try{var i=x6(e,r);return Roe(i,e,r)}catch(o){return tM(o,e,r)}},_se=function(e,n){var r=new t6(n);try{var i=x6(e,r);return Doe(i,e,r)}catch(o){return tM(o,e,r)}},J8={version:"0.16.2",render:eM,renderToString:Sse,ParseError:ne,SETTINGS_SCHEMA:pp,__parse:kse,__renderToDomTree:w6,__renderToHTMLTree:_se,__setFontMetrics:noe,__defineSymbol:w,__defineMacro:C,__domTree:{Span:T0,Anchor:i6,SymbolNode:Jr,SvgNode:Go,PathNode:fa,LineNode:j4}};function Gl(t,e,n,r=!0){return(i,o)=>{let s=t.state,{to:a,from:l}=s.selection,{to:u,from:c}=i.selection;if(r&&u!==c)return!1;let f=e>0?u:c;if(n){let d=i.doc.nodeSize-2;if(e>0&&f<d||e<0&&f>0)return!1}if(o){let d=e>0?a:l;t.dispatch(s.tr.setSelection(Ce.create(s.doc,d))),t.focus()}return!0}}class Ese{constructor(e,n,r,i={},o,s){this._node=e,this._outerView=n,this._getPos=r,this._onDestroy=s&&s.bind(this),this._mathPluginKey=o,this.cursorSide="start",this._isEditing=!1,this._katexOptions=Object.assign({globalGroup:!0,throwOnError:!1},i.katexOptions),this._tagName=i.tagName||this._node.type.name.replace("_","-"),this.dom=document.createElement(this._tagName),this.dom.classList.add("math-node"),this._mathRenderElt=document.createElement("span"),this._mathRenderElt.textContent="",this._mathRenderElt.classList.add("math-render"),this.dom.appendChild(this._mathRenderElt),this._mathSrcElt=document.createElement("span"),this._mathSrcElt.classList.add("math-src"),this.dom.appendChild(this._mathSrcElt),this.dom.addEventListener("click",()=>this.ensureFocus()),this.renderMath()}destroy(){this.closeEditor(!1),this._mathRenderElt&&(this._mathRenderElt.remove(),delete this._mathRenderElt),this._mathSrcElt&&(this._mathSrcElt.remove(),delete this._mathSrcElt),this.dom.remove()}ensureFocus(){this._innerView&&this._outerView.hasFocus()&&this._innerView.focus()}update(e,n){if(!e.sameMarkup(this._node))return!1;if(this._node=e,this._innerView){let r=this._innerView.state,i=e.content.findDiffStart(r.doc.content);if(i!=null){let o=e.content.findDiffEnd(r.doc.content);if(o){let{a:s,b:a}=o,l=i-Math.min(s,a);l>0&&(s+=l,a+=l),this._innerView.dispatch(r.tr.replace(i,a,e.slice(i,s)).setMeta("fromOutside",!0))}}}return this._isEditing||this.renderMath(),!0}updateCursorPos(e){const n=this._getPos(),r=this._node.nodeSize;e.selection.from<n+r&&n<e.selection.to||(this.cursorSide=n<e.selection.from?"end":"start")}selectNode(){!this._outerView.editable||(this.dom.classList.add("ProseMirror-selectednode"),this._isEditing||this.openEditor())}deselectNode(){this.dom.classList.remove("ProseMirror-selectednode"),this._isEditing&&this.closeEditor()}stopEvent(e){return this._innerView!==void 0&&e.target!==void 0&&this._innerView.dom.contains(e.target)}ignoreMutation(){return!0}renderMath(){if(!this._mathRenderElt)return;let e=this._node.content.content,n="";if(e.length>0&&e[0].textContent!==null&&(n=e[0].textContent.trim()),n.length<1){for(this.dom.classList.add("empty-math");this._mathRenderElt.firstChild;)this._mathRenderElt.firstChild.remove();return}else this.dom.classList.remove("empty-math");try{J8.render(n,this._mathRenderElt,this._katexOptions),this._mathRenderElt.classList.remove("parse-error"),this.dom.setAttribute("title","")}catch(r){if(r instanceof J8.ParseError)console.error(r),this._mathRenderElt.classList.add("parse-error"),this.dom.setAttribute("title",r.toString());else throw r}}dispatchInner(e){if(!this._innerView)return;let{state:n,transactions:r}=this._innerView.state.applyTransaction(e);if(this._innerView.updateState(n),!e.getMeta("fromOutside")){let i=this._outerView.state.tr,o=Er.offset(this._getPos()+1);for(let s=0;s<r.length;s++){let a=r[s].steps;for(let l=0;l<a.length;l++){let u=a[l].map(o);if(!u)throw Error("step discarded!");i.step(u)}}i.docChanged&&this._outerView.dispatch(i)}}openEditor(){var e;if(this._innerView)throw Error("inner view should not exist!");this._innerView=new $C(this._mathSrcElt,{state:Ns.create({doc:this._node,plugins:[vT({Tab:(s,a)=>(a&&a(s.tr.insertText("	")),!0),Backspace:oc(N1,(s,a,l)=>!s.selection.empty||this._node.textContent.length>0?!1:(this._outerView.dispatch(this._outerView.state.tr.insertText("")),this._outerView.focus(),!0)),"Ctrl-Backspace":(s,a,l)=>(this._outerView.dispatch(this._outerView.state.tr.insertText("")),this._outerView.focus(),!0),Enter:oc(hT,Gl(this._outerView,1,!1)),"Ctrl-Enter":Gl(this._outerView,1,!1),ArrowLeft:Gl(this._outerView,-1,!0),ArrowRight:Gl(this._outerView,1,!0),ArrowUp:Gl(this._outerView,-1,!0),ArrowDown:Gl(this._outerView,1,!0)})]}),dispatchTransaction:this.dispatchInner.bind(this)});let n=this._innerView.state;this._innerView.focus();let r=(e=this._mathPluginKey.getState(this._outerView.state))===null||e===void 0?void 0:e.prevCursorPos;r==null&&console.error("[prosemirror-math] Error:  Unable to fetch math plugin state from key.");let o=(r!=null?r:0)<=this._getPos()?0:this._node.nodeSize-2;this._innerView.dispatch(n.tr.setSelection(Ce.create(n.doc,o))),this._isEditing=!0}closeEditor(e=!0){this._innerView&&(this._innerView.destroy(),this._innerView=void 0),e&&this.renderMath(),this._isEditing=!1}}const J4=new Pl("prosemirror-math");function Q8(t){return(e,n,r)=>{let i=J4.getState(n.state);if(!i)throw new Error("no math plugin!");let o=i.activeNodeViews,s=new Ese(e,n,r,{katexOptions:{displayMode:t,macros:i.macros}},J4,()=>{o.splice(o.indexOf(s))});return o.push(s),s}}let Cse={key:J4,state:{init(t,e){return{macros:{},activeNodeViews:[],prevCursorPos:0}},apply(t,e,n,r){return{activeNodeViews:e.activeNodeViews,macros:e.macros,prevCursorPos:n.selection.from}}},props:{nodeViews:{math_inline:Q8(!1),math_display:Q8(!0)}}};const Tse=new fo(Cse),Ase=(t,e)=>{let{$from:n}=t.selection,r=n.nodeBefore;if(!r)return!1;if(r.type.name=="math_inline"){let i=n.index(n.depth),o=t.doc.resolve(n.posAtIndex(i-1));return e&&e(t.tr.setSelection(new Te(o))),!0}else if(r.type.name=="math_block")return!1;return!1},Ose=/\$(.+)\$/,Mse=(()=>{try{return new RegExp("(?<!\\\\)\\$(.+)(?<!\\\\)\\$")}catch{return Ose}})();function Nse(t,e,n){return new hr(t,(r,i,o,s)=>{let a=r.doc.resolve(o),l=a.index(),u=r.doc.resolve(s),c=n instanceof Function?n(i):n;return a.parent.canReplaceWith(l,u.index(),e)?r.tr.replaceRangeWith(o,s,e.create(c,e.schema.text(i[1]))):null})}const Z8=t=>{let{from:e,to:n}=t.selection,r=t.selection.content().content,i=[];return r.descendants((o,s,a)=>o.type.name=="text"?!1:o.type.name.startsWith("math_")?(i.push({start:Math.max(e+s-1,0),end:e+s+o.nodeSize-1}),!1):!0),rt.create(t.doc,i.map(({start:o,end:s})=>mt.node(o,s,{class:"math-select"})))},Rse=new fo({state:{init(t,e){return Z8(e)},apply(t,e){return!t.selection||!t.selectionSet?e:Z8(t)}},props:{decorations:t=>Rse.getState(t)}});function Dse(t,e=""){return function(n,r){let{$from:i}=n.selection,o=i.index();if(!i.parent.canReplaceWith(o,o,t))return!1;if(r){let s=t.create({},e?n.schema.text(e):null),a=n.tr.replaceSelectionWith(s);a=a.setSelection(Te.create(a.doc,i.pos)),r(a)}return!0}}class Ise{constructor(e,n){this.nodes=Object.assign(Object.assign({},n==null?void 0:n.nodes),e.nodes),this.marks=Object.assign(Object.assign({},n==null?void 0:n.marks),e.marks)}serializeFragment(e){let n=`

`,r,i="",o=!0,s=0,a=e.size;return e.nodesBetween(s,a,(l,u)=>{var c;let f=this.serializeNode(l);if(f!==null)return i+=f,!1;l.isText?(i+=((c=l.text)===null||c===void 0?void 0:c.slice(Math.max(s,u)-u,a-u))||"",o=!n):l.isLeaf&&r?(i+=r,o=!n):!o&&l.isBlock&&(i+=n,o=!0)},0),i}serializeSlice(e){return this.serializeFragment(e.content)}serializeNode(e){let n=this.nodes[e.type.name];return n!==void 0?n(e):null}}new Ise({nodes:{math_inline:t=>`$${t.textContent}$`,math_display:t=>`

$$
${t.textContent}
$$`}});function Pse(t,e){for(let n of e){let r=n(t);if(r!==!1)return r}return!1}function Lse(t,e){return Y.from(e.text(t))}function zse(t){var n;let e=t.querySelector("img.mwe-math-fallback-image-inline[alt]");return(n=e==null?void 0:e.getAttribute("alt"))!=null?n:!1}function Bse(t){var n;let e=t.querySelector("math[alttext]");return(n=e==null?void 0:e.getAttribute("alttext"))!=null?n:!1}function $se(t){var n;let e=t.querySelector("math annotation[encoding='application/x-tex'");return(n=e==null?void 0:e.textContent)!=null?n:!1}function Fse(t){return Pse(t,[zse,Bse,$se])}const Vse={tag:"span",getAttrs(t){return t.classList.contains("mwe-math-element")?null:!1},getContent(t,e){let r=Fse(t)||"\\text{\\color{red}(paste error)}";return Lse(r,e)}},Use=[Vse];var Hse=Object.defineProperty,jse=Object.getOwnPropertyDescriptor,nM=(t,e,n,r)=>{for(var i=r>1?void 0:r?jse(e,n):e,o=t.length-1,s;o>=0;o--)(s=t[o])&&(i=(r?s(e,n,i):s(i))||i);return r&&i&&Hse(e,n,i),i};let Tm=class extends Xn{get name(){return"math_inline"}createTags(){return[De.InlineNode]}createNodeSpec(t,e){return{group:"inline math",content:"text*",inline:!0,atom:!0,...e,attrs:{...t.defaults()},parseDOM:[{tag:"math-inline"},...Use],toDOM:()=>["math-inline",{class:"math-node"},0]}}createInputRules(){return[Nse(Mse,this.type)]}createExternalPlugins(){return[Tse]}createKeymap(t){return{Backspace:Rd(Ds(N1),Ds(Ase),Ds(h5),Ds(cT))}}insertMathInline(){return t=>(Dse(this.type),null)}};nM([pe()],Tm.prototype,"insertMathInline",1);Tm=nM([Xe({defaultOptions:{}})],Tm);var qse=b6;b6.displayName="bash";b6.aliases=["shell"];function b6(t){(function(e){var n="\\b(?:BASH|BASHOPTS|BASH_ALIASES|BASH_ARGC|BASH_ARGV|BASH_CMDS|BASH_COMPLETION_COMPAT_DIR|BASH_LINENO|BASH_REMATCH|BASH_SOURCE|BASH_VERSINFO|BASH_VERSION|COLORTERM|COLUMNS|COMP_WORDBREAKS|DBUS_SESSION_BUS_ADDRESS|DEFAULTS_PATH|DESKTOP_SESSION|DIRSTACK|DISPLAY|EUID|GDMSESSION|GDM_LANG|GNOME_KEYRING_CONTROL|GNOME_KEYRING_PID|GPG_AGENT_INFO|GROUPS|HISTCONTROL|HISTFILE|HISTFILESIZE|HISTSIZE|HOME|HOSTNAME|HOSTTYPE|IFS|INSTANCE|JOB|LANG|LANGUAGE|LC_ADDRESS|LC_ALL|LC_IDENTIFICATION|LC_MEASUREMENT|LC_MONETARY|LC_NAME|LC_NUMERIC|LC_PAPER|LC_TELEPHONE|LC_TIME|LESSCLOSE|LESSOPEN|LINES|LOGNAME|LS_COLORS|MACHTYPE|MAILCHECK|MANDATORY_PATH|NO_AT_BRIDGE|OLDPWD|OPTERR|OPTIND|ORBIT_SOCKETDIR|OSTYPE|PAPERSIZE|PATH|PIPESTATUS|PPID|PS1|PS2|PS3|PS4|PWD|RANDOM|REPLY|SECONDS|SELINUX_INIT|SESSION|SESSIONTYPE|SESSION_MANAGER|SHELL|SHELLOPTS|SHLVL|SSH_AUTH_SOCK|TERM|UID|UPSTART_EVENTS|UPSTART_INSTANCE|UPSTART_JOB|UPSTART_SESSION|USER|WINDOWID|XAUTHORITY|XDG_CONFIG_DIRS|XDG_CURRENT_DESKTOP|XDG_DATA_DIRS|XDG_GREETER_DATA_DIR|XDG_MENU_PREFIX|XDG_RUNTIME_DIR|XDG_SEAT|XDG_SEAT_PATH|XDG_SESSION_DESKTOP|XDG_SESSION_ID|XDG_SESSION_PATH|XDG_SESSION_TYPE|XDG_VTNR|XMODIFIERS)\\b",r={pattern:/(^(["']?)\w+\2)[ \t]+\S.*/,lookbehind:!0,alias:"punctuation",inside:null},i={bash:r,environment:{pattern:RegExp("\\$"+n),alias:"constant"},variable:[{pattern:/\$?\(\([\s\S]+?\)\)/,greedy:!0,inside:{variable:[{pattern:/(^\$\(\([\s\S]+)\)\)/,lookbehind:!0},/^\$\(\(/],number:/\b0x[\dA-Fa-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:[Ee]-?\d+)?/,operator:/--|\+\+|\*\*=?|<<=?|>>=?|&&|\|\||[=!+\-*/%<>^&|]=?|[?~:]/,punctuation:/\(\(?|\)\)?|,|;/}},{pattern:/\$\((?:\([^)]+\)|[^()])+\)|`[^`]+`/,greedy:!0,inside:{variable:/^\$\(|^`|\)$|`$/}},{pattern:/\$\{[^}]+\}/,greedy:!0,inside:{operator:/:[-=?+]?|[!\/]|##?|%%?|\^\^?|,,?/,punctuation:/[\[\]]/,environment:{pattern:RegExp("(\\{)"+n),lookbehind:!0,alias:"constant"}}},/\$(?:\w+|[#?*!@$])/],entity:/\\(?:[abceEfnrtv\\"]|O?[0-7]{1,3}|U[0-9a-fA-F]{8}|u[0-9a-fA-F]{4}|x[0-9a-fA-F]{1,2})/};e.languages.bash={shebang:{pattern:/^#!\s*\/.*/,alias:"important"},comment:{pattern:/(^|[^"{\\$])#.*/,lookbehind:!0},"function-name":[{pattern:/(\bfunction\s+)[\w-]+(?=(?:\s*\(?:\s*\))?\s*\{)/,lookbehind:!0,alias:"function"},{pattern:/\b[\w-]+(?=\s*\(\s*\)\s*\{)/,alias:"function"}],"for-or-select":{pattern:/(\b(?:for|select)\s+)\w+(?=\s+in\s)/,alias:"variable",lookbehind:!0},"assign-left":{pattern:/(^|[\s;|&]|[<>]\()\w+(?=\+?=)/,inside:{environment:{pattern:RegExp("(^|[\\s;|&]|[<>]\\()"+n),lookbehind:!0,alias:"constant"}},alias:"variable",lookbehind:!0},string:[{pattern:/((?:^|[^<])<<-?\s*)(\w+)\s[\s\S]*?(?:\r?\n|\r)\2/,lookbehind:!0,greedy:!0,inside:i},{pattern:/((?:^|[^<])<<-?\s*)(["'])(\w+)\2\s[\s\S]*?(?:\r?\n|\r)\3/,lookbehind:!0,greedy:!0,inside:{bash:r}},{pattern:/(^|[^\\](?:\\\\)*)"(?:\\[\s\S]|\$\([^)]+\)|\$(?!\()|`[^`]+`|[^"\\`$])*"/,lookbehind:!0,greedy:!0,inside:i},{pattern:/(^|[^$\\])'[^']*'/,lookbehind:!0,greedy:!0},{pattern:/\$'(?:[^'\\]|\\[\s\S])*'/,greedy:!0,inside:{entity:i.entity}}],environment:{pattern:RegExp("\\$?"+n),alias:"constant"},variable:i.variable,function:{pattern:/(^|[\s;|&]|[<>]\()(?:add|apropos|apt|apt-cache|apt-get|aptitude|aspell|automysqlbackup|awk|basename|bash|bc|bconsole|bg|bzip2|cal|cat|cfdisk|chgrp|chkconfig|chmod|chown|chroot|cksum|clear|cmp|column|comm|composer|cp|cron|crontab|csplit|curl|cut|date|dc|dd|ddrescue|debootstrap|df|diff|diff3|dig|dir|dircolors|dirname|dirs|dmesg|docker|docker-compose|du|egrep|eject|env|ethtool|expand|expect|expr|fdformat|fdisk|fg|fgrep|file|find|fmt|fold|format|free|fsck|ftp|fuser|gawk|git|gparted|grep|groupadd|groupdel|groupmod|groups|grub-mkconfig|gzip|halt|head|hg|history|host|hostname|htop|iconv|id|ifconfig|ifdown|ifup|import|install|ip|jobs|join|kill|killall|less|link|ln|locate|logname|logrotate|look|lpc|lpr|lprint|lprintd|lprintq|lprm|ls|lsof|lynx|make|man|mc|mdadm|mkconfig|mkdir|mke2fs|mkfifo|mkfs|mkisofs|mknod|mkswap|mmv|more|most|mount|mtools|mtr|mutt|mv|nano|nc|netstat|nice|nl|node|nohup|notify-send|npm|nslookup|op|open|parted|passwd|paste|pathchk|ping|pkill|pnpm|podman|podman-compose|popd|pr|printcap|printenv|ps|pushd|pv|quota|quotacheck|quotactl|ram|rar|rcp|reboot|remsync|rename|renice|rev|rm|rmdir|rpm|rsync|scp|screen|sdiff|sed|sendmail|seq|service|sftp|sh|shellcheck|shuf|shutdown|sleep|slocate|sort|split|ssh|stat|strace|su|sudo|sum|suspend|swapon|sync|tac|tail|tar|tee|time|timeout|top|touch|tr|traceroute|tsort|tty|umount|uname|unexpand|uniq|units|unrar|unshar|unzip|update-grub|uptime|useradd|userdel|usermod|users|uudecode|uuencode|v|vcpkg|vdir|vi|vim|virsh|vmstat|wait|watch|wc|wget|whereis|which|who|whoami|write|xargs|xdg-open|yarn|yes|zenity|zip|zsh|zypper)(?=$|[)\s;|&])/,lookbehind:!0},keyword:{pattern:/(^|[\s;|&]|[<>]\()(?:case|do|done|elif|else|esac|fi|for|function|if|in|select|then|until|while)(?=$|[)\s;|&])/,lookbehind:!0},builtin:{pattern:/(^|[\s;|&]|[<>]\()(?:\.|:|alias|bind|break|builtin|caller|cd|command|continue|declare|echo|enable|eval|exec|exit|export|getopts|hash|help|let|local|logout|mapfile|printf|pwd|read|readarray|readonly|return|set|shift|shopt|source|test|times|trap|type|typeset|ulimit|umask|unalias|unset)(?=$|[)\s;|&])/,lookbehind:!0,alias:"class-name"},boolean:{pattern:/(^|[\s;|&]|[<>]\()(?:false|true)(?=$|[)\s;|&])/,lookbehind:!0},"file-descriptor":{pattern:/\B&\d\b/,alias:"important"},operator:{pattern:/\d?<>|>\||\+=|=[=~]?|!=?|<<[<-]?|[&\d]?>>|\d[<>]&?|[<>][&=]?|&[>&]?|\|[&|]?/,inside:{"file-descriptor":{pattern:/^\d/,alias:"important"}}},punctuation:/\$?\(\(?|\)\)?|\.\.|[{}[\];\\]/,number:{pattern:/(^|\s)(?:[1-9]\d*|0)(?:[.,]\d+)?\b/,lookbehind:!0}},r.inside=e.languages.bash;for(var o=["comment","function-name","for-or-select","assign-left","string","environment","function","keyword","builtin","boolean","file-descriptor","operator","punctuation","number"],s=i.variable[1].inside,a=0;a<o.length;a++)s[o[a]]=e.languages.bash[o[a]];e.languages.shell=e.languages.bash})(t)}var rM=S6;S6.displayName="c";S6.aliases=[];function S6(t){t.languages.c=t.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),t.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),t.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},t.languages.c.string],char:t.languages.c.char,comment:t.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:t.languages.c}}}}),t.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete t.languages.c.boolean}var Wse=k6;k6.displayName="clojure";k6.aliases=[];function k6(t){t.languages.clojure={comment:{pattern:/;.*/,greedy:!0},string:{pattern:/"(?:[^"\\]|\\.)*"/,greedy:!0},char:/\\\w+/,symbol:{pattern:/(^|[\s()\[\]{},])::?[\w*+!?'<>=/.-]+/,lookbehind:!0},keyword:{pattern:/(\()(?:-|->|->>|\.|\.\.|\*|\/|\+|<|<=|=|==|>|>=|accessor|agent|agent-errors|aget|alength|all-ns|alter|and|append-child|apply|array-map|aset|aset-boolean|aset-byte|aset-char|aset-double|aset-float|aset-int|aset-long|aset-short|assert|assoc|await|await-for|bean|binding|bit-and|bit-not|bit-or|bit-shift-left|bit-shift-right|bit-xor|boolean|branch\?|butlast|byte|cast|char|children|class|clear-agent-errors|comment|commute|comp|comparator|complement|concat|cond|conj|cons|constantly|construct-proxy|contains\?|count|create-ns|create-struct|cycle|dec|declare|def|def-|definline|definterface|defmacro|defmethod|defmulti|defn|defn-|defonce|defproject|defprotocol|defrecord|defstruct|deftype|deref|difference|disj|dissoc|distinct|do|doall|doc|dorun|doseq|dosync|dotimes|doto|double|down|drop|drop-while|edit|end\?|ensure|eval|every\?|false\?|ffirst|file-seq|filter|find|find-doc|find-ns|find-var|first|float|flush|fn|fnseq|for|frest|gensym|get|get-proxy-class|hash-map|hash-set|identical\?|identity|if|if-let|if-not|import|in-ns|inc|index|insert-child|insert-left|insert-right|inspect-table|inspect-tree|instance\?|int|interleave|intersection|into|into-array|iterate|join|key|keys|keyword|keyword\?|last|lazy-cat|lazy-cons|left|lefts|let|line-seq|list|list\*|load|load-file|locking|long|loop|macroexpand|macroexpand-1|make-array|make-node|map|map-invert|map\?|mapcat|max|max-key|memfn|merge|merge-with|meta|min|min-key|monitor-enter|name|namespace|neg\?|new|newline|next|nil\?|node|not|not-any\?|not-every\?|not=|ns|ns-imports|ns-interns|ns-map|ns-name|ns-publics|ns-refers|ns-resolve|ns-unmap|nth|nthrest|or|parse|partial|path|peek|pop|pos\?|pr|pr-str|print|print-str|println|println-str|prn|prn-str|project|proxy|proxy-mappings|quot|quote|rand|rand-int|range|re-find|re-groups|re-matcher|re-matches|re-pattern|re-seq|read|read-line|recur|reduce|ref|ref-set|refer|rem|remove|remove-method|remove-ns|rename|rename-keys|repeat|replace|replicate|resolve|rest|resultset-seq|reverse|rfirst|right|rights|root|rrest|rseq|second|select|select-keys|send|send-off|seq|seq-zip|seq\?|set|set!|short|slurp|some|sort|sort-by|sorted-map|sorted-map-by|sorted-set|special-symbol\?|split-at|split-with|str|string\?|struct|struct-map|subs|subvec|symbol|symbol\?|sync|take|take-nth|take-while|test|throw|time|to-array|to-array-2d|tree-seq|true\?|try|union|up|update-proxy|val|vals|var|var-get|var-set|var\?|vector|vector-zip|vector\?|when|when-first|when-let|when-not|with-local-vars|with-meta|with-open|with-out-str|xml-seq|xml-zip|zero\?|zipmap|zipper)(?=[\s)]|$)/,lookbehind:!0},boolean:/\b(?:false|nil|true)\b/,number:{pattern:/(^|[^\w$@])(?:\d+(?:[/.]\d+)?(?:e[+-]?\d+)?|0x[a-f0-9]+|[1-9]\d?r[a-z0-9]+)[lmn]?(?![\w$@])/i,lookbehind:!0},function:{pattern:/((?:^|[^'])\()[\w*+!?'<>=/.-]+(?=[\s)]|$)/,lookbehind:!0},operator:/[#@^`~]/,punctuation:/[{}\[\](),]/}}var Kse=_6;_6.displayName="csharp";_6.aliases=["dotnet","cs"];function _6(t){(function(e){function n(P,R){return P.replace(/<<(\d+)>>/g,function(F,V){return"(?:"+R[+V]+")"})}function r(P,R,F){return RegExp(n(P,R),F||"")}function i(P,R){for(var F=0;F<R;F++)P=P.replace(/<<self>>/g,function(){return"(?:"+P+")"});return P.replace(/<<self>>/g,"[^\\s\\S]")}var o={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function s(P){return"\\b(?:"+P.trim().replace(/ /g,"|")+")\\b"}var a=s(o.typeDeclaration),l=RegExp(s(o.type+" "+o.typeDeclaration+" "+o.contextual+" "+o.other)),u=s(o.typeDeclaration+" "+o.contextual+" "+o.other),c=s(o.type+" "+o.typeDeclaration+" "+o.other),f=i(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),d=i(/\((?:[^()]|<<self>>)*\)/.source,2),h=/@?\b[A-Za-z_]\w*\b/.source,g=n(/<<0>>(?:\s*<<1>>)?/.source,[h,f]),y=n(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[u,g]),S=/\[\s*(?:,\s*)*\]/.source,v=n(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[y,S]),m=n(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[f,d,S]),p=n(/\(<<0>>+(?:,<<0>>+)+\)/.source,[m]),x=n(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[p,y,S]),b={keyword:l,punctuation:/[<>()?,.:[\]]/},_=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,T=/"(?:\\.|[^\\"\r\n])*"/.source,M=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;e.languages.csharp=e.languages.extend("clike",{string:[{pattern:r(/(^|[^$\\])<<0>>/.source,[M]),lookbehind:!0,greedy:!0},{pattern:r(/(^|[^@$\\])<<0>>/.source,[T]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:r(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[y]),lookbehind:!0,inside:b},{pattern:r(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[h,x]),lookbehind:!0,inside:b},{pattern:r(/(\busing\s+)<<0>>(?=\s*=)/.source,[h]),lookbehind:!0},{pattern:r(/(\b<<0>>\s+)<<1>>/.source,[a,g]),lookbehind:!0,inside:b},{pattern:r(/(\bcatch\s*\(\s*)<<0>>/.source,[y]),lookbehind:!0,inside:b},{pattern:r(/(\bwhere\s+)<<0>>/.source,[h]),lookbehind:!0},{pattern:r(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[v]),lookbehind:!0,inside:b},{pattern:r(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[x,c,h]),inside:b}],keyword:l,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),e.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),e.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:r(/([(,]\s*)<<0>>(?=\s*:)/.source,[h]),lookbehind:!0,alias:"punctuation"}}),e.languages.insertBefore("csharp","class-name",{namespace:{pattern:r(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[h]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:r(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[d]),lookbehind:!0,alias:"class-name",inside:b},"return-type":{pattern:r(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[x,y]),inside:b,alias:"class-name"},"constructor-invocation":{pattern:r(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[x]),lookbehind:!0,inside:b,alias:"class-name"},"generic-method":{pattern:r(/<<0>>\s*<<1>>(?=\s*\()/.source,[h,f]),inside:{function:r(/^<<0>>/.source,[h]),generic:{pattern:RegExp(f),alias:"class-name",inside:b}}},"type-list":{pattern:r(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[a,g,h,x,l.source,d,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:r(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[g,d]),lookbehind:!0,greedy:!0,inside:e.languages.csharp},keyword:l,"class-name":{pattern:RegExp(x),greedy:!0,inside:b},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var N=T+"|"+_,$=n(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[N]),W=i(n(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[$]),2),X=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,oe=n(/<<0>>(?:\s*\(<<1>>*\))?/.source,[y,W]);e.languages.insertBefore("csharp","class-name",{attribute:{pattern:r(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[X,oe]),lookbehind:!0,greedy:!0,inside:{target:{pattern:r(/^<<0>>(?=\s*:)/.source,[X]),alias:"keyword"},"attribute-arguments":{pattern:r(/\(<<0>>*\)/.source,[W]),inside:e.languages.csharp},"class-name":{pattern:RegExp(y),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var H=/:[^}\r\n]+/.source,K=i(n(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[$]),2),q=n(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[K,H]),A=i(n(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[N]),2),O=n(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[A,H]);function L(P,R){return{interpolation:{pattern:r(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[P]),lookbehind:!0,inside:{"format-string":{pattern:r(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[R,H]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:e.languages.csharp}}},string:/[\s\S]+/}}e.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:r(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[q]),lookbehind:!0,greedy:!0,inside:L(q,K)},{pattern:r(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[O]),lookbehind:!0,greedy:!0,inside:L(O,A)}],char:{pattern:RegExp(_),greedy:!0}}),e.languages.dotnet=e.languages.cs=e.languages.csharp})(t)}var Gse=rM,Yse=E6;E6.displayName="cpp";E6.aliases=[];function E6(t){t.register(Gse),function(e){var n=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,r=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return n.source});e.languages.cpp=e.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return n.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:n,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),e.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return r})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),e.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:e.languages.cpp}}}}),e.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),e.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:e.languages.extend("cpp",{})}}),e.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},e.languages.cpp["base-clause"])}(t)}var Xse=C6;C6.displayName="go";C6.aliases=[];function C6(t){t.languages.go=t.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"|`[^`]*`/,lookbehind:!0,greedy:!0},keyword:/\b(?:break|case|chan|const|continue|default|defer|else|fallthrough|for|func|go(?:to)?|if|import|interface|map|package|range|return|select|struct|switch|type|var)\b/,boolean:/\b(?:_|false|iota|nil|true)\b/,number:[/\b0(?:b[01_]+|o[0-7_]+)i?\b/i,/\b0x(?:[a-f\d_]+(?:\.[a-f\d_]*)?|\.[a-f\d_]+)(?:p[+-]?\d+(?:_\d+)*)?i?(?!\w)/i,/(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?[\d_]+)?i?(?!\w)/i],operator:/[*\/%^!=]=?|\+[=+]?|-[=-]?|\|[=|]?|&(?:=|&|\^=?)?|>(?:>=?|=)?|<(?:<=?|=|-)?|:=|\.\.\./,builtin:/\b(?:append|bool|byte|cap|close|complex|complex(?:64|128)|copy|delete|error|float(?:32|64)|u?int(?:8|16|32|64)?|imag|len|make|new|panic|print(?:ln)?|real|recover|rune|string|uintptr)\b/}),t.languages.insertBefore("go","string",{char:{pattern:/'(?:\\.|[^'\\\r\n]){0,10}'/,greedy:!0}}),delete t.languages.go["class-name"]}var Jse=T6;T6.displayName="jsx";T6.aliases=[];function T6(t){(function(e){var n=e.util.clone(e.languages.javascript),r=/(?:\s|\/\/.*(?!.)|\/\*(?:[^*]|\*(?!\/))\*\/)/.source,i=/(?:\{(?:\{(?:\{[^{}]*\}|[^{}])*\}|[^{}])*\})/.source,o=/(?:\{<S>*\.{3}(?:[^{}]|<BRACES>)*\})/.source;function s(u,c){return u=u.replace(/<S>/g,function(){return r}).replace(/<BRACES>/g,function(){return i}).replace(/<SPREAD>/g,function(){return o}),RegExp(u,c)}o=s(o).source,e.languages.jsx=e.languages.extend("markup",n),e.languages.jsx.tag.pattern=s(/<\/?(?:[\w.:-]+(?:<S>+(?:[\w.:$-]+(?:=(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s{'"/>=]+|<BRACES>))?|<SPREAD>))*<S>*\/?)?>/.source),e.languages.jsx.tag.inside.tag.pattern=/^<\/?[^\s>\/]*/,e.languages.jsx.tag.inside["attr-value"].pattern=/=(?!\{)(?:"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*'|[^\s'">]+)/,e.languages.jsx.tag.inside.tag.inside["class-name"]=/^[A-Z]\w*(?:\.[A-Z]\w*)*$/,e.languages.jsx.tag.inside.comment=n.comment,e.languages.insertBefore("inside","attr-name",{spread:{pattern:s(/<SPREAD>/.source),inside:e.languages.jsx}},e.languages.jsx.tag),e.languages.insertBefore("inside","special-attr",{script:{pattern:s(/=<BRACES>/.source),alias:"language-javascript",inside:{"script-punctuation":{pattern:/^=(?=\{)/,alias:"punctuation"},rest:e.languages.jsx}}},e.languages.jsx.tag);var a=function(u){return u?typeof u=="string"?u:typeof u.content=="string"?u.content:u.content.map(a).join(""):""},l=function(u){for(var c=[],f=0;f<u.length;f++){var d=u[f],h=!1;if(typeof d!="string"&&(d.type==="tag"&&d.content[0]&&d.content[0].type==="tag"?d.content[0].content[0].content==="</"?c.length>0&&c[c.length-1].tagName===a(d.content[0].content[1])&&c.pop():d.content[d.content.length-1].content==="/>"||c.push({tagName:a(d.content[0].content[1]),openedBraces:0}):c.length>0&&d.type==="punctuation"&&d.content==="{"?c[c.length-1].openedBraces++:c.length>0&&c[c.length-1].openedBraces>0&&d.type==="punctuation"&&d.content==="}"?c[c.length-1].openedBraces--:h=!0),(h||typeof d=="string")&&c.length>0&&c[c.length-1].openedBraces===0){var g=a(d);f<u.length-1&&(typeof u[f+1]=="string"||u[f+1].type==="plain-text")&&(g+=a(u[f+1]),u.splice(f+1,1)),f>0&&(typeof u[f-1]=="string"||u[f-1].type==="plain-text")&&(g=a(u[f-1])+g,u.splice(f-1,1),f--),u[f]=new e.Token("plain-text",g,null,g)}d.content&&typeof d.content!="string"&&l(d.content)}};e.hooks.add("after-tokenize",function(u){u.language!=="jsx"&&u.language!=="tsx"||l(u.tokens)})})(t)}var Qse=A6;A6.displayName="markdown";A6.aliases=["md"];function A6(t){(function(e){var n=/(?:\\.|[^\\\n\r]|(?:\n|\r\n?)(?![\r\n]))/.source;function r(f){return f=f.replace(/<inner>/g,function(){return n}),RegExp(/((?:^|[^\\])(?:\\{2})*)/.source+"(?:"+f+")")}var i=/(?:\\.|``(?:[^`\r\n]|`(?!`))+``|`[^`\r\n]+`|[^\\|\r\n`])+/.source,o=/\|?__(?:\|__)+\|?(?:(?:\n|\r\n?)|(?![\s\S]))/.source.replace(/__/g,function(){return i}),s=/\|?[ \t]*:?-{3,}:?[ \t]*(?:\|[ \t]*:?-{3,}:?[ \t]*)+\|?(?:\n|\r\n?)/.source;e.languages.markdown=e.languages.extend("markup",{}),e.languages.insertBefore("markdown","prolog",{"front-matter-block":{pattern:/(^(?:\s*[\r\n])?)---(?!.)[\s\S]*?[\r\n]---(?!.)/,lookbehind:!0,greedy:!0,inside:{punctuation:/^---|---$/,"front-matter":{pattern:/\S+(?:\s+\S+)*/,alias:["yaml","language-yaml"],inside:e.languages.yaml}}},blockquote:{pattern:/^>(?:[\t ]*>)*/m,alias:"punctuation"},table:{pattern:RegExp("^"+o+s+"(?:"+o+")*","m"),inside:{"table-data-rows":{pattern:RegExp("^("+o+s+")(?:"+o+")*$"),lookbehind:!0,inside:{"table-data":{pattern:RegExp(i),inside:e.languages.markdown},punctuation:/\|/}},"table-line":{pattern:RegExp("^("+o+")"+s+"$"),lookbehind:!0,inside:{punctuation:/\||:?-{3,}:?/}},"table-header-row":{pattern:RegExp("^"+o+"$"),inside:{"table-header":{pattern:RegExp(i),alias:"important",inside:e.languages.markdown},punctuation:/\|/}}}},code:[{pattern:/((?:^|\n)[ \t]*\n|(?:^|\r\n?)[ \t]*\r\n?)(?: {4}|\t).+(?:(?:\n|\r\n?)(?: {4}|\t).+)*/,lookbehind:!0,alias:"keyword"},{pattern:/^```[\s\S]*?^```$/m,greedy:!0,inside:{"code-block":{pattern:/^(```.*(?:\n|\r\n?))[\s\S]+?(?=(?:\n|\r\n?)^```$)/m,lookbehind:!0},"code-language":{pattern:/^(```).+/,lookbehind:!0},punctuation:/```/}}],title:[{pattern:/\S.*(?:\n|\r\n?)(?:==+|--+)(?=[ \t]*$)/m,alias:"important",inside:{punctuation:/==+$|--+$/}},{pattern:/(^\s*)#.+/m,lookbehind:!0,alias:"important",inside:{punctuation:/^#+|#+$/}}],hr:{pattern:/(^\s*)([*-])(?:[\t ]*\2){2,}(?=\s*$)/m,lookbehind:!0,alias:"punctuation"},list:{pattern:/(^\s*)(?:[*+-]|\d+\.)(?=[\t ].)/m,lookbehind:!0,alias:"punctuation"},"url-reference":{pattern:/!?\[[^\]]+\]:[\t ]+(?:\S+|<(?:\\.|[^>\\])+>)(?:[\t ]+(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\)))?/,inside:{variable:{pattern:/^(!?\[)[^\]]+/,lookbehind:!0},string:/(?:"(?:\\.|[^"\\])*"|'(?:\\.|[^'\\])*'|\((?:\\.|[^)\\])*\))$/,punctuation:/^[\[\]!:]|[<>]/},alias:"url"},bold:{pattern:r(/\b__(?:(?!_)<inner>|_(?:(?!_)<inner>)+_)+__\b|\*\*(?:(?!\*)<inner>|\*(?:(?!\*)<inner>)+\*)+\*\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^..)[\s\S]+(?=..$)/,lookbehind:!0,inside:{}},punctuation:/\*\*|__/}},italic:{pattern:r(/\b_(?:(?!_)<inner>|__(?:(?!_)<inner>)+__)+_\b|\*(?:(?!\*)<inner>|\*\*(?:(?!\*)<inner>)+\*\*)+\*/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^.)[\s\S]+(?=.$)/,lookbehind:!0,inside:{}},punctuation:/[*_]/}},strike:{pattern:r(/(~~?)(?:(?!~)<inner>)+\2/.source),lookbehind:!0,greedy:!0,inside:{content:{pattern:/(^~~?)[\s\S]+(?=\1$)/,lookbehind:!0,inside:{}},punctuation:/~~?/}},"code-snippet":{pattern:/(^|[^\\`])(?:``[^`\r\n]+(?:`[^`\r\n]+)*``(?!`)|`[^`\r\n]+`(?!`))/,lookbehind:!0,greedy:!0,alias:["code","keyword"]},url:{pattern:r(/!?\[(?:(?!\])<inner>)+\](?:\([^\s)]+(?:[\t ]+"(?:\\.|[^"\\])*")?\)|[ \t]?\[(?:(?!\])<inner>)+\])/.source),lookbehind:!0,greedy:!0,inside:{operator:/^!/,content:{pattern:/(^\[)[^\]]+(?=\])/,lookbehind:!0,inside:{}},variable:{pattern:/(^\][ \t]?\[)[^\]]+(?=\]$)/,lookbehind:!0},url:{pattern:/(^\]\()[^\s)]+/,lookbehind:!0},string:{pattern:/(^[ \t]+)"(?:\\.|[^"\\])*"(?=\)$)/,lookbehind:!0}}}}),["url","bold","italic","strike"].forEach(function(f){["url","bold","italic","strike","code-snippet"].forEach(function(d){f!==d&&(e.languages.markdown[f].inside.content.inside[d]=e.languages.markdown[d])})}),e.hooks.add("after-tokenize",function(f){if(f.language!=="markdown"&&f.language!=="md")return;function d(h){if(!(!h||typeof h=="string"))for(var g=0,y=h.length;g<y;g++){var S=h[g];if(S.type!=="code"){d(S.content);continue}var v=S.content[1],m=S.content[3];if(v&&m&&v.type==="code-language"&&m.type==="code-block"&&typeof v.content=="string"){var p=v.content.replace(/\b#/g,"sharp").replace(/\b\+\+/g,"pp");p=(/[a-z][\w-]*/i.exec(p)||[""])[0].toLowerCase();var x="language-"+p;m.alias?typeof m.alias=="string"?m.alias=[m.alias,x]:m.alias.push(x):m.alias=[x]}}}d(f.tokens)}),e.hooks.add("wrap",function(f){if(f.type==="code-block"){for(var d="",h=0,g=f.classes.length;h<g;h++){var y=f.classes[h],S=/language-(.+)/.exec(y);if(S){d=S[1];break}}var v=e.languages[d];if(v)f.content=e.highlight(c(f.content.value),v,d);else if(d&&d!=="none"&&e.plugins.autoloader){var m="md-"+new Date().valueOf()+"-"+Math.floor(Math.random()*1e16);f.attributes.id=m,e.plugins.autoloader.loadLanguages(d,function(){var p=document.getElementById(m);p&&(p.innerHTML=e.highlight(p.textContent,e.languages[d],d))})}}});var a=RegExp(e.languages.markup.tag.pattern.source,"gi"),l={amp:"&",lt:"<",gt:">",quot:'"'},u=String.fromCodePoint||String.fromCharCode;function c(f){var d=f.replace(a,"");return d=d.replace(/&(\w{1,8}|#x?[\da-f]{1,8});/gi,function(h,g){if(g=g.toLowerCase(),g[0]==="#"){var y;return g[1]==="x"?y=parseInt(g.slice(2),16):y=Number(g.slice(1)),u(y)}else{var S=l[g];return S||h}}),d}e.languages.md=e.languages.markdown})(t)}var Zse=O6;O6.displayName="python";O6.aliases=["py"];function O6(t){t.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},t.languages.python["string-interpolation"].inside.interpolation.inside.rest=t.languages.python,t.languages.py=t.languages.python}var eae=M6;M6.displayName="regex";M6.aliases=[];function M6(t){(function(e){var n={pattern:/\\[\\(){}[\]^$+*?|.]/,alias:"escape"},r=/\\(?:x[\da-fA-F]{2}|u[\da-fA-F]{4}|u\{[\da-fA-F]+\}|0[0-7]{0,2}|[123][0-7]{2}|c[a-zA-Z]|.)/,i={pattern:/\.|\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},o={pattern:/\\[wsd]|\\p\{[^{}]+\}/i,alias:"class-name"},s="(?:[^\\\\-]|"+r.source+")",a=RegExp(s+"-"+s),l={pattern:/(<|')[^<>']+(?=[>']$)/,lookbehind:!0,alias:"variable"};e.languages.regex={"char-class":{pattern:/((?:^|[^\\])(?:\\\\)*)\[(?:[^\\\]]|\\[\s\S])*\]/,lookbehind:!0,inside:{"char-class-negation":{pattern:/(^\[)\^/,lookbehind:!0,alias:"operator"},"char-class-punctuation":{pattern:/^\[|\]$/,alias:"punctuation"},range:{pattern:a,inside:{escape:r,"range-punctuation":{pattern:/-/,alias:"operator"}}},"special-escape":n,"char-set":o,escape:r}},"special-escape":n,"char-set":i,backreference:[{pattern:/\\(?![123][0-7]{2})[1-9]/,alias:"keyword"},{pattern:/\\k<[^<>']+>/,alias:"keyword",inside:{"group-name":l}}],anchor:{pattern:/[$^]|\\[ABbGZz]/,alias:"function"},escape:r,group:[{pattern:/\((?:\?(?:<[^<>']+>|'[^<>']+'|[>:]|<?[=!]|[idmnsuxU]+(?:-[idmnsuxU]+)?:?))?/,alias:"punctuation",inside:{"group-name":l}},{pattern:/\)/,alias:"punctuation"}],quantifier:{pattern:/(?:[+*?]|\{\d+(?:,\d*)?\})[?+]?/,alias:"number"},alternation:{pattern:/\|/,alias:"keyword"}}})(t)}var tae=N6;N6.displayName="rust";N6.aliases=[];function N6(t){(function(e){for(var n=/\/\*(?:[^*/]|\*(?!\/)|\/(?!\*)|<self>)*\*\//.source,r=0;r<2;r++)n=n.replace(/<self>/g,function(){return n});n=n.replace(/<self>/g,function(){return/[^\s\S]/.source}),e.languages.rust={comment:[{pattern:RegExp(/(^|[^\\])/.source+n),lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/b?"(?:\\[\s\S]|[^\\"])*"|b?r(#*)"(?:[^"]|"(?!\1))*"\1/,greedy:!0},char:{pattern:/b?'(?:\\(?:x[0-7][\da-fA-F]|u\{(?:[\da-fA-F]_*){1,6}\}|.)|[^\\\r\n\t'])'/,greedy:!0},attribute:{pattern:/#!?\[(?:[^\[\]"]|"(?:\\[\s\S]|[^\\"])*")*\]/,greedy:!0,alias:"attr-name",inside:{string:null}},"closure-params":{pattern:/([=(,:]\s*|\bmove\s*)\|[^|]*\||\|[^|]*\|(?=\s*(?:\{|->))/,lookbehind:!0,greedy:!0,inside:{"closure-punctuation":{pattern:/^\||\|$/,alias:"punctuation"},rest:null}},"lifetime-annotation":{pattern:/'\w+/,alias:"symbol"},"fragment-specifier":{pattern:/(\$\w+:)[a-z]+/,lookbehind:!0,alias:"punctuation"},variable:/\$\w+/,"function-definition":{pattern:/(\bfn\s+)\w+/,lookbehind:!0,alias:"function"},"type-definition":{pattern:/(\b(?:enum|struct|trait|type|union)\s+)\w+/,lookbehind:!0,alias:"class-name"},"module-declaration":[{pattern:/(\b(?:crate|mod)\s+)[a-z][a-z_\d]*/,lookbehind:!0,alias:"namespace"},{pattern:/(\b(?:crate|self|super)\s*)::\s*[a-z][a-z_\d]*\b(?:\s*::(?:\s*[a-z][a-z_\d]*\s*::)*)?/,lookbehind:!0,alias:"namespace",inside:{punctuation:/::/}}],keyword:[/\b(?:Self|abstract|as|async|await|become|box|break|const|continue|crate|do|dyn|else|enum|extern|final|fn|for|if|impl|in|let|loop|macro|match|mod|move|mut|override|priv|pub|ref|return|self|static|struct|super|trait|try|type|typeof|union|unsafe|unsized|use|virtual|where|while|yield)\b/,/\b(?:bool|char|f(?:32|64)|[ui](?:8|16|32|64|128|size)|str)\b/],function:/\b[a-z_]\w*(?=\s*(?:::\s*<|\())/,macro:{pattern:/\b\w+!/,alias:"property"},constant:/\b[A-Z_][A-Z_\d]+\b/,"class-name":/\b[A-Z]\w*\b/,namespace:{pattern:/(?:\b[a-z][a-z_\d]*\s*::\s*)*\b[a-z][a-z_\d]*\s*::(?!\s*<)/,inside:{punctuation:/::/}},number:/\b(?:0x[\dA-Fa-f](?:_?[\dA-Fa-f])*|0o[0-7](?:_?[0-7])*|0b[01](?:_?[01])*|(?:(?:\d(?:_?\d)*)?\.)?\d(?:_?\d)*(?:[Ee][+-]?\d+)?)(?:_?(?:f32|f64|[iu](?:8|16|32|64|size)?))?\b/,boolean:/\b(?:false|true)\b/,punctuation:/->|\.\.=|\.{1,3}|::|[{}[\];(),:]/,operator:/[-+*\/%!^]=?|=[=>]?|&[&=]?|\|[|=]?|<<?=?|>>?=?|[@?]/},e.languages.rust["closure-params"].inside.rest=e.languages.rust,e.languages.rust.attribute.inside.string=e.languages.rust.string})(t)}var nae=R6;R6.displayName="sql";R6.aliases=[];function R6(t){t.languages.sql={comment:{pattern:/(^|[^\\])(?:\/\*[\s\S]*?\*\/|(?:--|\/\/|#).*)/,lookbehind:!0},variable:[{pattern:/@(["'`])(?:\\[\s\S]|(?!\1)[^\\])+\1/,greedy:!0},/@[\w.$]+/],string:{pattern:/(^|[^@\\])("|')(?:\\[\s\S]|(?!\2)[^\\]|\2\2)*\2/,greedy:!0,lookbehind:!0},identifier:{pattern:/(^|[^@\\])`(?:\\[\s\S]|[^`\\]|``)*`/,greedy:!0,lookbehind:!0,inside:{punctuation:/^`|`$/}},function:/\b(?:AVG|COUNT|FIRST|FORMAT|LAST|LCASE|LEN|MAX|MID|MIN|MOD|NOW|ROUND|SUM|UCASE)(?=\s*\()/i,keyword:/\b(?:ACTION|ADD|AFTER|ALGORITHM|ALL|ALTER|ANALYZE|ANY|APPLY|AS|ASC|AUTHORIZATION|AUTO_INCREMENT|BACKUP|BDB|BEGIN|BERKELEYDB|BIGINT|BINARY|BIT|BLOB|BOOL|BOOLEAN|BREAK|BROWSE|BTREE|BULK|BY|CALL|CASCADED?|CASE|CHAIN|CHAR(?:ACTER|SET)?|CHECK(?:POINT)?|CLOSE|CLUSTERED|COALESCE|COLLATE|COLUMNS?|COMMENT|COMMIT(?:TED)?|COMPUTE|CONNECT|CONSISTENT|CONSTRAINT|CONTAINS(?:TABLE)?|CONTINUE|CONVERT|CREATE|CROSS|CURRENT(?:_DATE|_TIME|_TIMESTAMP|_USER)?|CURSOR|CYCLE|DATA(?:BASES?)?|DATE(?:TIME)?|DAY|DBCC|DEALLOCATE|DEC|DECIMAL|DECLARE|DEFAULT|DEFINER|DELAYED|DELETE|DELIMITERS?|DENY|DESC|DESCRIBE|DETERMINISTIC|DISABLE|DISCARD|DISK|DISTINCT|DISTINCTROW|DISTRIBUTED|DO|DOUBLE|DROP|DUMMY|DUMP(?:FILE)?|DUPLICATE|ELSE(?:IF)?|ENABLE|ENCLOSED|END|ENGINE|ENUM|ERRLVL|ERRORS|ESCAPED?|EXCEPT|EXEC(?:UTE)?|EXISTS|EXIT|EXPLAIN|EXTENDED|FETCH|FIELDS|FILE|FILLFACTOR|FIRST|FIXED|FLOAT|FOLLOWING|FOR(?: EACH ROW)?|FORCE|FOREIGN|FREETEXT(?:TABLE)?|FROM|FULL|FUNCTION|GEOMETRY(?:COLLECTION)?|GLOBAL|GOTO|GRANT|GROUP|HANDLER|HASH|HAVING|HOLDLOCK|HOUR|IDENTITY(?:COL|_INSERT)?|IF|IGNORE|IMPORT|INDEX|INFILE|INNER|INNODB|INOUT|INSERT|INT|INTEGER|INTERSECT|INTERVAL|INTO|INVOKER|ISOLATION|ITERATE|JOIN|KEYS?|KILL|LANGUAGE|LAST|LEAVE|LEFT|LEVEL|LIMIT|LINENO|LINES|LINESTRING|LOAD|LOCAL|LOCK|LONG(?:BLOB|TEXT)|LOOP|MATCH(?:ED)?|MEDIUM(?:BLOB|INT|TEXT)|MERGE|MIDDLEINT|MINUTE|MODE|MODIFIES|MODIFY|MONTH|MULTI(?:LINESTRING|POINT|POLYGON)|NATIONAL|NATURAL|NCHAR|NEXT|NO|NONCLUSTERED|NULLIF|NUMERIC|OFF?|OFFSETS?|ON|OPEN(?:DATASOURCE|QUERY|ROWSET)?|OPTIMIZE|OPTION(?:ALLY)?|ORDER|OUT(?:ER|FILE)?|OVER|PARTIAL|PARTITION|PERCENT|PIVOT|PLAN|POINT|POLYGON|PRECEDING|PRECISION|PREPARE|PREV|PRIMARY|PRINT|PRIVILEGES|PROC(?:EDURE)?|PUBLIC|PURGE|QUICK|RAISERROR|READS?|REAL|RECONFIGURE|REFERENCES|RELEASE|RENAME|REPEAT(?:ABLE)?|REPLACE|REPLICATION|REQUIRE|RESIGNAL|RESTORE|RESTRICT|RETURN(?:ING|S)?|REVOKE|RIGHT|ROLLBACK|ROUTINE|ROW(?:COUNT|GUIDCOL|S)?|RTREE|RULE|SAVE(?:POINT)?|SCHEMA|SECOND|SELECT|SERIAL(?:IZABLE)?|SESSION(?:_USER)?|SET(?:USER)?|SHARE|SHOW|SHUTDOWN|SIMPLE|SMALLINT|SNAPSHOT|SOME|SONAME|SQL|START(?:ING)?|STATISTICS|STATUS|STRIPED|SYSTEM_USER|TABLES?|TABLESPACE|TEMP(?:ORARY|TABLE)?|TERMINATED|TEXT(?:SIZE)?|THEN|TIME(?:STAMP)?|TINY(?:BLOB|INT|TEXT)|TOP?|TRAN(?:SACTIONS?)?|TRIGGER|TRUNCATE|TSEQUAL|TYPES?|UNBOUNDED|UNCOMMITTED|UNDEFINED|UNION|UNIQUE|UNLOCK|UNPIVOT|UNSIGNED|UPDATE(?:TEXT)?|USAGE|USE|USER|USING|VALUES?|VAR(?:BINARY|CHAR|CHARACTER|YING)|VIEW|WAITFOR|WARNINGS|WHEN|WHERE|WHILE|WITH(?: ROLLUP|IN)?|WORK|WRITE(?:TEXT)?|YEAR)\b/i,boolean:/\b(?:FALSE|NULL|TRUE)\b/i,number:/\b0x[\da-f]+\b|\b\d+(?:\.\d*)?|\B\.\d+\b/i,operator:/[-+*\/=%^~]|&&?|\|\|?|!=?|<(?:=>?|<|>)?|>[>=]?|\b(?:AND|BETWEEN|DIV|ILIKE|IN|IS|LIKE|NOT|OR|REGEXP|RLIKE|SOUNDS LIKE|XOR)\b/i,punctuation:/[;[\]()`,.]/}}var rae=D6;D6.displayName="typescript";D6.aliases=["ts"];function D6(t){(function(e){e.languages.typescript=e.languages.extend("javascript",{"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|type)\s+)(?!keyof\b)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?:\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>)?/,lookbehind:!0,greedy:!0,inside:null},builtin:/\b(?:Array|Function|Promise|any|boolean|console|never|number|string|symbol|unknown)\b/}),e.languages.typescript.keyword.push(/\b(?:abstract|declare|is|keyof|readonly|require)\b/,/\b(?:asserts|infer|interface|module|namespace|type)\b(?=\s*(?:[{_$a-zA-Z\xA0-\uFFFF]|$))/,/\btype\b(?=\s*(?:[\{*]|$))/),delete e.languages.typescript.parameter,delete e.languages.typescript["literal-property"];var n=e.languages.extend("typescript",{});delete n["class-name"],e.languages.typescript["class-name"].inside=n,e.languages.insertBefore("typescript","function",{decorator:{pattern:/@[$\w\xA0-\uFFFF]+/,inside:{at:{pattern:/^@/,alias:"operator"},function:/^[\s\S]+/}},"generic-function":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>(?=\s*\()/,greedy:!0,inside:{function:/^#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:n}}}}),e.languages.ts=e.languages.typescript})(t)}const iae=[qse,rM,Wse,Kse,Yse,nA,Xse,Jse,Qse,tA,Zse,eae,tae,nae,rae],oae=z.exports.forwardRef((t,e)=>{const n=z.exports.useCallback(({json:u,invalidContent:c,transformers:f})=>f.remove(u,c),[]),r=()=>{g8("focus",t.onFocus)},i=()=>{const u=Oc().helpers.getText();g8("blur",()=>t.onBlur(u))},{manager:o,state:s,setState:a,getContext:l}=cie({extensions:()=>[new uc({}),new Sl({}),new Ud,new E5,new Cie({defaultTarget:"_blank",autoLink:!0}),new hm({}),new Hd({enableSpine:!0}),new jd,new K5,new Tie({enableResizing:!0}),new zd,new qd,new Tm,new Ri({supportedLanguages:iae,defaultLanguage:"typescript"}),new pm],onError:n,content:t.doc});return z.exports.useImperativeHandle(e,()=>l(),[l]),j("div",{id:t.id,className:"remirror-theme",children:j(die,{manager:o,initialContent:s,onChange:u=>{var c;a(u.state),u.firstRender||(c=t.onChange)==null||c.call(t,u.state.doc.toJSON())},hooks:[r,i],children:j(V4,{})})})}),sae=W2(wz);var I6={};I6.test=function(){return typeof tt.queueMicrotask=="function"};I6.install=function(t){return function(){tt.queueMicrotask(t)}};var P6={},iM=tt.MutationObserver||tt.WebKitMutationObserver;P6.test=function(){return iM};P6.install=function(t){var e=0,n=new iM(t),r=tt.document.createTextNode("");return n.observe(r,{characterData:!0}),function(){r.data=e=++e%2}};var L6={};L6.test=function(){return tt.setImmediate?!1:typeof tt.MessageChannel<"u"};L6.install=function(t){var e=new tt.MessageChannel;return e.port1.onmessage=t,function(){e.port2.postMessage(0)}};var z6={};z6.test=function(){return"document"in tt&&"onreadystatechange"in tt.document.createElement("script")};z6.install=function(t){return function(){var e=tt.document.createElement("script");return e.onreadystatechange=function(){t(),e.onreadystatechange=null,e.parentNode.removeChild(e),e=null},tt.document.documentElement.appendChild(e),t}};var B6={};B6.test=function(){return!0};B6.install=function(t){return function(){setTimeout(t,0)}};var Rf=[sae,I6,P6,L6,z6,B6],$u,Qa,Df=-1,Ls=[],Q4=!1;function aae(){!$u||!Qa||($u=!1,Qa.length?Ls=Qa.concat(Ls):Df=-1,Ls.length&&oM())}function oM(){if(!$u){Q4=!1,$u=!0;for(var t=Ls.length,e=setTimeout(aae);t;){for(Qa=Ls,Ls=[];Qa&&++Df<t;)Qa[Df].run();Df=-1,t=Ls.length}Qa=null,Df=-1,$u=!1,clearTimeout(e)}}var sM,Gc=-1,lae=Rf.length;for(;++Gc<lae;)if(Rf[Gc]&&Rf[Gc].test&&Rf[Gc].test()){sM=Rf[Gc].install(oM);break}function aM(t,e){this.fun=t,this.array=e}aM.prototype.run=function(){var t=this.fun,e=this.array;switch(e.length){case 0:return t();case 1:return t(e[0]);case 2:return t(e[0],e[1]);case 3:return t(e[0],e[1],e[2]);default:return t.apply(null,e)}};var uo=uae;function uae(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Ls.push(new aM(t,e)),!Q4&&!$u&&(Q4=!0,sM())}var Ch,cae=new Uint8Array(16);function fae(){if(!Ch&&(Ch=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Ch))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ch(cae)}const dae=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function hae(t){return typeof t=="string"&&dae.test(t)}var mn=[];for(var Bv=0;Bv<256;++Bv)mn.push((Bv+256).toString(16).substr(1));function pae(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(mn[t[e+0]]+mn[t[e+1]]+mn[t[e+2]]+mn[t[e+3]]+"-"+mn[t[e+4]]+mn[t[e+5]]+"-"+mn[t[e+6]]+mn[t[e+7]]+"-"+mn[t[e+8]]+mn[t[e+9]]+"-"+mn[t[e+10]]+mn[t[e+11]]+mn[t[e+12]]+mn[t[e+13]]+mn[t[e+14]]+mn[t[e+15]]).toLowerCase();if(!hae(n))throw TypeError("Stringified UUID is invalid");return n}function lM(t,e,n){t=t||{};var r=t.random||(t.rng||fae)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return pae(r)}var uM={exports:{}};(function(t,e){(function(n){t.exports=n()})(function(n){var r=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function i(v,m){var p=v[0],x=v[1],b=v[2],_=v[3];p+=(x&b|~x&_)+m[0]-680876936|0,p=(p<<7|p>>>25)+x|0,_+=(p&x|~p&b)+m[1]-389564586|0,_=(_<<12|_>>>20)+p|0,b+=(_&p|~_&x)+m[2]+606105819|0,b=(b<<17|b>>>15)+_|0,x+=(b&_|~b&p)+m[3]-1044525330|0,x=(x<<22|x>>>10)+b|0,p+=(x&b|~x&_)+m[4]-176418897|0,p=(p<<7|p>>>25)+x|0,_+=(p&x|~p&b)+m[5]+1200080426|0,_=(_<<12|_>>>20)+p|0,b+=(_&p|~_&x)+m[6]-1473231341|0,b=(b<<17|b>>>15)+_|0,x+=(b&_|~b&p)+m[7]-45705983|0,x=(x<<22|x>>>10)+b|0,p+=(x&b|~x&_)+m[8]+1770035416|0,p=(p<<7|p>>>25)+x|0,_+=(p&x|~p&b)+m[9]-1958414417|0,_=(_<<12|_>>>20)+p|0,b+=(_&p|~_&x)+m[10]-42063|0,b=(b<<17|b>>>15)+_|0,x+=(b&_|~b&p)+m[11]-1990404162|0,x=(x<<22|x>>>10)+b|0,p+=(x&b|~x&_)+m[12]+1804603682|0,p=(p<<7|p>>>25)+x|0,_+=(p&x|~p&b)+m[13]-40341101|0,_=(_<<12|_>>>20)+p|0,b+=(_&p|~_&x)+m[14]-1502002290|0,b=(b<<17|b>>>15)+_|0,x+=(b&_|~b&p)+m[15]+1236535329|0,x=(x<<22|x>>>10)+b|0,p+=(x&_|b&~_)+m[1]-165796510|0,p=(p<<5|p>>>27)+x|0,_+=(p&b|x&~b)+m[6]-1069501632|0,_=(_<<9|_>>>23)+p|0,b+=(_&x|p&~x)+m[11]+643717713|0,b=(b<<14|b>>>18)+_|0,x+=(b&p|_&~p)+m[0]-373897302|0,x=(x<<20|x>>>12)+b|0,p+=(x&_|b&~_)+m[5]-701558691|0,p=(p<<5|p>>>27)+x|0,_+=(p&b|x&~b)+m[10]+38016083|0,_=(_<<9|_>>>23)+p|0,b+=(_&x|p&~x)+m[15]-660478335|0,b=(b<<14|b>>>18)+_|0,x+=(b&p|_&~p)+m[4]-405537848|0,x=(x<<20|x>>>12)+b|0,p+=(x&_|b&~_)+m[9]+568446438|0,p=(p<<5|p>>>27)+x|0,_+=(p&b|x&~b)+m[14]-1019803690|0,_=(_<<9|_>>>23)+p|0,b+=(_&x|p&~x)+m[3]-187363961|0,b=(b<<14|b>>>18)+_|0,x+=(b&p|_&~p)+m[8]+1163531501|0,x=(x<<20|x>>>12)+b|0,p+=(x&_|b&~_)+m[13]-1444681467|0,p=(p<<5|p>>>27)+x|0,_+=(p&b|x&~b)+m[2]-51403784|0,_=(_<<9|_>>>23)+p|0,b+=(_&x|p&~x)+m[7]+1735328473|0,b=(b<<14|b>>>18)+_|0,x+=(b&p|_&~p)+m[12]-1926607734|0,x=(x<<20|x>>>12)+b|0,p+=(x^b^_)+m[5]-378558|0,p=(p<<4|p>>>28)+x|0,_+=(p^x^b)+m[8]-2022574463|0,_=(_<<11|_>>>21)+p|0,b+=(_^p^x)+m[11]+1839030562|0,b=(b<<16|b>>>16)+_|0,x+=(b^_^p)+m[14]-35309556|0,x=(x<<23|x>>>9)+b|0,p+=(x^b^_)+m[1]-1530992060|0,p=(p<<4|p>>>28)+x|0,_+=(p^x^b)+m[4]+1272893353|0,_=(_<<11|_>>>21)+p|0,b+=(_^p^x)+m[7]-155497632|0,b=(b<<16|b>>>16)+_|0,x+=(b^_^p)+m[10]-1094730640|0,x=(x<<23|x>>>9)+b|0,p+=(x^b^_)+m[13]+681279174|0,p=(p<<4|p>>>28)+x|0,_+=(p^x^b)+m[0]-358537222|0,_=(_<<11|_>>>21)+p|0,b+=(_^p^x)+m[3]-722521979|0,b=(b<<16|b>>>16)+_|0,x+=(b^_^p)+m[6]+76029189|0,x=(x<<23|x>>>9)+b|0,p+=(x^b^_)+m[9]-640364487|0,p=(p<<4|p>>>28)+x|0,_+=(p^x^b)+m[12]-421815835|0,_=(_<<11|_>>>21)+p|0,b+=(_^p^x)+m[15]+530742520|0,b=(b<<16|b>>>16)+_|0,x+=(b^_^p)+m[2]-995338651|0,x=(x<<23|x>>>9)+b|0,p+=(b^(x|~_))+m[0]-198630844|0,p=(p<<6|p>>>26)+x|0,_+=(x^(p|~b))+m[7]+1126891415|0,_=(_<<10|_>>>22)+p|0,b+=(p^(_|~x))+m[14]-1416354905|0,b=(b<<15|b>>>17)+_|0,x+=(_^(b|~p))+m[5]-57434055|0,x=(x<<21|x>>>11)+b|0,p+=(b^(x|~_))+m[12]+1700485571|0,p=(p<<6|p>>>26)+x|0,_+=(x^(p|~b))+m[3]-1894986606|0,_=(_<<10|_>>>22)+p|0,b+=(p^(_|~x))+m[10]-1051523|0,b=(b<<15|b>>>17)+_|0,x+=(_^(b|~p))+m[1]-2054922799|0,x=(x<<21|x>>>11)+b|0,p+=(b^(x|~_))+m[8]+1873313359|0,p=(p<<6|p>>>26)+x|0,_+=(x^(p|~b))+m[15]-30611744|0,_=(_<<10|_>>>22)+p|0,b+=(p^(_|~x))+m[6]-1560198380|0,b=(b<<15|b>>>17)+_|0,x+=(_^(b|~p))+m[13]+1309151649|0,x=(x<<21|x>>>11)+b|0,p+=(b^(x|~_))+m[4]-145523070|0,p=(p<<6|p>>>26)+x|0,_+=(x^(p|~b))+m[11]-1120210379|0,_=(_<<10|_>>>22)+p|0,b+=(p^(_|~x))+m[2]+718787259|0,b=(b<<15|b>>>17)+_|0,x+=(_^(b|~p))+m[9]-343485551|0,x=(x<<21|x>>>11)+b|0,v[0]=p+v[0]|0,v[1]=x+v[1]|0,v[2]=b+v[2]|0,v[3]=_+v[3]|0}function o(v){var m=[],p;for(p=0;p<64;p+=4)m[p>>2]=v.charCodeAt(p)+(v.charCodeAt(p+1)<<8)+(v.charCodeAt(p+2)<<16)+(v.charCodeAt(p+3)<<24);return m}function s(v){var m=[],p;for(p=0;p<64;p+=4)m[p>>2]=v[p]+(v[p+1]<<8)+(v[p+2]<<16)+(v[p+3]<<24);return m}function a(v){var m=v.length,p=[1732584193,-271733879,-1732584194,271733878],x,b,_,T,M,N;for(x=64;x<=m;x+=64)i(p,o(v.substring(x-64,x)));for(v=v.substring(x-64),b=v.length,_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0;x<b;x+=1)_[x>>2]|=v.charCodeAt(x)<<(x%4<<3);if(_[x>>2]|=128<<(x%4<<3),x>55)for(i(p,_),x=0;x<16;x+=1)_[x]=0;return T=m*8,T=T.toString(16).match(/(.*?)(.{0,8})$/),M=parseInt(T[2],16),N=parseInt(T[1],16)||0,_[14]=M,_[15]=N,i(p,_),p}function l(v){var m=v.length,p=[1732584193,-271733879,-1732584194,271733878],x,b,_,T,M,N;for(x=64;x<=m;x+=64)i(p,s(v.subarray(x-64,x)));for(v=x-64<m?v.subarray(x-64):new Uint8Array(0),b=v.length,_=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],x=0;x<b;x+=1)_[x>>2]|=v[x]<<(x%4<<3);if(_[x>>2]|=128<<(x%4<<3),x>55)for(i(p,_),x=0;x<16;x+=1)_[x]=0;return T=m*8,T=T.toString(16).match(/(.*?)(.{0,8})$/),M=parseInt(T[2],16),N=parseInt(T[1],16)||0,_[14]=M,_[15]=N,i(p,_),p}function u(v){var m="",p;for(p=0;p<4;p+=1)m+=r[v>>p*8+4&15]+r[v>>p*8&15];return m}function c(v){var m;for(m=0;m<v.length;m+=1)v[m]=u(v[m]);return v.join("")}c(a("hello")),typeof ArrayBuffer<"u"&&!ArrayBuffer.prototype.slice&&function(){function v(m,p){return m=m|0||0,m<0?Math.max(m+p,0):Math.min(m,p)}ArrayBuffer.prototype.slice=function(m,p){var x=this.byteLength,b=v(m,x),_=x,T,M,N,$;return p!==n&&(_=v(p,x)),b>_?new ArrayBuffer(0):(T=_-b,M=new ArrayBuffer(T),N=new Uint8Array(M),$=new Uint8Array(this,b,T),N.set($),M)}}();function f(v){return/[\u0080-\uFFFF]/.test(v)&&(v=unescape(encodeURIComponent(v))),v}function d(v,m){var p=v.length,x=new ArrayBuffer(p),b=new Uint8Array(x),_;for(_=0;_<p;_+=1)b[_]=v.charCodeAt(_);return m?b:x}function h(v){return String.fromCharCode.apply(null,new Uint8Array(v))}function g(v,m,p){var x=new Uint8Array(v.byteLength+m.byteLength);return x.set(new Uint8Array(v)),x.set(new Uint8Array(m),v.byteLength),p?x:x.buffer}function y(v){var m=[],p=v.length,x;for(x=0;x<p-1;x+=2)m.push(parseInt(v.substr(x,2),16));return String.fromCharCode.apply(String,m)}function S(){this.reset()}return S.prototype.append=function(v){return this.appendBinary(f(v)),this},S.prototype.appendBinary=function(v){this._buff+=v,this._length+=v.length;var m=this._buff.length,p;for(p=64;p<=m;p+=64)i(this._hash,o(this._buff.substring(p-64,p)));return this._buff=this._buff.substring(p-64),this},S.prototype.end=function(v){var m=this._buff,p=m.length,x,b=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],_;for(x=0;x<p;x+=1)b[x>>2]|=m.charCodeAt(x)<<(x%4<<3);return this._finish(b,p),_=c(this._hash),v&&(_=y(_)),this.reset(),_},S.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},S.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},S.prototype.setState=function(v){return this._buff=v.buff,this._length=v.length,this._hash=v.hash,this},S.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},S.prototype._finish=function(v,m){var p=m,x,b,_;if(v[p>>2]|=128<<(p%4<<3),p>55)for(i(this._hash,v),p=0;p<16;p+=1)v[p]=0;x=this._length*8,x=x.toString(16).match(/(.*?)(.{0,8})$/),b=parseInt(x[2],16),_=parseInt(x[1],16)||0,v[14]=b,v[15]=_,i(this._hash,v)},S.hash=function(v,m){return S.hashBinary(f(v),m)},S.hashBinary=function(v,m){var p=a(v),x=c(p);return m?y(x):x},S.ArrayBuffer=function(){this.reset()},S.ArrayBuffer.prototype.append=function(v){var m=g(this._buff.buffer,v,!0),p=m.length,x;for(this._length+=v.byteLength,x=64;x<=p;x+=64)i(this._hash,s(m.subarray(x-64,x)));return this._buff=x-64<p?new Uint8Array(m.buffer.slice(x-64)):new Uint8Array(0),this},S.ArrayBuffer.prototype.end=function(v){var m=this._buff,p=m.length,x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b,_;for(b=0;b<p;b+=1)x[b>>2]|=m[b]<<(b%4<<3);return this._finish(x,p),_=c(this._hash),v&&(_=y(_)),this.reset(),_},S.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},S.ArrayBuffer.prototype.getState=function(){var v=S.prototype.getState.call(this);return v.buff=h(v.buff),v},S.ArrayBuffer.prototype.setState=function(v){return v.buff=d(v.buff,!0),S.prototype.setState.call(this,v)},S.ArrayBuffer.prototype.destroy=S.prototype.destroy,S.ArrayBuffer.prototype._finish=S.prototype._finish,S.ArrayBuffer.hash=function(v,m){var p=l(new Uint8Array(v)),x=c(p);return m?y(x):x},S})})(uM);const Z4=uM.exports;var K1={};K1.stringify=function(e){var n=[];n.push({obj:e});for(var r="",i,o,s,a,l,u,c,f,d,h,g;i=n.pop();)if(o=i.obj,s=i.prefix||"",a=i.val||"",r+=s,a)r+=a;else if(typeof o!="object")r+=typeof o>"u"?null:JSON.stringify(o);else if(o===null)r+="null";else if(Array.isArray(o)){for(n.push({val:"]"}),l=o.length-1;l>=0;l--)u=l===0?"":",",n.push({obj:o[l],prefix:u});n.push({val:"["})}else{c=[];for(f in o)o.hasOwnProperty(f)&&c.push(f);for(n.push({val:"}"}),l=c.length-1;l>=0;l--)d=c[l],h=o[d],g=l>0?",":"",g+=JSON.stringify(d)+":",n.push({obj:h,prefix:g});n.push({val:"{"})}return r};function Yl(t,e,n){var r=n[n.length-1];t===r.element&&(n.pop(),r=n[n.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(t);else if(o===e.length-2){var s=e.pop();i[s]=t}else e.push(t)}K1.parse=function(t){for(var e=[],n=[],r=0,i,o,s,a,l,u,c,f,d;;){if(i=t[r++],i==="}"||i==="]"||typeof i>"u"){if(e.length===1)return e.pop();Yl(e.pop(),e,n);continue}switch(i){case" ":case"	":case`
`:case":":case",":break;case"n":r+=3,Yl(null,e,n);break;case"t":r+=3,Yl(!0,e,n);break;case"f":r+=4,Yl(!1,e,n);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(o="",r--;;)if(s=t[r++],/[\d\.\-e\+]/.test(s))o+=s;else{r--;break}Yl(parseFloat(o),e,n);break;case'"':for(a="",l=void 0,u=0;c=t[r++],c!=='"'||l==="\\"&&u%2===1;)a+=c,l=c,l==="\\"?u++:u=0;Yl(JSON.parse('"'+a+'"'),e,n);break;case"[":f={element:[],index:e.length},e.push(f.element),n.push(f);break;case"{":d={element:{},index:e.length},e.push(d.element),n.push(d);break;default:throw new Error("unexpectedly reached end of input: "+i)}}};var Rc=mae;function mae(t){return function(){var e=arguments.length;if(e){for(var n=[],r=-1;++r<e;)n[r]=arguments[r];return t.call(this,n)}else return t.call(this,[])}}var Or={exports:{}};typeof Object.create=="function"?Or.exports=function(e,n){n&&(e.super_=n,e.prototype=Object.create(n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Or.exports=function(e,n){if(n){e.super_=n;var r=function(){};r.prototype=n.prototype,e.prototype=new r,e.prototype.constructor=e}};var gae;function Js(){}Js.prototype=Object.create(null);function je(){je.init.call(this)}je.EventEmitter=je;je.usingDomains=!1;je.prototype.domain=void 0;je.prototype._events=void 0;je.prototype._maxListeners=void 0;je.defaultMaxListeners=10;je.init=function(){this.domain=null,je.usingDomains&&gae.active,(!this._events||this._events===Object.getPrototypeOf(this)._events)&&(this._events=new Js,this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};je.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this};function cM(t){return t._maxListeners===void 0?je.defaultMaxListeners:t._maxListeners}je.prototype.getMaxListeners=function(){return cM(this)};function vae(t,e,n){if(e)t.call(n);else for(var r=t.length,i=O0(t,r),o=0;o<r;++o)i[o].call(n)}function yae(t,e,n,r){if(e)t.call(n,r);else for(var i=t.length,o=O0(t,i),s=0;s<i;++s)o[s].call(n,r)}function xae(t,e,n,r,i){if(e)t.call(n,r,i);else for(var o=t.length,s=O0(t,o),a=0;a<o;++a)s[a].call(n,r,i)}function wae(t,e,n,r,i,o){if(e)t.call(n,r,i,o);else for(var s=t.length,a=O0(t,s),l=0;l<s;++l)a[l].call(n,r,i,o)}function bae(t,e,n,r){if(e)t.apply(n,r);else for(var i=t.length,o=O0(t,i),s=0;s<i;++s)o[s].apply(n,r)}je.prototype.emit=function(e){var n,r,i,o,s,a,l,u=e==="error";if(a=this._events,a)u=u&&a.error==null;else if(!u)return!1;if(l=this.domain,u){if(n=arguments[1],l)n||(n=new Error('Uncaught, unspecified "error" event')),n.domainEmitter=this,n.domain=l,n.domainThrown=!1,l.emit("error",n);else{if(n instanceof Error)throw n;var c=new Error('Uncaught, unspecified "error" event. ('+n+")");throw c.context=n,c}return!1}if(r=a[e],!r)return!1;var f=typeof r=="function";switch(i=arguments.length,i){case 1:vae(r,f,this);break;case 2:yae(r,f,this,arguments[1]);break;case 3:xae(r,f,this,arguments[1],arguments[2]);break;case 4:wae(r,f,this,arguments[1],arguments[2],arguments[3]);break;default:for(o=new Array(i-1),s=1;s<i;s++)o[s-1]=arguments[s];bae(r,f,this,o)}return!0};function fM(t,e,n,r){var i,o,s;if(typeof n!="function")throw new TypeError('"listener" argument must be a function');if(o=t._events,o?(o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]):(o=t._events=new Js,t._eventsCount=0),!s)s=o[e]=n,++t._eventsCount;else if(typeof s=="function"?s=o[e]=r?[n,s]:[s,n]:r?s.unshift(n):s.push(n),!s.warned&&(i=cM(t),i&&i>0&&s.length>i)){s.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+e+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=s.length,Sae(a)}return t}function Sae(t){typeof console.warn=="function"?console.warn(t):console.log(t)}je.prototype.addListener=function(e,n){return fM(this,e,n,!1)};je.prototype.on=je.prototype.addListener;je.prototype.prependListener=function(e,n){return fM(this,e,n,!0)};function dM(t,e,n){var r=!1;function i(){t.removeListener(e,i),r||(r=!0,n.apply(t,arguments))}return i.listener=n,i}je.prototype.once=function(e,n){if(typeof n!="function")throw new TypeError('"listener" argument must be a function');return this.on(e,dM(this,e,n)),this};je.prototype.prependOnceListener=function(e,n){if(typeof n!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(e,dM(this,e,n)),this};je.prototype.removeListener=function(e,n){var r,i,o,s,a;if(typeof n!="function")throw new TypeError('"listener" argument must be a function');if(i=this._events,!i)return this;if(r=i[e],!r)return this;if(r===n||r.listener&&r.listener===n)--this._eventsCount===0?this._events=new Js:(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(o=-1,s=r.length;s-- >0;)if(r[s]===n||r[s].listener&&r[s].listener===n){a=r[s].listener,o=s;break}if(o<0)return this;if(r.length===1){if(r[0]=void 0,--this._eventsCount===0)return this._events=new Js,this;delete i[e]}else kae(r,o);i.removeListener&&this.emit("removeListener",e,a||n)}return this};je.prototype.removeAllListeners=function(e){var n,r;if(r=this._events,!r)return this;if(!r.removeListener)return arguments.length===0?(this._events=new Js,this._eventsCount=0):r[e]&&(--this._eventsCount===0?this._events=new Js:delete r[e]),this;if(arguments.length===0){for(var i=Object.keys(r),o=0,s;o<i.length;++o)s=i[o],s!=="removeListener"&&this.removeAllListeners(s);return this.removeAllListeners("removeListener"),this._events=new Js,this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n)do this.removeListener(e,n[n.length-1]);while(n[0]);return this};je.prototype.listeners=function(e){var n,r,i=this._events;return i?(n=i[e],n?typeof n=="function"?r=[n.listener||n]:r=_ae(n):r=[]):r=[],r};je.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):hM.call(t,e)};je.prototype.listenerCount=hM;function hM(t){var e=this._events;if(e){var n=e[t];if(typeof n=="function")return 1;if(n)return n.length}return 0}je.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function kae(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}function O0(t,e){for(var n=new Array(e);e--;)n[e]=t[e];return n}function _ae(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function G1(t){return"$"+t}function pM(t){return t.substring(1)}function rs(){this._store={}}rs.prototype.get=function(t){var e=G1(t);return this._store[e]};rs.prototype.set=function(t,e){var n=G1(t);return this._store[n]=e,!0};rs.prototype.has=function(t){var e=G1(t);return e in this._store};rs.prototype.keys=function(){return Object.keys(this._store).map(t=>pM(t))};rs.prototype.delete=function(t){var e=G1(t),n=e in this._store;return delete this._store[e],n};rs.prototype.forEach=function(t){for(var e=Object.keys(this._store),n=0,r=e.length;n<r;n++){var i=e[n],o=this._store[i];i=pM(i),t(o,i)}};Object.defineProperty(rs.prototype,"size",{get:function(){return Object.keys(this._store).length}});function M0(t){if(this._store=new rs,t&&Array.isArray(t))for(var e=0,n=t.length;e<n;e++)this.add(t[e])}M0.prototype.add=function(t){return this._store.set(t,!0)};M0.prototype.has=function(t){return this._store.has(t)};M0.prototype.forEach=function(t){this._store.forEach(function(e,n){t(n)})};Object.defineProperty(M0.prototype,"size",{get:function(){return this._store.size}});function Eae(){if(typeof Symbol>"u"||typeof Map>"u"||typeof Set>"u")return!1;var t=Object.getOwnPropertyDescriptor(Map,Symbol.species);return t&&"get"in t&&Map[Symbol.species]===Map}var fc,lr;Eae()?(fc=Set,lr=Map):(fc=M0,lr=rs);function Cae(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer||typeof Blob<"u"&&t instanceof Blob}function Tae(t){if(typeof t.slice=="function")return t.slice(0);var e=new ArrayBuffer(t.byteLength),n=new Uint8Array(e),r=new Uint8Array(t);return n.set(r),e}function Aae(t){if(t instanceof ArrayBuffer)return Tae(t);var e=t.size,n=t.type;return typeof t.slice=="function"?t.slice(0,e,n):t.webkitSlice(0,e,n)}var mM=Function.prototype.toString,Oae=mM.call(Object);function Mae(t){var e=Object.getPrototypeOf(t);if(e===null)return!0;var n=e.constructor;return typeof n=="function"&&n instanceof n&&mM.call(n)==Oae}function nn(t){var e,n,r;if(!t||typeof t!="object")return t;if(Array.isArray(t)){for(e=[],n=0,r=t.length;n<r;n++)e[n]=nn(t[n]);return e}if(t instanceof Date&&isFinite(t))return t.toISOString();if(Cae(t))return Aae(t);if(!Mae(t))return t;e={};for(n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=nn(t[n]);typeof i<"u"&&(e[n]=i)}return e}function gM(t){var e=!1;return Rc(function(n){if(e)throw new Error("once called more than once");e=!0,t.apply(this,n)})}function vM(t){return Rc(function(e){e=nn(e);var n=this,r=typeof e[e.length-1]=="function"?e.pop():!1,i=new Promise(function(o,s){var a;try{var l=gM(function(u,c){u?s(u):o(c)});e.push(l),a=t.apply(n,e),a&&typeof a.then=="function"&&o(a)}catch(u){s(u)}});return r&&i.then(function(o){r(null,o)},r),i})}function Nae(t,e,n){if(t.constructor.listeners("debug").length){for(var r=["api",t.name,e],i=0;i<n.length-1;i++)r.push(n[i]);t.constructor.emit("debug",r);var o=n[n.length-1];n[n.length-1]=function(s,a){var l=["api",t.name,e];l=l.concat(s?["error",s]:["success",a]),t.constructor.emit("debug",l),o(s,a)}}}function Xt(t,e){return vM(Rc(function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var r=this;return Nae(r,t,n),this.taskqueue.isReady?e.apply(this,n):new Promise(function(i,o){r.taskqueue.addTask(function(s){s?o(s):i(r[t].apply(r,n))})})}))}function N0(t,e){for(var n={},r=0,i=e.length;r<i;r++){var o=e[r];o in t&&(n[o]=t[o])}return n}var Rae=6;function eS(t){return t}function Dae(t){return[{ok:t}]}function yM(t,e,n){var r=e.docs,i=new lr;r.forEach(function(y){i.has(y.id)?i.get(y.id).push(y):i.set(y.id,[y])});var o=i.size,s=0,a=new Array(o);function l(){var y=[];a.forEach(function(S){S.docs.forEach(function(v){y.push({id:S.id,docs:[v]})})}),n(null,{results:y})}function u(){++s===o&&l()}function c(y,S,v){a[y]={id:S,docs:v},u()}var f=[];i.forEach(function(y,S){f.push(S)});var d=0;function h(){if(!(d>=f.length)){var y=Math.min(d+Rae,f.length),S=f.slice(d,y);g(S,d),d+=S.length}}function g(y,S){y.forEach(function(v,m){var p=S+m,x=i.get(v),b=N0(x[0],["atts_since","attachments"]);b.open_revs=x.map(function(T){return T.rev}),b.open_revs=b.open_revs.filter(eS);var _=eS;b.open_revs.length===0&&(delete b.open_revs,_=Dae),["revs","attachments","binary","ajax","latest"].forEach(function(T){T in e&&(b[T]=e[T])}),t.get(v,b,function(T,M){var N;T?N=[{error:T}]:N=_(M),c(p,v,N),h()})})}h()}var e2;try{localStorage.setItem("_pouch_check_localstorage",1),e2=!!localStorage.getItem("_pouch_check_localstorage")}catch{e2=!1}function Y1(){return e2}Or.exports(Dc,je);function Iae(t){Y1()&&addEventListener("storage",function(e){t.emit(e.key)})}function Dc(){je.call(this),this._listeners={},Iae(this)}Dc.prototype.addListener=function(t,e,n,r){if(this._listeners[e])return;var i=this,o=!1;function s(){if(!i._listeners[e])return;if(o){o="waiting";return}o=!0;var a=N0(r,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);function l(){o=!1}n.changes(a).on("change",function(u){u.seq>r.since&&!r.cancelled&&(r.since=u.seq,r.onChange(u))}).on("complete",function(){o==="waiting"&&uo(s),o=!1}).on("error",l)}this._listeners[e]=s,this.on(t,s)};Dc.prototype.removeListener=function(t,e){e in this._listeners&&(je.prototype.removeListener.call(this,t,this._listeners[e]),delete this._listeners[e])};Dc.prototype.notifyLocalWindows=function(t){Y1()&&(localStorage[t]=localStorage[t]==="a"?"b":"a")};Dc.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)};function Zr(t){if(typeof console<"u"&&typeof console[t]=="function"){var e=Array.prototype.slice.call(arguments,1);console[t].apply(console,e)}}function Pae(t,e){var n=6e5;t=parseInt(t,10)||0,e=parseInt(e,10),e!==e||e<=t?e=(t||1)<<1:e=e+1,e>n&&(t=n>>1,e=n);var r=Math.random(),i=e-t;return~~(i*r+t)}function Lae(t){var e=0;return t||(e=2e3),Pae(t,e)}function t2(t,e){Zr("info","The above "+t+" is totally normal. "+e)}var n2;typeof Object.assign=="function"?n2=Object.assign:n2=function(t){for(var e=Object(t),n=1;n<arguments.length;n++){var r=arguments[n];if(r!=null)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e};var Cl=n2;Or.exports(ft,Error);function ft(t,e,n){Error.call(this,n),this.status=t,this.name=e,this.message=n,this.error=!0}ft.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new ft(401,"unauthorized","Name or password is incorrect.");var zae=new ft(400,"bad_request","Missing JSON list of 'docs'"),mi=new ft(404,"not_found","missing"),dc=new ft(409,"conflict","Document update conflict"),xM=new ft(400,"bad_request","_id field must contain a string"),Bae=new ft(412,"missing_id","_id is required for puts"),$ae=new ft(400,"bad_request","Only reserved document ids may start with underscore.");new ft(412,"precondition_failed","Database not open");var wM=new ft(500,"unknown_error","Database encountered an unknown error"),bM=new ft(500,"badarg","Some query argument is invalid");new ft(400,"invalid_request","Request was invalid");var Fae=new ft(400,"query_parse_error","Some query parameter is invalid"),tS=new ft(500,"doc_validation","Bad special document member"),X1=new ft(400,"bad_request","Something wrong with the request"),$6=new ft(400,"bad_request","Document must be a JSON object");new ft(404,"not_found","Database not found");var F6=new ft(500,"indexed_db_went_bad","unknown");new ft(500,"web_sql_went_bad","unknown");new ft(500,"levelDB_went_went_bad","unknown");new ft(403,"forbidden","Forbidden by design doc validate_doc_update function");var SM=new ft(400,"bad_request","Invalid rev format");new ft(412,"file_exists","The database could not be created, the file already exists.");var Vae=new ft(412,"missing_stub","A pre-existing attachment stub wasn't found");new ft(413,"invalid_url","Provided URL is invalid");function Ue(t,e){function n(r){for(var i=Object.getOwnPropertyNames(t),o=0,s=i.length;o<s;o++)typeof t[i[o]]!="function"&&(this[i[o]]=t[i[o]]);this.stack===void 0&&(this.stack=new Error().stack),r!==void 0&&(this.reason=r)}return n.prototype=ft.prototype,new n(e)}function hc(t){if(typeof t!="object"){var e=t;t=wM,t.data=e}return"error"in t&&t.error==="conflict"&&(t.name="conflict",t.status=409),"name"in t||(t.name=t.error||"unknown"),"status"in t||(t.status=500),"message"in t||(t.message=t.message||t.reason),"stack"in t||(t.stack=new Error().stack),t}function Uae(t,e,n){try{return!t(e,n)}catch(i){var r="Filter function threw: "+i.toString();return Ue(X1,r)}}function V6(t){var e={},n=t.filter&&typeof t.filter=="function";return e.query=t.query_params,function(i){i.doc||(i.doc={});var o=n&&Uae(t.filter,i.doc,e);if(typeof o=="object")return o;if(o)return!1;if(!t.include_docs)delete i.doc;else if(!t.attachments)for(var s in i.doc._attachments)Object.prototype.hasOwnProperty.call(i.doc._attachments,s)&&(i.doc._attachments[s].stub=!0);return!0}}function Am(t){for(var e=[],n=0,r=t.length;n<r;n++)e=e.concat(t[n]);return e}function kM(t){var e;if(t?typeof t!="string"?e=Ue(xM):/^_/.test(t)&&!/^_(design|local)/.test(t)&&(e=Ue($ae)):e=Ue(Bae),e)throw e}function co(t){return typeof t._remote=="boolean"?t._remote:typeof t.type=="function"?(Zr("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),t.type()==="http"):!1}function Hae(t,e){return"listenerCount"in t?t.listenerCount(e):je.listenerCount(t,e)}function r2(t){if(!t)return null;var e=t.split("/");return e.length===2?e:e.length===1?[t,t]:null}function nS(t){var e=r2(t);return e?e.join("/"):null}var rS=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],iS="queryKey",jae=/(?:^|&)([^&=]*)=?([^&]*)/g,qae=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function _M(t){for(var e=qae.exec(t),n={},r=14;r--;){var i=rS[r],o=e[r]||"",s=["user","password"].indexOf(i)!==-1;n[i]=s?decodeURIComponent(o):o}return n[iS]={},n[rS[12]].replace(jae,function(a,l,u){l&&(n[iS][l]=u)}),n}function U6(t,e){var n=[],r=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(n.push(i),r.push(e[i]));return n.push(t),Function.apply(null,n).apply(null,r)}function J1(t,e,n){return t.get(e).catch(function(r){if(r.status!==404)throw r;return{}}).then(function(r){var i=r._rev,o=n(r);return o?(o._id=e,o._rev=i,Wae(t,o,n)):{updated:!1,rev:i}})}function Wae(t,e,n){return t.put(e).then(function(r){return{updated:!0,rev:r.rev}},function(r){if(r.status!==409)throw r;return J1(t,e._id,n)})}var H6=function(t){return atob(t)},R0=function(t){return btoa(t)};function j6(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(o){if(o.name!=="TypeError")throw o;for(var n=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,r=new n,i=0;i<t.length;i+=1)r.append(t[i]);return r.getBlob(e.type)}}function Kae(t){for(var e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n),i=0;i<e;i++)r[i]=t.charCodeAt(i);return n}function q6(t,e){return j6([Kae(t)],{type:e})}function W6(t,e){return q6(H6(t),e)}function Gae(t){for(var e="",n=new Uint8Array(t),r=n.byteLength,i=0;i<r;i++)e+=String.fromCharCode(n[i]);return e}function EM(t,e){var n=new FileReader,r=typeof n.readAsBinaryString=="function";n.onloadend=function(i){var o=i.target.result||"";if(r)return e(o);e(Gae(o))},r?n.readAsBinaryString(t):n.readAsArrayBuffer(t)}function CM(t,e){EM(t,function(n){e(n)})}function K6(t,e){CM(t,function(n){e(R0(n))})}function Yae(t,e){var n=new FileReader;n.onloadend=function(r){var i=r.target.result||new ArrayBuffer(0);e(i)},n.readAsArrayBuffer(t)}var Xae=self.setImmediate||self.setTimeout,Jae=32768;function Qae(t){return R0(t)}function Zae(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.slice(e,n)}function ele(t,e,n,r,i){(n>0||r<e.size)&&(e=Zae(e,n,r)),Yae(e,function(o){t.append(o),i()})}function tle(t,e,n,r,i){(n>0||r<e.length)&&(e=e.substring(n,r)),t.appendBinary(e),i()}function G6(t,e){var n=typeof t=="string",r=n?t.length:t.size,i=Math.min(Jae,r),o=Math.ceil(r/i),s=0,a=n?new Z4:new Z4.ArrayBuffer,l=n?tle:ele;function u(){Xae(f)}function c(){var d=a.end(!0),h=Qae(d);e(h),a.destroy()}function f(){var d=s*i,h=d+i;s++,s<o?l(a,t,d,h,u):l(a,t,d,h,c)}f()}function TM(t){return Z4.hash(t)}function AM(t,e){if(!e)return lM().replace(/-/g,"").toLowerCase();var n=Cl({},t);return delete n._rev_tree,TM(JSON.stringify(n))}var Q1=lM;function Tl(t){for(var e,n,r,i=t.rev_tree.slice(),o;o=i.pop();){var s=o.ids,a=s[2],l=o.pos;if(a.length){for(var u=0,c=a.length;u<c;u++)i.push({pos:l+1,ids:a[u]});continue}var f=!!s[1].deleted,d=s[0];(!e||(r!==f?r:n!==l?n<l:e<d))&&(e=d,n=l,r=f)}return n+"-"+e}function $l(t,e){for(var n=t.slice(),r;r=n.pop();)for(var i=r.pos,o=r.ids,s=o[2],a=e(s.length===0,i,o[0],r.ctx,o[1]),l=0,u=s.length;l<u;l++)n.push({pos:i+1,ids:s[l],ctx:a})}function nle(t,e){return t.pos-e.pos}function Y6(t){var e=[];$l(t,function(i,o,s,a,l){i&&e.push({rev:o+"-"+s,pos:o,opts:l})}),e.sort(nle).reverse();for(var n=0,r=e.length;n<r;n++)delete e[n].pos;return e}function X6(t){for(var e=Tl(t),n=Y6(t.rev_tree),r=[],i=0,o=n.length;i<o;i++){var s=n[i];s.rev!==e&&!s.opts.deleted&&r.push(s.rev)}return r}function rle(t){var e=[];return $l(t.rev_tree,function(n,r,i,o,s){s.status==="available"&&!n&&(e.push(r+"-"+i),s.status="missing")}),e}function OM(t){for(var e=[],n=t.slice(),r;r=n.pop();){var i=r.pos,o=r.ids,s=o[0],a=o[1],l=o[2],u=l.length===0,c=r.history?r.history.slice():[];c.push({id:s,opts:a}),u&&e.push({pos:i+1-c.length,ids:c});for(var f=0,d=l.length;f<d;f++)n.push({pos:i+1,ids:l[f],history:c})}return e.reverse()}function ile(t,e){return t.pos-e.pos}function ole(t,e,n){for(var r=0,i=t.length,o;r<i;)o=r+i>>>1,n(t[o],e)<0?r=o+1:i=o;return r}function sle(t,e,n){var r=ole(t,e,n);t.splice(r,0,e)}function oS(t,e){for(var n,r,i=e,o=t.length;i<o;i++){var s=t[i],a=[s.id,s.opts,[]];r?(r[2].push(a),r=a):n=r=a}return n}function ale(t,e){return t[0]<e[0]?-1:1}function sS(t,e){for(var n=[{tree1:t,tree2:e}],r=!1;n.length>0;){var i=n.pop(),o=i.tree1,s=i.tree2;(o[1].status||s[1].status)&&(o[1].status=o[1].status==="available"||s[1].status==="available"?"available":"missing");for(var a=0;a<s[2].length;a++){if(!o[2][0]){r="new_leaf",o[2][0]=s[2][a];continue}for(var l=!1,u=0;u<o[2].length;u++)o[2][u][0]===s[2][a][0]&&(n.push({tree1:o[2][u],tree2:s[2][a]}),l=!0);l||(r="new_branch",sle(o[2],s[2][a],ale))}}return{conflicts:r,tree:t}}function MM(t,e,n){var r=[],i=!1,o=!1,s;if(!t.length)return{tree:[e],conflicts:"new_leaf"};for(var a=0,l=t.length;a<l;a++){var u=t[a];if(u.pos===e.pos&&u.ids[0]===e.ids[0])s=sS(u.ids,e.ids),r.push({pos:u.pos,ids:s.tree}),i=i||s.conflicts,o=!0;else if(n!==!0){var c=u.pos<e.pos?u:e,f=u.pos<e.pos?e:u,d=f.pos-c.pos,h=[],g=[];for(g.push({ids:c.ids,diff:d,parent:null,parentIdx:null});g.length>0;){var y=g.pop();if(y.diff===0){y.ids[0]===f.ids[0]&&h.push(y);continue}for(var S=y.ids[2],v=0,m=S.length;v<m;v++)g.push({ids:S[v],diff:y.diff-1,parent:y.ids,parentIdx:v})}var p=h[0];p?(s=sS(p.ids,f.ids),p.parent[2][p.parentIdx]=s.tree,r.push({pos:c.pos,ids:c.ids}),i=i||s.conflicts,o=!0):r.push(u)}else r.push(u)}return o||r.push(e),r.sort(ile),{tree:r,conflicts:i||"internal_node"}}function lle(t,e){for(var n=OM(t),r,i,o=0,s=n.length;o<s;o++){var a=n[o],l=a.ids,u;if(l.length>e){r||(r={});var c=l.length-e;u={pos:a.pos+c,ids:oS(l,c)};for(var f=0;f<c;f++){var d=a.pos+f+"-"+l[f].id;r[d]=!0}}else u={pos:a.pos,ids:oS(l,0)};i?i=MM(i,u,!0).tree:i=[u]}return r&&$l(i,function(h,g,y){delete r[g+"-"+y]}),{tree:i,revs:r?Object.keys(r):[]}}function NM(t,e,n){var r=MM(t,e),i=lle(r.tree,n);return{tree:i.tree,stemmedRevs:i.revs,conflicts:r.conflicts}}function ule(t,e){for(var n=t.slice(),r=e.split("-"),i=parseInt(r[0],10),o=r[1],s;s=n.pop();){if(s.pos===i&&s.ids[0]===o)return!0;for(var a=s.ids[2],l=0,u=a.length;l<u;l++)n.push({pos:s.pos+1,ids:a[l]})}return!1}function cle(t){return t.ids}function Lo(t,e){e||(e=Tl(t));for(var n=e.substring(e.indexOf("-")+1),r=t.rev_tree.map(cle),i;i=r.pop();){if(i[0]===n)return!!i[1].deleted;r=r.concat(i[2])}}function Al(t){return/^_local/.test(t)}function fle(t,e){for(var n=e.rev_tree.slice(),r;r=n.pop();){var i=r.pos,o=r.ids,s=o[0],a=o[1],l=o[2],u=l.length===0,c=r.history?r.history.slice():[];if(c.push({id:s,pos:i,opts:a}),u)for(var f=0,d=c.length;f<d;f++){var h=c[f],g=h.pos+"-"+h.id;if(g===t)return i+"-"+s}for(var y=0,S=l.length;y<S;y++)n.push({pos:i+1,ids:l[y],history:c})}throw new Error("Unable to resolve latest revision for id "+e.id+", rev "+t)}Or.exports(D0,je);function dle(t,e,n,r){try{t.emit("change",e,n,r)}catch(i){Zr("error",'Error in .on("change", function):',i)}}function D0(t,e,n){je.call(this);var r=this;this.db=t,e=e?nn(e):{};var i=e.complete=gM(function(a,l){a?Hae(r,"error")>0&&r.emit("error",a):r.emit("complete",l),r.removeAllListeners(),t.removeListener("destroyed",o)});n&&(r.on("complete",function(a){n(null,a)}),r.on("error",n));function o(){r.cancel()}t.once("destroyed",o),e.onChange=function(a,l,u){r.isCancelled||dle(r,a,l,u)};var s=new Promise(function(a,l){e.complete=function(u,c){u?l(u):a(c)}});r.once("cancel",function(){t.removeListener("destroyed",o),e.complete(null,{status:"cancelled"})}),this.then=s.then.bind(s),this.catch=s.catch.bind(s),this.then(function(a){i(null,a)},i),t.taskqueue.isReady?r.validateChanges(e):t.taskqueue.addTask(function(a){a?e.complete(a):r.isCancelled?r.emit("cancel"):r.validateChanges(e)})}D0.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")};function hle(t,e,n){var r=[{rev:t._rev}];n.style==="all_docs"&&(r=Y6(e.rev_tree).map(function(o){return{rev:o.rev}}));var i={id:e.id,changes:r,doc:t};return Lo(e,t._rev)&&(i.deleted=!0),n.conflicts&&(i.doc._conflicts=X6(e),i.doc._conflicts.length||delete i.doc._conflicts),i}D0.prototype.validateChanges=function(t){var e=t.complete,n=this;ze._changesFilterPlugin?ze._changesFilterPlugin.validate(t,function(r){if(r)return e(r);n.doChanges(t)}):n.doChanges(t)};D0.prototype.doChanges=function(t){var e=this,n=t.complete;if(t=nn(t),"live"in t&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=hle,t.since==="latest"&&(t.since="now"),t.since||(t.since=0),t.since==="now"){this.db.info().then(function(o){if(e.isCancelled){n(null,{status:"cancelled"});return}t.since=o.update_seq,e.doChanges(t)},n);return}if(ze._changesFilterPlugin){if(ze._changesFilterPlugin.normalize(t),ze._changesFilterPlugin.shouldFilter(this,t))return ze._changesFilterPlugin.filter(this,t)}else["doc_ids","filter","selector","view"].forEach(function(o){o in t&&Zr("warn",'The "'+o+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in t||(t.descending=!1),t.limit=t.limit===0?1:t.limit,t.complete=n;var r=this.db._changes(t);if(r&&typeof r.cancel=="function"){var i=e.cancel;e.cancel=Rc(function(o){r.cancel(),i.apply(this,o)})}};function aS(t,e){return t<e?-1:t>e?1:0}function J6(t,e){return function(n,r){n||r[0]&&r[0].error?(n=n||r[0],n.docId=e,t(n)):t(null,r.length?r[0]:r)}}function ple(t){for(var e=0;e<t.length;e++){var n=t[e];if(n._deleted)delete n._attachments;else if(n._attachments)for(var r=Object.keys(n._attachments),i=0;i<r.length;i++){var o=r[i];n._attachments[o]=N0(n._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}function mle(t,e){var n=aS(t._id,e._id);if(n!==0)return n;var r=t._revisions?t._revisions.start:0,i=e._revisions?e._revisions.start:0;return aS(r,i)}function gle(t){var e={},n=[];return $l(t,function(r,i,o,s){var a=i+"-"+o;return r&&(e[a]=0),s!==void 0&&n.push({from:s,to:a}),a}),n.reverse(),n.forEach(function(r){e[r.from]===void 0?e[r.from]=1+e[r.to]:e[r.from]=Math.min(e[r.from],1+e[r.to])}),e}function vle(t){var e="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;t.keys=e,t.skip=0,delete t.limit,t.descending&&(e.reverse(),t.descending=!1)}function RM(t){var e=t._compactionQueue[0],n=e.opts,r=e.callback;t.get("_local/compaction").catch(function(){return!1}).then(function(i){i&&i.last_seq&&(n.last_seq=i.last_seq),t._compact(n,function(o,s){o?r(o):r(null,s),uo(function(){t._compactionQueue.shift(),t._compactionQueue.length&&RM(t)})})})}function yle(t){return t.charAt(0)==="_"?t+" is not a valid attachment name, attachment names cannot start with '_'":!1}Or.exports(bt,je);function bt(){je.call(this);for(var t in bt.prototype)typeof this[t]=="function"&&(this[t]=this[t].bind(this))}bt.prototype.post=Xt("post",function(t,e,n){if(typeof e=="function"&&(n=e,e={}),typeof t!="object"||Array.isArray(t))return n(Ue($6));this.bulkDocs({docs:[t]},e,J6(n,t._id))});bt.prototype.put=Xt("put",function(t,e,n){if(typeof e=="function"&&(n=e,e={}),typeof t!="object"||Array.isArray(t))return n(Ue($6));if(kM(t._id),Al(t._id)&&typeof this._putLocal=="function")return t._deleted?this._removeLocal(t,n):this._putLocal(t,n);var r=this;e.force&&t._rev?(i(),o(function(s){var a=s?null:{ok:!0,id:t._id,rev:t._rev};n(s,a)})):o(n);function i(){var s=t._rev.split("-"),a=s[1],l=parseInt(s[0],10),u=l+1,c=AM();t._revisions={start:u,ids:[c,a]},t._rev=u+"-"+c,e.new_edits=!1}function o(s){typeof r._put=="function"&&e.new_edits!==!1?r._put(t,e,s):r.bulkDocs({docs:[t]},e,J6(s,t._id))}});bt.prototype.putAttachment=Xt("putAttachment",function(t,e,n,r,i){var o=this;typeof i=="function"&&(i=r,r=n,n=null),typeof i>"u"&&(i=r,r=n,n=null),i||Zr("warn","Attachment",e,"on document",t,"is missing content_type");function s(a){var l="_rev"in a?parseInt(a._rev,10):0;return a._attachments=a._attachments||{},a._attachments[e]={content_type:i,data:r,revpos:++l},o.put(a)}return o.get(t).then(function(a){if(a._rev!==n)throw Ue(dc);return s(a)},function(a){if(a.reason===mi.message)return s({_id:t});throw a})});bt.prototype.removeAttachment=Xt("removeAttachment",function(t,e,n,r){var i=this;i.get(t,function(o,s){if(o){r(o);return}if(s._rev!==n){r(Ue(dc));return}if(!s._attachments)return r();delete s._attachments[e],Object.keys(s._attachments).length===0&&delete s._attachments,i.put(s,r)})});bt.prototype.remove=Xt("remove",function(t,e,n,r){var i;typeof e=="string"?(i={_id:t,_rev:e},typeof n=="function"&&(r=n,n={})):(i=t,typeof e=="function"?(r=e,n={}):(r=n,n=e)),n=n||{},n.was_delete=!0;var o={_id:i._id,_rev:i._rev||n.rev};if(o._deleted=!0,Al(o._id)&&typeof this._removeLocal=="function")return this._removeLocal(i,r);this.bulkDocs({docs:[o]},n,J6(r,o._id))});bt.prototype.revsDiff=Xt("revsDiff",function(t,e,n){typeof e=="function"&&(n=e,e={});var r=Object.keys(t);if(!r.length)return n(null,{});var i=0,o=new lr;function s(l,u){o.has(l)||o.set(l,{missing:[]}),o.get(l).missing.push(u)}function a(l,u){var c=t[l].slice(0);$l(u,function(f,d,h,g,y){var S=d+"-"+h,v=c.indexOf(S);v!==-1&&(c.splice(v,1),y.status!=="available"&&s(l,S))}),c.forEach(function(f){s(l,f)})}r.map(function(l){this._getRevisionTree(l,function(u,c){if(u&&u.status===404&&u.message==="missing")o.set(l,{missing:t[l]});else{if(u)return n(u);a(l,c)}if(++i===r.length){var f={};return o.forEach(function(d,h){f[h]=d}),n(null,f)}})},this)});bt.prototype.bulkGet=Xt("bulkGet",function(t,e){yM(this,t,e)});bt.prototype.compactDocument=Xt("compactDocument",function(t,e,n){var r=this;this._getRevisionTree(t,function(i,o){if(i)return n(i);var s=gle(o),a=[],l=[];Object.keys(s).forEach(function(u){s[u]>e&&a.push(u)}),$l(o,function(u,c,f,d,h){var g=c+"-"+f;h.status==="available"&&a.indexOf(g)!==-1&&l.push(g)}),r._doCompaction(t,l,n)})});bt.prototype.compact=Xt("compact",function(t,e){typeof t=="function"&&(e=t,t={});var n=this;t=t||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:t,callback:e}),n._compactionQueue.length===1&&RM(n)});bt.prototype._compact=function(t,e){var n=this,r={return_docs:!1,last_seq:t.last_seq||0},i=[];function o(a){i.push(n.compactDocument(a.id,0))}function s(a){var l=a.last_seq;Promise.all(i).then(function(){return J1(n,"_local/compaction",function(c){return!c.last_seq||c.last_seq<l?(c.last_seq=l,c):!1})}).then(function(){e(null,{ok:!0})}).catch(e)}n.changes(r).on("change",o).on("complete",s).on("error",e)};bt.prototype.get=Xt("get",function(t,e,n){if(typeof e=="function"&&(n=e,e={}),typeof t!="string")return n(Ue(xM));if(Al(t)&&typeof this._getLocal=="function")return this._getLocal(t,n);var r=[],i=this;function o(){var l=[],u=r.length;if(!u)return n(null,l);r.forEach(function(c){i.get(t,{rev:c,revs:e.revs,latest:e.latest,attachments:e.attachments,binary:e.binary},function(f,d){if(f)l.push({missing:c});else{for(var h,g=0,y=l.length;g<y;g++)if(l[g].ok&&l[g].ok._rev===d._rev){h=!0;break}h||l.push({ok:d})}u--,u||n(null,l)})})}if(e.open_revs){if(e.open_revs==="all")this._getRevisionTree(t,function(l,u){if(l)return n(l);r=Y6(u).map(function(c){return c.rev}),o()});else if(Array.isArray(e.open_revs)){r=e.open_revs;for(var s=0;s<r.length;s++){var a=r[s];if(!(typeof a=="string"&&/^\d+-/.test(a)))return n(Ue(SM))}o()}else return n(Ue(wM,"function_clause"));return}return this._get(t,e,function(l,u){if(l)return l.docId=t,n(l);var c=u.doc,f=u.metadata,d=u.ctx;if(e.conflicts){var h=X6(f);h.length&&(c._conflicts=h)}if(Lo(f,c._rev)&&(c._deleted=!0),e.revs||e.revs_info){for(var g=c._rev.split("-"),y=parseInt(g[0],10),S=g[1],v=OM(f.rev_tree),m=null,p=0;p<v.length;p++){var x=v[p],b=x.ids.map(function(oe){return oe.id}).indexOf(S),_=b===y-1;(_||!m&&b!==-1)&&(m=x)}if(!m)return l=new Error("invalid rev tree"),l.docId=t,n(l);var T=m.ids.map(function(oe){return oe.id}).indexOf(c._rev.split("-")[1])+1,M=m.ids.length-T;if(m.ids.splice(T,M),m.ids.reverse(),e.revs&&(c._revisions={start:m.pos+m.ids.length-1,ids:m.ids.map(function(oe){return oe.id})}),e.revs_info){var N=m.pos+m.ids.length;c._revs_info=m.ids.map(function(oe){return N--,{rev:N+"-"+oe.id,status:oe.opts.status}})}}if(e.attachments&&c._attachments){var $=c._attachments,W=Object.keys($).length;if(W===0)return n(null,c);Object.keys($).forEach(function(oe){this._getAttachment(c._id,oe,$[oe],{rev:c._rev,binary:e.binary,ctx:d},function(H,K){var q=c._attachments[oe];q.data=K,delete q.stub,delete q.length,--W||n(null,c)})},i)}else{if(c._attachments)for(var X in c._attachments)Object.prototype.hasOwnProperty.call(c._attachments,X)&&(c._attachments[X].stub=!0);n(null,c)}})});bt.prototype.getAttachment=Xt("getAttachment",function(t,e,n,r){var i=this;n instanceof Function&&(r=n,n={}),this._get(t,n,function(o,s){if(o)return r(o);if(s.doc._attachments&&s.doc._attachments[e])n.ctx=s.ctx,n.binary=!0,i._getAttachment(t,e,s.doc._attachments[e],n,r);else return r(Ue(mi))})});bt.prototype.allDocs=Xt("allDocs",function(t,e){if(typeof t=="function"&&(e=t,t={}),t.skip=typeof t.skip<"u"?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return e(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(r){return r in t})[0];if(n){e(Ue(Fae,"Query parameter `"+n+"` is not compatible with multi-get"));return}if(!co(this)&&(vle(t),t.keys.length===0))return this._allDocs({limit:0},e)}return this._allDocs(t,e)});bt.prototype.changes=function(t,e){return typeof t=="function"&&(e=t,t={}),t=t||{},t.return_docs="return_docs"in t?t.return_docs:!t.live,new D0(this,t,e)};bt.prototype.close=Xt("close",function(t){return this._closed=!0,this.emit("closed"),this._close(t)});bt.prototype.info=Xt("info",function(t){var e=this;this._info(function(n,r){if(n)return t(n);r.db_name=r.db_name||e.name,r.auto_compaction=!!(e.auto_compaction&&!co(e)),r.adapter=e.adapter,t(null,r)})});bt.prototype.id=Xt("id",function(t){return this._id(t)});bt.prototype.type=function(){return typeof this._type=="function"?this._type():this.adapter};bt.prototype.bulkDocs=Xt("bulkDocs",function(t,e,n){if(typeof e=="function"&&(n=e,e={}),e=e||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return n(Ue(zae));for(var r=0;r<t.docs.length;++r)if(typeof t.docs[r]!="object"||Array.isArray(t.docs[r]))return n(Ue($6));var i;if(t.docs.forEach(function(a){a._attachments&&Object.keys(a._attachments).forEach(function(l){i=i||yle(l),a._attachments[l].content_type||Zr("warn","Attachment",l,"on document",a._id,"is missing content_type")})}),i)return n(Ue(X1,i));"new_edits"in e||("new_edits"in t?e.new_edits=t.new_edits:e.new_edits=!0);var o=this;!e.new_edits&&!co(o)&&t.docs.sort(mle),ple(t.docs);var s=t.docs.map(function(a){return a._id});return this._bulkDocs(t,e,function(a,l){if(a)return n(a);if(e.new_edits||(l=l.filter(function(f){return f.error})),!co(o))for(var u=0,c=l.length;u<c;u++)l[u].id=l[u].id||s[u];n(null,l)})});bt.prototype.registerDependentDatabase=Xt("registerDependentDatabase",function(t,e){var n=nn(this.__opts);this.__opts.view_adapter&&(n.adapter=this.__opts.view_adapter);var r=new this.constructor(t,n);function i(o){return o.dependentDbs=o.dependentDbs||{},o.dependentDbs[t]?!1:(o.dependentDbs[t]=!0,o)}J1(this,"_local/_pouch_dependentDbs",i).then(function(){e(null,{db:r})}).catch(e)});bt.prototype.destroy=Xt("destroy",function(t,e){typeof t=="function"&&(e=t,t={});var n=this,r="use_prefix"in n?n.use_prefix:!0;function i(){n._destroy(t,function(o,s){if(o)return e(o);n._destroyed=!0,n.emit("destroyed"),e(null,s||{ok:!0})})}if(co(n))return i();n.get("_local/_pouch_dependentDbs",function(o,s){if(o)return o.status!==404?e(o):i();var a=s.dependentDbs,l=n.constructor,u=Object.keys(a).map(function(c){var f=r?c.replace(new RegExp("^"+l.prefix),""):c;return new l(f,n.__opts).destroy()});Promise.all(u).then(i,e)})});function I0(){this.isReady=!1,this.failed=!1,this.queue=[]}I0.prototype.execute=function(){var t;if(this.failed)for(;t=this.queue.shift();)t(this.failed);else for(;t=this.queue.shift();)t()};I0.prototype.fail=function(t){this.failed=t,this.execute()};I0.prototype.ready=function(t){this.isReady=!0,this.db=t,this.execute()};I0.prototype.addTask=function(t){this.queue.push(t),this.failed&&this.execute()};function xle(t,e){var n=t.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var r=ze.adapters,i=ze.preferredAdapters,o=ze.prefix,s=e.adapter;if(!s)for(var a=0;a<i.length;++a){if(s=i[a],s==="idb"&&"websql"in r&&Y1()&&localStorage["_pouch__websqldb_"+o+t]){Zr("log",'PouchDB is downgrading "'+t+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');continue}break}var l=r[s],u=l&&"use_prefix"in l?l.use_prefix:!0;return{name:u?o+t:t,adapter:s}}function wle(t){function e(r){t.removeListener("closed",n),r||t.constructor.emit("destroyed",t.name)}function n(){t.removeListener("destroyed",e),t.constructor.emit("unref",t)}t.once("destroyed",e),t.once("closed",n),t.constructor.emit("ref",t)}Or.exports(ze,bt);function ze(t,e){if(!(this instanceof ze))return new ze(t,e);var n=this;if(e=e||{},t&&typeof t=="object"&&(e=t,t=e.name,delete e.name),e.deterministic_revs===void 0&&(e.deterministic_revs=!0),this.__opts=e=nn(e),n.auto_compaction=e.auto_compaction,n.prefix=ze.prefix,typeof t!="string")throw new Error("Missing/invalid DB name");var r=(e.prefix||"")+t,i=xle(r,e);if(e.name=i.name,e.adapter=e.adapter||i.adapter,n.name=t,n._adapter=e.adapter,ze.emit("debug",["adapter","Picked adapter: ",e.adapter]),!ze.adapters[e.adapter]||!ze.adapters[e.adapter].valid())throw new Error("Invalid Adapter: "+e.adapter);if(e.view_adapter&&(!ze.adapters[e.view_adapter]||!ze.adapters[e.view_adapter].valid()))throw new Error("Invalid View Adapter: "+e.view_adapter);bt.call(n),n.taskqueue=new I0,n.adapter=e.adapter,ze.adapters[e.adapter].call(n,e,function(o){if(o)return n.taskqueue.fail(o);wle(n),n.emit("created",n),ze.emit("created",n.name),n.taskqueue.ready(n)})}var ble=typeof AbortController<"u"?AbortController:function(){return{abort:function(){}}},DM=fetch,Fu=Headers;ze.adapters={};ze.preferredAdapters=[];ze.prefix="_pouch_";var lS=new je;function Sle(t){Object.keys(je.prototype).forEach(function(n){typeof je.prototype[n]=="function"&&(t[n]=lS[n].bind(lS))});var e=t._destructionListeners=new lr;t.on("ref",function(r){e.has(r.name)||e.set(r.name,[]),e.get(r.name).push(r)}),t.on("unref",function(r){if(!!e.has(r.name)){var i=e.get(r.name),o=i.indexOf(r);o<0||(i.splice(o,1),i.length>1?e.set(r.name,i):e.delete(r.name))}}),t.on("destroyed",function(r){if(!!e.has(r)){var i=e.get(r);e.delete(r),i.forEach(function(o){o.emit("destroyed",!0)})}})}Sle(ze);ze.adapter=function(t,e,n){e.valid()&&(ze.adapters[t]=e,n&&ze.preferredAdapters.push(t))};ze.plugin=function(t){if(typeof t=="function")t(ze);else{if(typeof t!="object"||Object.keys(t).length===0)throw new Error('Invalid plugin: got "'+t+'", expected an object or a function');Object.keys(t).forEach(function(e){ze.prototype[e]=t[e]})}return this.__defaults&&(ze.__defaults=Cl({},this.__defaults)),ze};ze.defaults=function(t){function e(n,r){if(!(this instanceof e))return new e(n,r);r=r||{},n&&typeof n=="object"&&(r=n,n=r.name,delete r.name),r=Cl({},e.__defaults,r),ze.call(this,n,r)}return Or.exports(e,ze),e.preferredAdapters=ze.preferredAdapters.slice(),Object.keys(ze).forEach(function(n){n in e||(e[n]=ze[n])}),e.__defaults=Cl({},this.__defaults,t),e};ze.fetch=function(t,e){return DM(t,e)};var kle="7.3.0";function Q6(t,e){for(var n=t,r=0,i=e.length;r<i;r++){var o=e[r];if(n=n[o],!n)break}return n}function _le(t,e){return t<e?-1:t>e?1:0}function Z6(t){for(var e=[],n="",r=0,i=t.length;r<i;r++){var o=t[r];r>0&&t[r-1]==="\\"&&(o==="$"||o===".")?n=n.substring(0,n.length-1)+o:o==="."?(e.push(n),n=""):n+=o}return e.push(n),e}var Ele=["$or","$nor","$not"];function IM(t){return Ele.indexOf(t)>-1}function PM(t){return Object.keys(t)[0]}function Cle(t){return t[PM(t)]}function Jd(t){var e={},n={$or:!0,$nor:!0};return t.forEach(function(r){Object.keys(r).forEach(function(i){var o=r[i];if(typeof o!="object"&&(o={$eq:o}),IM(i))if(o instanceof Array){if(n[i]){n[i]=!1,e[i]=o;return}var s=[];e[i].forEach(function(l){Object.keys(o).forEach(function(u){var c=o[u],f=Math.max(Object.keys(l).length,Object.keys(c).length),d=Jd([l,c]);Object.keys(d).length<=f||s.push(d)})}),e[i]=s}else e[i]=Jd([o]);else{var a=e[i]=e[i]||{};Object.keys(o).forEach(function(l){var u=o[l];if(l==="$gt"||l==="$gte")return Tle(l,u,a);if(l==="$lt"||l==="$lte")return Ale(l,u,a);if(l==="$ne")return Ole(u,a);if(l==="$eq")return Mle(u,a);if(l==="$regex")return Nle(u,a);a[l]=u})}})}),e}function Tle(t,e,n){typeof n.$eq<"u"||(typeof n.$gte<"u"?t==="$gte"?e>n.$gte&&(n.$gte=e):e>=n.$gte&&(delete n.$gte,n.$gt=e):typeof n.$gt<"u"?t==="$gte"?e>n.$gt&&(delete n.$gt,n.$gte=e):e>n.$gt&&(n.$gt=e):n[t]=e)}function Ale(t,e,n){typeof n.$eq<"u"||(typeof n.$lte<"u"?t==="$lte"?e<n.$lte&&(n.$lte=e):e<=n.$lte&&(delete n.$lte,n.$lt=e):typeof n.$lt<"u"?t==="$lte"?e<n.$lt&&(delete n.$lt,n.$lte=e):e<n.$lt&&(n.$lt=e):n[t]=e)}function Ole(t,e){"$ne"in e?e.$ne.push(t):e.$ne=[t]}function Mle(t,e){delete e.$gt,delete e.$gte,delete e.$lt,delete e.$lte,delete e.$ne,e.$eq=t}function Nle(t,e){"$regex"in e?e.$regex.push(t):e.$regex=[t]}function LM(t){for(var e in t){if(Array.isArray(t))for(var n in t)t[n].$and&&(t[n]=Jd(t[n].$and));var r=t[e];typeof r=="object"&&LM(r)}return t}function zM(t,e){for(var n in t){n==="$and"&&(e=!0);var r=t[n];typeof r=="object"&&(e=zM(r,e))}return e}function Rle(t){var e=nn(t),n=!1;zM(e,!1)&&(e=LM(e),"$and"in e&&(e=Jd(e.$and)),n=!0),["$or","$nor"].forEach(function(a){a in e&&e[a].forEach(function(l){for(var u=Object.keys(l),c=0;c<u.length;c++){var f=u[c],d=l[f];(typeof d!="object"||d===null)&&(l[f]={$eq:d})}})}),"$not"in e&&(e.$not=Jd([e.$not]));for(var r=Object.keys(e),i=0;i<r.length;i++){var o=r[i],s=e[o];typeof s!="object"||s===null?s={$eq:s}:n||("$ne"in s&&(s.$ne=[s.$ne]),"$regex"in s&&(s.$regex=[s.$regex])),e[o]=s}return e}function Dle(t,e,n){for(var r="",i=n-t.length;r.length<i;)r+=e;return r}function Ile(t,e,n){var r=Dle(t,e,n);return r+t}var BM=-324,i2=3,o2="";function $t(t,e){if(t===e)return 0;t=Ol(t),e=Ol(e);var n=s2(t),r=s2(e);if(n-r!==0)return n-r;switch(typeof t){case"number":return t-e;case"boolean":return t<e?-1:1;case"string":return Fle(t,e)}return Array.isArray(t)?$le(t,e):Vle(t,e)}function Ol(t){switch(typeof t){case"undefined":return null;case"number":return t===1/0||t===-1/0||isNaN(t)?null:t;case"object":var e=t;if(Array.isArray(t)){var n=t.length;t=new Array(n);for(var r=0;r<n;r++)t[r]=Ol(e[r])}else{if(t instanceof Date)return t.toJSON();if(t!==null){t={};for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var o=e[i];typeof o<"u"&&(t[i]=Ol(o))}}}}return t}function Ple(t){if(t!==null)switch(typeof t){case"boolean":return t?1:0;case"number":return Ule(t);case"string":return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var e=Array.isArray(t),n=e?t:Object.keys(t),r=-1,i=n.length,o="";if(e)for(;++r<i;)o+=ui(n[r]);else for(;++r<i;){var s=n[r];o+=ui(s)+ui(t[s])}return o}return""}function ui(t){var e="\0";return t=Ol(t),s2(t)+o2+Ple(t)+e}function Lle(t,e){var n=e,r,i=t[e]==="1";if(i)r=0,e++;else{var o=t[e]==="0";e++;var s="",a=t.substring(e,e+i2),l=parseInt(a,10)+BM;for(o&&(l=-l),e+=i2;;){var u=t[e];if(u==="\0")break;s+=u,e++}s=s.split("."),s.length===1?r=parseInt(s,10):r=parseFloat(s[0]+"."+s[1]),o&&(r=r-10),l!==0&&(r=parseFloat(r+"e"+l))}return{num:r,length:e-n}}function zle(t,e){var n=t.pop();if(e.length){var r=e[e.length-1];n===r.element&&(e.pop(),r=e[e.length-1]);var i=r.element,o=r.index;if(Array.isArray(i))i.push(n);else if(o===t.length-2){var s=t.pop();i[s]=n}else t.push(n)}}function Ble(t){for(var e=[],n=[],r=0;;){var i=t[r++];if(i==="\0"){if(e.length===1)return e.pop();zle(e,n);continue}switch(i){case"1":e.push(null);break;case"2":e.push(t[r]==="1"),r++;break;case"3":var o=Lle(t,r);e.push(o.num),r+=o.length;break;case"4":for(var s="";;){var a=t[r];if(a==="\0")break;s+=a,r++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),e.push(s);break;case"5":var l={element:[],index:e.length};e.push(l.element),n.push(l);break;case"6":var u={element:{},index:e.length};e.push(u.element),n.push(u);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+i)}}}function $le(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=$t(t[r],e[r]);if(i!==0)return i}return t.length===e.length?0:t.length>e.length?1:-1}function Fle(t,e){return t===e?0:t>e?1:-1}function Vle(t,e){for(var n=Object.keys(t),r=Object.keys(e),i=Math.min(n.length,r.length),o=0;o<i;o++){var s=$t(n[o],r[o]);if(s!==0||(s=$t(t[n[o]],e[r[o]]),s!==0))return s}return n.length===r.length?0:n.length>r.length?1:-1}function s2(t){var e=["boolean","number","string","object"],n=e.indexOf(typeof t);if(~n)return t===null?1:Array.isArray(t)?5:n<3?n+2:n+3;if(Array.isArray(t))return 5}function Ule(t){if(t===0)return"1";var e=t.toExponential().split(/e\+?/),n=parseInt(e[1],10),r=t<0,i=r?"0":"2",o=(r?-n:n)-BM,s=Ile(o.toString(),"0",i2);i+=o2+s;var a=Math.abs(parseFloat(e[0]));r&&(a=10-a);var l=a.toFixed(20);return l=l.replace(/\.?0+$/,""),i+=o2+l,i}function Hle(t){function e(n){return t.map(function(r){var i=PM(r),o=Z6(i),s=Q6(n,o);return s})}return function(n,r){var i=e(n.doc),o=e(r.doc),s=$t(i,o);return s!==0?s:_le(n.doc._id,r.doc._id)}}function jle(t,e,n){if(t=t.filter(function(s){return Vu(s.doc,e.selector,n)}),e.sort){var r=Hle(e.sort);t=t.sort(r),typeof e.sort[0]!="string"&&Cle(e.sort[0])==="desc"&&(t=t.reverse())}if("limit"in e||"skip"in e){var i=e.skip||0,o=("limit"in e?e.limit:t.length)+i;t=t.slice(i,o)}return t}function Vu(t,e,n){return n.every(function(r){var i=e[r],o=Z6(r),s=Q6(t,o);return IM(r)?qle(r,i,t):Om(i,t,o,s)})}function Om(t,e,n,r){return t?typeof t=="object"?Object.keys(t).every(function(i){var o=t[i];if(i.indexOf("$")===0)return uS(i,e,o,n,r);var s=Z6(i);if(r===void 0&&typeof o!="object"&&s.length>0)return!1;var a=Q6(r,s);return typeof o=="object"?Om(o,e,n,a):uS("$eq",e,o,s,a)}):t===r:!0}function qle(t,e,n){return t==="$or"?e.some(function(r){return Vu(n,r,Object.keys(r))}):t==="$not"?!Vu(n,e,Object.keys(e)):!e.find(function(r){return Vu(n,r,Object.keys(r))})}function uS(t,e,n,r,i){if(!fS[t])throw new Error('unknown operator "'+t+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return fS[t](e,n,r,i)}function Yc(t){return typeof t<"u"&&t!==null}function Ca(t){return typeof t<"u"}function Wle(t,e){if(typeof t!="number"||parseInt(t,10)!==t)return!1;var n=e[0],r=e[1];return t%n===r}function cS(t,e){return e.some(function(n){return t instanceof Array?t.some(function(r){return $t(n,r)===0}):$t(n,t)===0})}function Kle(t,e){return e.every(function(n){return t.some(function(r){return $t(n,r)===0})})}function Gle(t,e){return t.length===e}function Yle(t,e){var n=new RegExp(e);return n.test(t)}function Xle(t,e){switch(e){case"null":return t===null;case"boolean":return typeof t=="boolean";case"number":return typeof t=="number";case"string":return typeof t=="string";case"array":return t instanceof Array;case"object":return{}.toString.call(t)==="[object Object]"}}var fS={$elemMatch:function(t,e,n,r){return!Array.isArray(r)||r.length===0?!1:typeof r[0]=="object"?r.some(function(i){return Vu(i,e,Object.keys(e))}):r.some(function(i){return Om(e,t,n,i)})},$allMatch:function(t,e,n,r){return!Array.isArray(r)||r.length===0?!1:typeof r[0]=="object"?r.every(function(i){return Vu(i,e,Object.keys(e))}):r.every(function(i){return Om(e,t,n,i)})},$eq:function(t,e,n,r){return Ca(r)&&$t(r,e)===0},$gte:function(t,e,n,r){return Ca(r)&&$t(r,e)>=0},$gt:function(t,e,n,r){return Ca(r)&&$t(r,e)>0},$lte:function(t,e,n,r){return Ca(r)&&$t(r,e)<=0},$lt:function(t,e,n,r){return Ca(r)&&$t(r,e)<0},$exists:function(t,e,n,r){return e?Ca(r):!Ca(r)},$mod:function(t,e,n,r){return Yc(r)&&Wle(r,e)},$ne:function(t,e,n,r){return e.every(function(i){return $t(r,i)!==0})},$in:function(t,e,n,r){return Yc(r)&&cS(r,e)},$nin:function(t,e,n,r){return Yc(r)&&!cS(r,e)},$size:function(t,e,n,r){return Yc(r)&&Array.isArray(r)&&Gle(r,e)},$all:function(t,e,n,r){return Array.isArray(r)&&Kle(r,e)},$regex:function(t,e,n,r){return Yc(r)&&typeof r=="string"&&e.every(function(i){return Yle(r,i)})},$type:function(t,e,n,r){return Xle(r,e)}};function Jle(t,e){if(typeof e!="object")throw new Error("Selector error: expected a JSON object");e=Rle(e);var n={doc:t},r=jle([n],{selector:e},Object.keys(e));return r&&r.length===1}function Qle(t){return U6(`"use strict";
return `+t+";",{})}function Zle(t){var e=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+t+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join(`
`);return U6(e,{})}function eue(t,e){if(t.selector&&t.filter&&t.filter!=="_selector"){var n=typeof t.filter=="string"?t.filter:"function";return e(new Error('selector invalid for filter "'+n+'"'))}e()}function tue(t){t.view&&!t.filter&&(t.filter="_view"),t.selector&&!t.filter&&(t.filter="_selector"),t.filter&&typeof t.filter=="string"&&(t.filter==="_view"?t.view=nS(t.view):t.filter=nS(t.filter))}function nue(t,e){return e.filter&&typeof e.filter=="string"&&!e.doc_ids&&!co(t.db)}function rue(t,e){var n=e.complete;if(e.filter==="_view"){if(!e.view||typeof e.view!="string"){var r=Ue(X1,"`view` filter parameter not found or invalid.");return n(r)}var i=r2(e.view);t.db.get("_design/"+i[0],function(s,a){if(t.isCancelled)return n(null,{status:"cancelled"});if(s)return n(hc(s));var l=a&&a.views&&a.views[i[1]]&&a.views[i[1]].map;if(!l)return n(Ue(mi,a.views?"missing json key: "+i[1]:"missing json key: views"));e.filter=Zle(l),t.doChanges(e)})}else if(e.selector)e.filter=function(s){return Jle(s,e.selector)},t.doChanges(e);else{var o=r2(e.filter);t.db.get("_design/"+o[0],function(s,a){if(t.isCancelled)return n(null,{status:"cancelled"});if(s)return n(hc(s));var l=a&&a.filters&&a.filters[o[1]];if(!l)return n(Ue(mi,a&&a.filters?"missing json key: "+o[1]:"missing json key: filters"));e.filter=Qle(l),t.doChanges(e)})}}function iue(t){t._changesFilterPlugin={validate:eue,normalize:tue,shouldFilter:nue,filter:rue}}ze.plugin(iue);ze.version=kle;function $M(t){return t.reduce(function(e,n){return e[n]=!0,e},{})}var oue=$M(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),sue=$M(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function dS(t){if(!/^\d+-/.test(t))return Ue(SM);var e=t.indexOf("-"),n=t.substring(0,e),r=t.substring(e+1);return{prefix:parseInt(n,10),id:r}}function aue(t,e){for(var n=t.start-t.ids.length+1,r=t.ids,i=[r[0],e,[]],o=1,s=r.length;o<s;o++)i=[r[o],{status:"missing"},[i]];return[{pos:n,ids:i}]}function FM(t,e,n){n||(n={deterministic_revs:!0});var r,i,o,s={status:"available"};if(t._deleted&&(s.deleted=!0),e)if(t._id||(t._id=Q1()),i=AM(t,n.deterministic_revs),t._rev){if(o=dS(t._rev),o.error)return o;t._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[i,s,[]]]]}],r=o.prefix+1}else t._rev_tree=[{pos:1,ids:[i,s,[]]}],r=1;else if(t._revisions&&(t._rev_tree=aue(t._revisions,s),r=t._revisions.start,i=t._revisions.ids[0]),!t._rev_tree){if(o=dS(t._rev),o.error)return o;r=o.prefix,i=o.id,t._rev_tree=[{pos:r,ids:[i,s,[]]}]}kM(t._id),t._rev=r+"-"+i;var a={metadata:{},data:{}};for(var l in t)if(Object.prototype.hasOwnProperty.call(t,l)){var u=l[0]==="_";if(u&&!oue[l]){var c=Ue(tS,l);throw c.message=tS.message+": "+l,c}else u&&!sue[l]?a.metadata[l.slice(1)]=t[l]:a.data[l]=t[l]}return a}function lue(t){try{return H6(t)}catch{var e=Ue(bM,"Attachment is not a valid base64 string");return{error:e}}}function uue(t,e,n){var r=lue(t.data);if(r.error)return n(r.error);t.length=r.length,e==="blob"?t.data=q6(r,t.content_type):e==="base64"?t.data=R0(r):t.data=r,G6(r,function(i){t.digest="md5-"+i,n()})}function cue(t,e,n){G6(t.data,function(r){t.digest="md5-"+r,t.length=t.data.size||t.data.length||0,e==="binary"?CM(t.data,function(i){t.data=i,n()}):e==="base64"?K6(t.data,function(i){t.data=i,n()}):n()})}function fue(t,e,n){if(t.stub)return n();typeof t.data=="string"?uue(t,e,n):cue(t,e,n)}function due(t,e,n){if(!t.length)return n();var r=0,i;t.forEach(function(s){var a=s.data&&s.data._attachments?Object.keys(s.data._attachments):[],l=0;if(!a.length)return o();function u(f){i=f,l++,l===a.length&&o()}for(var c in s.data._attachments)Object.prototype.hasOwnProperty.call(s.data._attachments,c)&&fue(s.data._attachments[c],e,u)});function o(){r++,t.length===r&&(i?n(i):n())}}function hue(t,e,n,r,i,o,s,a){if(ule(e.rev_tree,n.metadata.rev)&&!a)return r[i]=n,o();var l=e.winningRev||Tl(e),u="deleted"in e?e.deleted:Lo(e,l),c="deleted"in n.metadata?n.metadata.deleted:Lo(n.metadata),f=/^1-/.test(n.metadata.rev);if(u&&!c&&a&&f){var d=n.data;d._rev=l,d._id=n.metadata.id,n=FM(d,a)}var h=NM(e.rev_tree,n.metadata.rev_tree[0],t),g=a&&(u&&c&&h.conflicts!=="new_leaf"||!u&&h.conflicts!=="new_leaf"||u&&!c&&h.conflicts==="new_branch");if(g){var y=Ue(dc);return r[i]=y,o()}var S=n.metadata.rev;n.metadata.rev_tree=h.tree,n.stemmedRevs=h.stemmedRevs||[],e.rev_map&&(n.metadata.rev_map=e.rev_map);var v=Tl(n.metadata),m=Lo(n.metadata,v),p=u===m?0:u<m?-1:1,x;S===v?x=m:x=Lo(n.metadata,S),s(n,v,m,x,!0,p,i,o)}function pue(t){return t.metadata.rev_tree[0].ids[1].status==="missing"}function mue(t,e,n,r,i,o,s,a,l){t=t||1e3;function u(y,S,v){var m=Tl(y.metadata),p=Lo(y.metadata,m);if("was_delete"in a&&p)return o[S]=Ue(mi,"deleted"),v();var x=c&&pue(y);if(x){var b=Ue(dc);return o[S]=b,v()}var _=p?0:1;s(y,m,p,p,!1,_,S,v)}var c=a.new_edits,f=new lr,d=0,h=e.length;function g(){++d===h&&l&&l()}e.forEach(function(y,S){if(y._id&&Al(y._id)){var v=y._deleted?"_removeLocal":"_putLocal";n[v](y,{ctx:i},function(p,x){o[S]=p||x,g()});return}var m=y.metadata.id;f.has(m)?(h--,f.get(m).push([y,S])):f.set(m,[[y,S]])}),f.forEach(function(y,S){var v=0;function m(){++v<y.length?p():g()}function p(){var x=y[v],b=x[0],_=x[1];if(r.has(S))hue(t,r.get(S),b,o,_,m,s,c);else{var T=NM([],b.metadata.rev_tree[0],t);b.metadata.rev_tree=T.tree,b.stemmedRevs=T.stemmedRevs||[],u(b,_,m)}}p()})}var gue=5,qt="document-store",wn="by-sequence",$r="attach-store",Za="attach-seq-store",Vn="meta-store",Fi="local-store",a2="detect-blob-support";function vue(t){try{return JSON.parse(t)}catch{return K1.parse(t)}}function yue(t){try{return JSON.stringify(t)}catch{return K1.stringify(t)}}function Ki(t){return function(e){var n="unknown_error";e.target&&e.target.error&&(n=e.target.error.name||e.target.error.message),t(Ue(F6,n,e.type))}}function l2(t,e,n){return{data:yue(t),winningRev:e,deletedOrLocal:n?"1":"0",seq:t.seq,id:t.id}}function el(t){if(!t)return null;var e=vue(t.data);return e.winningRev=t.winningRev,e.deleted=t.deletedOrLocal==="1",e.seq=t.seq,e}function Mm(t){if(!t)return t;var e=t._doc_id_rev.lastIndexOf(":");return t._id=t._doc_id_rev.substring(0,e-1),t._rev=t._doc_id_rev.substring(e+1),delete t._doc_id_rev,t}function VM(t,e,n,r){n?r(t?typeof t!="string"?t:W6(t,e):j6([""],{type:e})):t?typeof t!="string"?EM(t,function(i){r(R0(i))}):r(t):r("")}function UM(t,e,n,r){var i=Object.keys(t._attachments||{});if(!i.length)return r&&r();var o=0;function s(){++o===i.length&&r&&r()}function a(l,u){var c=l._attachments[u],f=c.digest,d=n.objectStore($r).get(f);d.onsuccess=function(h){c.body=h.target.result.body,s()}}i.forEach(function(l){e.attachments&&e.include_docs?a(t,l):(t._attachments[l].stub=!0,s())})}function u2(t,e){return Promise.all(t.map(function(n){if(n.doc&&n.doc._attachments){var r=Object.keys(n.doc._attachments);return Promise.all(r.map(function(i){var o=n.doc._attachments[i];if("body"in o){var s=o.body,a=o.content_type;return new Promise(function(l){VM(s,a,e,function(u){n.doc._attachments[i]=Cl(N0(o,["digest","content_type"]),{data:u}),l()})})}}))}}))}function HM(t,e,n){var r=[],i=n.objectStore(wn),o=n.objectStore($r),s=n.objectStore(Za),a=t.length;function l(){a--,a||u()}function u(){!r.length||r.forEach(function(c){var f=s.index("digestSeq").count(IDBKeyRange.bound(c+"::",c+"::\uFFFF",!1,!1));f.onsuccess=function(d){var h=d.target.result;h||o.delete(c)}})}t.forEach(function(c){var f=i.index("_doc_id_rev"),d=e+"::"+c;f.getKey(d).onsuccess=function(h){var g=h.target.result;if(typeof g!="number")return l();i.delete(g);var y=s.index("seq").openCursor(IDBKeyRange.only(g));y.onsuccess=function(S){var v=S.target.result;if(v){var m=v.value.digestSeq.split("::")[0];r.push(m),s.delete(v.primaryKey),v.continue()}else l()}}})}function ci(t,e,n){try{return{txn:t.transaction(e,n)}}catch(r){return{error:r}}}var Jf=new Dc;function xue(t,e,n,r,i,o){for(var s=e.docs,a,l,u,c,f,d,h,g,y=0,S=s.length;y<S;y++){var v=s[y];v._id&&Al(v._id)||(v=s[y]=FM(v,n.new_edits,t),v.error&&!h&&(h=v))}if(h)return o(h);var m=!1,p=0,x=new Array(s.length),b=new lr,_=!1,T=r._meta.blobSupport?"blob":"base64";due(s,T,function(R){if(R)return o(R);M()});function M(){var R=[qt,wn,$r,Fi,Za,Vn],F=ci(i,R,"readwrite");if(F.error)return o(F.error);a=F.txn,a.onabort=Ki(o),a.ontimeout=Ki(o),a.oncomplete=oe,l=a.objectStore(qt),u=a.objectStore(wn),c=a.objectStore($r),f=a.objectStore(Za),d=a.objectStore(Vn),d.get(Vn).onsuccess=function(V){g=V.target.result,W()},K(function(V){if(V)return _=!0,o(V);X()})}function N(){m=!0,W()}function $(){mue(t.revs_limit,s,r,b,a,x,q,n,N)}function W(){!g||!m||(g.docCount+=p,d.put(g))}function X(){if(!s.length)return;var R=0;function F(){++R===s.length&&$()}function V(J){var xe=el(J.target.result);xe&&b.set(xe.id,xe),F()}for(var G=0,Q=s.length;G<Q;G++){var se=s[G];if(se._id&&Al(se._id)){F();continue}var ue=l.get(se.metadata.id);ue.onsuccess=V}}function oe(){_||(Jf.notify(r._meta.name),o(null,x))}function H(R,F){var V=c.get(R);V.onsuccess=function(G){if(G.target.result)F();else{var Q=Ue(Vae,"unknown stub attachment with digest "+R);Q.status=412,F(Q)}}}function K(R){var F=[];if(s.forEach(function(se){se.data&&se.data._attachments&&Object.keys(se.data._attachments).forEach(function(ue){var J=se.data._attachments[ue];J.stub&&F.push(J.digest)})}),!F.length)return R();var V=0,G;function Q(){++V===F.length&&R(G)}F.forEach(function(se){H(se,function(ue){ue&&!G&&(G=ue),Q()})})}function q(R,F,V,G,Q,se,ue,J){R.metadata.winningRev=F,R.metadata.deleted=V;var xe=R.data;xe._id=R.metadata.id,xe._rev=R.metadata.rev,G&&(xe._deleted=!0);var Be=xe._attachments&&Object.keys(xe._attachments).length;if(Be)return O(R,F,V,Q,ue,J);p+=se,W(),A(R,F,V,Q,ue,J)}function A(R,F,V,G,Q,se){var ue=R.data,J=R.metadata;ue._doc_id_rev=J.id+"::"+J.rev,delete ue._id,delete ue._rev;function xe(Ae){var qe=R.stemmedRevs||[];G&&r.auto_compaction&&(qe=qe.concat(rle(R.metadata))),qe&&qe.length&&HM(qe,R.metadata.id,a),J.seq=Ae.target.result;var et=l2(J,F,V),Ct=l.put(et);Ct.onsuccess=it}function Be(Ae){Ae.preventDefault(),Ae.stopPropagation();var qe=u.index("_doc_id_rev"),et=qe.getKey(ue._doc_id_rev);et.onsuccess=function(Ct){var vt=u.put(ue,Ct.target.result);vt.onsuccess=xe}}function it(){x[Q]={ok:!0,id:J.id,rev:J.rev},b.set(R.metadata.id,R.metadata),L(R,J.seq,se)}var $e=u.put(ue);$e.onsuccess=xe,$e.onerror=Be}function O(R,F,V,G,Q,se){var ue=R.data,J=0,xe=Object.keys(ue._attachments);function Be(){J===xe.length&&A(R,F,V,G,Q,se)}function it(){J++,Be()}xe.forEach(function($e){var Ae=R.data._attachments[$e];if(Ae.stub)J++,Be();else{var qe=Ae.data;delete Ae.data,Ae.revpos=parseInt(F,10);var et=Ae.digest;P(et,qe,it)}})}function L(R,F,V){var G=0,Q=Object.keys(R.data._attachments||{});if(!Q.length)return V();function se(){++G===Q.length&&V()}function ue(xe){var Be=R.data._attachments[xe].digest,it=f.put({seq:F,digestSeq:Be+"::"+F});it.onsuccess=se,it.onerror=function($e){$e.preventDefault(),$e.stopPropagation(),se()}}for(var J=0;J<Q.length;J++)ue(Q[J])}function P(R,F,V){var G=c.count(R);G.onsuccess=function(Q){var se=Q.target.result;if(se)return V();var ue={digest:R,body:F},J=c.put(ue);J.onsuccess=V}}}function jM(t,e,n,r,i){r===-1&&(r=1e3);var o=typeof t.getAll=="function"&&typeof t.getAllKeys=="function"&&r>1&&!n,s,a,l;function u(h){a=h.target.result,s&&i(s,a,l)}function c(h){s=h.target.result,a&&i(s,a,l)}function f(){if(!s.length)return i();var h=s[s.length-1],g;if(e&&e.upper)try{g=IDBKeyRange.bound(h,e.upper,!0,e.upperOpen)}catch(y){if(y.name==="DataError"&&y.code===0)return i()}else g=IDBKeyRange.lowerBound(h,!0);e=g,s=null,a=null,t.getAll(e,r).onsuccess=u,t.getAllKeys(e,r).onsuccess=c}function d(h){var g=h.target.result;if(!g)return i();i([g.key],[g.value],g)}o?(l={continue:f},t.getAll(e,r).onsuccess=u,t.getAllKeys(e,r).onsuccess=c):n?t.openCursor(e,"prev").onsuccess=d:t.openCursor(e).onsuccess=d}function wue(t,e,n){if(typeof t.getAll=="function"){t.getAll(e).onsuccess=n;return}var r=[];function i(o){var s=o.target.result;s?(r.push(s.value),s.continue()):n({target:{result:r}})}t.openCursor(e).onsuccess=i}function bue(t,e,n){var r=new Array(t.length),i=0;t.forEach(function(o,s){e.get(o).onsuccess=function(a){a.target.result?r[s]=a.target.result:r[s]={key:o,error:"not_found"},i++,i===t.length&&n(t,r,{})}})}function Sue(t,e,n,r,i){try{if(t&&e)return i?IDBKeyRange.bound(e,t,!n,!1):IDBKeyRange.bound(t,e,!1,!n);if(t)return i?IDBKeyRange.upperBound(t):IDBKeyRange.lowerBound(t);if(e)return i?IDBKeyRange.lowerBound(e,!n):IDBKeyRange.upperBound(e,!n);if(r)return IDBKeyRange.only(r)}catch(o){return{error:o}}return null}function kue(t,e,n){var r="startkey"in t?t.startkey:!1,i="endkey"in t?t.endkey:!1,o="key"in t?t.key:!1,s="keys"in t?t.keys:!1,a=t.skip||0,l=typeof t.limit=="number"?t.limit:-1,u=t.inclusive_end!==!1,c,f;if(!s&&(c=Sue(r,i,u,o,t.descending),f=c&&c.error,f&&!(f.name==="DataError"&&f.code===0)))return n(Ue(F6,f.name,f.message));var d=[qt,wn,Vn];t.attachments&&d.push($r);var h=ci(e,d,"readonly");if(h.error)return n(h.error);var g=h.txn;g.oncomplete=oe,g.onabort=Ki(n);var y=g.objectStore(qt),S=g.objectStore(wn),v=g.objectStore(Vn),m=S.index("_doc_id_rev"),p=[],x,b;v.get(Vn).onsuccess=function(H){x=H.target.result.docCount},t.update_seq&&_(S,function(H){H.target.result&&H.target.result.length>0&&(b=H.target.result[0])});function _(H,K){function q(A){var O=A.target.result,L=void 0;return O&&O.key&&(L=O.key),K({target:{result:[L]}})}H.openCursor(null,"prev").onsuccess=q}function T(H,K,q){var A=H.id+"::"+q;m.get(A).onsuccess=function(L){if(K.doc=Mm(L.target.result)||{},t.conflicts){var P=X6(H);P.length&&(K.doc._conflicts=P)}UM(K.doc,t,g)}}function M(H,K){var q={id:K.id,key:K.id,value:{rev:H}},A=K.deleted;A?s&&(p.push(q),q.value.deleted=!0,q.doc=null):a--<=0&&(p.push(q),t.include_docs&&T(K,q,H))}function N(H){for(var K=0,q=H.length;K<q&&p.length!==l;K++){var A=H[K];if(A.error&&s){p.push(A);continue}var O=el(A),L=O.winningRev;M(L,O)}}function $(H,K,q){!q||(N(K),p.length<l&&q.continue())}function W(H){var K=H.target.result;t.descending&&(K=K.reverse()),N(K)}function X(){var H={total_rows:x,offset:t.skip,rows:p};t.update_seq&&b!==void 0&&(H.update_seq=b),n(null,H)}function oe(){t.attachments?u2(p,t.binary).then(X):X()}if(!(f||l===0)){if(s)return bue(t.keys,y,$);if(l===-1)return wue(y,c,W);jM(y,c,t.descending,l+a,$)}}function _ue(t){return new Promise(function(e){var n=j6([""]),r=t.objectStore(a2).put(n,"key");r.onsuccess=function(){var i=navigator.userAgent.match(/Chrome\/(\d+)/),o=navigator.userAgent.match(/Edge\//);e(o||!i||parseInt(i[1],10)>=43)},r.onerror=t.onabort=function(i){i.preventDefault(),i.stopPropagation(),e(!1)}}).catch(function(){return!1})}function Eue(t,e){var n=t.objectStore(qt).index("deletedOrLocal");n.count(IDBKeyRange.only("0")).onsuccess=function(r){e(r.target.result)}}var c2=!1,f2=[];function Cue(t,e,n,r){try{t(e,n)}catch(i){r.emit("error",i)}}function hS(){c2||!f2.length||(c2=!0,f2.shift()())}function Tue(t,e,n){f2.push(function(){t(function(o,s){Cue(e,o,s,n),c2=!1,uo(function(){hS()})})}),hS()}function Aue(t,e,n,r){if(t=nn(t),t.continuous){var i=n+":"+Q1();return Jf.addListener(n,i,e,t),Jf.notify(n),{cancel:function(){Jf.removeListener(n,i)}}}var o=t.doc_ids&&new fc(t.doc_ids);t.since=t.since||0;var s=t.since,a="limit"in t?t.limit:-1;a===0&&(a=1);var l=[],u=0,c=V6(t),f=new lr,d,h,g,y;function S(M,N,$){if(!$||!M.length)return;var W=new Array(M.length),X=new Array(M.length);function oe(q,A){var O=t.processChange(A,q,t);s=O.seq=q.seq;var L=c(O);return typeof L=="object"?Promise.reject(L):L?(u++,t.return_docs&&l.push(O),t.attachments&&t.include_docs?new Promise(function(P){UM(A,t,d,function(){u2([O],t.binary).then(function(){P(O)})})}):Promise.resolve(O)):Promise.resolve()}function H(){for(var q=[],A=0,O=W.length;A<O&&u!==a;A++){var L=W[A];if(!!L){var P=X[A];q.push(oe(P,L))}}Promise.all(q).then(function(R){for(var F=0,V=R.length;F<V;F++)R[F]&&t.onChange(R[F])}).catch(t.complete),u!==a&&$.continue()}var K=0;N.forEach(function(q,A){var O=Mm(q),L=M[A];m(O,L,function(P,R){X[A]=P,W[A]=R,++K===M.length&&H()})})}function v(M,N,$,W){if($.seq!==N)return W();if($.winningRev===M._rev)return W($,M);var X=M._id+"::"+$.winningRev,oe=y.get(X);oe.onsuccess=function(H){W($,Mm(H.target.result))}}function m(M,N,$){if(o&&!o.has(M._id))return $();var W=f.get(M._id);if(W)return v(M,N,W,$);g.get(M._id).onsuccess=function(X){W=el(X.target.result),f.set(M._id,W),v(M,N,W,$)}}function p(){t.complete(null,{results:l,last_seq:s})}function x(){!t.continuous&&t.attachments?u2(l).then(p):p()}var b=[qt,wn];t.attachments&&b.push($r);var _=ci(r,b,"readonly");if(_.error)return t.complete(_.error);d=_.txn,d.onabort=Ki(t.complete),d.oncomplete=x,h=d.objectStore(wn),g=d.objectStore(qt),y=h.index("_doc_id_rev");var T=t.since&&!t.descending?IDBKeyRange.lowerBound(t.since,!0):null;jM(h,T,t.descending,a,S)}var Xl=new lr,$v,Fv=new lr;function qM(t,e){var n=this;Tue(function(r){Oue(n,t,r)},e,n.constructor)}function Oue(t,e,n){var r=e.name,i=null,o=null;t._meta=null;function s(S){return function(v,m){v&&v instanceof Error&&!v.reason&&o&&(v.reason=o),S(v,m)}}function a(S){var v=S.createObjectStore(qt,{keyPath:"id"});S.createObjectStore(wn,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),S.createObjectStore($r,{keyPath:"digest"}),S.createObjectStore(Vn,{keyPath:"id",autoIncrement:!1}),S.createObjectStore(a2),v.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),S.createObjectStore(Fi,{keyPath:"_id"});var m=S.createObjectStore(Za,{autoIncrement:!0});m.createIndex("seq","seq"),m.createIndex("digestSeq","digestSeq",{unique:!0})}function l(S,v){var m=S.objectStore(qt);m.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),m.openCursor().onsuccess=function(p){var x=p.target.result;if(x){var b=x.value,_=Lo(b);b.deletedOrLocal=_?"1":"0",m.put(b),x.continue()}else v()}}function u(S){S.createObjectStore(Fi,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function c(S,v){var m=S.objectStore(Fi),p=S.objectStore(qt),x=S.objectStore(wn),b=p.openCursor();b.onsuccess=function(_){var T=_.target.result;if(T){var M=T.value,N=M.id,$=Al(N),W=Tl(M);if($){var X=N+"::"+W,oe=N+"::",H=N+"::~",K=x.index("_doc_id_rev"),q=IDBKeyRange.bound(oe,H,!1,!1),A=K.openCursor(q);A.onsuccess=function(O){if(A=O.target.result,!A)p.delete(T.primaryKey),T.continue();else{var L=A.value;L._doc_id_rev===X&&m.put(L),x.delete(A.primaryKey),A.continue()}}}else T.continue()}else v&&v()}}function f(S){var v=S.createObjectStore(Za,{autoIncrement:!0});v.createIndex("seq","seq"),v.createIndex("digestSeq","digestSeq",{unique:!0})}function d(S,v){var m=S.objectStore(wn),p=S.objectStore($r),x=S.objectStore(Za),b=p.count();b.onsuccess=function(_){var T=_.target.result;if(!T)return v();m.openCursor().onsuccess=function(M){var N=M.target.result;if(!N)return v();for(var $=N.value,W=N.primaryKey,X=Object.keys($._attachments||{}),oe={},H=0;H<X.length;H++){var K=$._attachments[X[H]];oe[K.digest]=!0}var q=Object.keys(oe);for(H=0;H<q.length;H++){var A=q[H];x.put({seq:W,digestSeq:A+"::"+W})}N.continue()}}}function h(S){function v(b){return b.data?el(b):(b.deleted=b.deletedOrLocal==="1",b)}var m=S.objectStore(wn),p=S.objectStore(qt),x=p.openCursor();x.onsuccess=function(b){var _=b.target.result;if(!_)return;var T=v(_.value);T.winningRev=T.winningRev||Tl(T);function M(){var $=T.id+"::",W=T.id+"::\uFFFF",X=m.index("_doc_id_rev").openCursor(IDBKeyRange.bound($,W)),oe=0;X.onsuccess=function(H){var K=H.target.result;if(!K)return T.seq=oe,N();var q=K.primaryKey;q>oe&&(oe=q),K.continue()}}function N(){var $=l2(T,T.winningRev,T.deleted),W=p.put($);W.onsuccess=function(){_.continue()}}if(T.seq)return N();M()}}t._remote=!1,t.type=function(){return"idb"},t._id=vM(function(S){S(null,t._meta.instanceId)}),t._bulkDocs=function(v,m,p){xue(e,v,m,t,i,s(p))},t._get=function(v,m,p){var x,b,_,T=m.ctx;if(!T){var M=ci(i,[qt,wn,$r],"readonly");if(M.error)return p(M.error);T=M.txn}function N(){p(_,{doc:x,metadata:b,ctx:T})}T.objectStore(qt).get(v).onsuccess=function($){if(b=el($.target.result),!b)return _=Ue(mi,"missing"),N();var W;if(m.rev)W=m.latest?fle(m.rev,b):m.rev;else{W=b.winningRev;var X=Lo(b);if(X)return _=Ue(mi,"deleted"),N()}var oe=T.objectStore(wn),H=b.id+"::"+W;oe.index("_doc_id_rev").get(H).onsuccess=function(K){if(x=K.target.result,x&&(x=Mm(x)),!x)return _=Ue(mi,"missing"),N();N()}}},t._getAttachment=function(S,v,m,p,x){var b;if(p.ctx)b=p.ctx;else{var _=ci(i,[qt,wn,$r],"readonly");if(_.error)return x(_.error);b=_.txn}var T=m.digest,M=m.content_type;b.objectStore($r).get(T).onsuccess=function(N){var $=N.target.result.body;VM($,M,p.binary,function(W){x(null,W)})}},t._info=function(v){var m,p,x=ci(i,[Vn,wn],"readonly");if(x.error)return v(x.error);var b=x.txn;b.objectStore(Vn).get(Vn).onsuccess=function(_){p=_.target.result.docCount},b.objectStore(wn).openCursor(null,"prev").onsuccess=function(_){var T=_.target.result;m=T?T.key:0},b.oncomplete=function(){v(null,{doc_count:p,update_seq:m,idb_attachment_format:t._meta.blobSupport?"binary":"base64"})}},t._allDocs=function(v,m){kue(v,i,s(m))},t._changes=function(v){return Aue(v,t,r,i)},t._close=function(S){i.close(),Xl.delete(r),S()},t._getRevisionTree=function(S,v){var m=ci(i,[qt],"readonly");if(m.error)return v(m.error);var p=m.txn,x=p.objectStore(qt).get(S);x.onsuccess=function(b){var _=el(b.target.result);_?v(null,_.rev_tree):v(Ue(mi))}},t._doCompaction=function(S,v,m){var p=[qt,wn,$r,Za],x=ci(i,p,"readwrite");if(x.error)return m(x.error);var b=x.txn,_=b.objectStore(qt);_.get(S).onsuccess=function(T){var M=el(T.target.result);$l(M.rev_tree,function(W,X,oe,H,K){var q=X+"-"+oe;v.indexOf(q)!==-1&&(K.status="missing")}),HM(v,S,b);var N=M.winningRev,$=M.deleted;b.objectStore(qt).put(l2(M,N,$))},b.onabort=Ki(m),b.oncomplete=function(){m()}},t._getLocal=function(S,v){var m=ci(i,[Fi],"readonly");if(m.error)return v(m.error);var p=m.txn,x=p.objectStore(Fi).get(S);x.onerror=Ki(v),x.onsuccess=function(b){var _=b.target.result;_?(delete _._doc_id_rev,v(null,_)):v(Ue(mi))}},t._putLocal=function(S,v,m){typeof v=="function"&&(m=v,v={}),delete S._revisions;var p=S._rev,x=S._id;p?S._rev="0-"+(parseInt(p.split("-")[1],10)+1):S._rev="0-1";var b=v.ctx,_;if(!b){var T=ci(i,[Fi],"readwrite");if(T.error)return m(T.error);b=T.txn,b.onerror=Ki(m),b.oncomplete=function(){_&&m(null,_)}}var M=b.objectStore(Fi),N;p?(N=M.get(x),N.onsuccess=function($){var W=$.target.result;if(!W||W._rev!==p)m(Ue(dc));else{var X=M.put(S);X.onsuccess=function(){_={ok:!0,id:S._id,rev:S._rev},v.ctx&&m(null,_)}}}):(N=M.add(S),N.onerror=function($){m(Ue(dc)),$.preventDefault(),$.stopPropagation()},N.onsuccess=function(){_={ok:!0,id:S._id,rev:S._rev},v.ctx&&m(null,_)})},t._removeLocal=function(S,v,m){typeof v=="function"&&(m=v,v={});var p=v.ctx;if(!p){var x=ci(i,[Fi],"readwrite");if(x.error)return m(x.error);p=x.txn,p.oncomplete=function(){b&&m(null,b)}}var b,_=S._id,T=p.objectStore(Fi),M=T.get(_);M.onerror=Ki(m),M.onsuccess=function(N){var $=N.target.result;!$||$._rev!==S._rev?m(Ue(mi)):(T.delete(_),b={ok:!0,id:_,rev:"0-0"},v.ctx&&m(null,b))}},t._destroy=function(S,v){Jf.removeAllListeners(r);var m=Fv.get(r);m&&m.result&&(m.result.close(),Xl.delete(r));var p=indexedDB.deleteDatabase(r);p.onsuccess=function(){Fv.delete(r),Y1()&&r in localStorage&&delete localStorage[r],v(null,{ok:!0})},p.onerror=Ki(v)};var g=Xl.get(r);if(g)return i=g.idb,t._meta=g.global,uo(function(){n(null,t)});var y=indexedDB.open(r,gue);Fv.set(r,y),y.onupgradeneeded=function(S){var v=S.target.result;if(S.oldVersion<1)return a(v);var m=S.currentTarget.transaction;S.oldVersion<3&&u(v),S.oldVersion<4&&f(v);var p=[l,c,d,h],x=S.oldVersion;function b(){var _=p[x-1];x++,_&&_(m,b)}b()},y.onsuccess=function(S){i=S.target.result,i.onversionchange=function(){i.close(),Xl.delete(r)},i.onabort=function(N){Zr("error","Database has a global failure",N.target.error),o=N.target.error,i.close(),Xl.delete(r)};var v=i.transaction([Vn,a2,qt],"readwrite"),m=!1,p,x,b,_;function T(){typeof b>"u"||!m||(t._meta={name:r,instanceId:_,blobSupport:b},Xl.set(r,{idb:i,global:t._meta}),n(null,t))}function M(){if(!(typeof x>"u"||typeof p>"u")){var N=r+"_id";N in p?_=p[N]:p[N]=_=Q1(),p.docCount=x,v.objectStore(Vn).put(p)}}v.objectStore(Vn).get(Vn).onsuccess=function(N){p=N.target.result||{id:Vn},M()},Eue(v,function(N){x=N,M()}),$v||($v=_ue(v)),$v.then(function(N){b=N,T()}),v.oncomplete=function(){m=!0,T()},v.onabort=Ki(n)},y.onerror=function(S){var v=S.target.error&&S.target.error.message;v?v.indexOf("stored database is a higher version")!==-1&&(v=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):v="Failed to open indexedDB, are you in private browsing mode?",Zr("error",v),n(Ue(F6,v))}}qM.valid=function(){try{return typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}};function Mue(t){t.adapter("idb",qM,!0)}function Nue(t,e){return new Promise(function(n,r){var i=0,o=0,s=0,a=t.length,l;function u(){i++,t[o++]().then(f,d)}function c(){++s===a?l?r(l):n():h()}function f(){i--,c()}function d(g){i--,l=l||g,c()}function h(){for(;i<e&&o<a;)u()}h()})}var Rue=25,Due=50,Th=5e3,Iue=1e4,Vv={};function Uv(t){var e=t.doc||t.ok,n=e&&e._attachments;!n||Object.keys(n).forEach(function(r){var i=n[r];i.data=W6(i.data,i.content_type)})}function Ta(t){return/^_design/.test(t)?"_design/"+encodeURIComponent(t.slice(8)):/^_local/.test(t)?"_local/"+encodeURIComponent(t.slice(7)):encodeURIComponent(t)}function pS(t){return!t._attachments||!Object.keys(t._attachments)?Promise.resolve():Promise.all(Object.keys(t._attachments).map(function(e){var n=t._attachments[e];if(n.data&&typeof n.data!="string")return new Promise(function(r){K6(n.data,r)}).then(function(r){n.data=r})}))}function Pue(t){if(!t.prefix)return!1;var e=_M(t.prefix).protocol;return e==="http"||e==="https"}function Lue(t,e){if(Pue(e)){var n=e.name.substr(e.prefix.length),r=e.prefix.replace(/\/?$/,"/");t=r+encodeURIComponent(n)}var i=_M(t);(i.user||i.password)&&(i.auth={username:i.user,password:i.password});var o=i.path.replace(/(^\/|\/$)/g,"").split("/");return i.db=o.pop(),i.db.indexOf("%")===-1&&(i.db=encodeURIComponent(i.db)),i.path=o.join("/"),i}function Zt(t,e){return gp(t,t.db+"/"+e)}function gp(t,e){var n=t.path?"/":"";return t.protocol+"://"+t.host+(t.port?":"+t.port:"")+"/"+t.path+n+e}function Ah(t){return"?"+Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")}function zue(t){var e=typeof navigator<"u"&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=e.indexOf("msie")!==-1,r=e.indexOf("trident")!==-1,i=e.indexOf("edge")!==-1,o=!("method"in t)||t.method==="GET";return(n||r||i)&&o}function d2(t,e){var n=this,r=Lue(t.name,t),i=Zt(r,"");t=nn(t);var o=function(f,d){if(d=d||{},d.headers=d.headers||new Fu,d.credentials="include",t.auth||r.auth){var h=t.auth||r.auth,g=h.username+":"+h.password,y=R0(unescape(encodeURIComponent(g)));d.headers.set("Authorization","Basic "+y)}var S=t.headers||{};Object.keys(S).forEach(function(m){d.headers.append(m,S[m])}),zue(d)&&(f+=(f.indexOf("?")===-1?"?":"&")+"_nonce="+Date.now());var v=t.fetch||DM;return v(f,d)};function s(f,d){return Xt(f,Rc(function(h){u().then(function(){return d.apply(this,h)}).catch(function(g){var y=h.pop();y(g)})})).bind(n)}function a(f,d,h){var g={};return d=d||{},d.headers=d.headers||new Fu,d.headers.get("Content-Type")||d.headers.set("Content-Type","application/json"),d.headers.get("Accept")||d.headers.set("Accept","application/json"),o(f,d).then(function(y){return g.ok=y.ok,g.status=y.status,y.json()}).then(function(y){if(g.data=y,!g.ok){g.data.status=g.status;var S=hc(g.data);if(h)return h(S);throw S}if(Array.isArray(g.data)&&(g.data=g.data.map(function(v){return v.error||v.missing?hc(v):v})),h)h(null,g.data);else return g})}var l;function u(){return t.skip_setup?Promise.resolve():l||(l=a(i).catch(function(f){return f&&f.status&&f.status===404?(t2(404,"PouchDB is just detecting if the remote exists."),a(i,{method:"PUT"})):Promise.reject(f)}).catch(function(f){return f&&f.status&&f.status===412?!0:Promise.reject(f)}),l.catch(function(){l=null}),l)}uo(function(){e(null,n)}),n._remote=!0,n.type=function(){return"http"},n.id=s("id",function(f){o(gp(r,"")).then(function(d){return d.json()}).catch(function(){return{}}).then(function(d){var h=d&&d.uuid?d.uuid+r.db:Zt(r,"");f(null,h)})}),n.compact=s("compact",function(f,d){typeof f=="function"&&(d=f,f={}),f=nn(f),a(Zt(r,"_compact"),{method:"POST"}).then(function(){function h(){n.info(function(g,y){y&&!y.compact_running?d(null,{ok:!0}):setTimeout(h,f.interval||200)})}h()})}),n.bulkGet=Xt("bulkGet",function(f,d){var h=this;function g(m){var p={};f.revs&&(p.revs=!0),f.attachments&&(p.attachments=!0),f.latest&&(p.latest=!0),a(Zt(r,"_bulk_get"+Ah(p)),{method:"POST",body:JSON.stringify({docs:f.docs})}).then(function(x){f.attachments&&f.binary&&x.data.results.forEach(function(b){b.docs.forEach(Uv)}),m(null,x.data)}).catch(m)}function y(){var m=Due,p=Math.ceil(f.docs.length/m),x=0,b=new Array(p);function _(N){return function($,W){b[N]=W.results,++x===p&&d(null,{results:Am(b)})}}for(var T=0;T<p;T++){var M=N0(f,["revs","attachments","binary","latest"]);M.docs=f.docs.slice(T*m,Math.min(f.docs.length,(T+1)*m)),yM(h,M,_(T))}}var S=gp(r,""),v=Vv[S];typeof v!="boolean"?g(function(m,p){m?(Vv[S]=!1,t2(m.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),y()):(Vv[S]=!0,d(null,p))}):v?g(d):y()}),n._info=function(f){u().then(function(){return o(Zt(r,""))}).then(function(d){return d.json()}).then(function(d){d.host=Zt(r,""),f(null,d)}).catch(f)},n.fetch=function(f,d){return u().then(function(){var h=f.substring(0,1)==="/"?gp(r,f.substring(1)):Zt(r,f);return o(h,d)})},n.get=s("get",function(f,d,h){typeof d=="function"&&(h=d,d={}),d=nn(d);var g={};d.revs&&(g.revs=!0),d.revs_info&&(g.revs_info=!0),d.latest&&(g.latest=!0),d.open_revs&&(d.open_revs!=="all"&&(d.open_revs=JSON.stringify(d.open_revs)),g.open_revs=d.open_revs),d.rev&&(g.rev=d.rev),d.conflicts&&(g.conflicts=d.conflicts),d.update_seq&&(g.update_seq=d.update_seq),f=Ta(f);function y(m){var p=m._attachments,x=p&&Object.keys(p);if(!p||!x.length)return;function b(T){var M=p[T],N=Ta(m._id)+"/"+c(T)+"?rev="+m._rev;return o(Zt(r,N)).then(function($){return"buffer"in $?$.buffer():$.blob()}).then(function($){if(d.binary){var W=Object.getOwnPropertyDescriptor($.__proto__,"type");return(!W||W.set)&&($.type=M.content_type),$}return new Promise(function(X){K6($,X)})}).then(function($){delete M.stub,delete M.length,M.data=$})}var _=x.map(function(T){return function(){return b(T)}});return Nue(_,5)}function S(m){return Array.isArray(m)?Promise.all(m.map(function(p){if(p.ok)return y(p.ok)})):y(m)}var v=Zt(r,f+Ah(g));a(v).then(function(m){return Promise.resolve().then(function(){if(d.attachments)return S(m.data)}).then(function(){h(null,m.data)})}).catch(function(m){m.docId=f,h(m)})}),n.remove=s("remove",function(f,d,h,g){var y;typeof d=="string"?(y={_id:f,_rev:d},typeof h=="function"&&(g=h,h={})):(y=f,typeof d=="function"?(g=d,h={}):(g=h,h=d));var S=y._rev||h.rev,v=Zt(r,Ta(y._id))+"?rev="+S;a(v,{method:"DELETE"},g).catch(g)});function c(f){return f.split("/").map(encodeURIComponent).join("/")}n.getAttachment=s("getAttachment",function(f,d,h,g){typeof h=="function"&&(g=h,h={});var y=h.rev?"?rev="+h.rev:"",S=Zt(r,Ta(f))+"/"+c(d)+y,v;o(S,{method:"GET"}).then(function(m){if(v=m.headers.get("content-type"),m.ok)return typeof Ro<"u"&&!Ro.browser&&typeof m.buffer=="function"?m.buffer():m.blob();throw m}).then(function(m){typeof Ro<"u"&&!Ro.browser&&(m.type=v),g(null,m)}).catch(function(m){g(m)})}),n.removeAttachment=s("removeAttachment",function(f,d,h,g){var y=Zt(r,Ta(f)+"/"+c(d))+"?rev="+h;a(y,{method:"DELETE"},g).catch(g)}),n.putAttachment=s("putAttachment",function(f,d,h,g,y,S){typeof y=="function"&&(S=y,y=g,g=h,h=null);var v=Ta(f)+"/"+c(d),m=Zt(r,v);if(h&&(m+="?rev="+h),typeof g=="string"){var p;try{p=H6(g)}catch{return S(Ue(bM,"Attachment is not a valid base64 string"))}g=p?q6(p,y):""}a(m,{headers:new Fu({"Content-Type":y}),method:"PUT",body:g},S).catch(S)}),n._bulkDocs=function(f,d,h){f.new_edits=d.new_edits,u().then(function(){return Promise.all(f.docs.map(pS))}).then(function(){return a(Zt(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(f)},h)}).catch(h)},n._put=function(f,d,h){u().then(function(){return pS(f)}).then(function(){return a(Zt(r,Ta(f._id)),{method:"PUT",body:JSON.stringify(f)})}).then(function(g){h(null,g.data)}).catch(function(g){g.docId=f&&f._id,h(g)})},n.allDocs=s("allDocs",function(f,d){typeof f=="function"&&(d=f,f={}),f=nn(f);var h={},g,y="GET";f.conflicts&&(h.conflicts=!0),f.update_seq&&(h.update_seq=!0),f.descending&&(h.descending=!0),f.include_docs&&(h.include_docs=!0),f.attachments&&(h.attachments=!0),f.key&&(h.key=JSON.stringify(f.key)),f.start_key&&(f.startkey=f.start_key),f.startkey&&(h.startkey=JSON.stringify(f.startkey)),f.end_key&&(f.endkey=f.end_key),f.endkey&&(h.endkey=JSON.stringify(f.endkey)),typeof f.inclusive_end<"u"&&(h.inclusive_end=!!f.inclusive_end),typeof f.limit<"u"&&(h.limit=f.limit),typeof f.skip<"u"&&(h.skip=f.skip);var S=Ah(h);typeof f.keys<"u"&&(y="POST",g={keys:f.keys}),a(Zt(r,"_all_docs"+S),{method:y,body:JSON.stringify(g)}).then(function(v){f.include_docs&&f.attachments&&f.binary&&v.data.rows.forEach(Uv),d(null,v.data)}).catch(d)}),n._changes=function(f){var d="batch_size"in f?f.batch_size:Rue;f=nn(f),f.continuous&&!("heartbeat"in f)&&(f.heartbeat=Iue);var h="timeout"in f?f.timeout:30*1e3;"timeout"in f&&f.timeout&&h-f.timeout<Th&&(h=f.timeout+Th),"heartbeat"in f&&f.heartbeat&&h-f.heartbeat<Th&&(h=f.heartbeat+Th);var g={};"timeout"in f&&f.timeout&&(g.timeout=f.timeout);var y=typeof f.limit<"u"?f.limit:!1,S=y;if(f.style&&(g.style=f.style),(f.include_docs||f.filter&&typeof f.filter=="function")&&(g.include_docs=!0),f.attachments&&(g.attachments=!0),f.continuous&&(g.feed="longpoll"),f.seq_interval&&(g.seq_interval=f.seq_interval),f.conflicts&&(g.conflicts=!0),f.descending&&(g.descending=!0),f.update_seq&&(g.update_seq=!0),"heartbeat"in f&&f.heartbeat&&(g.heartbeat=f.heartbeat),f.filter&&typeof f.filter=="string"&&(g.filter=f.filter),f.view&&typeof f.view=="string"&&(g.filter="_view",g.view=f.view),f.query_params&&typeof f.query_params=="object")for(var v in f.query_params)Object.prototype.hasOwnProperty.call(f.query_params,v)&&(g[v]=f.query_params[v]);var m="GET",p;f.doc_ids?(g.filter="_doc_ids",m="POST",p={doc_ids:f.doc_ids}):f.selector&&(g.filter="_selector",m="POST",p={selector:f.selector});var x=new ble,b,_=function(N,$){if(!f.aborted){g.since=N,typeof g.since=="object"&&(g.since=JSON.stringify(g.since)),f.descending?y&&(g.limit=S):g.limit=!y||S>d?d:S;var W=Zt(r,"_changes"+Ah(g)),X={signal:x.signal,method:m,body:JSON.stringify(p)};b=N,!f.aborted&&u().then(function(){return a(W,X,$)}).catch($)}},T={results:[]},M=function(N,$){if(!f.aborted){var W=0;if($&&$.results){W=$.results.length,T.last_seq=$.last_seq;var X=null,oe=null;typeof $.pending=="number"&&(X=$.pending),(typeof T.last_seq=="string"||typeof T.last_seq=="number")&&(oe=T.last_seq);var H={};H.query=f.query_params,$.results=$.results.filter(function(q){S--;var A=V6(f)(q);return A&&(f.include_docs&&f.attachments&&f.binary&&Uv(q),f.return_docs&&T.results.push(q),f.onChange(q,X,oe)),A})}else if(N){f.aborted=!0,f.complete(N);return}$&&$.last_seq&&(b=$.last_seq);var K=y&&S<=0||$&&W<d||f.descending;f.continuous&&!(y&&S<=0)||!K?uo(function(){_(b,M)}):f.complete(null,T)}};return _(f.since||0,M),{cancel:function(){f.aborted=!0,x.abort()}}},n.revsDiff=s("revsDiff",function(f,d,h){typeof d=="function"&&(h=d,d={}),a(Zt(r,"_revs_diff"),{method:"POST",body:JSON.stringify(f)},h).catch(h)}),n._close=function(f){f()},n._destroy=function(f,d){a(Zt(r,""),{method:"DELETE"}).then(function(h){d(null,h)}).catch(function(h){h.status===404?d(null,{ok:!0}):d(h)})}}d2.valid=function(){return!0};function Bue(t){t.adapter("http",d2,!1),t.adapter("https",d2,!1)}function qa(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,qa)}catch{}}Or.exports(qa,Error);function Z1(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,Z1)}catch{}}Or.exports(Z1,Error);function eg(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,eg)}catch{}}Or.exports(eg,Error);function WM(t,e){return e&&t.then(function(n){uo(function(){e(null,n)})},function(n){uo(function(){e(n)})}),t}function $ue(t){return Rc(function(e){var n=e.pop(),r=t.apply(this,e);return typeof n=="function"&&WM(r,n),r})}function Fue(t,e){return t.then(function(n){return e().then(function(){return n})},function(n){return e().then(function(){throw n})})}function Hv(t,e){return function(){var n=arguments,r=this;return t.add(function(){return e.apply(r,n)})}}function mS(t){var e=new fc(t),n=new Array(e.size),r=-1;return e.forEach(function(i){n[++r]=i}),n}function jv(t){var e=new Array(t.size),n=-1;return t.forEach(function(r,i){e[++n]=i}),e}function gS(t){var e="builtin "+t+" function requires map values to be numbers or number arrays";return new eg(e)}function h2(t){for(var e=0,n=0,r=t.length;n<r;n++){var i=t[n];if(typeof i!="number")if(Array.isArray(i)){e=typeof e=="number"?[e]:e;for(var o=0,s=i.length;o<s;o++){var a=i[o];if(typeof a!="number")throw gS("_sum");typeof e[o]>"u"?e.push(a):e[o]+=a}}else throw gS("_sum");else typeof e=="number"?e+=i:e[0]+=i}return e}var Vue=Zr.bind(null,"log"),Uue=Array.isArray,Hue=JSON.parse;function KM(t,e){return U6("return ("+t.replace(/;\s*$/,"")+");",{emit:e,sum:h2,log:Vue,isArray:Uue,toJSON:Hue})}function Qd(){this.promise=new Promise(function(t){t()})}Qd.prototype.add=function(t){return this.promise=this.promise.catch(function(){}).then(function(){return t()}),this.promise};Qd.prototype.finish=function(){return this.promise};function vS(t){if(!t)return"undefined";switch(typeof t){case"function":return t.toString();case"string":return t.toString();default:return JSON.stringify(t)}}function jue(t,e){return vS(t)+vS(e)+"undefined"}function yS(t,e,n,r,i,o){var s=jue(n,r),a;if(!i&&(a=t._cachedViews=t._cachedViews||{},a[s]))return a[s];var l=t.info().then(function(u){var c=u.db_name+"-mrview-"+(i?"temp":TM(s));function f(d){d.views=d.views||{};var h=e;h.indexOf("/")===-1&&(h=e+"/"+e);var g=d.views[h]=d.views[h]||{};if(!g[c])return g[c]=!0,d}return J1(t,"_local/"+o,f).then(function(){return t.registerDependentDatabase(c).then(function(d){var h=d.db;h.auto_compaction=!0;var g={name:c,db:h,sourceDB:t,adapter:t.adapter,mapFun:n,reduceFun:r};return g.db.get("_local/lastSeq").catch(function(y){if(y.status!==404)throw y}).then(function(y){return g.seq=y?y.seq:0,a&&g.db.once("destroyed",function(){delete a[s]}),g})})})});return a&&(a[s]=l),l}var xS={},wS=new Qd,que=50;function qv(t){return t.indexOf("/")===-1?[t,t]:t.split("/")}function Wue(t){return t.length===1&&/^1-/.test(t[0].rev)}function bS(t,e){try{t.emit("error",e)}catch{Zr("error",`The user's map/reduce function threw an uncaught error.
You can debug this error by doing:
myDatabase.on('error', function (err) { debugger; });
Please double-check your map/reduce function.`),Zr("error",e)}}function Kue(t,e,n,r){function i(A,O,L){try{O(L)}catch(P){bS(A,P)}}function o(A,O,L,P,R){try{return{output:O(L,P,R)}}catch(F){return bS(A,F),{error:F}}}function s(A,O){var L=$t(A.key,O.key);return L!==0?L:$t(A.value,O.value)}function a(A,O,L){return L=L||0,typeof O=="number"?A.slice(L,O+L):L>0?A.slice(L):A}function l(A){var O=A.value,L=O&&typeof O=="object"&&O._id||A.id;return L}function u(A){A.rows.forEach(function(O){var L=O.doc&&O.doc._attachments;!L||Object.keys(L).forEach(function(P){var R=L[P];L[P].data=W6(R.data,R.content_type)})})}function c(A){return function(O){return A.include_docs&&A.attachments&&A.binary&&u(O),O}}function f(A,O,L,P){var R=O[A];typeof R<"u"&&(P&&(R=encodeURIComponent(JSON.stringify(R))),L.push(A+"="+R))}function d(A){if(typeof A<"u"){var O=Number(A);return!isNaN(O)&&O===parseInt(A,10)?O:A}}function h(A){return A.group_level=d(A.group_level),A.limit=d(A.limit),A.skip=d(A.skip),A}function g(A){if(A){if(typeof A!="number")return new qa('Invalid value for integer: "'+A+'"');if(A<0)return new qa('Invalid value for positive integer: "'+A+'"')}}function y(A,O){var L=A.descending?"endkey":"startkey",P=A.descending?"startkey":"endkey";if(typeof A[L]<"u"&&typeof A[P]<"u"&&$t(A[L],A[P])>0)throw new qa("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(O.reduce&&A.reduce!==!1){if(A.include_docs)throw new qa("{include_docs:true} is invalid for reduce");if(A.keys&&A.keys.length>1&&!A.group&&!A.group_level)throw new qa("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(R){var F=g(A[R]);if(F)throw F})}function S(A,O,L){var P=[],R,F="GET",V,G;if(f("reduce",L,P),f("include_docs",L,P),f("attachments",L,P),f("limit",L,P),f("descending",L,P),f("group",L,P),f("group_level",L,P),f("skip",L,P),f("stale",L,P),f("conflicts",L,P),f("startkey",L,P,!0),f("start_key",L,P,!0),f("endkey",L,P,!0),f("end_key",L,P,!0),f("inclusive_end",L,P),f("key",L,P,!0),f("update_seq",L,P),P=P.join("&"),P=P===""?"":"?"+P,typeof L.keys<"u"){var Q=2e3,se="keys="+encodeURIComponent(JSON.stringify(L.keys));se.length+P.length+1<=Q?P+=(P[0]==="?"?"&":"?")+se:(F="POST",typeof O=="string"?R={keys:L.keys}:O.keys=L.keys)}if(typeof O=="string"){var ue=qv(O);return A.fetch("_design/"+ue[0]+"/_view/"+ue[1]+P,{headers:new Fu({"Content-Type":"application/json"}),method:F,body:JSON.stringify(R)}).then(function(J){return V=J.ok,G=J.status,J.json()}).then(function(J){if(!V)throw J.status=G,hc(J);return J.rows.forEach(function(xe){if(xe.value&&xe.value.error&&xe.value.error==="builtin_reduce_error")throw new Error(xe.reason)}),J}).then(c(L))}return R=R||{},Object.keys(O).forEach(function(J){Array.isArray(O[J])?R[J]=O[J]:R[J]=O[J].toString()}),A.fetch("_temp_view"+P,{headers:new Fu({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(R)}).then(function(J){return V=J.ok,G=J.status,J.json()}).then(function(J){if(!V)throw J.status=G,hc(J);return J}).then(c(L))}function v(A,O,L){return new Promise(function(P,R){A._query(O,L,function(F,V){if(F)return R(F);P(V)})})}function m(A){return new Promise(function(O,L){A._viewCleanup(function(P,R){if(P)return L(P);O(R)})})}function p(A){return function(O){if(O.status===404)return A;throw O}}function x(A,O,L){var P="_local/doc_"+A,R={_id:P,keys:[]},F=L.get(A),V=F[0],G=F[1];function Q(){return Wue(G)?Promise.resolve(R):O.db.get(P).catch(p(R))}function se(J){return J.keys.length?O.db.allDocs({keys:J.keys,include_docs:!0}):Promise.resolve({rows:[]})}function ue(J,xe){for(var Be=[],it=new fc,$e=0,Ae=xe.rows.length;$e<Ae;$e++){var qe=xe.rows[$e],et=qe.doc;if(!!et&&(Be.push(et),it.add(et._id),et._deleted=!V.has(et._id),!et._deleted)){var Ct=V.get(et._id);"value"in Ct&&(et.value=Ct.value)}}var vt=jv(V);return vt.forEach(function(gr){if(!it.has(gr)){var Li={_id:gr},Rx=V.get(gr);"value"in Rx&&(Li.value=Rx.value),Be.push(Li)}}),J.keys=mS(vt.concat(J.keys)),Be.push(J),Be}return Q().then(function(J){return se(J).then(function(xe){return ue(J,xe)})})}function b(A,O,L){var P="_local/lastSeq";return A.db.get(P).catch(p({_id:P,seq:0})).then(function(R){var F=jv(O);return Promise.all(F.map(function(V){return x(V,A,O)})).then(function(V){var G=Am(V);return R.seq=L,G.push(R),A.db.bulkDocs({docs:G})})})}function _(A){var O=typeof A=="string"?A:A.name,L=xS[O];return L||(L=xS[O]=new Qd),L}function T(A,O){return Hv(_(A),function(){return M(A,O)})()}function M(A,O){var L,P;function R($e,Ae){var qe={id:P._id,key:Ol($e)};typeof Ae<"u"&&Ae!==null&&(qe.value=Ol(Ae)),L.push(qe)}var F=e(A.mapFun,R),V=A.seq||0;function G($e,Ae){return function(){return b(A,$e,Ae)}}let Q=0,se={view:A.name,indexed_docs:Q};A.sourceDB.emit("indexing",se);var ue=new Qd;function J(){return A.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:V,limit:O.changes_batch_size}).then(xe)}function xe($e){var Ae=$e.results;if(!Ae.length)return;var qe=Be(Ae);ue.add(G(qe,V)),Q=Q+Ae.length;let et={view:A.name,last_seq:$e.last_seq,results_count:Ae.length,indexed_docs:Q};if(A.sourceDB.emit("indexing",et),!(Ae.length<O.changes_batch_size))return J()}function Be($e){for(var Ae=new lr,qe=0,et=$e.length;qe<et;qe++){var Ct=$e[qe];if(Ct.doc._id[0]!=="_"){L=[],P=Ct.doc,P._deleted||i(A.sourceDB,F,P),L.sort(s);var vt=it(L);Ae.set(Ct.doc._id,[vt,Ct.changes])}V=Ct.seq}return Ae}function it($e){for(var Ae=new lr,qe,et=0,Ct=$e.length;et<Ct;et++){var vt=$e[et],gr=[vt.key,vt.id];et>0&&$t(vt.key,qe)===0&&gr.push(et),Ae.set(ui(gr),vt),qe=vt.key}return Ae}return J().then(function(){return ue.finish()}).then(function(){A.seq=V})}function N(A,O,L){L.group_level===0&&delete L.group_level;var P=L.group||L.group_level,R=n(A.reduceFun),F=[],V=isNaN(L.group_level)?Number.POSITIVE_INFINITY:L.group_level;O.forEach(function(J){var xe=F[F.length-1],Be=P?J.key:null;if(P&&Array.isArray(Be)&&(Be=Be.slice(0,V)),xe&&$t(xe.groupKey,Be)===0){xe.keys.push([J.key,J.id]),xe.values.push(J.value);return}F.push({keys:[[J.key,J.id]],values:[J.value],groupKey:Be})}),O=[];for(var G=0,Q=F.length;G<Q;G++){var se=F[G],ue=o(A.sourceDB,R,se.keys,se.values,!1);if(ue.error&&ue.error instanceof eg)throw ue.error;O.push({value:ue.error?null:ue.output,key:se.groupKey})}return{rows:a(O,L.limit,L.skip)}}function $(A,O){return Hv(_(A),function(){return W(A,O)})()}function W(A,O){var L,P=A.reduceFun&&O.reduce!==!1,R=O.skip||0;typeof O.keys<"u"&&!O.keys.length&&(O.limit=0,delete O.keys);function F($e){return $e.include_docs=!0,A.db.allDocs($e).then(function(Ae){return L=Ae.total_rows,Ae.rows.map(function(qe){if("value"in qe.doc&&typeof qe.doc.value=="object"&&qe.doc.value!==null){var et=Object.keys(qe.doc.value).sort(),Ct=["id","key","value"];if(!(et<Ct||et>Ct))return qe.doc.value}var vt=Ble(qe.doc._id);return{key:vt[0],id:vt[1],value:"value"in qe.doc?qe.doc.value:null}})})}function V($e){var Ae;if(P?Ae=N(A,$e,O):typeof O.keys>"u"?Ae={total_rows:L,offset:R,rows:$e}:Ae={total_rows:L,offset:R,rows:a($e,O.limit,O.skip)},O.update_seq&&(Ae.update_seq=A.seq),O.include_docs){var qe=mS($e.map(l));return A.sourceDB.allDocs({keys:qe,include_docs:!0,conflicts:O.conflicts,attachments:O.attachments,binary:O.binary}).then(function(et){var Ct=new lr;return et.rows.forEach(function(vt){Ct.set(vt.id,vt.doc)}),$e.forEach(function(vt){var gr=l(vt),Li=Ct.get(gr);Li&&(vt.doc=Li)}),Ae})}else return Ae}if(typeof O.keys<"u"){var G=O.keys,Q=G.map(function($e){var Ae={startkey:ui([$e]),endkey:ui([$e,{}])};return O.update_seq&&(Ae.update_seq=!0),F(Ae)});return Promise.all(Q).then(Am).then(V)}else{var se={descending:O.descending};O.update_seq&&(se.update_seq=!0);var ue,J;if("start_key"in O&&(ue=O.start_key),"startkey"in O&&(ue=O.startkey),"end_key"in O&&(J=O.end_key),"endkey"in O&&(J=O.endkey),typeof ue<"u"&&(se.startkey=O.descending?ui([ue,{}]):ui([ue])),typeof J<"u"){var xe=O.inclusive_end!==!1;O.descending&&(xe=!xe),se.endkey=ui(xe?[J,{}]:[J])}if(typeof O.key<"u"){var Be=ui([O.key]),it=ui([O.key,{}]);se.descending?(se.endkey=Be,se.startkey=it):(se.startkey=Be,se.endkey=it)}return P||(typeof O.limit=="number"&&(se.limit=O.limit),se.skip=R),F(se).then(V)}}function X(A){return A.fetch("_view_cleanup",{headers:new Fu({"Content-Type":"application/json"}),method:"POST"}).then(function(O){return O.json()})}function oe(A){return A.get("_local/"+t).then(function(O){var L=new lr;Object.keys(O.views).forEach(function(R){var F=qv(R),V="_design/"+F[0],G=F[1],Q=L.get(V);Q||(Q=new fc,L.set(V,Q)),Q.add(G)});var P={keys:jv(L),include_docs:!0};return A.allDocs(P).then(function(R){var F={};R.rows.forEach(function(Q){var se=Q.key.substring(8);L.get(Q.key).forEach(function(ue){var J=se+"/"+ue;O.views[J]||(J=ue);var xe=Object.keys(O.views[J]),Be=Q.doc&&Q.doc.views&&Q.doc.views[ue];xe.forEach(function(it){F[it]=F[it]||Be})})});var V=Object.keys(F).filter(function(Q){return!F[Q]}),G=V.map(function(Q){return Hv(_(Q),function(){return new A.constructor(Q,A.__opts).destroy()})()});return Promise.all(G).then(function(){return{ok:!0}})})},p({ok:!0}))}function H(A,O,L){if(typeof A._query=="function")return v(A,O,L);if(co(A))return S(A,O,L);var P={changes_batch_size:A.__opts.view_update_changes_batch_size||que};if(typeof O!="string")return y(L,O),wS.add(function(){var Q=yS(A,"temp_view/temp_view",O.map,O.reduce,!0,t);return Q.then(function(se){return Fue(T(se,P).then(function(){return $(se,L)}),function(){return se.db.destroy()})})}),wS.finish();var R=O,F=qv(R),V=F[0],G=F[1];return A.get("_design/"+V).then(function(Q){var se=Q.views&&Q.views[G];if(!se)throw new Z1("ddoc "+Q._id+" has no view named "+G);r(Q,G),y(L,se);var ue=yS(A,R,se.map,se.reduce,!1,t);return ue.then(function(J){return L.stale==="ok"||L.stale==="update_after"?(L.stale==="update_after"&&uo(function(){T(J,P)}),$(J,L)):T(J,P).then(function(){return $(J,L)})})})}function K(A,O,L){var P=this;typeof O=="function"&&(L=O,O={}),O=O?h(O):{},typeof A=="function"&&(A={map:A});var R=Promise.resolve().then(function(){return H(P,A,O)});return WM(R,L),R}var q=$ue(function(){var A=this;return typeof A._viewCleanup=="function"?m(A):co(A)?X(A):oe(A)});return{query:K,viewCleanup:q}}var Wv={_sum:function(t,e){return h2(e)},_count:function(t,e){return e.length},_stats:function(t,e){function n(r){for(var i=0,o=0,s=r.length;o<s;o++){var a=r[o];i+=a*a}return i}return{sum:h2(e),min:Math.min.apply(null,e),max:Math.max.apply(null,e),count:e.length,sumsqr:n(e)}}};function Gue(t){if(/^_sum/.test(t))return Wv._sum;if(/^_count/.test(t))return Wv._count;if(/^_stats/.test(t))return Wv._stats;if(/^_/.test(t))throw new Error(t+" is not a supported reduce function.")}function Yue(t,e){if(typeof t=="function"&&t.length===2){var n=t;return function(r){return n(r,e)}}else return KM(t.toString(),e)}function Xue(t){var e=t.toString(),n=Gue(e);return n||KM(e)}function Jue(t,e){var n=t.views&&t.views[e];if(typeof n.map!="string")throw new Z1("ddoc "+t._id+" has no string view named "+e+", instead found object of type: "+typeof n.map)}var Que="mrviews",GM=Kue(Que,Yue,Xue,Jue);function Zue(t,e,n){return GM.query.call(this,t,e,n)}function ece(t){return GM.viewCleanup.call(this,t)}var tce={query:Zue,viewCleanup:ece};function SS(t){return/^1-/.test(t)}function nce(t,e,n){return!t._attachments||!t._attachments[n]||t._attachments[n].digest!==e._attachments[n].digest}function kS(t,e){var n=Object.keys(e._attachments);return Promise.all(n.map(function(r){return t.getAttachment(e._id,r,{rev:e._rev})}))}function rce(t,e,n){var r=co(e)&&!co(t),i=Object.keys(n._attachments);return r?t.get(n._id).then(function(o){return Promise.all(i.map(function(s){return nce(o,n,s)?e.getAttachment(n._id,s):t.getAttachment(o._id,s)}))}).catch(function(o){if(o.status!==404)throw o;return kS(e,n)}):kS(e,n)}function ice(t){var e=[];return Object.keys(t).forEach(function(n){var r=t[n].missing;r.forEach(function(i){e.push({id:n,rev:i})})}),{docs:e,revs:!0,latest:!0}}function oce(t,e,n,r){n=nn(n);var i=[],o=!0;function s(){var d=ice(n);if(!!d.docs.length)return t.bulkGet(d).then(function(h){if(r.cancelled)throw new Error("cancelled");return Promise.all(h.results.map(function(g){return Promise.all(g.docs.map(function(y){var S=y.ok;return y.error&&(o=!1),!S||!S._attachments?S:rce(e,t,S).then(function(v){var m=Object.keys(S._attachments);return v.forEach(function(p,x){var b=S._attachments[m[x]];delete b.stub,delete b.length,b.data=p}),S})}))})).then(function(g){i=i.concat(Am(g).filter(Boolean))})})}function a(d){return d._attachments&&Object.keys(d._attachments).length>0}function l(d){return d._conflicts&&d._conflicts.length>0}function u(d){return t.allDocs({keys:d,include_docs:!0,conflicts:!0}).then(function(h){if(r.cancelled)throw new Error("cancelled");h.rows.forEach(function(g){g.deleted||!g.doc||!SS(g.value.rev)||a(g.doc)||l(g.doc)||(g.doc._conflicts&&delete g.doc._conflicts,i.push(g.doc),delete n[g.id])})})}function c(){var d=Object.keys(n).filter(function(h){var g=n[h].missing;return g.length===1&&SS(g[0])});if(d.length>0)return u(d)}function f(){return{ok:o,docs:i}}return Promise.resolve().then(c).then(s).then(f)}var _S=1,ES="pouchdb",sce=5,Vi=0;function ex(t,e,n,r,i){return t.get(e).catch(function(o){if(o.status===404)return(t.adapter==="http"||t.adapter==="https")&&t2(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:r,_id:e,history:[],replicator:ES,version:_S};throw o}).then(function(o){if(!i.cancelled&&o.last_seq!==n)return o.history=(o.history||[]).filter(function(s){return s.session_id!==r}),o.history.unshift({last_seq:n,session_id:r}),o.history=o.history.slice(0,sce),o.version=_S,o.replicator=ES,o.session_id=r,o.last_seq=n,t.put(o).catch(function(s){if(s.status===409)return ex(t,e,n,r,i);throw s})})}function P0(t,e,n,r,i){this.src=t,this.target=e,this.id=n,this.returnValue=r,this.opts=i||{}}P0.prototype.writeCheckpoint=function(t,e){var n=this;return this.updateTarget(t,e).then(function(){return n.updateSource(t,e)})};P0.prototype.updateTarget=function(t,e){return this.opts.writeTargetCheckpoint?ex(this.target,this.id,t,e,this.returnValue):Promise.resolve(!0)};P0.prototype.updateSource=function(t,e){if(this.opts.writeSourceCheckpoint){var n=this;return ex(this.src,this.id,t,e,this.returnValue).catch(function(r){if(XM(r))return n.opts.writeSourceCheckpoint=!1,!0;throw r})}else return Promise.resolve(!0)};var CS={undefined:function(t,e){return $t(t.last_seq,e.last_seq)===0?e.last_seq:0},1:function(t,e){return ace(e,t).last_seq}};P0.prototype.getCheckpoint=function(){var t=this;return t.opts&&t.opts.writeSourceCheckpoint&&!t.opts.writeTargetCheckpoint?t.src.get(t.id).then(function(e){return e.last_seq||Vi}).catch(function(e){if(e.status!==404)throw e;return Vi}):t.target.get(t.id).then(function(e){return t.opts&&t.opts.writeTargetCheckpoint&&!t.opts.writeSourceCheckpoint?e.last_seq||Vi:t.src.get(t.id).then(function(n){if(e.version!==n.version)return Vi;var r;return e.version?r=e.version.toString():r="undefined",r in CS?CS[r](e,n):Vi},function(n){if(n.status===404&&e.last_seq)return t.src.put({_id:t.id,last_seq:Vi}).then(function(){return Vi},function(r){return XM(r)?(t.opts.writeSourceCheckpoint=!1,e.last_seq):Vi});throw n})}).catch(function(e){if(e.status!==404)throw e;return Vi})};function ace(t,e){return t.session_id===e.session_id?{last_seq:t.last_seq,history:t.history}:YM(t.history,e.history)}function YM(t,e){var n=t[0],r=t.slice(1),i=e[0],o=e.slice(1);if(!n||e.length===0)return{last_seq:Vi,history:[]};var s=n.session_id;if(p2(s,e))return{last_seq:n.last_seq,history:t};var a=i.session_id;return p2(a,r)?{last_seq:i.last_seq,history:o}:YM(r,o)}function p2(t,e){var n=e[0],r=e.slice(1);return!t||e.length===0?!1:t===n.session_id?!0:p2(t,r)}function XM(t){return typeof t.status=="number"&&Math.floor(t.status/100)===4}var TS=0;function lce(t,e,n,r){if(t.retry===!1){e.emit("error",n),e.removeAllListeners();return}if(typeof t.back_off_function!="function"&&(t.back_off_function=Lae),e.emit("requestError",n),e.state==="active"||e.state==="pending"){e.emit("paused",n),e.state="stopped";var i=function(){t.current_back_off=TS},o=function(){e.removeListener("active",i)};e.once("paused",o),e.once("active",i)}t.current_back_off=t.current_back_off||TS,t.current_back_off=t.back_off_function(t.current_back_off),setTimeout(r,t.current_back_off)}function uce(t){return Object.keys(t).sort($t).reduce(function(e,n){return e[n]=t[n],e},{})}function cce(t,e,n){var r=n.doc_ids?n.doc_ids.sort($t):"",i=n.filter?n.filter.toString():"",o="",s="",a="";return n.selector&&(a=JSON.stringify(n.selector)),n.filter&&n.query_params&&(o=JSON.stringify(uce(n.query_params))),n.filter&&n.filter==="_view"&&(s=n.view.toString()),Promise.all([t.id(),e.id()]).then(function(l){var u=l[0]+l[1]+i+s+o+r+a;return new Promise(function(c){G6(u,c)})}).then(function(l){return l=l.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+l})}function JM(t,e,n,r,i){var o=[],s,a={seq:0,changes:[],docs:[]},l=!1,u=!1,c=!1,f=0,d=n.continuous||n.live||!1,h=n.batch_size||100,g=n.batches_limit||10,y=n.style||"all_docs",S=!1,v=n.doc_ids,m=n.selector,p,x,b=[],_=Q1();i=i||{ok:!0,start_time:new Date().toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var T={};r.ready(t,e);function M(){return x?Promise.resolve():cce(t,e,n).then(function(V){p=V;var G={};n.checkpoint===!1?G={writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:n.checkpoint==="source"?G={writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:n.checkpoint==="target"?G={writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:G={writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},x=new P0(t,e,p,r,G)})}function N(){if(b=[],s.docs.length!==0){var V=s.docs,G={timeout:n.timeout};return e.bulkDocs({docs:V,new_edits:!1},G).then(function(Q){if(r.cancelled)throw q(),new Error("cancelled");var se=Object.create(null);Q.forEach(function(J){J.error&&(se[J.id]=J)});var ue=Object.keys(se).length;i.doc_write_failures+=ue,i.docs_written+=V.length-ue,V.forEach(function(J){var xe=se[J._id];if(xe){i.errors.push(xe);var Be=(xe.name||"").toLowerCase();if(Be==="unauthorized"||Be==="forbidden")r.emit("denied",nn(xe));else throw xe}else b.push(J)})},function(Q){throw i.doc_write_failures+=V.length,Q})}}function $(){if(s.error)throw new Error("There was a problem getting docs.");i.last_seq=f=s.seq;var V=nn(i);return b.length&&(V.docs=b,typeof s.pending=="number"&&(V.pending=s.pending,delete s.pending),r.emit("change",V)),l=!0,x.writeCheckpoint(s.seq,_).then(function(){if(r.emit("checkpoint",{checkpoint:s.seq}),l=!1,r.cancelled)throw q(),new Error("cancelled");s=void 0,P()}).catch(function(G){throw F(G),G})}function W(){var V={};return s.changes.forEach(function(G){r.emit("checkpoint",{revs_diff:G}),G.id!=="_user/"&&(V[G.id]=G.changes.map(function(Q){return Q.rev}))}),e.revsDiff(V).then(function(G){if(r.cancelled)throw q(),new Error("cancelled");s.diffs=G})}function X(){return oce(t,e,s.diffs,r).then(function(V){s.error=!V.ok,V.docs.forEach(function(G){delete s.diffs[G._id],i.docs_read++,s.docs.push(G)})})}function oe(){if(!(r.cancelled||s)){if(o.length===0){H(!0);return}s=o.shift(),r.emit("checkpoint",{start_next_batch:s.seq}),W().then(X).then(N).then($).then(oe).catch(function(V){K("batch processing terminated with error",V)})}}function H(V){if(a.changes.length===0){o.length===0&&!s&&((d&&T.live||u)&&(r.state="pending",r.emit("paused")),u&&q());return}(V||u||a.changes.length>=h)&&(o.push(a),a={seq:0,changes:[],docs:[]},(r.state==="pending"||r.state==="stopped")&&(r.state="active",r.emit("active")),oe())}function K(V,G){c||(G.message||(G.message=V),i.ok=!1,i.status="aborting",o=[],a={seq:0,changes:[],docs:[]},q(G))}function q(V){if(!c&&!(r.cancelled&&(i.status="cancelled",l)))if(i.status=i.status||"complete",i.end_time=new Date().toISOString(),i.last_seq=f,c=!0,V){V=Ue(V),V.result=i;var G=(V.name||"").toLowerCase();G==="unauthorized"||G==="forbidden"?(r.emit("error",V),r.removeAllListeners()):lce(n,r,V,function(){JM(t,e,n,r)})}else r.emit("complete",i),r.removeAllListeners()}function A(V,G,Q){if(r.cancelled)return q();typeof G=="number"&&(a.pending=G);var se=V6(n)(V);!se||(a.seq=V.seq||Q,a.changes.push(V),r.emit("checkpoint",{pending_batch:a.seq}),uo(function(){H(o.length===0&&T.live)}))}function O(V){if(S=!1,r.cancelled)return q();if(V.results.length>0)T.since=V.results[V.results.length-1].seq,P(),H(!0);else{var G=function(){d?(T.live=!0,P()):u=!0,H(!0)};!s&&V.results.length===0?(l=!0,x.writeCheckpoint(V.last_seq,_).then(function(){l=!1,i.last_seq=f=V.last_seq,G()}).catch(F)):G()}}function L(V){if(S=!1,r.cancelled)return q();K("changes rejected",V)}function P(){if(!(!S&&!u&&o.length<g))return;S=!0;function V(){Q.cancel()}function G(){r.removeListener("cancel",V)}r._changes&&(r.removeListener("cancel",r._abortChanges),r._changes.cancel()),r.once("cancel",V);var Q=t.changes(T).on("change",A);Q.then(G,G),Q.then(O).catch(L),n.retry&&(r._changes=Q,r._abortChanges=V)}function R(){M().then(function(){if(r.cancelled){q();return}return x.getCheckpoint().then(function(V){f=V,T={since:f,limit:h,batch_size:h,style:y,doc_ids:v,selector:m,return_docs:!0},n.filter&&(typeof n.filter!="string"?T.include_docs=!0:T.filter=n.filter),"heartbeat"in n&&(T.heartbeat=n.heartbeat),"timeout"in n&&(T.timeout=n.timeout),n.query_params&&(T.query_params=n.query_params),n.view&&(T.view=n.view),P()})}).catch(function(V){K("getCheckpoint rejected with ",V)})}function F(V){l=!1,K("writeCheckpoint completed with error",V)}if(r.cancelled){q();return}r._addedListeners||(r.once("cancel",q),typeof n.complete=="function"&&(r.once("error",n.complete),r.once("complete",function(V){n.complete(null,V)})),r._addedListeners=!0),typeof n.since>"u"?R():M().then(function(){return l=!0,x.writeCheckpoint(n.since,_)}).then(function(){if(l=!1,r.cancelled){q();return}f=n.since,R()}).catch(F)}Or.exports(tg,je);function tg(){je.call(this),this.cancelled=!1,this.state="pending";var t=this,e=new Promise(function(n,r){t.once("complete",n),t.once("error",r)});t.then=function(n,r){return e.then(n,r)},t.catch=function(n){return e.catch(n)},t.catch(function(){})}tg.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")};tg.prototype.ready=function(t,e){var n=this;if(n._readyCalled)return;n._readyCalled=!0;function r(){n.cancel()}t.once("destroyed",r),e.once("destroyed",r);function i(){t.removeListener("destroyed",r),e.removeListener("destroyed",r)}n.once("complete",i),n.once("error",i)};function Nm(t,e){var n=e.PouchConstructor;return typeof t=="string"?new n(t,e):t}function m2(t,e,n,r){if(typeof n=="function"&&(r=n,n={}),typeof n>"u"&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw Ue(X1,"`doc_ids` filter parameter is not a list.");n.complete=r,n=nn(n),n.continuous=n.continuous||n.live,n.retry="retry"in n?n.retry:!1,n.PouchConstructor=n.PouchConstructor||this;var i=new tg,o=Nm(t,n),s=Nm(e,n);return JM(o,s,n,i),i}Or.exports(tx,je);function fce(t,e,n,r){return typeof n=="function"&&(r=n,n={}),typeof n>"u"&&(n={}),n=nn(n),n.PouchConstructor=n.PouchConstructor||this,t=Nm(t,n),e=Nm(e,n),new tx(t,e,n,r)}function tx(t,e,n,r){var i=this;this.canceled=!1;var o=n.push?Cl({},n,n.push):n,s=n.pull?Cl({},n,n.pull):n;this.push=m2(t,e,o),this.pull=m2(e,t,s),this.pushPaused=!0,this.pullPaused=!0;function a(p){i.emit("change",{direction:"pull",change:p})}function l(p){i.emit("change",{direction:"push",change:p})}function u(p){i.emit("denied",{direction:"push",doc:p})}function c(p){i.emit("denied",{direction:"pull",doc:p})}function f(){i.pushPaused=!0,i.pullPaused&&i.emit("paused")}function d(){i.pullPaused=!0,i.pushPaused&&i.emit("paused")}function h(){i.pushPaused=!1,i.pullPaused&&i.emit("active",{direction:"push"})}function g(){i.pullPaused=!1,i.pushPaused&&i.emit("active",{direction:"pull"})}var y={};function S(p){return function(x,b){var _=x==="change"&&(b===a||b===l),T=x==="denied"&&(b===c||b===u),M=x==="paused"&&(b===d||b===f),N=x==="active"&&(b===g||b===h);(_||T||M||N)&&(x in y||(y[x]={}),y[x][p]=!0,Object.keys(y[x]).length===2&&i.removeAllListeners(x))}}n.live&&(this.push.on("complete",i.pull.cancel.bind(i.pull)),this.pull.on("complete",i.push.cancel.bind(i.push)));function v(p,x,b){p.listeners(x).indexOf(b)==-1&&p.on(x,b)}this.on("newListener",function(p){p==="change"?(v(i.pull,"change",a),v(i.push,"change",l)):p==="denied"?(v(i.pull,"denied",c),v(i.push,"denied",u)):p==="active"?(v(i.pull,"active",g),v(i.push,"active",h)):p==="paused"&&(v(i.pull,"paused",d),v(i.push,"paused",f))}),this.on("removeListener",function(p){p==="change"?(i.pull.removeListener("change",a),i.push.removeListener("change",l)):p==="denied"?(i.pull.removeListener("denied",c),i.push.removeListener("denied",u)):p==="active"?(i.pull.removeListener("active",g),i.push.removeListener("active",h)):p==="paused"&&(i.pull.removeListener("paused",d),i.push.removeListener("paused",f))}),this.pull.on("removeListener",S("pull")),this.push.on("removeListener",S("push"));var m=Promise.all([this.push,this.pull]).then(function(p){var x={push:p[0],pull:p[1]};return i.emit("complete",x),r&&r(null,x),i.removeAllListeners(),x},function(p){if(i.cancel(),r?r(p):i.emit("error",p),i.removeAllListeners(),r)throw p});this.then=function(p,x){return m.then(p,x)},this.catch=function(p){return m.catch(p)}}tx.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())};function dce(t){t.replicate=m2,t.sync=fce,Object.defineProperty(t.prototype,"replicate",{get:function(){var e=this;return typeof this.replicateMethods>"u"&&(this.replicateMethods={from:function(n,r,i){return e.constructor.replicate(n,e,r,i)},to:function(n,r,i){return e.constructor.replicate(e,n,r,i)}}),this.replicateMethods}}),t.prototype.sync=function(e,n,r){return this.constructor.sync(this,e,n,r)}}ze.plugin(Mue).plugin(Bue).plugin(tce).plugin(dce);var QM={},AS=tt.MutationObserver||tt.WebKitMutationObserver,If;if(AS){var OS=0,hce=new AS(Oh),MS=tt.document.createTextNode("");hce.observe(MS,{characterData:!0}),If=function(){MS.data=OS=++OS%2}}else if(!tt.setImmediate&&typeof tt.MessageChannel<"u"){var NS=new tt.MessageChannel;NS.port1.onmessage=Oh,If=function(){NS.port2.postMessage(0)}}else"document"in tt&&"onreadystatechange"in tt.document.createElement("script")?If=function(){var t=tt.document.createElement("script");t.onreadystatechange=function(){Oh(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},tt.document.documentElement.appendChild(t)}:If=function(){setTimeout(Oh,0)};var g2,Pf=[];function Oh(){g2=!0;for(var t,e,n=Pf.length;n;){for(e=Pf,Pf=[],t=-1;++t<n;)e[t]();n=Pf.length}g2=!1}var pce=mce;function mce(t){Pf.push(t)===1&&!g2&&If()}var gce=pce;function Ic(){}var In={},ZM=["REJECTED"],v2=["FULFILLED"],eN=["PENDING"],vce=Fl;function Fl(t){if(typeof t!="function")throw new TypeError("resolver must be a function");this.state=eN,this.queue=[],this.outcome=void 0,t!==Ic&&tN(this,t)}Fl.prototype.catch=function(t){return this.then(null,t)};Fl.prototype.then=function(t,e){if(typeof t!="function"&&this.state===v2||typeof e!="function"&&this.state===ZM)return this;var n=new this.constructor(Ic);if(this.state!==eN){var r=this.state===v2?t:e;nx(n,r,this.outcome)}else this.queue.push(new L0(n,t,e));return n};function L0(t,e,n){this.promise=t,typeof e=="function"&&(this.onFulfilled=e,this.callFulfilled=this.otherCallFulfilled),typeof n=="function"&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}L0.prototype.callFulfilled=function(t){In.resolve(this.promise,t)};L0.prototype.otherCallFulfilled=function(t){nx(this.promise,this.onFulfilled,t)};L0.prototype.callRejected=function(t){In.reject(this.promise,t)};L0.prototype.otherCallRejected=function(t){nx(this.promise,this.onRejected,t)};function nx(t,e,n){gce(function(){var r;try{r=e(n)}catch(i){return In.reject(t,i)}r===t?In.reject(t,new TypeError("Cannot resolve promise with itself")):In.resolve(t,r)})}In.resolve=function(t,e){var n=nN(yce,e);if(n.status==="error")return In.reject(t,n.value);var r=n.value;if(r)tN(t,r);else{t.state=v2,t.outcome=e;for(var i=-1,o=t.queue.length;++i<o;)t.queue[i].callFulfilled(e)}return t};In.reject=function(t,e){t.state=ZM,t.outcome=e;for(var n=-1,r=t.queue.length;++n<r;)t.queue[n].callRejected(e);return t};function yce(t){var e=t&&t.then;if(t&&(typeof t=="object"||typeof t=="function")&&typeof e=="function")return function(){e.apply(t,arguments)}}function tN(t,e){var n=!1;function r(a){n||(n=!0,In.reject(t,a))}function i(a){n||(n=!0,In.resolve(t,a))}function o(){e(i,r)}var s=nN(o);s.status==="error"&&r(s.value)}function nN(t,e){var n={};try{n.value=t(e),n.status="success"}catch(r){n.status="error",n.value=r}return n}Fl.resolve=xce;function xce(t){return t instanceof this?t:In.resolve(new this(Ic),t)}Fl.reject=wce;function wce(t){var e=new this(Ic);return In.reject(e,t)}Fl.all=bce;function bce(t){var e=this;if(Object.prototype.toString.call(t)!=="[object Array]")return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var i=new Array(n),o=0,s=-1,a=new this(Ic);++s<n;)l(t[s],s);return a;function l(u,c){e.resolve(u).then(f,function(d){r||(r=!0,In.reject(a,d))});function f(d){i[c]=d,++o===n&&!r&&(r=!0,In.resolve(a,i))}}}Fl.race=Sce;function Sce(t){var e=this;if(Object.prototype.toString.call(t)!=="[object Array]")return this.reject(new TypeError("must be an array"));var n=t.length,r=!1;if(!n)return this.resolve([]);for(var i=-1,o=new this(Ic);++i<n;)s(t[i]);return o;function s(a){e.resolve(a).then(function(l){r||(r=!0,In.resolve(o,l))},function(l){r||(r=!0,In.reject(o,l))})}}var kce=typeof Promise=="function"?Promise:vce;const _ce=Object.freeze(Object.defineProperty({__proto__:null,default:kce},Symbol.toStringTag,{value:"Module"})),Ece=W2(_ce);(function(t){var e=Ece;function n(i,o,s){return typeof o!="string"?e.reject(new Error("doc id is required")):i.get(o).catch(function(a){if(a.status!==404)throw a;return{}}).then(function(a){var l=a._rev,u=s(a);return u?(u._id=o,u._rev=l,r(i,u,s)):{updated:!1,rev:l,id:o}})}function r(i,o,s){return i.put(o).then(function(a){return{updated:!0,rev:a.rev,id:o._id}},function(a){if(a.status!==409)throw a;return n(i,o._id,s)})}t.upsert=function(o,s,a){var l=this,u=n(l,o,s);if(typeof a!="function")return u;u.then(function(c){a(null,c)},a)},t.putIfNotExists=function(o,s,a){var l=this;typeof o!="string"&&(a=s,s=o,o=s._id);var u=function(f){return f._rev?!1:s},c=n(l,o,u);if(typeof a!="function")return c;c.then(function(f){a(null,f)},a)},typeof window<"u"&&window.PouchDB&&window.PouchDB.plugin(t)})(QM);function Jo(t){return Array.isArray?Array.isArray(t):oN(t)==="[object Array]"}const Cce=1/0;function Tce(t){if(typeof t=="string")return t;let e=t+"";return e=="0"&&1/t==-Cce?"-0":e}function Ace(t){return t==null?"":Tce(t)}function eo(t){return typeof t=="string"}function rN(t){return typeof t=="number"}function Oce(t){return t===!0||t===!1||Mce(t)&&oN(t)=="[object Boolean]"}function iN(t){return typeof t=="object"}function Mce(t){return iN(t)&&t!==null}function _r(t){return t!=null}function Kv(t){return!t.trim().length}function oN(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Nce="Incorrect 'index' type",Rce=t=>`Invalid value for key ${t}`,Dce=t=>`Pattern length exceeds max of ${t}.`,Ice=t=>`Missing ${t} property in key`,Pce=t=>`Property 'weight' in key '${t}' must be a positive integer`,RS=Object.prototype.hasOwnProperty;class Lce{constructor(e){this._keys=[],this._keyMap={};let n=0;e.forEach(r=>{let i=sN(r);n+=i.weight,this._keys.push(i),this._keyMap[i.id]=i,n+=i.weight}),this._keys.forEach(r=>{r.weight/=n})}get(e){return this._keyMap[e]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function sN(t){let e=null,n=null,r=null,i=1,o=null;if(eo(t)||Jo(t))r=t,e=DS(t),n=y2(t);else{if(!RS.call(t,"name"))throw new Error(Ice("name"));const s=t.name;if(r=s,RS.call(t,"weight")&&(i=t.weight,i<=0))throw new Error(Pce(s));e=DS(s),n=y2(s),o=t.getFn}return{path:e,id:n,weight:i,src:r,getFn:o}}function DS(t){return Jo(t)?t:t.split(".")}function y2(t){return Jo(t)?t.join("."):t}function zce(t,e){let n=[],r=!1;const i=(o,s,a)=>{if(!!_r(o))if(!s[a])n.push(o);else{let l=s[a];const u=o[l];if(!_r(u))return;if(a===s.length-1&&(eo(u)||rN(u)||Oce(u)))n.push(Ace(u));else if(Jo(u)){r=!0;for(let c=0,f=u.length;c<f;c+=1)i(u[c],s,a+1)}else s.length&&i(u,s,a+1)}};return i(t,eo(e)?e.split("."):e,0),r?n:n[0]}const Bce={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},$ce={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,e)=>t.score===e.score?t.idx<e.idx?-1:1:t.score<e.score?-1:1},Fce={location:0,threshold:.6,distance:100},Vce={useExtendedSearch:!1,getFn:zce,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var Pe={...$ce,...Bce,...Fce,...Vce};const Uce=/[^ ]+/g;function Hce(t=1,e=3){const n=new Map,r=Math.pow(10,e);return{get(i){const o=i.match(Uce).length;if(n.has(o))return n.get(o);const s=1/Math.pow(o,.5*t),a=parseFloat(Math.round(s*r)/r);return n.set(o,a),a},clear(){n.clear()}}}class rx{constructor({getFn:e=Pe.getFn,fieldNormWeight:n=Pe.fieldNormWeight}={}){this.norm=Hce(n,3),this.getFn=e,this.isCreated=!1,this.setIndexRecords()}setSources(e=[]){this.docs=e}setIndexRecords(e=[]){this.records=e}setKeys(e=[]){this.keys=e,this._keysMap={},e.forEach((n,r)=>{this._keysMap[n.id]=r})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,eo(this.docs[0])?this.docs.forEach((e,n)=>{this._addString(e,n)}):this.docs.forEach((e,n)=>{this._addObject(e,n)}),this.norm.clear())}add(e){const n=this.size();eo(e)?this._addString(e,n):this._addObject(e,n)}removeAt(e){this.records.splice(e,1);for(let n=e,r=this.size();n<r;n+=1)this.records[n].i-=1}getValueForItemAtKeyId(e,n){return e[this._keysMap[n]]}size(){return this.records.length}_addString(e,n){if(!_r(e)||Kv(e))return;let r={v:e,i:n,n:this.norm.get(e)};this.records.push(r)}_addObject(e,n){let r={i:n,$:{}};this.keys.forEach((i,o)=>{let s=i.getFn?i.getFn(e):this.getFn(e,i.path);if(!!_r(s)){if(Jo(s)){let a=[];const l=[{nestedArrIndex:-1,value:s}];for(;l.length;){const{nestedArrIndex:u,value:c}=l.pop();if(!!_r(c))if(eo(c)&&!Kv(c)){let f={v:c,i:u,n:this.norm.get(c)};a.push(f)}else Jo(c)&&c.forEach((f,d)=>{l.push({nestedArrIndex:d,value:f})})}r.$[o]=a}else if(eo(s)&&!Kv(s)){let a={v:s,n:this.norm.get(s)};r.$[o]=a}}}),this.records.push(r)}toJSON(){return{keys:this.keys,records:this.records}}}function aN(t,e,{getFn:n=Pe.getFn,fieldNormWeight:r=Pe.fieldNormWeight}={}){const i=new rx({getFn:n,fieldNormWeight:r});return i.setKeys(t.map(sN)),i.setSources(e),i.create(),i}function jce(t,{getFn:e=Pe.getFn,fieldNormWeight:n=Pe.fieldNormWeight}={}){const{keys:r,records:i}=t,o=new rx({getFn:e,fieldNormWeight:n});return o.setKeys(r),o.setIndexRecords(i),o}function Mh(t,{errors:e=0,currentLocation:n=0,expectedLocation:r=0,distance:i=Pe.distance,ignoreLocation:o=Pe.ignoreLocation}={}){const s=e/t.length;if(o)return s;const a=Math.abs(r-n);return i?s+a/i:a?1:s}function qce(t=[],e=Pe.minMatchCharLength){let n=[],r=-1,i=-1,o=0;for(let s=t.length;o<s;o+=1){let a=t[o];a&&r===-1?r=o:!a&&r!==-1&&(i=o-1,i-r+1>=e&&n.push([r,i]),r=-1)}return t[o-1]&&o-r>=e&&n.push([r,o-1]),n}const Wa=32;function Wce(t,e,n,{location:r=Pe.location,distance:i=Pe.distance,threshold:o=Pe.threshold,findAllMatches:s=Pe.findAllMatches,minMatchCharLength:a=Pe.minMatchCharLength,includeMatches:l=Pe.includeMatches,ignoreLocation:u=Pe.ignoreLocation}={}){if(e.length>Wa)throw new Error(Dce(Wa));const c=e.length,f=t.length,d=Math.max(0,Math.min(r,f));let h=o,g=d;const y=a>1||l,S=y?Array(f):[];let v;for(;(v=t.indexOf(e,g))>-1;){let T=Mh(e,{currentLocation:v,expectedLocation:d,distance:i,ignoreLocation:u});if(h=Math.min(T,h),g=v+c,y){let M=0;for(;M<c;)S[v+M]=1,M+=1}}g=-1;let m=[],p=1,x=c+f;const b=1<<c-1;for(let T=0;T<c;T+=1){let M=0,N=x;for(;M<N;)Mh(e,{errors:T,currentLocation:d+N,expectedLocation:d,distance:i,ignoreLocation:u})<=h?M=N:x=N,N=Math.floor((x-M)/2+M);x=N;let $=Math.max(1,d-N+1),W=s?f:Math.min(d+N,f)+c,X=Array(W+2);X[W+1]=(1<<T)-1;for(let H=W;H>=$;H-=1){let K=H-1,q=n[t.charAt(K)];if(y&&(S[K]=+!!q),X[H]=(X[H+1]<<1|1)&q,T&&(X[H]|=(m[H+1]|m[H])<<1|1|m[H+1]),X[H]&b&&(p=Mh(e,{errors:T,currentLocation:K,expectedLocation:d,distance:i,ignoreLocation:u}),p<=h)){if(h=p,g=K,g<=d)break;$=Math.max(1,2*d-g)}}if(Mh(e,{errors:T+1,currentLocation:d,expectedLocation:d,distance:i,ignoreLocation:u})>h)break;m=X}const _={isMatch:g>=0,score:Math.max(.001,p)};if(y){const T=qce(S,a);T.length?l&&(_.indices=T):_.isMatch=!1}return _}function Kce(t){let e={};for(let n=0,r=t.length;n<r;n+=1){const i=t.charAt(n);e[i]=(e[i]||0)|1<<r-n-1}return e}class lN{constructor(e,{location:n=Pe.location,threshold:r=Pe.threshold,distance:i=Pe.distance,includeMatches:o=Pe.includeMatches,findAllMatches:s=Pe.findAllMatches,minMatchCharLength:a=Pe.minMatchCharLength,isCaseSensitive:l=Pe.isCaseSensitive,ignoreLocation:u=Pe.ignoreLocation}={}){if(this.options={location:n,threshold:r,distance:i,includeMatches:o,findAllMatches:s,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:u},this.pattern=l?e:e.toLowerCase(),this.chunks=[],!this.pattern.length)return;const c=(d,h)=>{this.chunks.push({pattern:d,alphabet:Kce(d),startIndex:h})},f=this.pattern.length;if(f>Wa){let d=0;const h=f%Wa,g=f-h;for(;d<g;)c(this.pattern.substr(d,Wa),d),d+=Wa;if(h){const y=f-Wa;c(this.pattern.substr(y),y)}}else c(this.pattern,0)}searchIn(e){const{isCaseSensitive:n,includeMatches:r}=this.options;if(n||(e=e.toLowerCase()),this.pattern===e){let g={isMatch:!0,score:0};return r&&(g.indices=[[0,e.length-1]]),g}const{location:i,distance:o,threshold:s,findAllMatches:a,minMatchCharLength:l,ignoreLocation:u}=this.options;let c=[],f=0,d=!1;this.chunks.forEach(({pattern:g,alphabet:y,startIndex:S})=>{const{isMatch:v,score:m,indices:p}=Wce(e,g,y,{location:i+S,distance:o,threshold:s,findAllMatches:a,minMatchCharLength:l,includeMatches:r,ignoreLocation:u});v&&(d=!0),f+=m,v&&p&&(c=[...c,...p])});let h={isMatch:d,score:d?f/this.chunks.length:1};return d&&r&&(h.indices=c),h}}class Sa{constructor(e){this.pattern=e}static isMultiMatch(e){return IS(e,this.multiRegex)}static isSingleMatch(e){return IS(e,this.singleRegex)}search(){}}function IS(t,e){const n=t.match(e);return n?n[1]:null}class Gce extends Sa{constructor(e){super(e)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(e){const n=e===this.pattern;return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Yce extends Sa{constructor(e){super(e)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(e){const r=e.indexOf(this.pattern)===-1;return{isMatch:r,score:r?0:1,indices:[0,e.length-1]}}}class Xce extends Sa{constructor(e){super(e)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(e){const n=e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,this.pattern.length-1]}}}class Jce extends Sa{constructor(e){super(e)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(e){const n=!e.startsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class Qce extends Sa{constructor(e){super(e)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(e){const n=e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}class Zce extends Sa{constructor(e){super(e)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(e){const n=!e.endsWith(this.pattern);return{isMatch:n,score:n?0:1,indices:[0,e.length-1]}}}class uN extends Sa{constructor(e,{location:n=Pe.location,threshold:r=Pe.threshold,distance:i=Pe.distance,includeMatches:o=Pe.includeMatches,findAllMatches:s=Pe.findAllMatches,minMatchCharLength:a=Pe.minMatchCharLength,isCaseSensitive:l=Pe.isCaseSensitive,ignoreLocation:u=Pe.ignoreLocation}={}){super(e),this._bitapSearch=new lN(e,{location:n,threshold:r,distance:i,includeMatches:o,findAllMatches:s,minMatchCharLength:a,isCaseSensitive:l,ignoreLocation:u})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(e){return this._bitapSearch.searchIn(e)}}class cN extends Sa{constructor(e){super(e)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(e){let n=0,r;const i=[],o=this.pattern.length;for(;(r=e.indexOf(this.pattern,n))>-1;)n=r+o,i.push([r,n-1]);const s=!!i.length;return{isMatch:s,score:s?0:1,indices:i}}}const x2=[Gce,cN,Xce,Jce,Zce,Qce,Yce,uN],PS=x2.length,efe=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,tfe="|";function nfe(t,e={}){return t.split(tfe).map(n=>{let r=n.trim().split(efe).filter(o=>o&&!!o.trim()),i=[];for(let o=0,s=r.length;o<s;o+=1){const a=r[o];let l=!1,u=-1;for(;!l&&++u<PS;){const c=x2[u];let f=c.isMultiMatch(a);f&&(i.push(new c(f,e)),l=!0)}if(!l)for(u=-1;++u<PS;){const c=x2[u];let f=c.isSingleMatch(a);if(f){i.push(new c(f,e));break}}}return i})}const rfe=new Set([uN.type,cN.type]);class ife{constructor(e,{isCaseSensitive:n=Pe.isCaseSensitive,includeMatches:r=Pe.includeMatches,minMatchCharLength:i=Pe.minMatchCharLength,ignoreLocation:o=Pe.ignoreLocation,findAllMatches:s=Pe.findAllMatches,location:a=Pe.location,threshold:l=Pe.threshold,distance:u=Pe.distance}={}){this.query=null,this.options={isCaseSensitive:n,includeMatches:r,minMatchCharLength:i,findAllMatches:s,ignoreLocation:o,location:a,threshold:l,distance:u},this.pattern=n?e:e.toLowerCase(),this.query=nfe(this.pattern,this.options)}static condition(e,n){return n.useExtendedSearch}searchIn(e){const n=this.query;if(!n)return{isMatch:!1,score:1};const{includeMatches:r,isCaseSensitive:i}=this.options;e=i?e:e.toLowerCase();let o=0,s=[],a=0;for(let l=0,u=n.length;l<u;l+=1){const c=n[l];s.length=0,o=0;for(let f=0,d=c.length;f<d;f+=1){const h=c[f],{isMatch:g,indices:y,score:S}=h.search(e);if(g){if(o+=1,a+=S,r){const v=h.constructor.type;rfe.has(v)?s=[...s,...y]:s.push(y)}}else{a=0,o=0,s.length=0;break}}if(o){let f={isMatch:!0,score:a/o};return r&&(f.indices=s),f}}return{isMatch:!1,score:1}}}const w2=[];function ofe(...t){w2.push(...t)}function b2(t,e){for(let n=0,r=w2.length;n<r;n+=1){let i=w2[n];if(i.condition(t,e))return new i(t,e)}return new lN(t,e)}const Rm={AND:"$and",OR:"$or"},S2={PATH:"$path",PATTERN:"$val"},k2=t=>!!(t[Rm.AND]||t[Rm.OR]),sfe=t=>!!t[S2.PATH],afe=t=>!Jo(t)&&iN(t)&&!k2(t),LS=t=>({[Rm.AND]:Object.keys(t).map(e=>({[e]:t[e]}))});function fN(t,e,{auto:n=!0}={}){const r=i=>{let o=Object.keys(i);const s=sfe(i);if(!s&&o.length>1&&!k2(i))return r(LS(i));if(afe(i)){const l=s?i[S2.PATH]:o[0],u=s?i[S2.PATTERN]:i[l];if(!eo(u))throw new Error(Rce(l));const c={keyId:y2(l),pattern:u};return n&&(c.searcher=b2(u,e)),c}let a={children:[],operator:o[0]};return o.forEach(l=>{const u=i[l];Jo(u)&&u.forEach(c=>{a.children.push(r(c))})}),a};return k2(t)||(t=LS(t)),r(t)}function lfe(t,{ignoreFieldNorm:e=Pe.ignoreFieldNorm}){t.forEach(n=>{let r=1;n.matches.forEach(({key:i,norm:o,score:s})=>{const a=i?i.weight:null;r*=Math.pow(s===0&&a?Number.EPSILON:s,(a||1)*(e?1:o))}),n.score=r})}function ufe(t,e){const n=t.matches;e.matches=[],_r(n)&&n.forEach(r=>{if(!_r(r.indices)||!r.indices.length)return;const{indices:i,value:o}=r;let s={indices:i,value:o};r.key&&(s.key=r.key.src),r.idx>-1&&(s.refIndex=r.idx),e.matches.push(s)})}function cfe(t,e){e.score=t.score}function ffe(t,e,{includeMatches:n=Pe.includeMatches,includeScore:r=Pe.includeScore}={}){const i=[];return n&&i.push(ufe),r&&i.push(cfe),t.map(o=>{const{idx:s}=o,a={item:e[s],refIndex:s};return i.length&&i.forEach(l=>{l(o,a)}),a})}class Pc{constructor(e,n={},r){this.options={...Pe,...n},this.options.useExtendedSearch,this._keyStore=new Lce(this.options.keys),this.setCollection(e,r)}setCollection(e,n){if(this._docs=e,n&&!(n instanceof rx))throw new Error(Nce);this._myIndex=n||aN(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(e){!_r(e)||(this._docs.push(e),this._myIndex.add(e))}remove(e=()=>!1){const n=[];for(let r=0,i=this._docs.length;r<i;r+=1){const o=this._docs[r];e(o,r)&&(this.removeAt(r),r-=1,i-=1,n.push(o))}return n}removeAt(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}getIndex(){return this._myIndex}search(e,{limit:n=-1}={}){const{includeMatches:r,includeScore:i,shouldSort:o,sortFn:s,ignoreFieldNorm:a}=this.options;let l=eo(e)?eo(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return lfe(l,{ignoreFieldNorm:a}),o&&l.sort(s),rN(n)&&n>-1&&(l=l.slice(0,n)),ffe(l,this._docs,{includeMatches:r,includeScore:i})}_searchStringList(e){const n=b2(e,this.options),{records:r}=this._myIndex,i=[];return r.forEach(({v:o,i:s,n:a})=>{if(!_r(o))return;const{isMatch:l,score:u,indices:c}=n.searchIn(o);l&&i.push({item:o,idx:s,matches:[{score:u,value:o,norm:a,indices:c}]})}),i}_searchLogical(e){const n=fN(e,this.options),r=(a,l,u)=>{if(!a.children){const{keyId:f,searcher:d}=a,h=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(l,f),searcher:d});return h&&h.length?[{idx:u,item:l,matches:h}]:[]}const c=[];for(let f=0,d=a.children.length;f<d;f+=1){const h=a.children[f],g=r(h,l,u);if(g.length)c.push(...g);else if(a.operator===Rm.AND)return[]}return c},i=this._myIndex.records,o={},s=[];return i.forEach(({$:a,i:l})=>{if(_r(a)){let u=r(n,a,l);u.length&&(o[l]||(o[l]={idx:l,item:a,matches:[]},s.push(o[l])),u.forEach(({matches:c})=>{o[l].matches.push(...c)}))}}),s}_searchObjectList(e){const n=b2(e,this.options),{keys:r,records:i}=this._myIndex,o=[];return i.forEach(({$:s,i:a})=>{if(!_r(s))return;let l=[];r.forEach((u,c)=>{l.push(...this._findMatches({key:u,value:s[c],searcher:n}))}),l.length&&o.push({idx:a,item:s,matches:l})}),o}_findMatches({key:e,value:n,searcher:r}){if(!_r(n))return[];let i=[];if(Jo(n))n.forEach(({v:o,i:s,n:a})=>{if(!_r(o))return;const{isMatch:l,score:u,indices:c}=r.searchIn(o);l&&i.push({score:u,key:e,value:o,idx:s,norm:a,indices:c})});else{const{v:o,n:s}=n,{isMatch:a,score:l,indices:u}=r.searchIn(o);a&&i.push({score:l,key:e,value:o,norm:s,indices:u})}return i}}Pc.version="6.6.2";Pc.createIndex=aN;Pc.parseIndex=jce;Pc.config=Pe;Pc.parseQuery=fN;ofe(ife);let Nh;const dfe=new Uint8Array(16);function hfe(){if(!Nh&&(Nh=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Nh))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Nh(dfe)}const gn=[];for(let t=0;t<256;++t)gn.push((t+256).toString(16).slice(1));function pfe(t,e=0){return(gn[t[e+0]]+gn[t[e+1]]+gn[t[e+2]]+gn[t[e+3]]+"-"+gn[t[e+4]]+gn[t[e+5]]+"-"+gn[t[e+6]]+gn[t[e+7]]+"-"+gn[t[e+8]]+gn[t[e+9]]+"-"+gn[t[e+10]]+gn[t[e+11]]+gn[t[e+12]]+gn[t[e+13]]+gn[t[e+14]]+gn[t[e+15]]).toLowerCase()}const mfe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),zS={randomUUID:mfe};function gfe(t,e,n){if(zS.randomUUID&&!e&&!t)return zS.randomUUID();t=t||{};const r=t.random||(t.rng||hfe)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(let i=0;i<16;++i)e[n+i]=r[i];return e}return pfe(r)}ze.plugin(QM);let Ml=new ze("notes");const vfe={type:"doc",content:[{type:"paragraph"}]};async function BS(t){try{const e=t.id||t._id;return await Ml.upsert(e,r=>t)}catch(e){console.log(`ERROR: couldn't update 
${e}`)}}async function yfe(t,e,n,r,i,o){try{let s={_id:t||gfe(),id:null,title:e||null,meta:n||{},doc:r||vfe,createdTime:i||Date.now(),lastEditedTime:o||Date.now()};return s.id=s._id,await Ml.putIfNotExists(s)}catch(s){console.log(`ERROR: couldn't create doc ${s}`)}}async function xfe(t){try{const e=await Ml.get(t).then(r=>r._rev);return await Ml.remove(t,e)}catch(e){console.log(`ERROR: couldn't delete 
${e}`)}}async function ix(t=25,e=0,n){var r;try{if(!n){const{rows:o}=await await Ml.allDocs({limit:1});o.length>0&&(n=o[0].id)}let i=await Ml.allDocs({limit:t,skip:e,include_docs:!0,startkey:n});return(r=i==null?void 0:i.rows)==null?void 0:r.map(o=>o.doc)}catch(i){console.log(`ERROR fetching all notes 
${i}`)}}async function dN(t){try{return await Ml.get(t)}catch(e){console.log(`ERROR fetching  ${t} 
${e}`)}}async function wfe(t){return new Pc(await ix(),{keys:["title","text"],includeMatches:!0,minMatchCharLength:2,includeScore:!0,threshold:.5,ignoreLocation:!0}).search(t)}var hN={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},$S=Zs.createContext&&Zs.createContext(hN),Qs=globalThis&&globalThis.__assign||function(){return Qs=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Qs.apply(this,arguments)},bfe=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n};function pN(t){return t&&t.map(function(e,n){return Zs.createElement(e.tag,Qs({key:n},e.attr),pN(e.child))})}function zt(t){return function(e){return j(Sfe,{...Qs({attr:Qs({},t.attr)},e),children:pN(t.child)})}}function Sfe(t){var e=function(n){var r=t.attr,i=t.size,o=t.title,s=bfe(t,["attr","size","title"]),a=i||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),He("svg",{...Qs({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,s,{className:l,style:Qs(Qs({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),children:[o&&j("title",{children:o}),t.children]})};return $S!==void 0?j($S.Consumer,{children:function(n){return e(n)}}):e(hN)}function kfe(t){return zt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"}}]})(t)}function _fe(t){return zt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"}}]})(t)}function Efe(t){return zt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"}},{tag:"polyline",attr:{points:"13 2 13 9 20 9"}}]})(t)}function Cfe(t){return zt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"}}]})(t)}function Tfe(t){return zt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"3",y1:"12",x2:"21",y2:"12"}},{tag:"line",attr:{x1:"3",y1:"6",x2:"21",y2:"6"}},{tag:"line",attr:{x1:"3",y1:"18",x2:"21",y2:"18"}}]})(t)}function Afe(t){return zt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"}},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"}}]})(t)}function Ofe(t){return zt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"}},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"}}]})(t)}function Mfe(t){return zt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"}},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}}]})(t)}function FS(t){return zt({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"6",x2:"6",y2:"18"}},{tag:"line",attr:{x1:"6",y1:"6",x2:"18",y2:"18"}}]})(t)}var _2={exports:{}},Nl={},E2={exports:{}},Ii={},Dm={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;/*!
 * Adapted from jQuery UI core
 *
 * http://jqueryui.com
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */var n=/input|select|textarea|button|object|iframe/;function r(l){var u=l.offsetWidth<=0&&l.offsetHeight<=0;if(u&&!l.innerHTML)return!0;try{var c=window.getComputedStyle(l);return u?c.getPropertyValue("overflow")!=="visible"||l.scrollWidth<=0&&l.scrollHeight<=0:c.getPropertyValue("display")=="none"}catch{return console.warn("Failed to inspect element style"),!1}}function i(l){for(var u=l,c=l.getRootNode&&l.getRootNode();u&&u!==document.body;){if(c&&u===c&&(u=c.host.parentNode),r(u))return!1;u=u.parentNode}return!0}function o(l,u){var c=l.nodeName.toLowerCase(),f=n.test(c)&&!l.disabled||c==="a"&&l.href||u;return f&&i(l)}function s(l){var u=l.getAttribute("tabindex");u===null&&(u=void 0);var c=isNaN(u);return(c||u>=0)&&o(l,!c)}function a(l){var u=[].slice.call(l.querySelectorAll("*"),0).reduce(function(c,f){return c.concat(f.shadowRoot?a(f.shadowRoot):[f])},[]);return u.filter(s)}t.exports=e.default})(Dm,Dm.exports);Object.defineProperty(Ii,"__esModule",{value:!0});Ii.resetState=Ife;Ii.log=Pfe;Ii.handleBlur=Zd;Ii.handleFocus=e0;Ii.markForFocusLater=Lfe;Ii.returnFocus=zfe;Ii.popWithoutFocus=Bfe;Ii.setupScopedFocus=$fe;Ii.teardownScopedFocus=Ffe;var Nfe=Dm.exports,Rfe=Dfe(Nfe);function Dfe(t){return t&&t.__esModule?t:{default:t}}var pc=[],Su=null,C2=!1;function Ife(){pc=[]}function Pfe(){}function Zd(){C2=!0}function e0(){if(C2){if(C2=!1,!Su)return;setTimeout(function(){if(!Su.contains(document.activeElement)){var t=(0,Rfe.default)(Su)[0]||Su;t.focus()}},0)}}function Lfe(){pc.push(document.activeElement)}function zfe(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,e=null;try{pc.length!==0&&(e=pc.pop(),e.focus({preventScroll:t}));return}catch{console.warn(["You tried to return focus to",e,"but it is not in the DOM anymore"].join(" "))}}function Bfe(){pc.length>0&&pc.pop()}function $fe(t){Su=t,window.addEventListener?(window.addEventListener("blur",Zd,!1),document.addEventListener("focus",e0,!0)):(window.attachEvent("onBlur",Zd),document.attachEvent("onFocus",e0))}function Ffe(){Su=null,window.addEventListener?(window.removeEventListener("blur",Zd),document.removeEventListener("focus",e0)):(window.detachEvent("onBlur",Zd),document.detachEvent("onFocus",e0))}var T2={exports:{}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=s;var n=Dm.exports,r=i(n);function i(a){return a&&a.__esModule?a:{default:a}}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:document;return a.activeElement.shadowRoot?o(a.activeElement.shadowRoot):a.activeElement}function s(a,l){var u=(0,r.default)(a);if(!u.length){l.preventDefault();return}var c=void 0,f=l.shiftKey,d=u[0],h=u[u.length-1],g=o();if(a===g){if(!f)return;c=h}if(h===g&&!f&&(c=d),d===g&&f&&(c=h),c){l.preventDefault(),c.focus();return}var y=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent),S=y!=null&&y[1]!="Chrome"&&/\biPod\b|\biPad\b/g.exec(navigator.userAgent)==null;if(!!S){var v=u.indexOf(g);if(v>-1&&(v+=f?-1:1),c=u[v],typeof c>"u"){l.preventDefault(),c=f?h:d,c.focus();return}l.preventDefault(),c.focus()}}t.exports=e.default})(T2,T2.exports);var Pi={},Vfe=function(){},Ufe=Vfe,Ei={},mN={exports:{}};/*!
  Copyright (c) 2015 Jed Watson.
  Based on code that is Copyright 2013-2015, Facebook, Inc.
  All rights reserved.
*/(function(t){(function(){var e=!!(typeof window<"u"&&window.document&&window.document.createElement),n={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen};t.exports?t.exports=n:window.ExecutionEnvironment=n})()})(mN);Object.defineProperty(Ei,"__esModule",{value:!0});Ei.canUseDOM=Ei.SafeNodeList=Ei.SafeHTMLCollection=void 0;var Hfe=mN.exports,jfe=qfe(Hfe);function qfe(t){return t&&t.__esModule?t:{default:t}}var ng=jfe.default,Wfe=ng.canUseDOM?window.HTMLElement:{};Ei.SafeHTMLCollection=ng.canUseDOM?window.HTMLCollection:{};Ei.SafeNodeList=ng.canUseDOM?window.NodeList:{};Ei.canUseDOM=ng.canUseDOM;Ei.default=Wfe;Object.defineProperty(Pi,"__esModule",{value:!0});Pi.resetState=Jfe;Pi.log=Qfe;Pi.assertNodeList=gN;Pi.setElement=Zfe;Pi.validateElement=ox;Pi.hide=ede;Pi.show=tde;Pi.documentNotReadyOrSSRTesting=nde;var Kfe=Ufe,Gfe=Xfe(Kfe),Yfe=Ei;function Xfe(t){return t&&t.__esModule?t:{default:t}}var Lr=null;function Jfe(){Lr&&(Lr.removeAttribute?Lr.removeAttribute("aria-hidden"):Lr.length!=null?Lr.forEach(function(t){return t.removeAttribute("aria-hidden")}):document.querySelectorAll(Lr).forEach(function(t){return t.removeAttribute("aria-hidden")})),Lr=null}function Qfe(){}function gN(t,e){if(!t||!t.length)throw new Error("react-modal: No elements were found for selector "+e+".")}function Zfe(t){var e=t;if(typeof e=="string"&&Yfe.canUseDOM){var n=document.querySelectorAll(e);gN(n,e),e=n}return Lr=e||Lr,Lr}function ox(t){var e=t||Lr;return e?Array.isArray(e)||e instanceof HTMLCollection||e instanceof NodeList?e:[e]:((0,Gfe.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}function ede(t){var e=!0,n=!1,r=void 0;try{for(var i=ox(t)[Symbol.iterator](),o;!(e=(o=i.next()).done);e=!0){var s=o.value;s.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function tde(t){var e=!0,n=!1,r=void 0;try{for(var i=ox(t)[Symbol.iterator](),o;!(e=(o=i.next()).done);e=!0){var s=o.value;s.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!e&&i.return&&i.return()}finally{if(n)throw r}}}function nde(){Lr=null}var Lc={};Object.defineProperty(Lc,"__esModule",{value:!0});Lc.resetState=rde;Lc.log=ide;var Qf={},Zf={};function VS(t,e){t.classList.remove(e)}function rde(){var t=document.getElementsByTagName("html")[0];for(var e in Qf)VS(t,Qf[e]);var n=document.body;for(var r in Zf)VS(n,Zf[r]);Qf={},Zf={}}function ide(){}var ode=function(e,n){return e[n]||(e[n]=0),e[n]+=1,n},sde=function(e,n){return e[n]&&(e[n]-=1),n},ade=function(e,n,r){r.forEach(function(i){ode(n,i),e.add(i)})},lde=function(e,n,r){r.forEach(function(i){sde(n,i),n[i]===0&&e.remove(i)})};Lc.add=function(e,n){return ade(e.classList,e.nodeName.toLowerCase()=="html"?Qf:Zf,n.split(" "))};Lc.remove=function(e,n){return lde(e.classList,e.nodeName.toLowerCase()=="html"?Qf:Zf,n.split(" "))};var zc={};Object.defineProperty(zc,"__esModule",{value:!0});zc.log=cde;zc.resetState=fde;function ude(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var vN=function t(){var e=this;ude(this,t),this.register=function(n){e.openInstances.indexOf(n)===-1&&(e.openInstances.push(n),e.emit("register"))},this.deregister=function(n){var r=e.openInstances.indexOf(n);r!==-1&&(e.openInstances.splice(r,1),e.emit("deregister"))},this.subscribe=function(n){e.subscribers.push(n)},this.emit=function(n){e.subscribers.forEach(function(r){return r(n,e.openInstances.slice())})},this.openInstances=[],this.subscribers=[]},Im=new vN;function cde(){console.log("portalOpenInstances ----------"),console.log(Im.openInstances.length),Im.openInstances.forEach(function(t){return console.log(t)}),console.log("end portalOpenInstances ----------")}function fde(){Im=new vN}zc.default=Im;var sx={};Object.defineProperty(sx,"__esModule",{value:!0});sx.resetState=mde;sx.log=gde;var dde=zc,hde=pde(dde);function pde(t){return t&&t.__esModule?t:{default:t}}var Mn=void 0,fi=void 0,ul=[];function mde(){for(var t=[Mn,fi],e=0;e<t.length;e++){var n=t[e];!n||n.parentNode&&n.parentNode.removeChild(n)}Mn=fi=null,ul=[]}function gde(){console.log("bodyTrap ----------"),console.log(ul.length);for(var t=[Mn,fi],e=0;e<t.length;e++){var n=t[e],r=n||{};console.log(r.nodeName,r.className,r.id)}console.log("edn bodyTrap ----------")}function US(){ul.length!==0&&ul[ul.length-1].focusContent()}function vde(t,e){!Mn&&!fi&&(Mn=document.createElement("div"),Mn.setAttribute("data-react-modal-body-trap",""),Mn.style.position="absolute",Mn.style.opacity="0",Mn.setAttribute("tabindex","0"),Mn.addEventListener("focus",US),fi=Mn.cloneNode(),fi.addEventListener("focus",US)),ul=e,ul.length>0?(document.body.firstChild!==Mn&&document.body.insertBefore(Mn,document.body.firstChild),document.body.lastChild!==fi&&document.body.appendChild(fi)):(Mn.parentElement&&Mn.parentElement.removeChild(Mn),fi.parentElement&&fi.parentElement.removeChild(fi))}hde.default.subscribe(vde);(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(H){for(var K=1;K<arguments.length;K++){var q=arguments[K];for(var A in q)Object.prototype.hasOwnProperty.call(q,A)&&(H[A]=q[A])}return H},r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(H){return typeof H}:function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},i=function(){function H(K,q){for(var A=0;A<q.length;A++){var O=q[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(K,O.key,O)}}return function(K,q,A){return q&&H(K.prototype,q),A&&H(K,A),K}}(),o=z.exports,s=e6.exports,a=b(s),l=Ii,u=x(l),c=T2.exports,f=b(c),d=Pi,h=x(d),g=Lc,y=x(g),S=Ei,v=b(S),m=zc,p=b(m);function x(H){if(H&&H.__esModule)return H;var K={};if(H!=null)for(var q in H)Object.prototype.hasOwnProperty.call(H,q)&&(K[q]=H[q]);return K.default=H,K}function b(H){return H&&H.__esModule?H:{default:H}}function _(H,K){if(!(H instanceof K))throw new TypeError("Cannot call a class as a function")}function T(H,K){if(!H)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:H}function M(H,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);H.prototype=Object.create(K&&K.prototype,{constructor:{value:H,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(H,K):H.__proto__=K)}var N={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},$=9,W=27,X=0,oe=function(H){M(K,H);function K(q){_(this,K);var A=T(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,q));return A.setOverlayRef=function(O){A.overlay=O,A.props.overlayRef&&A.props.overlayRef(O)},A.setContentRef=function(O){A.content=O,A.props.contentRef&&A.props.contentRef(O)},A.afterClose=function(){var O=A.props,L=O.appElement,P=O.ariaHideApp,R=O.htmlOpenClassName,F=O.bodyOpenClassName;F&&y.remove(document.body,F),R&&y.remove(document.getElementsByTagName("html")[0],R),P&&X>0&&(X-=1,X===0&&h.show(L)),A.props.shouldFocusAfterRender&&(A.props.shouldReturnFocusAfterClose?(u.returnFocus(A.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),A.props.onAfterClose&&A.props.onAfterClose(),p.default.deregister(A)},A.open=function(){A.beforeOpen(),A.state.afterOpen&&A.state.beforeClose?(clearTimeout(A.closeTimer),A.setState({beforeClose:!1})):(A.props.shouldFocusAfterRender&&(u.setupScopedFocus(A.node),u.markForFocusLater()),A.setState({isOpen:!0},function(){A.openAnimationFrame=requestAnimationFrame(function(){A.setState({afterOpen:!0}),A.props.isOpen&&A.props.onAfterOpen&&A.props.onAfterOpen({overlayEl:A.overlay,contentEl:A.content})})}))},A.close=function(){A.props.closeTimeoutMS>0?A.closeWithTimeout():A.closeWithoutTimeout()},A.focusContent=function(){return A.content&&!A.contentHasFocus()&&A.content.focus({preventScroll:!0})},A.closeWithTimeout=function(){var O=Date.now()+A.props.closeTimeoutMS;A.setState({beforeClose:!0,closesAt:O},function(){A.closeTimer=setTimeout(A.closeWithoutTimeout,A.state.closesAt-Date.now())})},A.closeWithoutTimeout=function(){A.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},A.afterClose)},A.handleKeyDown=function(O){O.keyCode===$&&(0,f.default)(A.content,O),A.props.shouldCloseOnEsc&&O.keyCode===W&&(O.stopPropagation(),A.requestClose(O))},A.handleOverlayOnClick=function(O){A.shouldClose===null&&(A.shouldClose=!0),A.shouldClose&&A.props.shouldCloseOnOverlayClick&&(A.ownerHandlesClose()?A.requestClose(O):A.focusContent()),A.shouldClose=null},A.handleContentOnMouseUp=function(){A.shouldClose=!1},A.handleOverlayOnMouseDown=function(O){!A.props.shouldCloseOnOverlayClick&&O.target==A.overlay&&O.preventDefault()},A.handleContentOnClick=function(){A.shouldClose=!1},A.handleContentOnMouseDown=function(){A.shouldClose=!1},A.requestClose=function(O){return A.ownerHandlesClose()&&A.props.onRequestClose(O)},A.ownerHandlesClose=function(){return A.props.onRequestClose},A.shouldBeClosed=function(){return!A.state.isOpen&&!A.state.beforeClose},A.contentHasFocus=function(){return document.activeElement===A.content||A.content.contains(document.activeElement)},A.buildClassName=function(O,L){var P=(typeof L>"u"?"undefined":r(L))==="object"?L:{base:N[O],afterOpen:N[O]+"--after-open",beforeClose:N[O]+"--before-close"},R=P.base;return A.state.afterOpen&&(R=R+" "+P.afterOpen),A.state.beforeClose&&(R=R+" "+P.beforeClose),typeof L=="string"&&L?R+" "+L:R},A.attributesFromObject=function(O,L){return Object.keys(L).reduce(function(P,R){return P[O+"-"+R]=L[R],P},{})},A.state={afterOpen:!1,beforeClose:!1},A.shouldClose=null,A.moveFromContentToOverlay=null,A}return i(K,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(A,O){this.props.isOpen&&!A.isOpen?this.open():!this.props.isOpen&&A.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!O.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var A=this.props,O=A.appElement,L=A.ariaHideApp,P=A.htmlOpenClassName,R=A.bodyOpenClassName;R&&y.add(document.body,R),P&&y.add(document.getElementsByTagName("html")[0],P),L&&(X+=1,h.hide(O)),p.default.register(this)}},{key:"render",value:function(){var A=this.props,O=A.id,L=A.className,P=A.overlayClassName,R=A.defaultStyles,F=A.children,V=L?{}:R.content,G=P?{}:R.overlay;if(this.shouldBeClosed())return null;var Q={ref:this.setOverlayRef,className:this.buildClassName("overlay",P),style:n({},G,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},se=n({id:O,ref:this.setContentRef,style:n({},V,this.props.style.content),className:this.buildClassName("content",L),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",n({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),ue=this.props.contentElement(se,F);return this.props.overlayElement(Q,ue)}}]),K}(o.Component);oe.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},oe.propTypes={isOpen:a.default.bool.isRequired,defaultStyles:a.default.shape({content:a.default.object,overlay:a.default.object}),style:a.default.shape({content:a.default.object,overlay:a.default.object}),className:a.default.oneOfType([a.default.string,a.default.object]),overlayClassName:a.default.oneOfType([a.default.string,a.default.object]),bodyOpenClassName:a.default.string,htmlOpenClassName:a.default.string,ariaHideApp:a.default.bool,appElement:a.default.oneOfType([a.default.instanceOf(v.default),a.default.instanceOf(S.SafeHTMLCollection),a.default.instanceOf(S.SafeNodeList),a.default.arrayOf(a.default.instanceOf(v.default))]),onAfterOpen:a.default.func,onAfterClose:a.default.func,onRequestClose:a.default.func,closeTimeoutMS:a.default.number,shouldFocusAfterRender:a.default.bool,shouldCloseOnOverlayClick:a.default.bool,shouldReturnFocusAfterClose:a.default.bool,preventScroll:a.default.bool,role:a.default.string,contentLabel:a.default.string,aria:a.default.object,data:a.default.object,children:a.default.node,shouldCloseOnEsc:a.default.bool,overlayRef:a.default.func,contentRef:a.default.func,id:a.default.string,overlayElement:a.default.func,contentElement:a.default.func,testId:a.default.string},e.default=oe,t.exports=e.default})(E2,E2.exports);function yN(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);t!=null&&this.setState(t)}function xN(t){function e(n){var r=this.constructor.getDerivedStateFromProps(t,n);return r!=null?r:null}this.setState(e.bind(this))}function wN(t,e){try{var n=this.props,r=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}yN.__suppressDeprecationWarning=!0;xN.__suppressDeprecationWarning=!0;wN.__suppressDeprecationWarning=!0;function yde(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if(typeof t.getDerivedStateFromProps!="function"&&typeof e.getSnapshotBeforeUpdate!="function")return t;var n=null,r=null,i=null;if(typeof e.componentWillMount=="function"?n="componentWillMount":typeof e.UNSAFE_componentWillMount=="function"&&(n="UNSAFE_componentWillMount"),typeof e.componentWillReceiveProps=="function"?r="componentWillReceiveProps":typeof e.UNSAFE_componentWillReceiveProps=="function"&&(r="UNSAFE_componentWillReceiveProps"),typeof e.componentWillUpdate=="function"?i="componentWillUpdate":typeof e.UNSAFE_componentWillUpdate=="function"&&(i="UNSAFE_componentWillUpdate"),n!==null||r!==null||i!==null){var o=t.displayName||t.name,s=typeof t.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+o+" uses "+s+" but also contains the following legacy lifecycles:"+(n!==null?`
  `+n:"")+(r!==null?`
  `+r:"")+(i!==null?`
  `+i:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof t.getDerivedStateFromProps=="function"&&(e.componentWillMount=yN,e.componentWillReceiveProps=xN),typeof e.getSnapshotBeforeUpdate=="function"){if(typeof e.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=wN;var a=e.componentDidUpdate;e.componentDidUpdate=function(u,c,f){var d=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;a.call(this,u,c,d)}}return t}const xde=Object.freeze(Object.defineProperty({__proto__:null,polyfill:yde},Symbol.toStringTag,{value:"Module"})),wde=W2(xde);Object.defineProperty(Nl,"__esModule",{value:!0});Nl.bodyOpenClassName=Nl.portalClassName=void 0;var HS=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bde=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),bN=z.exports,Pm=z0(bN),Sde=Jm.exports,Lm=z0(Sde),kde=e6.exports,Le=z0(kde),_de=E2.exports,jS=z0(_de),Ede=Pi,Cde=Ade(Ede),zs=Ei,qS=z0(zs),Tde=wde;function Ade(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function z0(t){return t&&t.__esModule?t:{default:t}}function Ode(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WS(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t}function Mde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var Nde=Nl.portalClassName="ReactModalPortal",Rde=Nl.bodyOpenClassName="ReactModal__Body--open",Ua=zs.canUseDOM&&Lm.default.createPortal!==void 0,KS=function(e){return document.createElement(e)},GS=function(){return Ua?Lm.default.createPortal:Lm.default.unstable_renderSubtreeIntoContainer};function Rh(t){return t()}var B0=function(t){Mde(e,t);function e(){var n,r,i,o;Ode(this,e);for(var s=arguments.length,a=Array(s),l=0;l<s;l++)a[l]=arguments[l];return o=(r=(i=WS(this,(n=e.__proto__||Object.getPrototypeOf(e)).call.apply(n,[this].concat(a))),i),i.removePortal=function(){!Ua&&Lm.default.unmountComponentAtNode(i.node);var u=Rh(i.props.parentSelector);u&&u.contains(i.node)?u.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(u){i.portal=u},i.renderPortal=function(u){var c=GS(),f=c(i,Pm.default.createElement(jS.default,HS({defaultStyles:e.defaultStyles},u)),i.node);i.portalRef(f)},r),WS(i,o)}return bde(e,[{key:"componentDidMount",value:function(){if(!!zs.canUseDOM){Ua||(this.node=KS("div")),this.node.className=this.props.portalClassName;var r=Rh(this.props.parentSelector);r.appendChild(this.node),!Ua&&this.renderPortal(this.props)}}},{key:"getSnapshotBeforeUpdate",value:function(r){var i=Rh(r.parentSelector),o=Rh(this.props.parentSelector);return{prevParent:i,nextParent:o}}},{key:"componentDidUpdate",value:function(r,i,o){if(!!zs.canUseDOM){var s=this.props,a=s.isOpen,l=s.portalClassName;r.portalClassName!==l&&(this.node.className=l);var u=o.prevParent,c=o.nextParent;c!==u&&(u.removeChild(this.node),c.appendChild(this.node)),!(!r.isOpen&&!a)&&!Ua&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(!(!zs.canUseDOM||!this.node||!this.portal)){var r=this.portal.state,i=Date.now(),o=r.isOpen&&this.props.closeTimeoutMS&&(r.closesAt||i+this.props.closeTimeoutMS);o?(r.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,o-i)):this.removePortal()}}},{key:"render",value:function(){if(!zs.canUseDOM||!Ua)return null;!this.node&&Ua&&(this.node=KS("div"));var r=GS();return r(Pm.default.createElement(jS.default,HS({ref:this.portalRef,defaultStyles:e.defaultStyles},this.props)),this.node)}}],[{key:"setAppElement",value:function(r){Cde.setElement(r)}}]),e}(bN.Component);B0.propTypes={isOpen:Le.default.bool.isRequired,style:Le.default.shape({content:Le.default.object,overlay:Le.default.object}),portalClassName:Le.default.string,bodyOpenClassName:Le.default.string,htmlOpenClassName:Le.default.string,className:Le.default.oneOfType([Le.default.string,Le.default.shape({base:Le.default.string.isRequired,afterOpen:Le.default.string.isRequired,beforeClose:Le.default.string.isRequired})]),overlayClassName:Le.default.oneOfType([Le.default.string,Le.default.shape({base:Le.default.string.isRequired,afterOpen:Le.default.string.isRequired,beforeClose:Le.default.string.isRequired})]),appElement:Le.default.oneOfType([Le.default.instanceOf(qS.default),Le.default.instanceOf(zs.SafeHTMLCollection),Le.default.instanceOf(zs.SafeNodeList),Le.default.arrayOf(Le.default.instanceOf(qS.default))]),onAfterOpen:Le.default.func,onRequestClose:Le.default.func,closeTimeoutMS:Le.default.number,ariaHideApp:Le.default.bool,shouldFocusAfterRender:Le.default.bool,shouldCloseOnOverlayClick:Le.default.bool,shouldReturnFocusAfterClose:Le.default.bool,preventScroll:Le.default.bool,parentSelector:Le.default.func,aria:Le.default.object,data:Le.default.object,role:Le.default.string,contentLabel:Le.default.string,shouldCloseOnEsc:Le.default.bool,overlayRef:Le.default.func,contentRef:Le.default.func,id:Le.default.string,overlayElement:Le.default.func,contentElement:Le.default.func};B0.defaultProps={isOpen:!1,portalClassName:Nde,bodyOpenClassName:Rde,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,n){return Pm.default.createElement("div",e,n)},contentElement:function(e,n){return Pm.default.createElement("div",e,n)}};B0.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}};(0,Tde.polyfill)(B0);Nl.default=B0;(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Nl,r=i(n);function i(o){return o&&o.__esModule?o:{default:o}}e.default=r.default,t.exports=e.default})(_2,_2.exports);const zm=q2(_2.exports);let SN={items:[],addItem:()=>{},removeItem:()=>{},navOpen:!1,toggleNav:()=>{},searchOpen:!1,setSearchOpen:()=>{},activeNote:void 0,setActiveNote:t=>{}};const Dde=(t,e)=>t.filter(n=>n!==e),Ide=(t,e)=>t.find(n=>n===e)?t:[...t,e],ni=z.exports.createContext(SN);ni.displayName="NotesContext";const Pde=({children:t})=>{const[e,n]=z.exports.useState(SN),r=z.exports.useCallback(l=>{const{items:u}=e;u.find(c=>c===l)||n({...e,items:Ide(u,l)})},[e]),i=z.exports.useCallback(l=>{const{items:u}=e;n({...e,items:Dde(u,l)})},[e]),o=z.exports.useCallback(()=>{n({...e,navOpen:!e.navOpen})},[e]),s=z.exports.useCallback(l=>{n({...e,searchOpen:l})},[e]),a=z.exports.useCallback(l=>{n({...e,activeNote:l})},[e]);return j("div",{className:"App",children:j(ni.Provider,{value:{...e,addItem:r,removeItem:i,toggleNav:o,setSearchOpen:s,setActiveNote:a},children:t})})},ax=z.exports.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),rg=z.exports.createContext({});function Lde(){return z.exports.useContext(rg).visualElement}const $0=z.exports.createContext(null),Vl=typeof document<"u",Bm=Vl?z.exports.useLayoutEffect:z.exports.useEffect,kN=z.exports.createContext({strict:!1});function zde(t,e,n,r){const i=Lde(),o=z.exports.useContext(kN),s=z.exports.useContext($0),a=z.exports.useContext(ax).reducedMotion,l=z.exports.useRef(void 0);r=r||o.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceId:s?s.id:void 0,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const u=l.current;return Bm(()=>{u&&u.syncRender()}),z.exports.useEffect(()=>{u&&u.animationState&&u.animationState.animateChanges()}),Bm(()=>()=>u&&u.notifyUnmount(),[]),u}function ku(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Bde(t,e,n){return z.exports.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):ku(n)&&(n.current=r))},[e])}function t0(t){return typeof t=="string"||Array.isArray(t)}function ig(t){return typeof t=="object"&&typeof t.start=="function"}const $de=["initial","animate","exit","whileHover","whileDrag","whileTap","whileFocus","whileInView"];function og(t){return ig(t.animate)||$de.some(e=>t0(t[e]))}function _N(t){return Boolean(og(t)||t.variants)}function Fde(t,e){if(og(t)){const{initial:n,animate:r}=t;return{initial:n===!1||t0(n)?n:void 0,animate:t0(r)?r:void 0}}return t.inherit!==!1?e:{}}function Vde(t){const{initial:e,animate:n}=Fde(t,z.exports.useContext(rg));return z.exports.useMemo(()=>({initial:e,animate:n}),[YS(e),YS(n)])}function YS(t){return Array.isArray(t)?t.join(" "):t}const bo=t=>({isEnabled:e=>t.some(n=>!!e[n])}),n0={measureLayout:bo(["layout","layoutId","drag"]),animation:bo(["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"]),exit:bo(["exit"]),drag:bo(["drag","dragControls"]),focus:bo(["whileFocus"]),hover:bo(["whileHover","onHoverStart","onHoverEnd"]),tap:bo(["whileTap","onTap","onTapStart","onTapCancel"]),pan:bo(["onPan","onPanStart","onPanSessionStart","onPanEnd"]),inView:bo(["whileInView","onViewportEnter","onViewportLeave"])};function Ude(t){for(const e in t)e==="projectionNodeConstructor"?n0.projectionNodeConstructor=t[e]:n0[e].Component=t[e]}function sg(t){const e=z.exports.useRef(null);return e.current===null&&(e.current=t()),e.current}const ed={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Hde=1;function jde(){return sg(()=>{if(ed.hasEverUpdated)return Hde++})}const lx=z.exports.createContext({});class qde extends Zs.Component{getSnapshotBeforeUpdate(){const{visualElement:e,props:n}=this.props;return e&&e.setProps(n),null}componentDidUpdate(){}render(){return this.props.children}}const EN=z.exports.createContext({}),Wde=Symbol.for("motionComponentSymbol");function Kde({preloadedFeatures:t,createVisualElement:e,projectionNodeConstructor:n,useRender:r,useVisualState:i,Component:o}){t&&Ude(t);function s(l,u){const c={...z.exports.useContext(ax),...l,layoutId:Gde(l)},{isStatic:f}=c;let d=null;const h=Vde(l),g=f?void 0:jde(),y=i(l,f);if(!f&&Vl){h.visualElement=zde(o,y,c,e);const S=z.exports.useContext(kN).strict,v=z.exports.useContext(EN);h.visualElement&&(d=h.visualElement.loadFeatures(c,S,t,g,n||n0.projectionNodeConstructor,v))}return He(qde,{visualElement:h.visualElement,props:c,children:[d,j(rg.Provider,{value:h,children:r(o,l,g,Bde(y,h.visualElement,u),y,f,h.visualElement)})]})}const a=z.exports.forwardRef(s);return a[Wde]=o,a}function Gde({layoutId:t}){const e=z.exports.useContext(lx).id;return e&&t!==void 0?e+"-"+t:t}function Yde(t){function e(r,i={}){return Kde(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const Xde=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","svg","switch","symbol","text","tspan","use","view"];function ux(t){return typeof t!="string"||t.includes("-")?!1:!!(Xde.indexOf(t)>-1||/[A-Z]/.test(t))}const $m={};function Jde(t){Object.assign($m,t)}const Fm=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],F0=new Set(Fm);function CN(t,{layout:e,layoutId:n}){return F0.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!$m[t]||t==="opacity")}const Ci=t=>!!(t!=null&&t.getVelocity),Qde={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Zde=(t,e)=>Fm.indexOf(t)-Fm.indexOf(e);function e0e({transform:t,transformKeys:e},{enableHardwareAcceleration:n=!0,allowTransformNone:r=!0},i,o){let s="";e.sort(Zde);for(const a of e)s+=`${Qde[a]||a}(${t[a]}) `;return n&&!t.z&&(s+="translateZ(0)"),s=s.trim(),o?s=o(t,i?"":s):r&&i&&(s="none"),s}function TN(t){return t.startsWith("--")}const t0e=(t,e)=>e&&typeof t=="number"?e.transform(t):t,AN=(t,e)=>n=>Math.max(Math.min(n,e),t),td=t=>t%1?Number(t.toFixed(5)):t,r0=/(-)?([\d]*\.?[\d])+/g,A2=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,n0e=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function V0(t){return typeof t=="string"}const Ul={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},nd=Object.assign(Object.assign({},Ul),{transform:AN(0,1)}),Dh=Object.assign(Object.assign({},Ul),{default:1}),U0=t=>({test:e=>V0(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ys=U0("deg"),so=U0("%"),Oe=U0("px"),r0e=U0("vh"),i0e=U0("vw"),XS=Object.assign(Object.assign({},so),{parse:t=>so.parse(t)/100,transform:t=>so.transform(t*100)}),cx=(t,e)=>n=>Boolean(V0(n)&&n0e.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),ON=(t,e,n)=>r=>{if(!V0(r))return r;const[i,o,s,a]=r.match(r0);return{[t]:parseFloat(i),[e]:parseFloat(o),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},tl={test:cx("hsl","hue"),parse:ON("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+so.transform(td(e))+", "+so.transform(td(n))+", "+td(nd.transform(r))+")"},o0e=AN(0,255),Gv=Object.assign(Object.assign({},Ul),{transform:t=>Math.round(o0e(t))}),Bs={test:cx("rgb","red"),parse:ON("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Gv.transform(t)+", "+Gv.transform(e)+", "+Gv.transform(n)+", "+td(nd.transform(r))+")"};function s0e(t){let e="",n="",r="",i="";return t.length>5?(e=t.substr(1,2),n=t.substr(3,2),r=t.substr(5,2),i=t.substr(7,2)):(e=t.substr(1,1),n=t.substr(2,1),r=t.substr(3,1),i=t.substr(4,1),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const O2={test:cx("#"),parse:s0e,transform:Bs.transform},$n={test:t=>Bs.test(t)||O2.test(t)||tl.test(t),parse:t=>Bs.test(t)?Bs.parse(t):tl.test(t)?tl.parse(t):O2.parse(t),transform:t=>V0(t)?t:t.hasOwnProperty("red")?Bs.transform(t):tl.transform(t)},MN="${c}",NN="${n}";function a0e(t){var e,n,r,i;return isNaN(t)&&V0(t)&&((n=(e=t.match(r0))===null||e===void 0?void 0:e.length)!==null&&n!==void 0?n:0)+((i=(r=t.match(A2))===null||r===void 0?void 0:r.length)!==null&&i!==void 0?i:0)>0}function RN(t){typeof t=="number"&&(t=`${t}`);const e=[];let n=0;const r=t.match(A2);r&&(n=r.length,t=t.replace(A2,MN),e.push(...r.map($n.parse)));const i=t.match(r0);return i&&(t=t.replace(r0,NN),e.push(...i.map(Ul.parse))),{values:e,numColors:n,tokenised:t}}function DN(t){return RN(t).values}function IN(t){const{values:e,numColors:n,tokenised:r}=RN(t),i=e.length;return o=>{let s=r;for(let a=0;a<i;a++)s=s.replace(a<n?MN:NN,a<n?$n.transform(o[a]):td(o[a]));return s}}const l0e=t=>typeof t=="number"?0:t;function u0e(t){const e=DN(t);return IN(t)(e.map(l0e))}const Qo={test:a0e,parse:DN,createTransformer:IN,getAnimatableNone:u0e},c0e=new Set(["brightness","contrast","saturate","opacity"]);function f0e(t){let[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(r0)||[];if(!r)return t;const i=n.replace(r,"");let o=c0e.has(e)?1:0;return r!==n&&(o*=100),e+"("+o+i+")"}const d0e=/([a-z-]*)\(.*?\)/g,M2=Object.assign(Object.assign({},Qo),{getAnimatableNone:t=>{const e=t.match(d0e);return e?e.map(f0e).join(" "):t}}),JS={...Ul,transform:Math.round},PN={borderWidth:Oe,borderTopWidth:Oe,borderRightWidth:Oe,borderBottomWidth:Oe,borderLeftWidth:Oe,borderRadius:Oe,radius:Oe,borderTopLeftRadius:Oe,borderTopRightRadius:Oe,borderBottomRightRadius:Oe,borderBottomLeftRadius:Oe,width:Oe,maxWidth:Oe,height:Oe,maxHeight:Oe,size:Oe,top:Oe,right:Oe,bottom:Oe,left:Oe,padding:Oe,paddingTop:Oe,paddingRight:Oe,paddingBottom:Oe,paddingLeft:Oe,margin:Oe,marginTop:Oe,marginRight:Oe,marginBottom:Oe,marginLeft:Oe,rotate:ys,rotateX:ys,rotateY:ys,rotateZ:ys,scale:Dh,scaleX:Dh,scaleY:Dh,scaleZ:Dh,skew:ys,skewX:ys,skewY:ys,distance:Oe,translateX:Oe,translateY:Oe,translateZ:Oe,x:Oe,y:Oe,z:Oe,perspective:Oe,transformPerspective:Oe,opacity:nd,originX:XS,originY:XS,originZ:Oe,zIndex:JS,fillOpacity:nd,strokeOpacity:nd,numOctaves:JS};function fx(t,e,n,r){const{style:i,vars:o,transform:s,transformKeys:a,transformOrigin:l}=t;a.length=0;let u=!1,c=!1,f=!0;for(const d in e){const h=e[d];if(TN(d)){o[d]=h;continue}const g=PN[d],y=t0e(h,g);if(F0.has(d)){if(u=!0,s[d]=y,a.push(d),!f)continue;h!==(g.default||0)&&(f=!1)}else d.startsWith("origin")?(c=!0,l[d]=y):i[d]=y}if(e.transform||(u||r?i.transform=e0e(t,n,f,r):i.transform&&(i.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:g=0}=l;i.transformOrigin=`${d} ${h} ${g}`}}const dx=()=>({style:{},transform:{},transformKeys:[],transformOrigin:{},vars:{}});function LN(t,e,n){for(const r in e)!Ci(e[r])&&!CN(r,n)&&(t[r]=e[r])}function h0e({transformTemplate:t},e,n){return z.exports.useMemo(()=>{const r=dx();return fx(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function p0e(t,e,n){const r=t.style||{},i={};return LN(i,r,t),Object.assign(i,h0e(t,e,n)),t.transformValues?t.transformValues(i):i}function m0e(t,e,n){const r={},i=p0e(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),r.style=i,r}const g0e=["animate","exit","variants","whileHover","whileTap","whileFocus","whileDrag","whileInView"],v0e=["whileTap","onTap","onTapStart","onTapCancel"],y0e=["onPan","onPanStart","onPanSessionStart","onPanEnd"],x0e=["whileInView","onViewportEnter","onViewportLeave","viewport"],w0e=new Set(["initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","layout","layoutId","layoutDependency","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","drag","dragControls","dragListener","dragConstraints","dragDirectionLock","dragSnapToOrigin","_dragX","_dragY","dragElastic","dragMomentum","dragPropagation","dragTransition","onHoverStart","onHoverEnd","layoutScroll",...x0e,...v0e,...g0e,...y0e]);function Vm(t){return w0e.has(t)}let zN=t=>!Vm(t);function b0e(t){!t||(zN=e=>e.startsWith("on")?!Vm(e):t(e))}try{b0e(require("@emotion/is-prop-valid").default)}catch{}function S0e(t,e,n){const r={};for(const i in t)(zN(i)||n===!0&&Vm(i)||!e&&!Vm(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function QS(t,e,n){return typeof t=="string"?t:Oe.transform(e+n*t)}function k0e(t,e,n){const r=QS(e,t.x,t.width),i=QS(n,t.y,t.height);return`${r} ${i}`}const _0e={offset:"stroke-dashoffset",array:"stroke-dasharray"},E0e={offset:"strokeDashoffset",array:"strokeDasharray"};function C0e(t,e,n=1,r=0,i=!0){t.pathLength=1;const o=i?_0e:E0e;t[o.offset]=Oe.transform(-r);const s=Oe.transform(e),a=Oe.transform(n);t[o.array]=`${s} ${a}`}function hx(t,{attrX:e,attrY:n,originX:r,originY:i,pathLength:o,pathSpacing:s=1,pathOffset:a=0,...l},u,c){fx(t,l,u,c),t.attrs=t.style,t.style={};const{attrs:f,style:d,dimensions:h}=t;f.transform&&(h&&(d.transform=f.transform),delete f.transform),h&&(r!==void 0||i!==void 0||d.transform)&&(d.transformOrigin=k0e(h,r!==void 0?r:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),o!==void 0&&C0e(f,o,s,a,!1)}const BN=()=>({...dx(),attrs:{}});function T0e(t,e){const n=z.exports.useMemo(()=>{const r=BN();return hx(r,e,{enableHardwareAcceleration:!1},t.transformTemplate),{...r.attrs,style:{...r.style}}},[e]);if(t.style){const r={};LN(r,t.style,t),n.style={...r,...n.style}}return n}function A0e(t=!1){return(n,r,i,o,{latestValues:s},a)=>{const u=(ux(n)?T0e:m0e)(r,s,a),f={...S0e(r,typeof n=="string",t),...u,ref:o};return i&&(f["data-projection-id"]=i),z.exports.createElement(n,f)}}const $N=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function FN(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const o in n)t.style.setProperty(o,n[o])}const VN=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength"]);function UN(t,e,n,r){FN(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(VN.has(i)?i:$N(i),e.attrs[i])}function px(t){const{style:e}=t,n={};for(const r in e)(Ci(e[r])||CN(r,t))&&(n[r]=e[r]);return n}function HN(t){const e=px(t);for(const n in t)if(Ci(t[n])){const r=n==="x"||n==="y"?"attr"+n.toUpperCase():n;e[r]=t[n]}return e}function mx(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}const i0=t=>Array.isArray(t),O0e=t=>Boolean(t&&typeof t=="object"&&t.mix&&t.toValue),jN=t=>i0(t)?t[t.length-1]||0:t;function vp(t){const e=Ci(t)?t.get():t;return O0e(e)?e.toValue():e}function M0e({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,o){const s={latestValues:N0e(r,i,o,t),renderState:e()};return n&&(s.mount=a=>n(r,a,s)),s}const qN=t=>(e,n)=>{const r=z.exports.useContext(rg),i=z.exports.useContext($0),o=()=>M0e(t,e,r,i);return n?o():sg(o)};function N0e(t,e,n,r){const i={},o=r(t);for(const d in o)i[d]=vp(o[d]);let{initial:s,animate:a}=t;const l=og(t),u=_N(t);e&&u&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let c=n?n.initial===!1:!1;c=c||s===!1;const f=c?a:s;return f&&typeof f!="boolean"&&!ig(f)&&(Array.isArray(f)?f:[f]).forEach(h=>{const g=mx(t,h);if(!g)return;const{transitionEnd:y,transition:S,...v}=g;for(const m in v){let p=v[m];if(Array.isArray(p)){const x=c?p.length-1:0;p=p[x]}p!==null&&(i[m]=p)}for(const m in y)i[m]=y[m]}),i}const R0e={useVisualState:qN({scrapeMotionValuesFromProps:HN,createRenderState:BN,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}hx(n,r,{enableHardwareAcceleration:!1},t.transformTemplate),UN(e,n)}})},D0e={useVisualState:qN({scrapeMotionValuesFromProps:px,createRenderState:dx})};function I0e(t,{forwardMotionProps:e=!1},n,r,i){return{...ux(t)?R0e:D0e,preloadedFeatures:n,useRender:A0e(e),createVisualElement:r,projectionNodeConstructor:i,Component:t}}var ht;(function(t){t.Animate="animate",t.Hover="whileHover",t.Tap="whileTap",t.Drag="whileDrag",t.Focus="whileFocus",t.InView="whileInView",t.Exit="exit"})(ht||(ht={}));function ag(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function N2(t,e,n,r){z.exports.useEffect(()=>{const i=t.current;if(n&&i)return ag(i,e,n,r)},[t,e,n,r])}function P0e({whileFocus:t,visualElement:e}){const{animationState:n}=e,r=()=>{n&&n.setActive(ht.Focus,!0)},i=()=>{n&&n.setActive(ht.Focus,!1)};N2(e,"focus",t?r:void 0),N2(e,"blur",t?i:void 0)}function WN(t){return typeof PointerEvent<"u"&&t instanceof PointerEvent?t.pointerType==="mouse":t instanceof MouseEvent}function KN(t){return!!t.touches}function L0e(t){return e=>{const n=e instanceof MouseEvent;(!n||n&&e.button===0)&&t(e)}}const z0e={pageX:0,pageY:0};function B0e(t,e="page"){const r=t.touches[0]||t.changedTouches[0]||z0e;return{x:r[e+"X"],y:r[e+"Y"]}}function $0e(t,e="page"){return{x:t[e+"X"],y:t[e+"Y"]}}function gx(t,e="page"){return{point:KN(t)?B0e(t,e):$0e(t,e)}}const GN=(t,e=!1)=>{const n=r=>t(r,gx(r));return e?L0e(n):n},F0e=()=>Vl&&window.onpointerdown===null,V0e=()=>Vl&&window.ontouchstart===null,U0e=()=>Vl&&window.onmousedown===null,H0e={pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointercancel:"mousecancel",pointerover:"mouseover",pointerout:"mouseout",pointerenter:"mouseenter",pointerleave:"mouseleave"},j0e={pointerdown:"touchstart",pointermove:"touchmove",pointerup:"touchend",pointercancel:"touchcancel"};function YN(t){return F0e()?t:V0e()?j0e[t]:U0e()?H0e[t]:t}function Uu(t,e,n,r){return ag(t,YN(e),GN(n,e==="pointerdown"),r)}function Um(t,e,n,r){return N2(t,YN(e),n&&GN(n,e==="pointerdown"),r)}function XN(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const ZS=XN("dragHorizontal"),ek=XN("dragVertical");function JN(t){let e=!1;if(t==="y")e=ek();else if(t==="x")e=ZS();else{const n=ZS(),r=ek();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function QN(){const t=JN(!0);return t?(t(),!1):!0}function tk(t,e,n){return(r,i)=>{!WN(r)||QN()||(t.animationState&&t.animationState.setActive(ht.Hover,e),n&&n(r,i))}}function q0e({onHoverStart:t,onHoverEnd:e,whileHover:n,visualElement:r}){Um(r,"pointerenter",t||n?tk(r,!0,t):void 0,{passive:!t}),Um(r,"pointerleave",e||n?tk(r,!1,e):void 0,{passive:!e})}const ZN=(t,e)=>e?t===e?!0:ZN(t,e.parentElement):!1;function vx(t){return z.exports.useEffect(()=>()=>t(),[])}function eR(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}var W0e=function(){},Hm=function(){};const jm=(t,e,n)=>Math.min(Math.max(n,t),e),Yv=.001,K0e=.01,nk=10,G0e=.05,Y0e=1;function X0e({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,o;W0e(t<=nk*1e3);let s=1-e;s=jm(G0e,Y0e,s),t=jm(K0e,nk,t/1e3),s<1?(i=u=>{const c=u*s,f=c*t,d=c-n,h=R2(u,s),g=Math.exp(-f);return Yv-d/h*g},o=u=>{const f=u*s*t,d=f*n+n,h=Math.pow(s,2)*Math.pow(u,2)*t,g=Math.exp(-f),y=R2(Math.pow(u,2),s);return(-i(u)+Yv>0?-1:1)*((d-h)*g)/y}):(i=u=>{const c=Math.exp(-u*t),f=(u-n)*t+1;return-Yv+c*f},o=u=>{const c=Math.exp(-u*t),f=(n-u)*(t*t);return c*f});const a=5/t,l=Q0e(i,o,a);if(t=t*1e3,isNaN(l))return{stiffness:100,damping:10,duration:t};{const u=Math.pow(l,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:t}}}const J0e=12;function Q0e(t,e,n){let r=n;for(let i=1;i<J0e;i++)r=r-t(r)/e(r);return r}function R2(t,e){return t*Math.sqrt(1-e*e)}const Z0e=["duration","bounce"],ehe=["stiffness","damping","mass"];function rk(t,e){return e.some(n=>t[n]!==void 0)}function the(t){let e=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!rk(t,ehe)&&rk(t,Z0e)){const n=X0e(t);e=Object.assign(Object.assign(Object.assign({},e),n),{velocity:0,mass:1}),e.isResolvedFromDuration=!0}return e}function yx(t){var{from:e=0,to:n=1,restSpeed:r=2,restDelta:i}=t,o=eR(t,["from","to","restSpeed","restDelta"]);const s={done:!1,value:e};let{stiffness:a,damping:l,mass:u,velocity:c,duration:f,isResolvedFromDuration:d}=the(o),h=ik,g=ik;function y(){const S=c?-(c/1e3):0,v=n-e,m=l/(2*Math.sqrt(a*u)),p=Math.sqrt(a/u)/1e3;if(i===void 0&&(i=Math.min(Math.abs(n-e)/100,.4)),m<1){const x=R2(p,m);h=b=>{const _=Math.exp(-m*p*b);return n-_*((S+m*p*v)/x*Math.sin(x*b)+v*Math.cos(x*b))},g=b=>{const _=Math.exp(-m*p*b);return m*p*_*(Math.sin(x*b)*(S+m*p*v)/x+v*Math.cos(x*b))-_*(Math.cos(x*b)*(S+m*p*v)-x*v*Math.sin(x*b))}}else if(m===1)h=x=>n-Math.exp(-p*x)*(v+(S+p*v)*x);else{const x=p*Math.sqrt(m*m-1);h=b=>{const _=Math.exp(-m*p*b),T=Math.min(x*b,300);return n-_*((S+m*p*v)*Math.sinh(T)+x*v*Math.cosh(T))/x}}}return y(),{next:S=>{const v=h(S);if(d)s.done=S>=f;else{const m=g(S)*1e3,p=Math.abs(m)<=r,x=Math.abs(n-v)<=i;s.done=p&&x}return s.value=s.done?n:v,s},flipTarget:()=>{c=-c,[e,n]=[n,e],y()}}}yx.needsInterpolation=(t,e)=>typeof t=="string"||typeof e=="string";const ik=t=>0,o0=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Pt=(t,e,n)=>-n*t+n*e+t;function Xv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function ok({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,o=0,s=0;if(!e)i=o=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=Xv(l,a,t+1/3),o=Xv(l,a,t),s=Xv(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(o*255),blue:Math.round(s*255),alpha:r}}const nhe=(t,e,n)=>{const r=t*t,i=e*e;return Math.sqrt(Math.max(0,n*(i-r)+r))},rhe=[O2,Bs,tl],sk=t=>rhe.find(e=>e.test(t)),tR=(t,e)=>{let n=sk(t),r=sk(e),i=n.parse(t),o=r.parse(e);n===tl&&(i=ok(i),n=Bs),r===tl&&(o=ok(o),r=Bs);const s=Object.assign({},i);return a=>{for(const l in s)l!=="alpha"&&(s[l]=nhe(i[l],o[l],a));return s.alpha=Pt(i.alpha,o.alpha,a),n.transform(s)}},D2=t=>typeof t=="number",ihe=(t,e)=>n=>e(t(n)),lg=(...t)=>t.reduce(ihe);function nR(t,e){return D2(t)?n=>Pt(t,e,n):$n.test(t)?tR(t,e):iR(t,e)}const rR=(t,e)=>{const n=[...t],r=n.length,i=t.map((o,s)=>nR(o,e[s]));return o=>{for(let s=0;s<r;s++)n[s]=i[s](o);return n}},ohe=(t,e)=>{const n=Object.assign(Object.assign({},t),e),r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=nR(t[i],e[i]));return i=>{for(const o in r)n[o]=r[o](i);return n}};function ak(t){const e=Qo.parse(t),n=e.length;let r=0,i=0,o=0;for(let s=0;s<n;s++)r||typeof e[s]=="number"?r++:e[s].hue!==void 0?o++:i++;return{parsed:e,numNumbers:r,numRGB:i,numHSL:o}}const iR=(t,e)=>{const n=Qo.createTransformer(e),r=ak(t),i=ak(e);return r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers?lg(rR(r.parsed,i.parsed),n):s=>`${s>0?e:t}`},she=(t,e)=>n=>Pt(t,e,n);function ahe(t){if(typeof t=="number")return she;if(typeof t=="string")return $n.test(t)?tR:iR;if(Array.isArray(t))return rR;if(typeof t=="object")return ohe}function lhe(t,e,n){const r=[],i=n||ahe(t[0]),o=t.length-1;for(let s=0;s<o;s++){let a=i(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]:e;a=lg(l,a)}r.push(a)}return r}function uhe([t,e],[n]){return r=>n(o0(t,e,r))}function che(t,e){const n=t.length,r=n-1;return i=>{let o=0,s=!1;if(i<=t[0]?s=!0:i>=t[r]&&(o=r-1,s=!0),!s){let l=1;for(;l<n&&!(t[l]>i||l===r);l++);o=l-1}const a=o0(t[o],t[o+1],i);return e[o](a)}}function oR(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const o=t.length;Hm(o===e.length),Hm(!r||!Array.isArray(r)||r.length===o-1),t[0]>t[o-1]&&(t=[].concat(t),e=[].concat(e),t.reverse(),e.reverse());const s=lhe(e,r,i),a=o===2?uhe(t,s):che(t,s);return n?l=>a(jm(t[0],t[o-1],l)):a}const ug=t=>e=>1-t(1-e),xx=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,fhe=t=>e=>Math.pow(e,t),sR=t=>e=>e*e*((t+1)*e-t),dhe=t=>{const e=sR(t);return n=>(n*=2)<1?.5*e(n):.5*(2-Math.pow(2,-10*(n-1)))},aR=1.525,hhe=4/11,phe=8/11,mhe=9/10,wx=t=>t,bx=fhe(2),ghe=ug(bx),lR=xx(bx),uR=t=>1-Math.sin(Math.acos(t)),Sx=ug(uR),vhe=xx(Sx),kx=sR(aR),yhe=ug(kx),xhe=xx(kx),whe=dhe(aR),bhe=4356/361,She=35442/1805,khe=16061/1805,qm=t=>{if(t===1||t===0)return t;const e=t*t;return t<hhe?7.5625*e:t<phe?9.075*e-9.9*t+3.4:t<mhe?bhe*e-She*t+khe:10.8*t*t-20.52*t+10.72},_he=ug(qm),Ehe=t=>t<.5?.5*(1-qm(1-t*2)):.5*qm(t*2-1)+.5;function Che(t,e){return t.map(()=>e||lR).splice(0,t.length-1)}function The(t){const e=t.length;return t.map((n,r)=>r!==0?r/(e-1):0)}function Ahe(t,e){return t.map(n=>n*e)}function yp({from:t=0,to:e=1,ease:n,offset:r,duration:i=300}){const o={done:!1,value:t},s=Array.isArray(e)?e:[t,e],a=Ahe(r&&r.length===s.length?r:The(s),i);function l(){return oR(a,s,{ease:Array.isArray(n)?n:Che(s,n)})}let u=l();return{next:c=>(o.value=u(c),o.done=c>=i,o),flipTarget:()=>{s.reverse(),u=l()}}}function Ohe({velocity:t=0,from:e=0,power:n=.8,timeConstant:r=350,restDelta:i=.5,modifyTarget:o}){const s={done:!1,value:e};let a=n*t;const l=e+a,u=o===void 0?l:o(l);return u!==l&&(a=u-e),{next:c=>{const f=-a*Math.exp(-c/r);return s.done=!(f>i||f<-i),s.value=s.done?u:u+f,s},flipTarget:()=>{}}}const lk={keyframes:yp,spring:yx,decay:Ohe};function Mhe(t){if(Array.isArray(t.to))return yp;if(lk[t.type])return lk[t.type];const e=new Set(Object.keys(t));return e.has("ease")||e.has("duration")&&!e.has("dampingRatio")?yp:e.has("dampingRatio")||e.has("stiffness")||e.has("mass")||e.has("damping")||e.has("restSpeed")||e.has("restDelta")?yx:yp}const cR=1/60*1e3,Nhe=typeof performance<"u"?()=>performance.now():()=>Date.now(),fR=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(Nhe()),cR);function Rhe(t){let e=[],n=[],r=0,i=!1,o=!1;const s=new WeakSet,a={schedule:(l,u=!1,c=!1)=>{const f=c&&i,d=f?e:n;return u&&s.add(l),d.indexOf(l)===-1&&(d.push(l),f&&i&&(r=e.length)),l},cancel:l=>{const u=n.indexOf(l);u!==-1&&n.splice(u,1),s.delete(l)},process:l=>{if(i){o=!0;return}if(i=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let u=0;u<r;u++){const c=e[u];c(l),s.has(c)&&(a.schedule(c),t())}i=!1,o&&(o=!1,a.process(l))}};return a}const Dhe=40;let I2=!0,s0=!1,P2=!1;const Hu={delta:0,timestamp:0},H0=["read","update","preRender","render","postRender"],cg=H0.reduce((t,e)=>(t[e]=Rhe(()=>s0=!0),t),{}),Ti=H0.reduce((t,e)=>{const n=cg[e];return t[e]=(r,i=!1,o=!1)=>(s0||Phe(),n.schedule(r,i,o)),t},{}),mc=H0.reduce((t,e)=>(t[e]=cg[e].cancel,t),{}),Jv=H0.reduce((t,e)=>(t[e]=()=>cg[e].process(Hu),t),{}),Ihe=t=>cg[t].process(Hu),dR=t=>{s0=!1,Hu.delta=I2?cR:Math.max(Math.min(t-Hu.timestamp,Dhe),1),Hu.timestamp=t,P2=!0,H0.forEach(Ihe),P2=!1,s0&&(I2=!1,fR(dR))},Phe=()=>{s0=!0,I2=!0,P2||fR(dR)},Wm=()=>Hu;function hR(t,e,n=0){return t-e-n}function Lhe(t,e,n=0,r=!0){return r?hR(e+-t,e,n):e-(t-e)+n}function zhe(t,e,n,r){return r?t>=e+n:t<=-n}const Bhe=t=>{const e=({delta:n})=>t(n);return{start:()=>Ti.update(e,!0),stop:()=>mc.update(e)}};function pR(t){var e,n,{from:r,autoplay:i=!0,driver:o=Bhe,elapsed:s=0,repeat:a=0,repeatType:l="loop",repeatDelay:u=0,onPlay:c,onStop:f,onComplete:d,onRepeat:h,onUpdate:g}=t,y=eR(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:S}=y,v,m=0,p=y.duration,x,b=!1,_=!0,T;const M=Mhe(y);!((n=(e=M).needsInterpolation)===null||n===void 0)&&n.call(e,r,S)&&(T=oR([0,100],[r,S],{clamp:!1}),r=0,S=100);const N=M(Object.assign(Object.assign({},y),{from:r,to:S}));function $(){m++,l==="reverse"?(_=m%2===0,s=Lhe(s,p,u,_)):(s=hR(s,p,u),l==="mirror"&&N.flipTarget()),b=!1,h&&h()}function W(){v.stop(),d&&d()}function X(H){if(_||(H=-H),s+=H,!b){const K=N.next(Math.max(0,s));x=K.value,T&&(x=T(x)),b=_?K.done:s<=0}g==null||g(x),b&&(m===0&&(p!=null||(p=s)),m<a?zhe(s,p,u,_)&&$():W())}function oe(){c==null||c(),v=o(X),v.start()}return i&&oe(),{stop:()=>{f==null||f(),v.stop()}}}function mR(t,e){return e?t*(1e3/e):0}function $he({from:t=0,velocity:e=0,min:n,max:r,power:i=.8,timeConstant:o=750,bounceStiffness:s=500,bounceDamping:a=10,restDelta:l=1,modifyTarget:u,driver:c,onUpdate:f,onComplete:d,onStop:h}){let g;function y(p){return n!==void 0&&p<n||r!==void 0&&p>r}function S(p){return n===void 0?r:r===void 0||Math.abs(n-p)<Math.abs(r-p)?n:r}function v(p){g==null||g.stop(),g=pR(Object.assign(Object.assign({},p),{driver:c,onUpdate:x=>{var b;f==null||f(x),(b=p.onUpdate)===null||b===void 0||b.call(p,x)},onComplete:d,onStop:h}))}function m(p){v(Object.assign({type:"spring",stiffness:s,damping:a,restDelta:l},p))}if(y(t))m({from:t,velocity:e,to:S(t)});else{let p=i*e+t;typeof u<"u"&&(p=u(p));const x=S(p),b=x===n?-1:1;let _,T;const M=N=>{_=T,T=N,e=mR(N-_,Wm().delta),(b===1&&N>x||b===-1&&N<x)&&m({from:N,to:x,velocity:e})};v({type:"decay",from:t,velocity:e,timeConstant:o,power:i,restDelta:l,modifyTarget:u,onUpdate:y(p)?M:void 0})}return{stop:()=>g==null?void 0:g.stop()}}const L2=t=>t.hasOwnProperty("x")&&t.hasOwnProperty("y"),uk=t=>L2(t)&&t.hasOwnProperty("z"),Ih=(t,e)=>Math.abs(t-e);function _x(t,e){if(D2(t)&&D2(e))return Ih(t,e);if(L2(t)&&L2(e)){const n=Ih(t.x,e.x),r=Ih(t.y,e.y),i=uk(t)&&uk(e)?Ih(t.z,e.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}}const gR=(t,e)=>1-3*e+3*t,vR=(t,e)=>3*e-6*t,yR=t=>3*t,Km=(t,e,n)=>((gR(e,n)*t+vR(e,n))*t+yR(e))*t,xR=(t,e,n)=>3*gR(e,n)*t*t+2*vR(e,n)*t+yR(e),Fhe=1e-7,Vhe=10;function Uhe(t,e,n,r,i){let o,s,a=0;do s=e+(n-e)/2,o=Km(s,r,i)-t,o>0?n=s:e=s;while(Math.abs(o)>Fhe&&++a<Vhe);return s}const Hhe=8,jhe=.001;function qhe(t,e,n,r){for(let i=0;i<Hhe;++i){const o=xR(e,n,r);if(o===0)return e;e-=(Km(e,n,r)-t)/o}return e}const xp=11,Ph=1/(xp-1);function Whe(t,e,n,r){if(t===e&&n===r)return wx;const i=new Float32Array(xp);for(let s=0;s<xp;++s)i[s]=Km(s*Ph,t,n);function o(s){let a=0,l=1;const u=xp-1;for(;l!==u&&i[l]<=s;++l)a+=Ph;--l;const c=(s-i[l])/(i[l+1]-i[l]),f=a+c*Ph,d=xR(f,t,n);return d>=jhe?qhe(s,f,t,n):d===0?f:Uhe(s,a,a+Ph,t,n)}return s=>s===0||s===1?s:Km(o(s),e,r)}function Khe({onTap:t,onTapStart:e,onTapCancel:n,whileTap:r,visualElement:i}){const o=t||e||n||r,s=z.exports.useRef(!1),a=z.exports.useRef(null),l={passive:!(e||t||n||h)};function u(){a.current&&a.current(),a.current=null}function c(){return u(),s.current=!1,i.animationState&&i.animationState.setActive(ht.Tap,!1),!QN()}function f(g,y){!c()||(ZN(i.getInstance(),g.target)?t&&t(g,y):n&&n(g,y))}function d(g,y){!c()||n&&n(g,y)}function h(g,y){u(),!s.current&&(s.current=!0,a.current=lg(Uu(window,"pointerup",f,l),Uu(window,"pointercancel",d,l)),i.animationState&&i.animationState.setActive(ht.Tap,!0),e&&e(g,y))}Um(i,"pointerdown",o?h:void 0,l),vx(u)}const Ghe="production",wR=typeof process>"u"||process.env===void 0?Ghe:"production",ck=new Set;function bR(t,e,n){t||ck.has(e)||(console.warn(e),n&&console.warn(n),ck.add(e))}const z2=new WeakMap,Qv=new WeakMap,Yhe=t=>{const e=z2.get(t.target);e&&e(t)},Xhe=t=>{t.forEach(Yhe)};function Jhe({root:t,...e}){const n=t||document;Qv.has(n)||Qv.set(n,{});const r=Qv.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Xhe,{root:t,...e})),r[i]}function Qhe(t,e,n){const r=Jhe(e);return z2.set(t,n),r.observe(t),()=>{z2.delete(t),r.unobserve(t)}}function Zhe({visualElement:t,whileInView:e,onViewportEnter:n,onViewportLeave:r,viewport:i={}}){const o=z.exports.useRef({hasEnteredView:!1,isInView:!1});let s=Boolean(e||n||r);i.once&&o.current.hasEnteredView&&(s=!1),(typeof IntersectionObserver>"u"?npe:tpe)(s,o.current,t,i)}const epe={some:0,all:1};function tpe(t,e,n,{root:r,margin:i,amount:o="some",once:s}){z.exports.useEffect(()=>{if(!t)return;const a={root:r==null?void 0:r.current,rootMargin:i,threshold:typeof o=="number"?o:epe[o]},l=u=>{const{isIntersecting:c}=u;if(e.isInView===c||(e.isInView=c,s&&!c&&e.hasEnteredView))return;c&&(e.hasEnteredView=!0),n.animationState&&n.animationState.setActive(ht.InView,c);const f=n.getProps(),d=c?f.onViewportEnter:f.onViewportLeave;d&&d(u)};return Qhe(n.getInstance(),a,l)},[t,r,i,o])}function npe(t,e,n,{fallback:r=!0}){z.exports.useEffect(()=>{!t||!r||(wR!=="production"&&bR(!1,"IntersectionObserver not available on this device. whileInView animations will trigger on mount."),requestAnimationFrame(()=>{e.hasEnteredView=!0;const{onViewportEnter:i}=n.getProps();i&&i(null),n.animationState&&n.animationState.setActive(ht.InView,!0)}))},[t])}const $s=t=>e=>(t(e),null),rpe={inView:$s(Zhe),tap:$s(Khe),focus:$s(P0e),hover:$s(q0e)};function SR(){const t=z.exports.useContext($0);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=z.exports.useId();return z.exports.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}function kR(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const Gm=t=>t*1e3,ipe={linear:wx,easeIn:bx,easeInOut:lR,easeOut:ghe,circIn:uR,circInOut:vhe,circOut:Sx,backIn:kx,backInOut:xhe,backOut:yhe,anticipate:whe,bounceIn:_he,bounceInOut:Ehe,bounceOut:qm},fk=t=>{if(Array.isArray(t)){Hm(t.length===4);const[e,n,r,i]=t;return Whe(e,n,r,i)}else if(typeof t=="string")return ipe[t];return t},ope=t=>Array.isArray(t)&&typeof t[0]!="number",dk=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&Qo.test(e)&&!e.startsWith("url(")),Aa=()=>({type:"spring",stiffness:500,damping:25,restSpeed:10}),Lh=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Zv=()=>({type:"keyframes",ease:"linear",duration:.3}),spe=t=>({type:"keyframes",duration:.8,values:t}),hk={x:Aa,y:Aa,z:Aa,rotate:Aa,rotateX:Aa,rotateY:Aa,rotateZ:Aa,scaleX:Lh,scaleY:Lh,scale:Lh,opacity:Zv,backgroundColor:Zv,color:Zv,default:Lh},ape=(t,e)=>{let n;return i0(e)?n=spe:n=hk[t]||hk.default,{to:e,...n(e)}},lpe={...PN,color:$n,backgroundColor:$n,outlineColor:$n,fill:$n,stroke:$n,borderColor:$n,borderTopColor:$n,borderRightColor:$n,borderBottomColor:$n,borderLeftColor:$n,filter:M2,WebkitFilter:M2},Ex=t=>lpe[t];function Cx(t,e){var n;let r=Ex(t);return r!==M2&&(r=Qo),(n=r.getAnimatableNone)===null||n===void 0?void 0:n.call(r,e)}const upe={current:!1};function cpe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:o,repeatType:s,repeatDelay:a,from:l,...u}){return!!Object.keys(u).length}function fpe({ease:t,times:e,yoyo:n,flip:r,loop:i,...o}){const s={...o};return e&&(s.offset=e),o.duration&&(s.duration=Gm(o.duration)),o.repeatDelay&&(s.repeatDelay=Gm(o.repeatDelay)),t&&(s.ease=ope(t)?t.map(fk):fk(t)),o.type==="tween"&&(s.type="keyframes"),(n||i||r)&&(n?s.repeatType="reverse":i?s.repeatType="loop":r&&(s.repeatType="mirror"),s.repeat=i||n||r||o.repeat),o.type!=="spring"&&(s.type="keyframes"),s}function dpe(t,e){var n,r;return(r=(n=(Tx(t,e)||{}).delay)!==null&&n!==void 0?n:t.delay)!==null&&r!==void 0?r:0}function hpe(t){return Array.isArray(t.to)&&t.to[0]===null&&(t.to=[...t.to],t.to[0]=t.from),t}function ppe(t,e,n){return Array.isArray(e.to)&&t.duration===void 0&&(t.duration=.8),hpe(e),cpe(t)||(t={...t,...ape(n,e.to)}),{...e,...fpe(t)}}function mpe(t,e,n,r,i){const o=Tx(r,t)||{};let s=o.from!==void 0?o.from:e.get();const a=dk(t,n);s==="none"&&a&&typeof n=="string"?s=Cx(t,n):pk(s)&&typeof n=="string"?s=mk(n):!Array.isArray(n)&&pk(n)&&typeof s=="string"&&(n=mk(s));const l=dk(t,s);function u(){const f={from:s,to:n,velocity:e.getVelocity(),onComplete:i,onUpdate:d=>e.set(d)};return o.type==="inertia"||o.type==="decay"?$he({...f,...o}):pR({...ppe(o,f,t),onUpdate:d=>{f.onUpdate(d),o.onUpdate&&o.onUpdate(d)},onComplete:()=>{f.onComplete(),o.onComplete&&o.onComplete()}})}function c(){const f=jN(n);return e.set(f),i(),o.onUpdate&&o.onUpdate(f),o.onComplete&&o.onComplete(),{stop:()=>{}}}return!l||!a||o.type===!1?c:u}function pk(t){return t===0||typeof t=="string"&&parseFloat(t)===0&&t.indexOf(" ")===-1}function mk(t){return typeof t=="number"?0:Cx("",t)}function Tx(t,e){return t[e]||t.default||t}function Ax(t,e,n,r={}){return upe.current&&(r={type:!1}),e.start(i=>{let o,s;const a=mpe(t,e,n,r,i),l=dpe(r,t),u=()=>s=a();return l?o=window.setTimeout(u,Gm(l)):u(),()=>{clearTimeout(o),s&&s.stop()}})}const gpe=t=>/^\-?\d*\.?\d+$/.test(t),vpe=t=>/^0[^.\s]+$/.test(t);function Ox(t,e){t.indexOf(e)===-1&&t.push(e)}function Mx(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class rd{constructor(){this.subscriptions=[]}add(e){return Ox(this.subscriptions,e),()=>Mx(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(!!i)if(i===1)this.subscriptions[0](e,n,r);else for(let o=0;o<i;o++){const s=this.subscriptions[o];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ype=t=>!isNaN(parseFloat(t));class xpe{constructor(e){this.version="7.5.4",this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new rd,this.velocityUpdateSubscribers=new rd,this.renderSubscribers=new rd,this.canTrackVelocity=!1,this.updateAndNotify=(n,r=!0)=>{this.prev=this.current,this.current=n;const{delta:i,timestamp:o}=Wm();this.lastUpdated!==o&&(this.timeDelta=i,this.lastUpdated=o,Ti.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.updateSubscribers.notify(this.current),this.velocityUpdateSubscribers.getSize()&&this.velocityUpdateSubscribers.notify(this.getVelocity()),r&&this.renderSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>Ti.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.velocityUpdateSubscribers.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=ype(this.current)}onChange(e){return this.updateSubscribers.add(e)}clearListeners(){this.updateSubscribers.clear()}onRenderRequest(e){return e(this.get()),this.renderSubscribers.add(e)}attach(e){this.passiveEffect=e}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?mR(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.stopAnimation=e(n)}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.renderSubscribers.clear(),this.stop()}}function gc(t){return new xpe(t)}const _R=t=>e=>e.test(t),wpe={test:t=>t==="auto",parse:t=>t},ER=[Ul,Oe,so,ys,i0e,r0e,wpe],Xc=t=>ER.find(_R(t)),bpe=[...ER,$n,Qo],Spe=t=>bpe.find(_R(t));function kpe(t){const e={};return t.forEachValue((n,r)=>e[r]=n.get()),e}function _pe(t){const e={};return t.forEachValue((n,r)=>e[r]=n.getVelocity()),e}function fg(t,e,n){const r=t.getProps();return mx(r,e,n!==void 0?n:r.custom,kpe(t),_pe(t))}function Epe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,gc(n))}function Cpe(t,e){const n=fg(t,e);let{transitionEnd:r={},transition:i={},...o}=n?t.makeTargetAnimatable(n,!1):{};o={...o,...r};for(const s in o){const a=jN(o[s]);Epe(t,s,a)}}function Tpe(t,e,n){var r,i;const o=Object.keys(e).filter(a=>!t.hasValue(a)),s=o.length;if(!!s)for(let a=0;a<s;a++){const l=o[a],u=e[l];let c=null;Array.isArray(u)&&(c=u[0]),c===null&&(c=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),c!=null&&(typeof c=="string"&&(gpe(c)||vpe(c))?c=parseFloat(c):!Spe(c)&&Qo.test(u)&&(c=Cx(l,u)),t.addValue(l,gc(c)),n[l]===void 0&&(n[l]=c),t.setBaseTarget(l,c))}}function Ape(t,e){return e?(e[t]||e.default||e).from:void 0}function Ope(t,e,n){var r;const i={};for(const o in t){const s=Ape(o,e);i[o]=s!==void 0?s:(r=n.getValue(o))===null||r===void 0?void 0:r.get()}return i}function Ym(t){return Boolean(Ci(t)&&t.add)}function Mpe(t,e,n={}){t.notifyAnimationStart(e);let r;if(Array.isArray(e)){const i=e.map(o=>B2(t,o,n));r=Promise.all(i)}else if(typeof e=="string")r=B2(t,e,n);else{const i=typeof e=="function"?fg(t,e,n.custom):e;r=CR(t,i,n)}return r.then(()=>t.notifyAnimationComplete(e))}function B2(t,e,n={}){var r;const i=fg(t,e,n.custom);let{transition:o=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(o=n.transitionOverride);const s=i?()=>CR(t,i,n):()=>Promise.resolve(),a=!((r=t.variantChildren)===null||r===void 0)&&r.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:f,staggerDirection:d}=o;return Npe(t,e,c+u,f,d,n)}:()=>Promise.resolve(),{when:l}=o;if(l){const[u,c]=l==="beforeChildren"?[s,a]:[a,s];return u().then(c)}else return Promise.all([s(),a(n.delay)])}function CR(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var o;let{transition:s=t.getDefaultTransition(),transitionEnd:a,...l}=t.makeTargetAnimatable(e);const u=t.getValue("willChange");r&&(s=r);const c=[],f=i&&((o=t.animationState)===null||o===void 0?void 0:o.getState()[i]);for(const d in l){const h=t.getValue(d),g=l[d];if(!h||g===void 0||f&&Dpe(f,d))continue;let y={delay:n,...s};t.shouldReduceMotion&&F0.has(d)&&(y={...y,type:!1,delay:0});let S=Ax(d,h,g,y);Ym(u)&&(u.add(d),S=S.then(()=>u.remove(d))),c.push(S)}return Promise.all(c).then(()=>{a&&Cpe(t,a)})}function Npe(t,e,n=0,r=0,i=1,o){const s=[],a=(t.variantChildren.size-1)*r,l=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(t.variantChildren).sort(Rpe).forEach((u,c)=>{s.push(B2(u,e,{...o,delay:n+l(c)}).then(()=>u.notifyAnimationComplete(e)))}),Promise.all(s)}function Rpe(t,e){return t.sortNodePosition(e)}function Dpe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}const Nx=[ht.Animate,ht.InView,ht.Focus,ht.Hover,ht.Tap,ht.Drag,ht.Exit],Ipe=[...Nx].reverse(),Ppe=Nx.length;function Lpe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>Mpe(t,n,r)))}function zpe(t){let e=Lpe(t);const n=$pe();let r=!0;const i=(l,u)=>{const c=fg(t,u);if(c){const{transition:f,transitionEnd:d,...h}=c;l={...l,...h,...d}}return l};function o(l){e=l(t)}function s(l,u){var c;const f=t.getProps(),d=t.getVariantContext(!0)||{},h=[],g=new Set;let y={},S=1/0;for(let m=0;m<Ppe;m++){const p=Ipe[m],x=n[p],b=(c=f[p])!==null&&c!==void 0?c:d[p],_=t0(b),T=p===u?x.isActive:null;T===!1&&(S=m);let M=b===d[p]&&b!==f[p]&&_;if(M&&r&&t.manuallyAnimateOnMount&&(M=!1),x.protectedKeys={...y},!x.isActive&&T===null||!b&&!x.prevProp||ig(b)||typeof b=="boolean")continue;const N=Bpe(x.prevProp,b);let $=N||p===u&&x.isActive&&!M&&_||m>S&&_;const W=Array.isArray(b)?b:[b];let X=W.reduce(i,{});T===!1&&(X={});const{prevResolvedValues:oe={}}=x,H={...oe,...X},K=q=>{$=!0,g.delete(q),x.needsAnimating[q]=!0};for(const q in H){const A=X[q],O=oe[q];y.hasOwnProperty(q)||(A!==O?i0(A)&&i0(O)?!kR(A,O)||N?K(q):x.protectedKeys[q]=!0:A!==void 0?K(q):g.add(q):A!==void 0&&g.has(q)?K(q):x.protectedKeys[q]=!0)}x.prevProp=b,x.prevResolvedValues=X,x.isActive&&(y={...y,...X}),r&&t.blockInitialAnimation&&($=!1),$&&!M&&h.push(...W.map(q=>({animation:q,options:{type:p,...l}})))}if(g.size){const m={};g.forEach(p=>{const x=t.getBaseTarget(p);x!==void 0&&(m[p]=x)}),h.push({animation:m})}let v=Boolean(h.length);return r&&f.initial===!1&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(h):Promise.resolve()}function a(l,u,c){var f;if(n[l].isActive===u)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(h=>{var g;return(g=h.animationState)===null||g===void 0?void 0:g.setActive(l,u)}),n[l].isActive=u;const d=s(c,l);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:s,setActive:a,setAnimateFunction:o,getState:()=>n}}function Bpe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!kR(e,t):!1}function Oa(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function $pe(){return{[ht.Animate]:Oa(!0),[ht.InView]:Oa(),[ht.Hover]:Oa(),[ht.Tap]:Oa(),[ht.Drag]:Oa(),[ht.Focus]:Oa(),[ht.Exit]:Oa()}}const Fpe={animation:$s(({visualElement:t,animate:e})=>{t.animationState||(t.animationState=zpe(t)),ig(e)&&z.exports.useEffect(()=>e.subscribe(t),[e])}),exit:$s(t=>{const{custom:e,visualElement:n}=t,[r,i]=SR(),o=z.exports.useContext($0);z.exports.useEffect(()=>{n.isPresent=r;const s=n.animationState&&n.animationState.setActive(ht.Exit,!r,{custom:o&&o.custom||e});s&&!r&&s.then(i)},[r])})};class TR{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const u=ty(this.lastMoveEventInfo,this.history),c=this.startEvent!==null,f=_x(u.offset,{x:0,y:0})>=3;if(!c&&!f)return;const{point:d}=u,{timestamp:h}=Wm();this.history.push({...d,timestamp:h});const{onStart:g,onMove:y}=this.handlers;c||(g&&g(this.lastMoveEvent,u),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,u)},this.handlePointerMove=(u,c)=>{if(this.lastMoveEvent=u,this.lastMoveEventInfo=ey(c,this.transformPagePoint),WN(u)&&u.buttons===0){this.handlePointerUp(u,c);return}Ti.update(this.updatePoint,!0)},this.handlePointerUp=(u,c)=>{this.end();const{onEnd:f,onSessionEnd:d}=this.handlers,h=ty(ey(c,this.transformPagePoint),this.history);this.startEvent&&f&&f(u,h),d&&d(u,h)},KN(e)&&e.touches.length>1)return;this.handlers=n,this.transformPagePoint=r;const i=gx(e),o=ey(i,this.transformPagePoint),{point:s}=o,{timestamp:a}=Wm();this.history=[{...s,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,ty(o,this.history)),this.removeListeners=lg(Uu(window,"pointermove",this.handlePointerMove),Uu(window,"pointerup",this.handlePointerUp),Uu(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),mc.update(this.updatePoint)}}function ey(t,e){return e?{point:e(t.point)}:t}function gk(t,e){return{x:t.x-e.x,y:t.y-e.y}}function ty({point:t},e){return{point:t,delta:gk(t,AR(e)),offset:gk(t,Vpe(e)),velocity:Upe(e,.1)}}function Vpe(t){return t[0]}function AR(t){return t[t.length-1]}function Upe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=AR(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Gm(e)));)n--;if(!r)return{x:0,y:0};const o=(i.timestamp-r.timestamp)/1e3;if(o===0)return{x:0,y:0};const s={x:(i.x-r.x)/o,y:(i.y-r.y)/o};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Mr(t){return t.max-t.min}function vk(t,e=0,n=.01){return _x(t,e)<n}function yk(t,e,n,r=.5){t.origin=r,t.originPoint=Pt(e.min,e.max,t.origin),t.scale=Mr(n)/Mr(e),(vk(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=Pt(n.min,n.max,t.origin)-t.originPoint,(vk(t.translate)||isNaN(t.translate))&&(t.translate=0)}function id(t,e,n,r){yk(t.x,e.x,n.x,r==null?void 0:r.originX),yk(t.y,e.y,n.y,r==null?void 0:r.originY)}function xk(t,e,n){t.min=n.min+e.min,t.max=t.min+Mr(e)}function Hpe(t,e,n){xk(t.x,e.x,n.x),xk(t.y,e.y,n.y)}function wk(t,e,n){t.min=e.min-n.min,t.max=t.min+Mr(e)}function od(t,e,n){wk(t.x,e.x,n.x),wk(t.y,e.y,n.y)}function jpe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Pt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Pt(n,t,r.max):Math.min(t,n)),t}function bk(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function qpe(t,{top:e,left:n,bottom:r,right:i}){return{x:bk(t.x,n,i),y:bk(t.y,e,r)}}function Sk(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function Wpe(t,e){return{x:Sk(t.x,e.x),y:Sk(t.y,e.y)}}function Kpe(t,e){let n=.5;const r=Mr(t),i=Mr(e);return i>r?n=o0(e.min,e.max-r,t.min):r>i&&(n=o0(t.min,t.max-i,e.min)),jm(0,1,n)}function Gpe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const $2=.35;function Ype(t=$2){return t===!1?t=0:t===!0&&(t=$2),{x:kk(t,"left","right"),y:kk(t,"top","bottom")}}function kk(t,e,n){return{min:_k(t,e),max:_k(t,n)}}function _k(t,e){var n;return typeof t=="number"?t:(n=t[e])!==null&&n!==void 0?n:0}const Ek=()=>({translate:0,scale:1,origin:0,originPoint:0}),sd=()=>({x:Ek(),y:Ek()}),Ck=()=>({min:0,max:0}),vn=()=>({x:Ck(),y:Ck()});function qi(t){return[t("x"),t("y")]}function OR({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function Xpe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Jpe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function ny(t){return t===void 0||t===1}function F2({scale:t,scaleX:e,scaleY:n}){return!ny(t)||!ny(e)||!ny(n)}function Ha(t){return F2(t)||MR(t)||t.z||t.rotate||t.rotateX||t.rotateY}function MR(t){return Tk(t.x)||Tk(t.y)}function Tk(t){return t&&t!=="0%"}function Xm(t,e,n){const r=t-n,i=e*r;return n+i}function Ak(t,e,n,r,i){return i!==void 0&&(t=Xm(t,i,r)),Xm(t,n,r)+e}function V2(t,e=0,n=1,r,i){t.min=Ak(t.min,e,n,r,i),t.max=Ak(t.max,e,n,r,i)}function NR(t,{x:e,y:n}){V2(t.x,e.translate,e.scale,e.originPoint),V2(t.y,n.translate,n.scale,n.originPoint)}function Qpe(t,e,n,r=!1){var i,o;const s=n.length;if(!s)return;e.x=e.y=1;let a,l;for(let u=0;u<s;u++)a=n[u],l=a.projectionDelta,((o=(i=a.instance)===null||i===void 0?void 0:i.style)===null||o===void 0?void 0:o.display)!=="contents"&&(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&_u(t,{x:-a.scroll.x,y:-a.scroll.y}),l&&(e.x*=l.x.scale,e.y*=l.y.scale,NR(t,l)),r&&Ha(a.latestValues)&&_u(t,a.latestValues))}function Ss(t,e){t.min=t.min+e,t.max=t.max+e}function Ok(t,e,[n,r,i]){const o=e[i]!==void 0?e[i]:.5,s=Pt(t.min,t.max,o);V2(t,e[n],e[r],s,e.scale)}const Zpe=["x","scaleX","originX"],eme=["y","scaleY","originY"];function _u(t,e){Ok(t.x,e,Zpe),Ok(t.y,e,eme)}function RR(t,e){return OR(Jpe(t.getBoundingClientRect(),e))}function tme(t,e,n){const r=RR(t,n),{scroll:i}=e;return i&&(Ss(r.x,i.x),Ss(r.y,i.y)),r}const nme=new WeakMap;class rme{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vn(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){if(this.visualElement.isPresent===!1)return;const r=a=>{this.stopAnimation(),n&&this.snapToCursor(gx(a,"page").point)},i=(a,l)=>{var u;const{drag:c,dragPropagation:f,onDragStart:d}=this.getProps();c&&!f&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=JN(c),!this.openGlobalLock)||(this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),qi(h=>{var g,y;let S=this.getAxisMotionValue(h).get()||0;if(so.test(S)){const v=(y=(g=this.visualElement.projection)===null||g===void 0?void 0:g.layout)===null||y===void 0?void 0:y.actual[h];v&&(S=Mr(v)*(parseFloat(S)/100))}this.originPoint[h]=S}),d==null||d(a,l),(u=this.visualElement.animationState)===null||u===void 0||u.setActive(ht.Drag,!0))},o=(a,l)=>{const{dragPropagation:u,dragDirectionLock:c,onDirectionLock:f,onDrag:d}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:h}=l;if(c&&this.currentDirection===null){this.currentDirection=ime(h),this.currentDirection!==null&&(f==null||f(this.currentDirection));return}this.updateAxis("x",l.point,h),this.updateAxis("y",l.point,h),this.visualElement.syncRender(),d==null||d(a,l)},s=(a,l)=>this.stop(a,l);this.panSession=new TR(e,{onSessionStart:r,onStart:i,onMove:o,onSessionEnd:s},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:o}=this.getProps();o==null||o(e,n)}cancel(){var e,n;this.isDragging=!1,this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!1),(e=this.panSession)===null||e===void 0||e.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),(n=this.visualElement.animationState)===null||n===void 0||n.setActive(ht.Drag,!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!zh(e,i,this.currentDirection))return;const o=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=jpe(s,this.constraints[e],this.elastic[e])),o.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},i=this.constraints;e&&ku(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=qpe(r.actual,e):this.constraints=!1,this.elastic=Ype(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&qi(o=>{this.getAxisMotionValue(o)&&(this.constraints[o]=Gpe(r.actual[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!ku(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const o=tme(r,i.root,this.visualElement.getTransformPagePoint());let s=Wpe(i.layout.actual,o);if(n){const a=n(Xpe(s));this.hasMutatedConstraints=!!a,a&&(s=OR(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:o,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},u=qi(c=>{var f;if(!zh(c,n,this.currentDirection))return;let d=(f=l==null?void 0:l[c])!==null&&f!==void 0?f:{};s&&(d={min:0,max:0});const h=i?200:1e6,g=i?40:1e7,y={type:"inertia",velocity:r?e[c]:0,bounceStiffness:h,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...o,...d};return this.startAxisValueAnimation(c,y)});return Promise.all(u).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return Ax(e,r,0,n)}stopAnimation(){qi(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){var n,r;const i="_drag"+e.toUpperCase(),o=this.visualElement.getProps()[i];return o||this.visualElement.getValue(e,(r=(n=this.visualElement.getProps().initial)===null||n===void 0?void 0:n[e])!==null&&r!==void 0?r:0)}snapToCursor(e){qi(n=>{const{drag:r}=this.getProps();if(!zh(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,o=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:a}=i.layout.actual[n];o.set(e[n]-Pt(s,a,.5))}})}scalePositionWithinConstraints(){var e;const{drag:n,dragConstraints:r}=this.getProps(),{projection:i}=this.visualElement;if(!ku(r)||!i||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};qi(a=>{const l=this.getAxisMotionValue(a);if(l){const u=l.get();o[a]=Kpe({min:u,max:u},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.getInstance().style.transform=s?s({},""):"none",(e=i.root)===null||e===void 0||e.updateScroll(),i.updateLayout(),this.resolveConstraints(),qi(a=>{if(!zh(a,n,null))return;const l=this.getAxisMotionValue(a),{min:u,max:c}=this.constraints[a];l.set(Pt(u,c,o[a]))})}addListeners(){var e;nme.set(this.visualElement,this);const n=this.visualElement.getInstance(),r=Uu(n,"pointerdown",u=>{const{drag:c,dragListener:f=!0}=this.getProps();c&&f&&this.start(u)}),i=()=>{const{dragConstraints:u}=this.getProps();ku(u)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,s=o.addEventListener("measure",i);o&&!o.layout&&((e=o.root)===null||e===void 0||e.updateScroll(),o.updateLayout()),i();const a=ag(window,"resize",()=>this.scalePositionWithinConstraints()),l=o.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(qi(f=>{const d=this.getAxisMotionValue(f);!d||(this.originPoint[f]+=u[f].translate,d.set(d.get()+u[f].translate))}),this.visualElement.syncRender())});return()=>{a(),r(),s(),l==null||l()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:o=!1,dragElastic:s=$2,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:o,dragElastic:s,dragMomentum:a}}}function zh(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function ime(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}function ome(t){const{dragControls:e,visualElement:n}=t,r=sg(()=>new rme(n));z.exports.useEffect(()=>e&&e.subscribe(r),[r,e]),z.exports.useEffect(()=>r.addListeners(),[r])}function sme({onPan:t,onPanStart:e,onPanEnd:n,onPanSessionStart:r,visualElement:i}){const o=t||e||n||r,s=z.exports.useRef(null),{transformPagePoint:a}=z.exports.useContext(ax),l={onSessionStart:r,onStart:e,onMove:t,onEnd:(c,f)=>{s.current=null,n&&n(c,f)}};z.exports.useEffect(()=>{s.current!==null&&s.current.updateHandlers(l)});function u(c){s.current=new TR(c,l,{transformPagePoint:a})}Um(i,"pointerdown",o&&u),vx(()=>s.current&&s.current.end())}const ame={pan:$s(sme),drag:$s(ome)},U2={current:null},DR={current:!1};function lme(){if(DR.current=!0,!!Vl)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>U2.current=t.matches;t.addListener(e),e()}else U2.current=!1}const Bh=["LayoutMeasure","BeforeLayoutMeasure","LayoutUpdate","ViewportBoxUpdate","Update","Render","AnimationComplete","LayoutAnimationComplete","AnimationStart","LayoutAnimationStart","SetAxisTarget","Unmount"];function ume(){const t=Bh.map(()=>new rd),e={},n={clearAllListeners:()=>t.forEach(r=>r.clear()),updatePropListeners:r=>{Bh.forEach(i=>{var o;const s="on"+i,a=r[s];(o=e[i])===null||o===void 0||o.call(e),a&&(e[i]=n[s](a))})}};return t.forEach((r,i)=>{n["on"+Bh[i]]=o=>r.add(o),n["notify"+Bh[i]]=(...o)=>r.notify(...o)}),n}function cme(t,e,n){const{willChange:r}=e;for(const i in e){const o=e[i],s=n[i];if(Ci(o))t.addValue(i,o),Ym(r)&&r.add(i);else if(Ci(s))t.addValue(i,gc(o)),Ym(r)&&r.remove(i);else if(s!==o)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(o)}else{const a=t.getStaticValue(i);t.addValue(i,gc(a!==void 0?a:o))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const IR=Object.keys(n0),fme=IR.length,PR=({treeType:t="",build:e,getBaseTarget:n,makeTargetAnimatable:r,measureViewportBox:i,render:o,readValueFromInstance:s,removeValueFromRenderState:a,sortNodePosition:l,scrapeMotionValuesFromProps:u})=>({parent:c,props:f,presenceId:d,blockInitialAnimation:h,visualState:g,reducedMotionConfig:y},S={})=>{let v=!1;const{latestValues:m,renderState:p}=g;let x;const b=ume(),_=new Map,T=new Map;let M={};const N={...m},$=f.initial?{...m}:{};let W;function X(){!x||!v||(oe(),o(x,p,f.style,P.projection))}function oe(){e(P,p,m,S,f)}function H(){b.notifyUpdate(m)}function K(R,F){const V=F.onChange(Q=>{m[R]=Q,f.onUpdate&&Ti.update(H,!1,!0)}),G=F.onRenderRequest(P.scheduleRender);T.set(R,()=>{V(),G()})}const{willChange:q,...A}=u(f);for(const R in A){const F=A[R];m[R]!==void 0&&Ci(F)&&(F.set(m[R],!1),Ym(q)&&q.add(R))}if(f.values)for(const R in f.values){const F=f.values[R];m[R]!==void 0&&Ci(F)&&F.set(m[R])}const O=og(f),L=_N(f),P={treeType:t,current:null,depth:c?c.depth+1:0,parent:c,children:new Set,presenceId:d,shouldReduceMotion:null,variantChildren:L?new Set:void 0,isVisible:void 0,manuallyAnimateOnMount:Boolean(c==null?void 0:c.isMounted()),blockInitialAnimation:h,isMounted:()=>Boolean(x),mount(R){v=!0,x=P.current=R,P.projection&&P.projection.mount(R),L&&c&&!O&&(W=c==null?void 0:c.addVariantChild(P)),_.forEach((F,V)=>K(V,F)),DR.current||lme(),P.shouldReduceMotion=y==="never"?!1:y==="always"?!0:U2.current,c==null||c.children.add(P),P.setProps(f)},unmount(){var R;(R=P.projection)===null||R===void 0||R.unmount(),mc.update(H),mc.render(X),T.forEach(F=>F()),W==null||W(),c==null||c.children.delete(P),b.clearAllListeners(),x=void 0,v=!1},loadFeatures(R,F,V,G,Q,se){const ue=[];for(let J=0;J<fme;J++){const xe=IR[J],{isEnabled:Be,Component:it}=n0[xe];Be(R)&&it&&ue.push(z.exports.createElement(it,{key:xe,...R,visualElement:P}))}if(!P.projection&&Q){P.projection=new Q(G,P.getLatestValues(),c&&c.projection);const{layoutId:J,layout:xe,drag:Be,dragConstraints:it,layoutScroll:$e}=R;P.projection.setOptions({layoutId:J,layout:xe,alwaysMeasureLayout:Boolean(Be)||it&&ku(it),visualElement:P,scheduleRender:()=>P.scheduleRender(),animationType:typeof xe=="string"?xe:"both",initialPromotionConfig:se,layoutScroll:$e})}return ue},addVariantChild(R){var F;const V=P.getClosestVariantNode();if(V)return(F=V.variantChildren)===null||F===void 0||F.add(R),()=>V.variantChildren.delete(R)},sortNodePosition(R){return!l||t!==R.treeType?0:l(P.getInstance(),R.getInstance())},getClosestVariantNode:()=>L?P:c==null?void 0:c.getClosestVariantNode(),getLayoutId:()=>f.layoutId,getInstance:()=>x,getStaticValue:R=>m[R],setStaticValue:(R,F)=>m[R]=F,getLatestValues:()=>m,setVisibility(R){P.isVisible!==R&&(P.isVisible=R,P.scheduleRender())},makeTargetAnimatable(R,F=!0){return r(P,R,f,F)},measureViewportBox(){return i(x,f)},addValue(R,F){P.hasValue(R)&&P.removeValue(R),_.set(R,F),m[R]=F.get(),K(R,F)},removeValue(R){var F;_.delete(R),(F=T.get(R))===null||F===void 0||F(),T.delete(R),delete m[R],a(R,p)},hasValue:R=>_.has(R),getValue(R,F){if(f.values&&f.values[R])return f.values[R];let V=_.get(R);return V===void 0&&F!==void 0&&(V=gc(F),P.addValue(R,V)),V},forEachValue:R=>_.forEach(R),readValue:R=>m[R]!==void 0?m[R]:s(x,R,S),setBaseTarget(R,F){N[R]=F},getBaseTarget(R){var F;const{initial:V}=f,G=typeof V=="string"||typeof V=="object"?(F=mx(f,V))===null||F===void 0?void 0:F[R]:void 0;if(V&&G!==void 0)return G;if(n){const Q=n(f,R);if(Q!==void 0&&!Ci(Q))return Q}return $[R]!==void 0&&G===void 0?void 0:N[R]},...b,build(){return oe(),p},scheduleRender(){Ti.render(X,!1,!0)},syncRender:X,setProps(R){(R.transformTemplate||f.transformTemplate)&&P.scheduleRender(),f=R,b.updatePropListeners(R),M=cme(P,u(f),M)},getProps:()=>f,getVariant:R=>{var F;return(F=f.variants)===null||F===void 0?void 0:F[R]},getDefaultTransition:()=>f.transition,getTransformPagePoint:()=>f.transformPagePoint,getVariantContext(R=!1){if(R)return c==null?void 0:c.getVariantContext();if(!O){const V=(c==null?void 0:c.getVariantContext())||{};return f.initial!==void 0&&(V.initial=f.initial),V}const F={};for(let V=0;V<dme;V++){const G=LR[V],Q=f[G];(t0(Q)||Q===!1)&&(F[G]=Q)}return F}};return P},LR=["initial",...Nx],dme=LR.length;function H2(t){return typeof t=="string"&&t.startsWith("var(--")}const zR=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function hme(t){const e=zR.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function j2(t,e,n=1){const[r,i]=hme(t);if(!r)return;const o=window.getComputedStyle(e).getPropertyValue(r);return o?o.trim():H2(i)?j2(i,e,n+1):i}function pme(t,{...e},n){const r=t.getInstance();if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.forEachValue(i=>{const o=i.get();if(!H2(o))return;const s=j2(o,r);s&&i.set(s)});for(const i in e){const o=e[i];if(!H2(o))continue;const s=j2(o,r);!s||(e[i]=s,n&&n[i]===void 0&&(n[i]=o))}return{target:e,transitionEnd:n}}const mme=new Set(["width","height","top","left","right","bottom","x","y"]),BR=t=>mme.has(t),gme=t=>Object.keys(t).some(BR),$R=(t,e)=>{t.set(e,!1),t.set(e)},Mk=t=>t===Ul||t===Oe;var Nk;(function(t){t.width="width",t.height="height",t.left="left",t.right="right",t.top="top",t.bottom="bottom"})(Nk||(Nk={}));const Rk=(t,e)=>parseFloat(t.split(", ")[e]),Dk=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return Rk(i[1],e);{const o=r.match(/^matrix\((.+)\)$/);return o?Rk(o[1],t):0}},vme=new Set(["x","y","z"]),yme=Fm.filter(t=>!vme.has(t));function xme(t){const e=[];return yme.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.syncRender(),e}const Ik={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:Dk(4,13),y:Dk(5,14)},wme=(t,e,n)=>{const r=e.measureViewportBox(),i=e.getInstance(),o=getComputedStyle(i),{display:s}=o,a={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(u=>{a[u]=Ik[u](r,o)}),e.syncRender();const l=e.measureViewportBox();return n.forEach(u=>{const c=e.getValue(u);$R(c,a[u]),t[u]=Ik[u](l,o)}),t},bme=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(BR);let o=[],s=!1;const a=[];if(i.forEach(l=>{const u=t.getValue(l);if(!t.hasValue(l))return;let c=n[l],f=Xc(c);const d=e[l];let h;if(i0(d)){const g=d.length,y=d[0]===null?1:0;c=d[y],f=Xc(c);for(let S=y;S<g;S++)h?Hm(Xc(d[S])===h):h=Xc(d[S])}else h=Xc(d);if(f!==h)if(Mk(f)&&Mk(h)){const g=u.get();typeof g=="string"&&u.set(parseFloat(g)),typeof d=="string"?e[l]=parseFloat(d):Array.isArray(d)&&h===Oe&&(e[l]=d.map(parseFloat))}else(f==null?void 0:f.transform)&&(h==null?void 0:h.transform)&&(c===0||d===0)?c===0?u.set(h.transform(c)):e[l]=f.transform(d):(s||(o=xme(t),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],$R(u,d))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,u=wme(e,t,a);return o.length&&o.forEach(([c,f])=>{t.getValue(c).set(f)}),t.syncRender(),Vl&&l!==null&&window.scrollTo({top:l}),{target:u,transitionEnd:r}}else return{target:e,transitionEnd:r}};function Sme(t,e,n,r){return gme(e)?bme(t,e,n,r):{target:e,transitionEnd:r}}const kme=(t,e,n,r)=>{const i=pme(t,e,r);return e=i.target,r=i.transitionEnd,Sme(t,e,n,r)};function _me(t){return window.getComputedStyle(t)}const FR={treeType:"dom",readValueFromInstance(t,e){if(F0.has(e)){const n=Ex(e);return n&&n.default||0}else{const n=_me(t),r=(TN(e)?n.getPropertyValue(e):n[e])||0;return typeof r=="string"?r.trim():r}},sortNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1},getBaseTarget(t,e){var n;return(n=t.style)===null||n===void 0?void 0:n[e]},measureViewportBox(t,{transformPagePoint:e}){return RR(t,e)},resetTransform(t,e,n){const{transformTemplate:r}=n;e.style.transform=r?r({},""):"none",t.scheduleRender()},restoreTransform(t,e){t.style.transform=e.style.transform},removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]},makeTargetAnimatable(t,{transition:e,transitionEnd:n,...r},{transformValues:i},o=!0){let s=Ope(r,e||{},t);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),o){Tpe(t,r,s);const a=kme(t,r,s,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}},scrapeMotionValuesFromProps:px,build(t,e,n,r,i){t.isVisible!==void 0&&(e.style.visibility=t.isVisible?"visible":"hidden"),fx(e,n,r,i.transformTemplate)},render:FN},Eme=PR(FR),Cme=PR({...FR,getBaseTarget(t,e){return t[e]},readValueFromInstance(t,e){var n;return F0.has(e)?((n=Ex(e))===null||n===void 0?void 0:n.default)||0:(e=VN.has(e)?e:$N(e),t.getAttribute(e))},scrapeMotionValuesFromProps:HN,build(t,e,n,r,i){hx(e,n,r,i.transformTemplate)},render:UN}),Tme=(t,e)=>ux(t)?Cme(e,{enableHardwareAcceleration:!1}):Eme(e,{enableHardwareAcceleration:!0});function Pk(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Jc={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Oe.test(t))t=parseFloat(t);else return t;const n=Pk(t,e.target.x),r=Pk(t,e.target.y);return`${n}% ${r}%`}},Lk="_$css",Ame={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=t.includes("var("),o=[];i&&(t=t.replace(zR,h=>(o.push(h),Lk)));const s=Qo.parse(t);if(s.length>5)return r;const a=Qo.createTransformer(t),l=typeof s[0]!="number"?1:0,u=n.x.scale*e.x,c=n.y.scale*e.y;s[0+l]/=u,s[1+l]/=c;const f=Pt(u,c,.5);typeof s[2+l]=="number"&&(s[2+l]/=f),typeof s[3+l]=="number"&&(s[3+l]/=f);let d=a(s);if(i){let h=0;d=d.replace(Lk,()=>{const g=o[h];return h++,g})}return d}};class Ome extends Zs.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:o}=e;Jde(Nme),o&&(n.group&&n.group.add(o),r&&r.register&&i&&r.register(o),o.root.didUpdate(),o.addEventListener("animationComplete",()=>{this.safeToRemove()}),o.setOptions({...o.options,onExitComplete:()=>this.safeToRemove()})),ed.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:o}=this.props,s=r.projection;return s&&(s.isPresent=o,i||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==o&&(o?s.promote():s.relegate()||Ti.postRender(()=>{var a;!((a=s.getStack())===null||a===void 0)&&a.members.length||this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),!e.currentAnimation&&e.isLead()&&this.safeToRemove())}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n!=null&&n.group&&n.group.remove(i),r!=null&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e==null||e()}render(){return null}}function Mme(t){const[e,n]=SR(),r=z.exports.useContext(lx);return j(Ome,{...t,layoutGroup:r,switchLayoutGroup:z.exports.useContext(EN),isPresent:e,safeToRemove:n})}const Nme={borderRadius:{...Jc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jc,borderTopRightRadius:Jc,borderBottomLeftRadius:Jc,borderBottomRightRadius:Jc,boxShadow:Ame},Rme={measureLayout:Mme};function Dme(t,e,n={}){const r=Ci(t)?t:gc(t);return Ax("",r,e,n),{stop:()=>r.stop(),isAnimating:()=>r.isAnimating()}}const VR=["TopLeft","TopRight","BottomLeft","BottomRight"],Ime=VR.length,zk=t=>typeof t=="string"?parseFloat(t):t,Bk=t=>typeof t=="number"||Oe.test(t);function Pme(t,e,n,r,i,o){var s,a,l,u;i?(t.opacity=Pt(0,(s=n.opacity)!==null&&s!==void 0?s:1,Lme(r)),t.opacityExit=Pt((a=e.opacity)!==null&&a!==void 0?a:1,0,zme(r))):o&&(t.opacity=Pt((l=e.opacity)!==null&&l!==void 0?l:1,(u=n.opacity)!==null&&u!==void 0?u:1,r));for(let c=0;c<Ime;c++){const f=`border${VR[c]}Radius`;let d=$k(e,f),h=$k(n,f);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||Bk(d)===Bk(h)?(t[f]=Math.max(Pt(zk(d),zk(h),r),0),(so.test(h)||so.test(d))&&(t[f]+="%")):t[f]=h}(e.rotate||n.rotate)&&(t.rotate=Pt(e.rotate||0,n.rotate||0,r))}function $k(t,e){var n;return(n=t[e])!==null&&n!==void 0?n:t.borderRadius}const Lme=UR(0,.5,Sx),zme=UR(.5,.95,wx);function UR(t,e,n){return r=>r<t?0:r>e?1:n(o0(t,e,r))}function Fk(t,e){t.min=e.min,t.max=e.max}function ii(t,e){Fk(t.x,e.x),Fk(t.y,e.y)}function Vk(t,e,n,r,i){return t-=e,t=Xm(t,1/n,r),i!==void 0&&(t=Xm(t,1/i,r)),t}function Bme(t,e=0,n=1,r=.5,i,o=t,s=t){if(so.test(e)&&(e=parseFloat(e),e=Pt(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=Pt(o.min,o.max,r);t===o&&(a-=e),t.min=Vk(t.min,e,n,a,i),t.max=Vk(t.max,e,n,a,i)}function Uk(t,e,[n,r,i],o,s){Bme(t,e[n],e[r],e[i],e.scale,o,s)}const $me=["x","scaleX","originX"],Fme=["y","scaleY","originY"];function Hk(t,e,n,r){Uk(t.x,e,$me,n==null?void 0:n.x,r==null?void 0:r.x),Uk(t.y,e,Fme,n==null?void 0:n.y,r==null?void 0:r.y)}function jk(t){return t.translate===0&&t.scale===1}function HR(t){return jk(t.x)&&jk(t.y)}function jR(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function qk(t){return Mr(t.x)/Mr(t.y)}function Vme(t,e,n=.1){return _x(t,e)<=n}class Ume{constructor(){this.members=[]}add(e){Ox(this.members,e),e.scheduleRender()}remove(e){if(Mx(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const o=this.members[i];if(o.isPresent!==!1){r=o;break}}return r?(this.promote(r),!0):!1}promote(e,n){var r;const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender(),e.resumeFrom=i,n&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues,e.snapshot.isShared=!0),!((r=e.root)===null||r===void 0)&&r.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{var n,r,i,o,s;(r=(n=e.options).onExitComplete)===null||r===void 0||r.call(n),(s=(i=e.resumingFrom)===null||i===void 0?void 0:(o=i.options).onExitComplete)===null||s===void 0||s.call(o)})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const Hme="translate3d(0px, 0px, 0) scale(1, 1) scale(1, 1)";function Wk(t,e,n){const r=t.x.translate/e.x,i=t.y.translate/e.y;let o=`translate3d(${r}px, ${i}px, 0) `;if(o+=`scale(${1/e.x}, ${1/e.y}) `,n){const{rotate:l,rotateX:u,rotateY:c}=n;l&&(o+=`rotate(${l}deg) `),u&&(o+=`rotateX(${u}deg) `),c&&(o+=`rotateY(${c}deg) `)}const s=t.x.scale*e.x,a=t.y.scale*e.y;return o+=`scale(${s}, ${a})`,o===Hme?"none":o}const jme=(t,e)=>t.depth-e.depth;class qme{constructor(){this.children=[],this.isDirty=!1}add(e){Ox(this.children,e),this.isDirty=!0}remove(e){Mx(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(jme),this.isDirty=!1,this.children.forEach(e)}}const Kk=["","X","Y","Z"],Gk=1e3;function qR({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s,a={},l=e==null?void 0:e()){this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.potentialNodes=new Map,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.nodes.forEach(Xme),this.nodes.forEach(Jme)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.id=s,this.latestValues=a,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0,s&&this.root.registerPotentialNode(s,this);for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new qme)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new rd),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l==null||l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}registerPotentialNode(s,a){this.potentialNodes.set(s,a)}mount(s,a=!1){var l;if(this.instance)return;this.isSVG=s instanceof SVGElement&&s.tagName!=="svg",this.instance=s;const{layoutId:u,layout:c,visualElement:f}=this.options;if(f&&!f.getInstance()&&f.mount(s),this.root.nodes.add(this),(l=this.parent)===null||l===void 0||l.children.add(this),this.id&&this.root.potentialNodes.delete(this.id),a&&(c||u)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,clearTimeout(d),d=window.setTimeout(h,250),ed.hasAnimatedSinceResize&&(ed.hasAnimatedSinceResize=!1,this.nodes.forEach(Xk))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:g,layout:y})=>{var S,v,m,p,x;if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=(v=(S=this.options.transition)!==null&&S!==void 0?S:f.getDefaultTransition())!==null&&v!==void 0?v:n1e,{onLayoutAnimationStart:_,onLayoutAnimationComplete:T}=f.getProps(),M=!this.targetLayout||!jR(this.targetLayout,y)||g,N=!h&&g;if(((m=this.resumeFrom)===null||m===void 0?void 0:m.instance)||N||h&&(M||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,N);const $={...Tx(b,"layout"),onPlay:_,onComplete:T};f.shouldReduceMotion&&($.delay=0,$.type=!1),this.startAnimation($)}else!h&&this.animationProgress===0&&Xk(this),this.isLead()&&((x=(p=this.options).onExitComplete)===null||x===void 0||x.call(p));this.targetLayout=y})}unmount(){var s,a;this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this),(s=this.getStack())===null||s===void 0||s.remove(this),(a=this.parent)===null||a===void 0||a.children.delete(this),this.instance=void 0,mc.preRender(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){var s;return this.isAnimationBlocked||((s=this.parent)===null||s===void 0?void 0:s.isTreeAnimationBlocked())||!1}startUpdate(){var s;this.isUpdateBlocked()||(this.isUpdating=!0,(s=this.nodes)===null||s===void 0||s.forEach(Qme))}willUpdate(s=!0){var a,l,u;if(this.root.isUpdateBlocked()){(l=(a=this.options).onExitComplete)===null||l===void 0||l.call(a);return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const g=this.path[h];g.shouldResetTransform=!0,g.updateScroll()}const{layoutId:c,layout:f}=this.options;if(c===void 0&&!f)return;const d=(u=this.options.visualElement)===null||u===void 0?void 0:u.getProps().transformTemplate;this.prevTransformTemplateValue=d==null?void 0:d(this.latestValues,""),this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}didUpdate(){if(this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Yk);return}!this.isUpdating||(this.isUpdating=!1,this.potentialNodes.size&&(this.potentialNodes.forEach(r1e),this.potentialNodes.clear()),this.nodes.forEach(Yme),this.nodes.forEach(Wme),this.nodes.forEach(Kme),this.clearAllSnapshots(),Jv.update(),Jv.preRender(),Jv.render())}clearAllSnapshots(){this.nodes.forEach(Gme),this.sharedNodes.forEach(Zme)}scheduleUpdateProjection(){Ti.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Ti.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){if(this.snapshot||!this.instance)return;const s=this.measure(),a=this.removeTransform(this.removeElementScroll(s));e9(a),this.snapshot={measured:s,layout:a,latestValues:{}}}updateLayout(){var s;if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.measure();e9(a);const l=this.layout;this.layout={measured:a,actual:this.removeElementScroll(a)},this.layoutCorrected=vn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.actual),(s=this.options.visualElement)===null||s===void 0||s.notifyLayoutMeasure(this.layout.actual,l==null?void 0:l.actual)}updateScroll(){this.options.layoutScroll&&this.instance&&(this.isScrollRoot=r(this.instance),this.scroll=n(this.instance))}resetTransform(){var s;if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,l=this.projectionDelta&&!HR(this.projectionDelta),u=(s=this.options.visualElement)===null||s===void 0?void 0:s.getProps().transformTemplate,c=u==null?void 0:u(this.latestValues,""),f=c!==this.prevTransformTemplateValue;a&&(l||Ha(this.latestValues)||f)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(){const{visualElement:s}=this.options;if(!s)return vn();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Ss(a.x,l.x),Ss(a.y,l.y)),a}removeElementScroll(s){const a=vn();ii(a,s);for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:c,options:f,isScrollRoot:d}=u;if(u!==this.root&&c&&f.layoutScroll){if(d){ii(a,s);const{scroll:h}=this.root;h&&(Ss(a.x,-h.x),Ss(a.y,-h.y))}Ss(a.x,c.x),Ss(a.y,c.y)}}return a}applyTransform(s,a=!1){const l=vn();ii(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!a&&c.options.layoutScroll&&c.scroll&&c!==c.root&&_u(l,{x:-c.scroll.x,y:-c.scroll.y}),Ha(c.latestValues)&&_u(l,c.latestValues)}return Ha(this.latestValues)&&_u(l,this.latestValues),l}removeTransform(s){var a;const l=vn();ii(l,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];if(!c.instance||!Ha(c.latestValues))continue;F2(c.latestValues)&&c.updateSnapshot();const f=vn(),d=c.measure();ii(f,d),Hk(l,c.latestValues,(a=c.snapshot)===null||a===void 0?void 0:a.layout,f)}return Ha(this.latestValues)&&Hk(l,this.latestValues),l}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection()}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}resolveTargetDelta(){var s;const{layout:a,layoutId:l}=this.options;!this.layout||!(a||l)||(!this.targetDelta&&!this.relativeTarget&&(this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&this.relativeParent.layout&&(this.relativeTarget=vn(),this.relativeTargetOrigin=vn(),od(this.relativeTargetOrigin,this.layout.actual,this.relativeParent.layout.actual),ii(this.relativeTarget,this.relativeTargetOrigin))),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vn(),this.targetWithTransforms=vn()),this.relativeTarget&&this.relativeTargetOrigin&&((s=this.relativeParent)===null||s===void 0?void 0:s.target)?Hpe(this.target,this.relativeTarget,this.relativeParent.target):this.targetDelta?(Boolean(this.resumingFrom)?this.target=this.applyTransform(this.layout.actual):ii(this.target,this.layout.actual),NR(this.target,this.targetDelta)):ii(this.target,this.layout.actual),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,this.relativeParent=this.getClosestProjectingParent(),this.relativeParent&&Boolean(this.relativeParent.resumingFrom)===Boolean(this.resumingFrom)&&!this.relativeParent.options.layoutScroll&&this.relativeParent.target&&(this.relativeTarget=vn(),this.relativeTargetOrigin=vn(),od(this.relativeTargetOrigin,this.target,this.relativeParent.target),ii(this.relativeTarget,this.relativeTargetOrigin)))))}getClosestProjectingParent(){if(!(!this.parent||F2(this.parent.latestValues)||MR(this.parent.latestValues)))return(this.parent.relativeTarget||this.parent.targetDelta)&&this.parent.layout?this.parent:this.parent.getClosestProjectingParent()}calcProjection(){var s;const{layout:a,layoutId:l}=this.options;if(this.isTreeAnimating=Boolean(((s=this.parent)===null||s===void 0?void 0:s.isTreeAnimating)||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(a||l))return;const u=this.getLead();ii(this.layoutCorrected,this.layout.actual),Qpe(this.layoutCorrected,this.treeScale,this.path,Boolean(this.resumingFrom)||this!==u);const{target:c}=u;if(!c)return;this.projectionDelta||(this.projectionDelta=sd(),this.projectionDeltaWithTransform=sd());const f=this.treeScale.x,d=this.treeScale.y,h=this.projectionTransform;id(this.projectionDelta,this.layoutCorrected,c,this.latestValues),this.projectionTransform=Wk(this.projectionDelta,this.treeScale),(this.projectionTransform!==h||this.treeScale.x!==f||this.treeScale.y!==d)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",c))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){var a,l,u;(l=(a=this.options).scheduleRender)===null||l===void 0||l.call(a),s&&((u=this.getStack())===null||u===void 0||u.scheduleRender()),this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){var l;const u=this.snapshot,c=(u==null?void 0:u.latestValues)||{},f={...this.latestValues},d=sd();this.relativeTarget=this.relativeTargetOrigin=void 0,this.attemptToResolveRelativeTarget=!a;const h=vn(),g=u==null?void 0:u.isShared,y=(((l=this.getStack())===null||l===void 0?void 0:l.members.length)||0)<=1,S=Boolean(g&&!y&&this.options.crossfade===!0&&!this.path.some(t1e));this.animationProgress=0,this.mixTargetDelta=v=>{var m;const p=v/1e3;Jk(d.x,s.x,p),Jk(d.y,s.y,p),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&((m=this.relativeParent)===null||m===void 0?void 0:m.layout)&&(od(h,this.layout.actual,this.relativeParent.layout.actual),e1e(this.relativeTarget,this.relativeTargetOrigin,h,p)),g&&(this.animationValues=f,Pme(f,c,this.latestValues,p,S,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=p},this.mixTargetDelta(0)}startAnimation(s){var a,l;this.notifyListeners("animationStart"),(a=this.currentAnimation)===null||a===void 0||a.stop(),this.resumingFrom&&((l=this.resumingFrom.currentAnimation)===null||l===void 0||l.stop()),this.pendingAnimation&&(mc.update(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ti.update(()=>{ed.hasAnimatedSinceResize=!0,this.currentAnimation=Dme(0,Gk,{...s,onUpdate:u=>{var c;this.mixTargetDelta(u),(c=s.onUpdate)===null||c===void 0||c.call(s,u)},onComplete:()=>{var u;(u=s.onComplete)===null||u===void 0||u.call(s),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){var s;this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0),(s=this.getStack())===null||s===void 0||s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){var s;this.currentAnimation&&((s=this.mixTargetDelta)===null||s===void 0||s.call(this,Gk),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:u,latestValues:c}=s;if(!(!a||!l||!u)){if(this!==s&&this.layout&&u&&WR(this.options.animationType,this.layout.actual,u.actual)){l=this.target||vn();const f=Mr(this.layout.actual.x);l.x.min=s.target.x.min,l.x.max=l.x.min+f;const d=Mr(this.layout.actual.y);l.y.min=s.target.y.min,l.y.max=l.y.min+d}ii(a,l),_u(a,c),id(this.projectionDeltaWithTransform,this.layoutCorrected,a,c)}}registerSharedNode(s,a){var l,u,c;this.sharedNodes.has(s)||this.sharedNodes.set(s,new Ume),this.sharedNodes.get(s).add(a),a.promote({transition:(l=a.options.initialPromotionConfig)===null||l===void 0?void 0:l.transition,preserveFollowOpacity:(c=(u=a.options.initialPromotionConfig)===null||u===void 0?void 0:u.shouldPreserveFollowOpacity)===null||c===void 0?void 0:c.call(u,a)})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const l={};for(let u=0;u<Kk.length;u++){const c=Kk[u],f="rotate"+c;!s.getStaticValue(f)||(a=!0,l[f]=s.getStaticValue(f),s.setStaticValue(f,0))}if(!!a){s==null||s.syncRender();for(const u in l)s.setStaticValue(u,l[u]);s.scheduleRender()}}getProjectionStyles(s={}){var a,l,u;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const f=(a=this.options.visualElement)===null||a===void 0?void 0:a.getProps().transformTemplate;if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=vp(s.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const S={};return this.options.layoutId&&(S.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,S.pointerEvents=vp(s.pointerEvents)||""),this.hasProjected&&!Ha(this.latestValues)&&(S.transform=f?f({},""):"none",this.hasProjected=!1),S}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=Wk(this.projectionDeltaWithTransform,this.treeScale,h),f&&(c.transform=f(h,c.transform));const{x:g,y}=this.projectionDelta;c.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,d.animationValues?c.opacity=d===this?(u=(l=h.opacity)!==null&&l!==void 0?l:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const S in $m){if(h[S]===void 0)continue;const{correct:v,applyTo:m}=$m[S],p=v(h[S],d);if(m){const x=m.length;for(let b=0;b<x;b++)c[m[b]]=p}else c[S]=p}return this.options.layoutId&&(c.pointerEvents=d===this?vp(s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Yk),this.root.sharedNodes.clear()}}}function Wme(t){t.updateLayout()}function Kme(t){var e,n,r;const i=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&i&&t.hasListeners("didUpdate")){const{actual:o,measured:s}=t.layout,{animationType:a}=t.options;a==="size"?qi(d=>{const h=i.isShared?i.measured[d]:i.layout[d],g=Mr(h);h.min=o[d].min,h.max=h.min+g}):WR(a,i.layout,o)&&qi(d=>{const h=i.isShared?i.measured[d]:i.layout[d],g=Mr(o[d]);h.max=h.min+g});const l=sd();id(l,o,i.layout);const u=sd();i.isShared?id(u,t.applyTransform(s,!0),i.measured):id(u,o,i.layout);const c=!HR(l);let f=!1;if(!t.resumeFrom&&(t.relativeParent=t.getClosestProjectingParent(),t.relativeParent&&!t.relativeParent.resumeFrom)){const{snapshot:d,layout:h}=t.relativeParent;if(d&&h){const g=vn();od(g,i.layout,d.layout);const y=vn();od(y,o,h.actual),jR(g,y)||(f=!0)}}t.notifyListeners("didUpdate",{layout:o,snapshot:i,delta:u,layoutDelta:l,hasLayoutChanged:c,hasRelativeTargetChanged:f})}else t.isLead()&&((r=(n=t.options).onExitComplete)===null||r===void 0||r.call(n));t.options.transition=void 0}function Gme(t){t.clearSnapshot()}function Yk(t){t.clearMeasurements()}function Yme(t){const{visualElement:e}=t.options;e!=null&&e.getProps().onBeforeLayoutMeasure&&e.notifyBeforeLayoutMeasure(),t.resetTransform()}function Xk(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0}function Xme(t){t.resolveTargetDelta()}function Jme(t){t.calcProjection()}function Qme(t){t.resetRotation()}function Zme(t){t.removeLeadSnapshot()}function Jk(t,e,n){t.translate=Pt(e.translate,0,n),t.scale=Pt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Qk(t,e,n,r){t.min=Pt(e.min,n.min,r),t.max=Pt(e.max,n.max,r)}function e1e(t,e,n,r){Qk(t.x,e.x,n.x,r),Qk(t.y,e.y,n.y,r)}function t1e(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const n1e={duration:.45,ease:[.4,0,.1,1]};function r1e(t,e){let n=t.root;for(let o=t.path.length-1;o>=0;o--)if(Boolean(t.path[o].instance)){n=t.path[o];break}const i=(n&&n!==t.root?n.instance:document).querySelector(`[data-projection-id="${e}"]`);i&&t.mount(i,!0)}function Zk(t){t.min=Math.round(t.min),t.max=Math.round(t.max)}function e9(t){Zk(t.x),Zk(t.y)}function WR(t,e,n){return t==="position"||t==="preserve-aspect"&&!Vme(qk(e),qk(n),.2)}const i1e=qR({attachResizeListener:(t,e)=>ag(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),ry={current:void 0},o1e=qR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!ry.current){const t=new i1e(0,{});t.mount(window),t.setOptions({layoutScroll:!0}),ry.current=t}return ry.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>Boolean(window.getComputedStyle(t).position==="fixed")}),s1e={...Fpe,...rpe,...ame,...Rme},ha=Yde((t,e)=>I0e(t,e,s1e,Tme,o1e));function KR(){const t=z.exports.useRef(!1);return Bm(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function a1e(){const t=KR(),[e,n]=z.exports.useState(0),r=z.exports.useCallback(()=>{t.current&&n(e+1)},[e]);return[z.exports.useCallback(()=>Ti.postRender(r),[r]),e]}class l1e extends z.exports.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function u1e({children:t,isPresent:e}){const n=z.exports.useId(),r=z.exports.useRef(null),i=z.exports.useRef({width:0,height:0,top:0,left:0});return z.exports.useInsertionEffect(()=>{const{width:o,height:s,top:a,left:l}=i.current;if(e||!r.current||!o||!s)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),j(l1e,{isPresent:e,childRef:r,sizeRef:i,children:z.exports.cloneElement(t,{ref:r})})}const iy=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:o,mode:s})=>{const a=sg(c1e),l=z.exports.useId(),u=z.exports.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c=>{a.set(c,!0);for(const f of a.values())if(!f)return;r&&r()},register:c=>(a.set(c,!1),()=>a.delete(c))}),o?void 0:[n]);return z.exports.useMemo(()=>{a.forEach((c,f)=>a.set(f,!1))},[n]),z.exports.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=j(u1e,{isPresent:n,children:t})),j($0.Provider,{value:u,children:t})};function c1e(){return new Map}const au=t=>t.key||"";function f1e(t,e){t.forEach(n=>{const r=au(n);e.set(r,n)})}function d1e(t){const e=[];return z.exports.Children.forEach(t,n=>{z.exports.isValidElement(n)&&e.push(n)}),e}const GR=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:o=!0,mode:s="sync"})=>{i&&(s="wait",bR(!1,"Replace exitBeforeEnter with mode='wait'"));let[a]=a1e();const l=z.exports.useContext(lx).forceRender;l&&(a=l);const u=KR(),c=d1e(t);let f=c;const d=new Set,h=z.exports.useRef(f),g=z.exports.useRef(new Map).current,y=z.exports.useRef(!0);if(Bm(()=>{y.current=!1,f1e(c,g),h.current=f}),vx(()=>{y.current=!0,g.clear(),d.clear()}),y.current)return j(qo,{children:f.map(p=>j(iy,{isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:o,mode:s,children:p},au(p)))});f=[...f];const S=h.current.map(au),v=c.map(au),m=S.length;for(let p=0;p<m;p++){const x=S[p];v.indexOf(x)===-1&&d.add(x)}return s==="wait"&&d.size&&(f=[]),d.forEach(p=>{if(v.indexOf(p)!==-1)return;const x=g.get(p);if(!x)return;const b=S.indexOf(p),_=()=>{g.delete(p),d.delete(p);const T=h.current.findIndex(M=>M.key===p);if(h.current.splice(T,1),!d.size){if(h.current=c,u.current===!1)return;a(),r&&r()}};f.splice(b,0,j(iy,{isPresent:!1,onExitComplete:_,custom:e,presenceAffectsLayout:o,mode:s,children:x},au(x)))}),f=f.map(p=>{const x=p.key;return d.has(x)?p:j(iy,{isPresent:!0,presenceAffectsLayout:o,mode:s,children:p},au(p))}),wR!=="production"&&s==="wait"&&f.length>1&&console.warn(`You're attempting to animate multiple children within AnimatePresence, but its mode is set to "wait". This will lead to odd visual behaviour.`),j(qo,{children:d.size?f:f.map(p=>z.exports.cloneElement(p))})},vc=({children:t,className:e,onClick:n})=>j(ha.button,{whileTap:{scale:.9},className:`h-12 w-full px-4 py-3 bg-gray-200 opacity-80 rounded-xl flex justify-between items-center hover:bg-gray-800 hover:text-white ${e}`,onClick:n,children:t});const YR=t=>{var i,o,s;zm.setAppElement("#root");const{items:e,removeItem:n}=z.exports.useContext(ni),r=(i=t.note)==null?void 0:i.id;return j(zm,{isOpen:(o=t.isOpen)!=null?o:!1,onAfterClose:t.onAfterOpen,onRequestClose:t.onRequestClose,overlayClassName:"fixed inset-0 bg-[rgba(30,30,30,.5)]",className:"z-20 bg-gray-100 backdrop-blur-lg rounded-t-xl absolute w-full bottom-0 left-0 right-0 p-4 mx-auto max-w-2xl ",children:He("div",{children:[He("div",{className:"flex justify-between mb-6",children:[He("div",{className:"flex items-center space-x-1 text-xl",children:[j(Efe,{}),j("h2",{children:(s=t.note)==null?void 0:s.title})]}),j("button",{className:"rounded-full h-8 w-8 bg-gray-200 opacity-80 hover:bg-gray-800 hover:text-white  flex justify-center items-center",onClick:t.onRequestClose,children:j(FS,{})})]}),He("div",{className:"flex flex-col space-y-4 items-center",children:[e.find(a=>a===r)&&He(vc,{onClick:()=>{n(r),t.onRequestClose()},children:[j("span",{children:"Close"})," ",j(FS,{})]}),t.children,He(vc,{onClick:()=>{n(r),xfe(r!=null?r:""),t.onRequestClose()},children:[j("span",{children:"Delete"})," ",j(Mfe,{})]})]})]})})};function h1e(t){return zt({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M0 32l34.9 395.8L191.5 480l157.6-52.2L384 32H0zm308.2 127.9H124.4l4.1 49.4h175.6l-13.6 148.4-97.9 27v.3h-1.1l-98.7-27.3-6-75.8h47.7L138 320l53.5 14.5 53.7-14.5 6-62.2H84.3L71.5 112.2h241.1l-4.4 47.7z"}}]})(t)}function p1e(t){return zt({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M593.8 59.1H46.2C20.7 59.1 0 79.8 0 105.2v301.5c0 25.5 20.7 46.2 46.2 46.2h547.7c25.5 0 46.2-20.7 46.1-46.1V105.2c0-25.4-20.7-46.1-46.2-46.1zM338.5 360.6H277v-120l-61.5 76.9-61.5-76.9v120H92.3V151.4h61.5l61.5 76.9 61.5-76.9h61.5v209.2zm135.3 3.1L381.5 256H443V151.4h61.5V256H566z"}}]})(t)}var XR={exports:{}};(function(t,e){(function(n,r){r()})(tt,function(){function n(u,c){return typeof c>"u"?c={autoBom:!1}:typeof c!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),c={autoBom:!c}),c.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,c,f){var d=new XMLHttpRequest;d.open("GET",u),d.responseType="blob",d.onload=function(){l(d.response,c,f)},d.onerror=function(){console.error("could not download file")},d.send()}function i(u){var c=new XMLHttpRequest;c.open("HEAD",u,!1);try{c.send()}catch{}return 200<=c.status&&299>=c.status}function o(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var c=document.createEvent("MouseEvents");c.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(c)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof tt=="object"&&tt.global===tt?tt:void 0,a=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),l=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(u,c,f){var d=s.URL||s.webkitURL,h=document.createElement("a");c=c||u.name||"download",h.download=c,h.rel="noopener",typeof u=="string"?(h.href=u,h.origin===location.origin?o(h):i(h.href)?r(u,c,f):o(h,h.target="_blank")):(h.href=d.createObjectURL(u),setTimeout(function(){d.revokeObjectURL(h.href)},4e4),setTimeout(function(){o(h)},0))}:"msSaveOrOpenBlob"in navigator?function(u,c,f){if(c=c||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,f),c);else if(i(u))r(u,c,f);else{var d=document.createElement("a");d.href=u,d.target="_blank",setTimeout(function(){o(d)})}}:function(u,c,f,d){if(d=d||open("","_blank"),d&&(d.document.title=d.document.body.innerText="downloading..."),typeof u=="string")return r(u,c,f);var h=u.type==="application/octet-stream",g=/constructor/i.test(s.HTMLElement)||s.safari,y=/CriOS\/[\d]+/.test(navigator.userAgent);if((y||h&&g||a)&&typeof FileReader<"u"){var S=new FileReader;S.onloadend=function(){var p=S.result;p=y?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),d?d.location.href=p:location=p,d=null},S.readAsDataURL(u)}else{var v=s.URL||s.webkitURL,m=v.createObjectURL(u);d?d.location=m:location.href=m,d=null,setTimeout(function(){v.revokeObjectURL(m)},4e4)}});s.saveAs=l.saveAs=l,t.exports=l})})(XR);const t9=XR.exports,m1e=t=>{const{getHTML:e,getMarkdown:n}=tie();return He(qo,{children:[He(vc,{onClick:()=>{var l;const o=`<!DOCTYPE html>
    <html>
    <head>
      <link href="https://cdn.jsdelivr.net/npm/base-css-theme@1.1.3/base.css" rel="stylesheet">
    </head>
    <body style="padding: 16px;">${e()}</body>
    </html>`;let s=`${t.note.title}.html`,a=new Blob([o],{type:"text/plain;charset=utf-8"});t9.saveAs(a,s),(l=t.onRequestClose)==null||l.call(t)},children:[j("span",{children:"Export HTML"})," ",j(h1e,{})]}),He(vc,{onClick:()=>{var a;let o=`${t.note.title}.md`,s=new Blob([n()],{type:"text/plain;charset=utf-8"});t9.saveAs(s,o),(a=t.onRequestClose)==null||a.call(t)},children:[j("span",{children:"Export Markdown"})," ",j(p1e,{})]})]})};const g1e=t=>{const[e,n]=z.exports.useState(),[r,i]=z.exports.useState(!1),[o,s]=z.exports.useState(!1),a=z.exports.useRef(),l=z.exports.useRef(),u=v1(),c=z.exports.useCallback(async()=>{if(t.id){let g=await dN(t.id);g&&n(g)}},[t.id]);z.exports.useEffect(()=>(c(),()=>n(null)),[c]),z.exports.useEffect(()=>{if(u.hash){const g=u.hash.substring(1);t.id===g&&l.current&&l.current.scrollIntoView({behavior:"smooth"})}},[u.hash,t.id]);const f=z.exports.useCallback(g=>{const y={...e,doc:g,lastEditedTime:Date.now()};n(y)},[e]),d=z.exports.useCallback(g=>{e.text=g,BS(e),i(!1)},[e]),h=z.exports.useCallback(()=>{var g;i(!0),(g=t.handleFocus)==null||g.call(t,a.current)},[t]);return e?He(qo,{children:[j(GR,{children:He(ha.div,{initial:{scale:0},animate:{scale:1},exit:{scale:0},id:t.id,ref:l,className:"w-full md:w-3/4 lg:w-1/2 xl:w-1/3 hover:shadow-lg rounded-lg p-5 lg:mr-4 mb-4 scroll-smooth editor-container",children:[He("div",{className:"flex justify-between",children:[j("textarea",{placeholder:"Title",defaultValue:e==null?void 0:e.title,className:"font-semibold text-4xl w-11/12",onChange:g=>{let y=g.target.value;y.replace(/\n/,""),e.title=y,BS(e)},wrap:"soft"}),j("div",{className:"flex space-x-2",children:j(ha.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:`h-4 w-4 rounded-full opacity-80 border hover:bg-gray-800 hover:border-gray-800 ${r?"border-gray-200 bg-gray-200":"border-gray-200"}`,onClick:()=>s(!0)})})]}),j(oae,{id:e.id,doc:e.doc,onChange:f,onBlur:d,onFocus:h,ref:a})]})}),a.current&&j(F1.Provider,{value:a.current,children:j(YR,{isOpen:o,note:e,onRequestClose:()=>{s(!1)},children:j(m1e,{note:e,onRequestClose:()=>{s(!1)}})})})]}):null},JR=()=>{const t=h0(),{addItem:e}=z.exports.useContext(ni);return async()=>{try{const r=await yfe();e(r.id),t(`${dg.panelWorkspace}#${r.id}`)}catch(r){console.error(r)}}};function QR(){const t=JR();return j(ha.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:t,className:"bg-gray-200  text-black backdrop-blur-xl rounded-full h-16 w-16 fixed right-1 bottom-12 md:right-8 md:bottom-8 flex justify-center items-center shadow-md hover:pointer hover:opacity-100 hover:bg-green-500 hover:text-white",children:j(Afe,{})})}function v1e(t){return zt({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M5.313 3.136h-1.23V9.54c0 2.105 1.47 3.623 3.917 3.623s3.917-1.518 3.917-3.623V3.136h-1.23v6.323c0 1.49-.978 2.57-2.687 2.57-1.709 0-2.687-1.08-2.687-2.57V3.136zM12.5 15h-9v-1h9v1z"}}]})(t)}function y1e(t){return zt({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M5 13V3h3.362c1.116 0 1.954.224 2.515.673.565.449.848 1.113.848 1.992 0 .467-.137.881-.41 1.243-.273.357-.645.634-1.116.831.556.151.993.44 1.314.865.325.422.487.925.487 1.511 0 .898-.299 1.603-.897 2.116-.598.513-1.443.769-2.536.769H5zm1.356-4.677v3.599h2.24c.63 0 1.127-.158 1.49-.474.367-.32.55-.76.55-1.319 0-1.204-.673-1.806-2.02-1.806h-2.26zm0-1.058h2.049c.593 0 1.066-.144 1.42-.433.357-.288.536-.68.536-1.174 0-.55-.165-.948-.494-1.195-.33-.252-.831-.378-1.505-.378H6.356v3.18z"}}]})(t)}function x1e(t){return zt({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M3.75 4.48h-.71L2 3.43l.71-.7.69.68L4.81 2l.71.71-1.77 1.77zM6.99 3h8v1h-8V3zm0 3h8v1h-8V6zm8 3h-8v1h8V9zm-8 3h8v1h-8v-1zM3.04 7.48h.71l1.77-1.77-.71-.7L3.4 6.42l-.69-.69-.71.71 1.04 1.04zm.71 3.01h-.71L2 9.45l.71-.71.69.69 1.41-1.42.71.71-1.77 1.77zm-.71 3.01h.71l1.77-1.77-.71-.71-1.41 1.42-.69-.69-.71.7 1.04 1.05z"}}]})(t)}function w1e(t){return zt({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M4.708 5.578L2.061 8.224l2.647 2.646-.708.708-3-3V7.87l3-3 .708.708zm7-.708L11 5.578l2.647 2.646L11 10.87l.708.708 3-3V7.87l-3-3zM4.908 13l.894.448 5-10L9.908 3l-5 10z"}}]})(t)}function b1e(t){return zt({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 2v3.5L4 6h3.5V5H4.979l.941-.941a3.552 3.552 0 1 1 5.023 5.023L5.746 14.28l.72.72 5.198-5.198A4.57 4.57 0 0 0 5.2 3.339l-.7.7V2h-1z"}}]})(t)}function S1e(t){return zt({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M1.5 14h11l.48-.37 2.63-7-.48-.63H14V3.5l-.5-.5H7.71l-.86-.85L6.5 2h-5l-.5.5v11l.5.5zM2 3h4.29l.86.85.35.15H13v2H8.5l-.35.15-.86.85H3.5l-.47.34-1 3.08L2 3zm10.13 10H2.19l1.67-5H7.5l.35-.15.86-.85h5.79l-2.37 6z"}}]})(t)}function k1e(t){return zt({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M9.001 13.593l-.097.325H4l.123-.325c.492-.012.817-.053.976-.123.257-.1.448-.238.57-.413.194-.276.394-.768.599-1.477l2.074-7.19c.176-.597.263-1.048.263-1.353a.643.643 0 0 0-.114-.387.683.683 0 0 0-.351-.237c-.153-.059-.454-.088-.906-.088L7.34 2h4.605l-.096.325c-.375-.006-.654.035-.835.123a1.358 1.358 0 0 0-.607.501c-.134.217-.31.697-.527 1.442l-2.066 7.19c-.187.661-.28 1.083-.28 1.265 0 .146.034.272.105.378.076.1.193.178.351.237.164.053.501.097 1.011.132z"}}]})(t)}function _1e(t){return zt({tag:"svg",attr:{fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M7.444 13.832a1 1 0 1 0 1.111-1.663 1 1 0 0 0-1.11 1.662zM8 9a1 1 0 1 1 0-2 1 1 0 0 1 0 2zm0-5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"}}]})(t)}function E1e(t){return zt({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M2 3H1v1h1V3zm0 3H1v1h1V6zM1 9h1v1H1V9zm1 3H1v1h1v-1zm2-9h11v1H4V3zm11 3H4v1h11V6zM4 9h11v1H4V9zm11 3H4v1h11v-1z"}}]})(t)}function C1e(t){return zt({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M7.16 3.5C4.73 5.06 3.55 6.67 3.55 9.36c.16-.05.3-.05.44-.05 1.27 0 2.5.86 2.5 2.41 0 1.61-1.03 2.61-2.5 2.61-1.9 0-2.99-1.52-2.99-4.25 0-3.8 1.75-6.53 5.02-8.42L7.16 3.5zm7 0c-2.43 1.56-3.61 3.17-3.61 5.86.16-.05.3-.05.44-.05 1.27 0 2.5.86 2.5 2.41 0 1.61-1.03 2.61-2.5 2.61-1.89 0-2.98-1.52-2.98-4.25 0-3.8 1.75-6.53 5.02-8.42l1.14 1.84h-.01z"}}]})(t)}function T1e(t){return zt({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M12.5 2v3.5L12 6H8.5V5h2.521l-.941-.941a3.552 3.552 0 1 0-5.023 5.023l5.197 5.198-.72.72-5.198-5.198A4.57 4.57 0 0 1 10.8 3.339l.7.7V2h1z"}}]})(t)}const Ma=t=>t?"active":"",A1e=()=>{const t=Qre(),e=Jre();return He("div",{className:"toolbar space-x-2",children:[j("button",{onClick:()=>{t.undo(),t.focus()},children:j(b1e,{})}),j("button",{onClick:()=>{t.redo(),t.focus()},children:j(T1e,{})}),j("button",{className:Ma(e.bold()),onClick:()=>{t.toggleBold(),t.focus()},children:j(y1e,{})}),j("button",{className:Ma(e.italic()),onClick:()=>{t.toggleItalic(),t.focus()},children:j(k1e,{})}),j("button",{className:Ma(e.underline()),onClick:()=>{t.toggleUnderline(),t.focus()},children:j(v1e,{})}),j("button",{className:Ma(e.code()),onClick:()=>{t.toggleCode(),t.focus()},children:j(w1e,{})}),j("button",{className:Ma(e.blockquote()),onClick:()=>{t.toggleBlockquote(),t.focus()},children:j(C1e,{})}),j("button",{className:Ma(e.bulletList()),onClick:()=>{t.toggleBulletList(),t.focus()},children:j(E1e,{})}),j("button",{className:Ma(e.taskList()),onClick:()=>{t.toggleTaskList(),t.focus()},children:j(x1e,{})})]})};function O1e(){const{items:t,addItem:e,setActiveNote:n}=z.exports.useContext(ni),[r,i]=z.exports.useState(),o=v1();return z.exports.useEffect(()=>{if(o.hash){const s=o.hash.substring(1);s&&!t.includes(s)&&dN(s).then(a=>{a&&e(s)})}},[o.hash]),He(qo,{children:[t.length>0&&j("div",{className:"editor-list",children:t.map(s=>j(g1e,{id:s,handleFocus:a=>{i(a),n(s)}},s))}),t.length===0&&He("div",{className:"absolute mx-auto top-1/2 w-full text-center text-gray-300",children:[j(S1e,{className:"h-10 w-10 mx-auto"}),j("h1",{children:"Workspace Empty"})]}),r&&j(F1.Provider,{value:r,children:j(A1e,{})}),j(QR,{})]})}function M1e(){const[t,e]=z.exports.useState([]),[n,r]=z.exports.useState(!1),[i,o]=z.exports.useState(),s=h0(),{items:a,addItem:l}=z.exports.useContext(ni),u=z.exports.useCallback(async()=>{const f=await ix();f&&e(f)},[e]),c=f=>{o(f),r(!0)};return z.exports.useEffect(()=>(u(),()=>{e([])}),[u]),He(qo,{children:[He("div",{className:"p-5 md:px-14 lg:px-36",children:[He("table",{className:"rounded-lg divide-y divide-gray-200 note-list shadow-md",children:[j("thead",{children:He("tr",{children:[j("th",{className:"w-11/12 lg:w-9/12",children:"Note"}),j("th",{className:"hidden lg:block w-2/12",children:"Edited"}),j("th",{className:"w-1/12"})]})}),j("tbody",{children:t.sort((f,d)=>f.lastEditedTime<d.lastEditedTime?1:-1).map((f,d)=>He("tr",{id:`row-${f.id}`,children:[j("td",{children:j("button",{className:"truncate w-full transition duration-250 ease-in-out bg-gradient-to-r hover:from-gray-100 hover:to-gray-200",onClick:()=>{l(f.id),s(`${dg.panelWorkspace}#${f.id}`)},children:He("div",{className:"flex flex-col text-left",children:[He("div",{className:"font-medium flex space-x-1",children:[j("span",{children:f.title||"No Title"}),j("span",{className:`rounded-full h-2 w-2 bg-green-500 ${a.find(h=>h===f.id)?"inline":"hidden"} `})]}),j("span",{className:"text-sm text-gray-500 font-light",children:f.text||"empty"})]})})}),j("td",{className:"hidden lg:block",children:new Date(f.lastEditedTime).toLocaleString(navigator.language,{year:"numeric",month:"long",day:"numeric"})}),j("td",{children:j("button",{onClick:()=>c(f),children:j(_1e,{})})})]},d))})]}),j(QR,{})]}),j(YR,{isOpen:n,note:i,onRequestClose:()=>{o(null),r(!1)}})]})}const N1e=()=>{const t=h0();return He("div",{className:"flex space-x-4",children:[j(ha.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"rounded-full h-8 w-8 bg-gray-200 hover:opacity-80 hover:bg-gray-800 hover:text-white  flex justify-center items-center",onClick:()=>t(-1),children:j(kfe,{})}),j(ha.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"rounded-full h-8 w-8 bg-gray-200 hover:opacity-80 hover:bg-gray-800 hover:text-white  flex justify-center items-center",onClick:()=>t(1),children:j(_fe,{})})]})},R1e=()=>{const{toggleNav:t}=z.exports.useContext(ni);return j(ha.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"rounded-full h-8 w-8 bg-white opacity-80 hover:bg-gray-800 hover:text-white  flex justify-center items-center",onClick:t,children:j(Tfe,{})})},D1e=()=>{const t=h0(),{navOpen:e,setSearchOpen:n,searchOpen:r}=z.exports.useContext(ni);return j(GR,{children:e&&He(ha.div,{initial:{scale:0,left:-50},animate:{scale:1,left:0},exit:{scale:0,left:-50},className:`h-fit bg-gray-200 backdrop-blur-lg rounded-r-xl shadow-lg flex flex-col space-y-2 items-center py-5 px-1  shrink-0 fixed bottom-0 top-0 left-0 my-auto 
      lg:w-32`,children:[He(vc,{onClick:()=>t(dg.home),children:[j(Cfe,{})," ",j("span",{className:"hidden lg:block",children:"Home"})]}),He(vc,{onClick:()=>n(!r),children:[j(Ofe,{})," ",j("span",{className:"hidden lg:block",children:"Search"})]})]})})};function I1e(){const[t,e]=z.exports.useState(""),[n,r]=z.exports.useState([]),{addItem:i,setSearchOpen:o}=z.exports.useContext(ni),s=h0(),a=z.exports.useRef();z.exports.useEffect(()=>(u().then(r),a.current.focus(),()=>{r([])}),[]);const l=c=>{wfe(c).then(f=>r(f))},u=async()=>(await ix(10)).map(c=>({item:c,matches:[]}));return He("div",{className:"relative shadow-sm",children:[j("div",{className:"h-10 w-full  rounded-full flex justify-between pl-6 items-center relative",children:j("input",{ref:a,placeholder:"Search",className:"w-full h-full bg-transparent overflow-ellipsis",type:"text",value:t,onChange:async c=>{const{value:f}=c.target;e(f),f?l(f):r(await u())}})}),n.length>0&&j("div",{className:"search-results rounded-b-lg overflow-hidden",children:n.map(c=>j(P1e,{onResultClick:()=>{e(""),i(c.item.id),s(`${dg.panelWorkspace}#${c.item.id}`),o(!1)},result:c},c.item.id))})]})}const P1e=({result:t,onResultClick:e})=>{const n=t.matches.some(i=>i.key==="title"),r=t.matches.some(i=>i.key==="text");return He("button",{className:"result bg-white text-left py-2 px-6 h-14 focus:bg-gray-100 hover:bg-gray-100",onClick:()=>{e()},children:[He("div",{className:"text-sm",children:[n&&t.matches.map((i,o)=>i.key==="title"?j(n9,{match:i},o):null),!n&&t.item.title,!n&&!t.item.title&&j("span",{className:"italic opacity-50",children:"No Title"})]}),He("div",{className:"text-xs font-extralight",children:[r&&t.matches.map((i,o)=>i.key==="text"?j(n9,{match:i},o):null),!r&&t.item.text,!r&&!t.item.text&&j("span",{className:"italic opacity-50",children:"Empty"})]})]})},n9=({match:t})=>{var r,i,o,s;const[[e,n]]=t.indices;return He(qo,{children:[(r=t.value)==null?void 0:r.substring(0,e),j("span",{className:"bg-yellow-300",children:(i=t.value)==null?void 0:i.substring(e,n)}),(s=t.value)==null?void 0:s.substring(n,(o=t.value)==null?void 0:o.length)]})},L1e=()=>{zm.setAppElement("#root");const{setSearchOpen:t,searchOpen:e}=z.exports.useContext(ni);return j(zm,{isOpen:e,onRequestClose:()=>t(!1),overlayClassName:"fixed inset-0 bg-[rgba(30,30,30,.5)]",className:"z-20 bg-gray-100 backdrop-blur-lg rounded-t-xl absolute w-full top-1/4 left-0 right-0 mx-auto max-w-2xl ",children:j(I1e,{})})},z1e=t=>{t&&(t.preventDefault&&t.preventDefault(),t.stopPropagation?t.stopPropagation():window.event&&(window.event.cancelBubble=!0))},B1e=t=>{for(var e={},n=[],r=t.length,i=0,o=0;o<r;o++){var s=t[o];e[s]!==1&&(e[s]=1,n[i++]=s)}return n},ZR=(t,e=0,n,r)=>{const i=n.indexOf(t);if(!(n.indexOf(t)>=0))return!1;const s=Math.max(r.length-1,0);if(r.length&&r[s]!==n[s])return!1;if(i===0)return e>0?r.indexOf(t)>=0:!0;const a=i-1,l=n[a];return r[a]===l?ZR(l,i,n,r):!1},$1e=["TEXTAREA","INPUT"],F1e={overrideSystem:!1,ignoreInputFields:!0,repeatOnHold:!0},V1e=(t,e,n)=>{const r={...F1e,...n};if(!Array.isArray(t))throw new Error("The first parameter to `useKeyboardShortcut` must be an ordered array of `KeyboardEvent.key` strings.");if(!t.length)throw new Error("The first parameter to `useKeyboardShortcut` must contain atleast one `KeyboardEvent.key` string.");if(!e||typeof e!="function")throw new Error("The second parameter to `useKeyboardShortcut` must be a function that will be envoked when the keys are pressed.");const i=z.exports.useMemo(()=>t.join(),[t]),o=z.exports.useMemo(()=>B1e(t).map(c=>String(c).toLowerCase()),[i]),s=z.exports.useRef([]),a=z.exports.useCallback(c=>{const f=String(c.key).toLowerCase();if(!(o.indexOf(f)>=0)||r.ignoreInputFields&&$1e.indexOf(c.target.tagName)>=0||c.repeat&&!r.repeatOnHold||(r.overrideSystem&&z1e(c),!ZR(f,null,o,s.current)))return;const h=[...s.current,f];return h.join()===o.join()?(e(t),!1):(s.current=h,!1)},[i,e,r.overrideSystem,r.ignoreInputFields]),l=z.exports.useCallback(c=>{const f=String(c.key).toLowerCase();if(!(o.indexOf(f)>=0))return;const d=s.current.indexOf(f);if(!(d>=0))return;let h=[],g;for(g=0;g<s.current.length;++g)g!==d&&h.push(s.current[g]);return s.current=h,!1},[i]),u=z.exports.useCallback(()=>{s.current=[]},[]);return z.exports.useEffect(()=>(window.addEventListener("keydown",a),window.addEventListener("keyup",l),()=>{window.removeEventListener("keydown",a),window.removeEventListener("keyup",l)}),[a,l,i]),z.exports.useEffect(()=>{u()},[i,u]),{flushHeldKeys:u}},oy=V1e,U1e=()=>{const{removeItem:t,activeNote:e}=z.exports.useContext(ni);return()=>{t(e)}},H1e=()=>{const{setSearchOpen:t,searchOpen:e}=z.exports.useContext(ni),n=JR(),r=U1e();return oy(["Meta","K"],()=>t(!e),{ignoreInputFields:!1,repeatOnHold:!1}),oy(["Control","N"],()=>n(),{ignoreInputFields:!0,repeatOnHold:!1}),oy(["Control","W"],()=>r(),{ignoreInputFields:!0,repeatOnHold:!1}),He("div",{className:"min-h-screen max-w-full h-full",children:[He("div",{className:"w-full flex justify-between items-center mb-2 py-2 px-3",children:[j(R1e,{}),j("div",{children:j(N1e,{})})]}),He("div",{className:"flex flex-row-reverse",children:[j("div",{className:"w-full overflow-scroll",children:j(wL,{})}),j(D1e,{})]}),j(L1e,{})]})};function j1e(){return j(kL,{basename:"/poche",children:j(z.exports.Suspense,{fallback:j("div",{children:"Loading..."}),children:j(SL,{children:He(Jh,{path:"/",element:j(H1e,{}),children:[j(Jh,{index:!0,element:j(M1e,{})}),j(Jh,{path:"panel",element:j(O1e,{})})]})})})})}const dg={home:"/",panelWorkspace:"/panel"};function q1e(){return j(Pde,{children:j(j1e,{})})}const W1e=Boolean(window.location.hostname==="localhost"||window.location.hostname==="[::1]"||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function K1e(t){if("serviceWorker"in navigator){if(new URL("poche",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",()=>{const n="/poche/service-worker.js";W1e?(G1e(n,t),navigator.serviceWorker.ready.then(()=>{console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")})):eD(n,t)})}}function eD(t,e){navigator.serviceWorker.register(t).then(n=>{n.onupdatefound=()=>{const r=n.installing;r!=null&&(r.onstatechange=()=>{r.state==="installed"&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://cra.link/PWA."),e&&e.onUpdate&&e.onUpdate(n)):(console.log("Content is cached for offline use."),e&&e.onSuccess&&e.onSuccess(n)))})}}).catch(n=>{console.error("Error during service worker registration:",n)})}function G1e(t,e){fetch(t,{headers:{"Service-Worker":"script"}}).then(n=>{const r=n.headers.get("content-type");n.status===404||r!=null&&r.indexOf("javascript")===-1?navigator.serviceWorker.ready.then(i=>{i.unregister().then(()=>{window.location.reload()})}):eD(t,e)}).catch(()=>{console.log("No internet connection found. App is running in offline mode.")})}const Y1e=document.getElementById("root");fE(Y1e).render(j(z.exports.StrictMode,{children:j(q1e,{})}));K1e();
